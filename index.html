<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>game</title>
<script>
	require=function(){function t(e,i,r){function s(o,a){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(n)return n(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return s(i||t)},c,c.exports,t,e,i,r)}return i[o].exports}for(var n="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}return t}()({"@akashic/akashic-engine":[function(t,e,i){(function(){"use strict";var t,i=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)};!function(t){var e;!function(t){t[t.Unspecified=0]="Unspecified",t[t.RetryLimitExceeded=1]="RetryLimitExceeded",t[t.NetworkError=2]="NetworkError",t[t.ClientError=3]="ClientError",t[t.ServerError=4]="ServerError"}(e=t.AssetLoadErrorType||(t.AssetLoadErrorType={}))}(t||(t={}));var t;!function(t){var e;!function(e){function i(t,e){var i=new Error(t);return i.name="AssertionError",i.cause=e,i}function r(t,e,i,r){var s="Type mismatch on "+t+", expected type is "+e;if(arguments.length>2)try{var n;n=i&&i.constructor&&i.constructor.name?i.constructor.name:typeof i,s+=", actual type is "+(n.length>40?n.substr(0,40):n)}catch(o){}s+=".";var a=new Error(s);return a.name="TypeMismatchError",a.cause=r,a.expected=e,a.actual=i,a}function s(e,i,r,s){void 0===i&&(i=!0),void 0===r&&(r=t.AssetLoadErrorType.Unspecified);var n=new Error(e);return n.name="AssetLoadError",n.cause=s,n.retriable=i,n.type=r,n}e.createAssertionError=i,e.createTypeMismatchError=r,e.createAssetLoadError=s}(e=t.ExceptionFactory||(t.ExceptionFactory={}))}(t||(t={}));var t;!function(t){var e=function(){function e(){}return e.prototype.createSurfaceAtlas=function(e,i){return new t.SurfaceAtlas(this.createSurface(e,i))},e.prototype.createTrimmedSurface=function(t,e){var i=e||{x:0,y:0,width:t.width,height:t.height},r=this.createSurface(i.width,i.height),s=r.renderer();return s.begin(),s.drawImage(t,i.x,i.y,i.width,i.height,0,0),s.end(),r},e}();t.ResourceFactory=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this._value=t}return t.prototype._cachedValue=function(){return this._value},t}();t.RequireCachedValue=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.seed=t,this[0]=this}return t}();t.RandomGenerator=e}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this.id=e,this.originalPath=i,this.path=this._assetPathFilter(i),this.onDestroyed=new t.Trigger}return e.prototype.destroy=function(){this.onDestroyed.fire(this),this.id=void 0,this.originalPath=void 0,this.path=void 0,this.onDestroyed.destroy(),this.onDestroyed=void 0},e.prototype.destroyed=function(){return void 0===this.id},e.prototype.inUse=function(){return!1},e.prototype._assetPathFilter=function(t){return t},e}();t.Asset=e;var r=function(t){function e(e,i,r,s){var n=t.call(this,e,i)||this;return n.width=r,n.height=s,n}return i(e,t),e}(e);t.ImageAsset=r;var s=function(t){function e(e,i,r,s,n,o,a){var h=t.call(this,e,i,r,s)||this;return h.realWidth=0,h.realHeight=0,h._system=n,h._loop=o,h._useRealSize=a,h}return i(e,t),e.prototype.play=function(t){return this.getPlayer().play(this),this.getPlayer()},e.prototype.stop=function(){this.getPlayer().stop()},e.prototype.destroy=function(){this._system=void 0,t.prototype.destroy.call(this)},e}(r);t.VideoAsset=s;var n=function(t){function e(e,i,r,s,n,o){var a=t.call(this,e,i)||this;return a.duration=r,a.loop=n,a.hint=o,a._system=s,a.data=void 0,a}return i(e,t),e.prototype.play=function(){var t=this._system.createPlayer();return t.play(this),this._lastPlayedPlayer=t,t},e.prototype.stop=function(){for(var t=this._system.findPlayers(this),e=0;e<t.length;++e)t[e].stop()},e.prototype.inUse=function(){return this._system.findPlayers(this).length>0},e.prototype.destroy=function(){this._system&&this.stop(),this.data=void 0,this._system=void 0,this._lastPlayedPlayer=void 0,t.prototype.destroy.call(this)},e}(e);t.AudioAsset=n;var o=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.data=void 0,r}return i(e,t),e.prototype.destroy=function(){this.data=void 0,t.prototype.destroy.call(this)},e}(e);t.TextAsset=o;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.destroy=function(){this.script=void 0,t.prototype.destroy.call(this)},e}(e);t.ScriptAsset=a}(t||(t={}));var t;!function(t){function e(t){t=t||{};var e={music:{loop:!0,hint:{streaming:!0}},sound:{loop:!1,hint:{streaming:!1}}};for(var i in e)i in t||(t[i]=e[i]);return t}var i=function(){function t(t,e){this.asset=t,this.handlers=[e],this.errorCount=0,this.loading=!1}return t}(),r=function(){function r(t,i,r,s){this.game=t,this.configuration=this._normalize(i||{},e(r)),this._assets={},this._liveAssetVirtualPathTable={},this._liveAbsolutePathTable={},this._moduleMainScripts=s?s:{},this._refCounts={},this._loadings={}}return r.prototype.destroy=function(){for(var t=Object.keys(this._refCounts),e=0;e<t.length;++e)this._releaseAsset(t[e]);this.game=void 0,this.configuration=void 0,this._assets=void 0,this._liveAssetVirtualPathTable=void 0,this._liveAbsolutePathTable=void 0,this._refCounts=void 0,this._loadings=void 0},r.prototype.destroyed=function(){return void 0===this.game},r.prototype.retryLoad=function(e){if(!this._loadings.hasOwnProperty(e.id))throw t.ExceptionFactory.createAssertionError("AssetManager#retryLoad: invalid argument.");var i=this._loadings[e.id];if(i.errorCount>r.MAX_ERROR_COUNT){if(!this.configuration[e.id])return;throw t.ExceptionFactory.createAssertionError("AssetManager#retryLoad: too many retrying.")}i.loading||(i.loading=!0,e._load(this))},r.prototype.globalAssetIds=function(){var t=[],e=this.configuration;for(var i in e)e.hasOwnProperty(i)&&e[i].global&&t.push(i);return t},r.prototype.requestAsset=function(t,e){var r,s="string"==typeof t?t:t.id,n=!1;if(this._assets.hasOwnProperty(s))++this._refCounts[s],e._onAssetLoad(this._assets[s]);else if(this._loadings.hasOwnProperty(s))r=this._loadings[s],r.handlers.push(e),++this._refCounts[s],n=!0;else{var o=this._createAssetFor(t);r=new i(o,e),this._loadings[s]=r,this._refCounts[s]=1,n=!0,r.loading=!0,o._load(this)}return n},r.prototype.unrefAsset=function(t){var e="string"==typeof t?t:t.id;--this._refCounts[e]>0||this._releaseAsset(e)},r.prototype.requestAssets=function(t,e){for(var i=0,r=0,s=t.length;s>r;++r)this.requestAsset(t[r],e)&&++i;return i},r.prototype.unrefAssets=function(t){for(var e=0,i=t.length;i>e;++e)this.unrefAsset(t[e])},r.prototype._normalize=function(e,i){var r={};if(!(e instanceof Object))throw t.ExceptionFactory.createAssertionError("AssetManager#_normalize: invalid arguments.");for(var s in e)if(e.hasOwnProperty(s)){var n=Object.create(e[s]);if(!n.path)throw t.ExceptionFactory.createAssertionError("AssetManager#_normalize: No path given for: "+s);if(!n.virtualPath)throw t.ExceptionFactory.createAssertionError("AssetManager#_normalize: No virtualPath given for: "+s);if(!n.type)throw t.ExceptionFactory.createAssertionError("AssetManager#_normalize: No type given for: "+s);if("image"===n.type){if("number"!=typeof n.width)throw t.ExceptionFactory.createAssertionError("AssetManager#_normalize: wrong width given for the image asset: "+s);if("number"!=typeof n.height)throw t.ExceptionFactory.createAssertionError("AssetManager#_normalize: wrong height given for the image asset: "+s)}if("audio"===n.type){void 0===n.duration&&(n.duration=0);var o=i[n.systemId];void 0===n.loop&&(n.loop=!!o&&!!o.loop),void 0===n.hint&&(n.hint=o?o.hint:{})}if("video"===n.type&&!n.useRealSize){if("number"!=typeof n.width)throw t.ExceptionFactory.createAssertionError("AssetManager#_normalize: wrong width given for the video asset: "+s);if("number"!=typeof n.height)throw t.ExceptionFactory.createAssertionError("AssetManager#_normalize: wrong height given for the video asset: "+s);n.useRealSize=!1}n.global||(n.global=!1),r[s]=n}return r},r.prototype._createAssetFor=function(e){var i,r,s;if("string"==typeof e)i=e,s=this.configuration[i],r=this.configuration[i].path;else{var n=e;i=n.id,s=n,r=n.uri}var o=this.game.resourceFactory;if(!s)throw t.ExceptionFactory.createAssertionError("AssetManager#_createAssetFor: unknown asset ID: "+i);switch(s.type){case"image":return o.createImageAsset(i,r,s.width,s.height);case"audio":var a=s.systemId?this.game.audio[s.systemId]:this.game.audio[this.game.defaultAudioSystemId];return o.createAudioAsset(i,r,s.duration,a,s.loop,s.hint);case"text":return o.createTextAsset(i,r);case"script":return o.createScriptAsset(i,r);case"video":return o.createVideoAsset(i,r,s.width,s.height,new t.VideoSystem,s.loop,s.useRealSize);default:throw t.ExceptionFactory.createAssertionError("AssertionError#_createAssetFor: unknown asset type "+s.type+" for asset ID: "+i)}},r.prototype._releaseAsset=function(e){var i,r=this._assets[e]||this._loadings[e]&&this._loadings[e].asset;if(r)if(i=r.path,r.inUse())if(r instanceof t.AudioAsset)r._system.requestDestroy(r);else{if(!(r instanceof t.VideoAsset))throw t.ExceptionFactory.createAssertionError("AssetManager#unrefAssets: Unsupported in-use "+r.id);r.destroy()}else r.destroy();if(delete this._refCounts[e],delete this._loadings[e],delete this._assets[e],this.configuration[e]){var s=this.configuration[e].virtualPath;s&&this._liveAssetVirtualPathTable.hasOwnProperty(s)&&delete this._liveAssetVirtualPathTable[s],i&&this._liveAbsolutePathTable.hasOwnProperty(i)&&delete this._liveAbsolutePathTable[i]}},r.prototype._countLoadingAsset=function(){return Object.keys(this._loadings).length},r.prototype._onAssetError=function(e,i){if(!this.destroyed()&&!e.destroyed()){var s=this._loadings[e.id],n=s.handlers;s.loading=!1,++s.errorCount,s.errorCount>r.MAX_ERROR_COUNT&&i.retriable&&(i=t.ExceptionFactory.createAssetLoadError("Retry limit exceeded",!1,t.AssetLoadErrorType.RetryLimitExceeded,i)),i.retriable||delete this._loadings[e.id];for(var o=0;o<n.length;++o)n[o]._onAssetError(e,i,this)}},r.prototype._onAssetLoad=function(e){if(!this.destroyed()&&!e.destroyed()){var i=this._loadings[e.id];if(i.loading=!1,delete this._loadings[e.id],this._assets[e.id]=e,this.configuration[e.id]){var r=this.configuration[e.id].virtualPath;if(this._liveAssetVirtualPathTable.hasOwnProperty(r)){if(this._liveAssetVirtualPathTable[r].path!==e.path)throw t.ExceptionFactory.createAssertionError("AssetManager#_onAssetLoad(): duplicated asset path")}else this._liveAssetVirtualPathTable[r]=e;this._liveAbsolutePathTable.hasOwnProperty(e.path)||(this._liveAbsolutePathTable[e.path]=r)}for(var s=i.handlers,n=0;n<s.length;++n)s[n]._onAssetLoad(e)}},r}();r.MAX_ERROR_COUNT=3,t.AssetManager=r}(t||(t={}));var t;!function(t){function e(e,i,r){var s,n,o,a=r?r._dirname:e.assetBase,h=e._assetManager._liveAssetVirtualPathTable,d=e._assetManager._moduleMainScripts;if(-1===i.indexOf("/")&&e._assetManager._assets.hasOwnProperty(i)&&(s=e._assetManager._assets[i]),/^\.\/|^\.\.\/|^\//.test(i)){if(n=t.PathUtil.resolvePath(a,i),e._scriptCaches.hasOwnProperty(n))return e._scriptCaches[n]._cachedValue();if(e._scriptCaches.hasOwnProperty(n+".js"))return e._scriptCaches[n+".js"]._cachedValue();if(r){if(!r._virtualDirname)throw t.ExceptionFactory.createAssertionError("g._require: require from DynamicAsset is not supported");o=t.PathUtil.resolvePath(r._virtualDirname,i)}else{if("./"!==i.substring(0,2))throw t.ExceptionFactory.createAssertionError("g._require: entry point must start with './'");o=i.substring(2)}s||(s=t.Util.findAssetByPathAsFile(o,h)),s||(s=t.Util.findAssetByPathAsDirectory(o,h))}else if(d[i]&&(s=e._assetManager._liveAssetVirtualPathTable[d[i]]),!s){var c=r?r.paths:[];c.push("node_modules");for(var l=0;l<c.length;++l){var u=c[l];if(o=t.PathUtil.resolvePath(u,i),s=t.Util.findAssetByPathAsFile(o,h))break;if(s=t.Util.findAssetByPathAsDirectory(o,h))break}}if(s){if(e._scriptCaches.hasOwnProperty(s.path))return e._scriptCaches[s.path]._cachedValue();if(s instanceof t.ScriptAsset){var p=new t.ScriptAssetContext(e,s);return e._scriptCaches[s.path]=p,p._executeScript(r)}if(s instanceof t.TextAsset&&s&&".json"===t.PathUtil.resolveExtname(i)){var f=e._scriptCaches[s.path]=new t.RequireCachedValue(JSON.parse(s.data));return f._cachedValue()}}throw t.ExceptionFactory.createAssertionError("g._require: can not find module: "+i)}t._require=e;var i=function(){function e(e,i,r){var s=this,n=t.PathUtil.resolveDirname(r),o=e._assetManager._liveAbsolutePathTable[r],a=o?t.PathUtil.resolveDirname(o):void 0,h=Object.create(t,{game:{value:e,enumerable:!0},filename:{value:r,enumerable:!0},dirname:{value:n,enumerable:!0},module:{value:this,writable:!0,enumerable:!0,configurable:!0}});this.id=i,this.filename=r,this.exports={},this.parent=null,this.loaded=!1,this.children=[],this.paths=a?t.PathUtil.makeNodeModulePaths(a):[],this._dirname=n,this._virtualDirname=a,this._g=h,this.require=function(i){return"g"===i?h:t._require(e,i,s)}}return e}();t.Module=i}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this._game=e,this._asset=i,this._module=new t.Module(e,i.path,i.path),this._g=this._module._g,this._started=!1}return e.prototype._cachedValue=function(){if(!this._started)throw t.ExceptionFactory.createAssertionError("ScriptAssetContext#_cachedValue: not executed yet.");return this._module.exports},e.prototype._executeScript=function(t){return this._started?this._module.exports:(t&&(this._module.parent=t,t.children.push(this._module)),this._started=!0,this._asset.execute(this._g),this._module.loaded=!0,this._module.exports)},e}();t.ScriptAssetContext=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,s){void 0===t?(this._modified=!1,this._matrix=[1,0,0,1,0,0]):"number"==typeof t?(this._modified=!1,this._matrix=new Array(6),this.update(t,e,i,r,s,0,0)):(this._modified=t._modified,this._matrix=[t._matrix[0],t._matrix[1],t._matrix[2],t._matrix[3],t._matrix[4],t._matrix[5]])}return t.prototype.update=function(t,e,i,r,s,n,o){var a=s*Math.PI/180,h=Math.cos(a),d=Math.sin(a),c=h*i,l=d*i,u=d*r,p=h*r,f=t/2,g=e/2;this._matrix[0]=c,this._matrix[1]=l,this._matrix[2]=-u,this._matrix[3]=p,this._matrix[4]=-c*f+u*g+f+n,this._matrix[5]=-l*f-p*g+g+o},t.prototype.updateByInverse=function(t,e,i,r,s,n,o){var a=s*Math.PI/180,h=Math.cos(a),d=Math.sin(a),c=h/i,l=d/r,u=d/i,p=h/r,f=t/2,g=e/2;this._matrix[0]=c,this._matrix[1]=-l,this._matrix[2]=u,this._matrix[3]=p,this._matrix[4]=-c*(f+n)-u*(g+o)+f,this._matrix[5]=l*(f+n)-p*(g+o)+g},t.prototype.multiply=function(t){var e=this._matrix,i=t._matrix,r=e[0],s=e[1],n=e[2],o=e[3];e[0]=r*i[0]+n*i[1],e[1]=s*i[0]+o*i[1],e[2]=r*i[2]+n*i[3],e[3]=s*i[2]+o*i[3],e[4]=r*i[4]+n*i[5]+e[4],e[5]=s*i[4]+o*i[5]+e[5]},t.prototype.multiplyNew=function(t){var e=this.clone();return e.multiply(t),e},t.prototype.reset=function(t,e){this._matrix[0]=1,this._matrix[1]=0,this._matrix[2]=0,this._matrix[3]=1,this._matrix[4]=t||0,this._matrix[5]=e||0},t.prototype.clone=function(){return new t(this)},t.prototype.multiplyInverseForPoint=function(t){var e=this._matrix,i=1/(e[0]*e[3]+e[2]*-e[1]);return{x:e[3]*i*t.x+-e[2]*i*t.y+(e[5]*e[2]-e[4]*e[3])*i,y:e[0]*i*t.y+-e[1]*i*t.x+(-e[5]*e[0]+e[4]*e[1])*i}},t.prototype.scale=function(t,e){var i=this._matrix;i[0]*=t,i[1]*=e,i[2]*=t,i[3]*=e,i[4]*=t,i[5]*=e},t.prototype.multiplyPoint=function(t){var e=this._matrix,i=e[0]*t.x+e[2]*t.y+e[4],r=e[1]*t.x+e[3]*t.y+e[5];return{x:i,y:r}},t}();t.PlainMatrix=e}(t||(t={}));var t;!function(t){var e;!function(e){function i(t,e,i,r){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-r,2))}function r(t,i){return e.distance(t.x,t.y,i.x,i.y)}function s(t,i){return e.distance(t.x-t.width/2,t.y-t.height/2,i.x-i.width/2,i.y-i.height/2)}function n(e,i,r,s,n){return void 0===e?new t.PlainMatrix:new t.PlainMatrix(e,i,r,s,n)}function o(e,i,r){var s=i.x,n=i.y,o=0,a=0,h=i.width,d=i.height,c=i.calculateBoundingRect(r);if(!c)throw t.ExceptionFactory.createAssertionError("Util#createSpriteFromE: camera must look e");h=c.right-c.left,d=c.bottom-c.top,c.left<i.x&&(o=i.x-c.left),c.top<i.y&&(a=i.y-c.top),i.moveTo(o,a),i._matrix&&(i._matrix._modified=!0);var l=e.game.resourceFactory.createSurface(Math.ceil(h),Math.ceil(d)),u=l.renderer();u.begin(),i.render(u,r),u.end();var p=new t.Sprite({scene:e,src:l,width:h,height:d});return p.moveTo(c.left,c.top),i.moveTo(s,n),i._matrix&&(i._matrix._modified=!0),p}function a(e,i,r){var s=e.game.resourceFactory.createSurface(Math.ceil(i.game.width),Math.ceil(i.game.height)),n=s.renderer();n.begin();for(var o=i.children,a=0;a<o.length;++a)o[a].render(n,r);return n.end(),new t.Sprite({scene:e,src:s,width:i.game.width,height:i.game.height})}function h(e){if(!e)return e;if(e instanceof t.Surface)return e;if(e instanceof t.ImageAsset)return e.asSurface();throw t.ExceptionFactory.createTypeMismatchError("Util#asSurface","ImageAsset|Surface",e)}function d(t,e){return e.hasOwnProperty(t)?e[t]:e.hasOwnProperty(t+".js")?e[t+".js"]:void 0}function c(i,r){var s;if(s=i+"/package.json",r.hasOwnProperty(s)&&r[s]instanceof t.TextAsset){var n=JSON.parse(r[s].data);if(n&&"string"==typeof n.main){var o=e.findAssetByPathAsFile(t.PathUtil.resolvePath(i,n.main),r);if(o)return o}}return s=i+"/index.js",r.hasOwnProperty(s)?r[s]:void 0}function l(t,e){var i=t.charCodeAt(e);if(i>=55296&&56319>=i){var r=i,s=t.charCodeAt(e+1);return r<<16|s}return i>=56320&&57343>=i?null:i}function u(t,e){e.isDynamic&&(e.animatingStarted.add(t._onAnimatingStarted,t),e.animatingStopped.add(t._onAnimatingStopped,t),e.isPlaying()&&t._onAnimatingStarted())}function p(t,e,i){t._onAnimatingStopped(),!e.destroyed()&&e.isDynamic&&(e.animatingStarted.remove(t._onAnimatingStarted,t),e.animatingStopped.remove(t._onAnimatingStopped,t)),i.isDynamic&&(i.animatingStarted.add(t._onAnimatingStarted,t),i.animatingStopped.add(t._onAnimatingStopped,t),i.isPlaying()&&t._onAnimatingStarted())}e.distance=i,e.distanceBetweenOffsets=r,e.distanceBetweenAreas=s,e.createMatrix=n,e.createSpriteFromE=o,e.createSpriteFromScene=a,e.asSurface=h,e.findAssetByPathAsFile=d,e.findAssetByPathAsDirectory=c,e.charCodeAt=l,e.setupAnimatingHandler=u,e.migrateAnimatingHandler=p}(e=t.Util||(t.Util={}))}(t||(t={}));var t;!function(t){var e;!function(e){function i(t,e,i,r,s,n,o,a){return s+o>=t&&t+i>=s&&n+a>=e&&e+r>=n}function r(t,i){return e.intersect(t.x,t.y,t.width,t.height,i.x,i.y,i.width,i.height)}function s(e,i,r,s,n){return void 0===n&&(n=1),n>=t.Util.distance(e,i,r,s)}function n(e,i,r){return void 0===r&&(r=1),r>=t.Util.distanceBetweenAreas(e,i)}e.intersect=i,e.intersectAreas=r,e.within=s,e.withinAreas=n}(e=t.Collision||(t.Collision={}))}(t||(t={}));var t;!function(t){var e=function(){function t(){this._handlers=[],this.length=0}return t.prototype.add=function(t,e){if("function"==typeof t)this._handlers.push({func:t,owner:e,once:!1,name:void 0});else{var i=t;"number"==typeof i.index?this._handlers.splice(i.index,0,{func:i.func,owner:i.owner,once:!1,name:i.name}):this._handlers.push({func:i.func,owner:i.owner,once:!1,name:i.name})}this.length=this._handlers.length},t.prototype.addOnce=function(t,e){if("function"==typeof t)this._handlers.push({func:t,owner:e,once:!0,name:void 0});else{var i=t;"number"==typeof i.index?this._handlers.splice(i.index,0,{func:i.func,owner:i.owner,once:!0,name:i.name}):this._handlers.push({func:i.func,owner:i.owner,once:!0,name:i.name})}this.length=this._handlers.length},t.prototype.handle=function(t,e,i){this.add(e?{owner:t,func:e,name:i}:{func:t})},t.prototype.fire=function(t){if(this._handlers.length){for(var e=this._handlers.concat(),i=0;i<e.length;i++){var r=e[i];if(r.func.call(r.owner,t)||r.once){var s=this._handlers.indexOf(r);-1!==s&&this._handlers.splice(s,1)}}this._handlers&&(this.length=this._handlers.length)}},t.prototype.contains=function(t,e){for(var i="function"==typeof t?{func:t,owner:e}:t,r=0;r<this._handlers.length;r++)if(this._comparePartial(i,this._handlers[r]))return!0;return!1},t.prototype.remove=function(t,e){for(var i="function"==typeof t?{func:t,owner:e}:t,r=0;r<this._handlers.length;r++){var s=this._handlers[r];if(i.func===s.func&&i.owner===s.owner&&i.name===s.name)return this._handlers.splice(r,1),void--this.length}},t.prototype.removeAll=function(t){var e=[];if(t)for(var i=0;i<this._handlers.length;i++){var r=this._handlers[i];this._comparePartial(t,r)||e.push(r)}this._handlers=e,this.length=this._handlers.length},t.prototype.destroy=function(){this._handlers=null,this.length=null},t.prototype.destroyed=function(){return null===this._handlers},t.prototype._comparePartial=function(t,e){return void 0!==t.func&&t.func!==e.func?!1:void 0!==t.owner&&t.owner!==e.owner?!1:void 0!==t.name&&t.name!==e.name?!1:!0},t}();t.Trigger=e;var r=function(t){function e(e,i,r){var s=t.call(this)||this;return s.chain=e,s.filter=i,s.filterOwner=r,s._isActivated=!1,s}return i(e,t),e.prototype.add=function(e,i){t.prototype.add.call(this,e,i),this._isActivated||(this.chain.add(this._onChainTriggerFired,this),this._isActivated=!0)},e.prototype.addOnce=function(e,i){t.prototype.addOnce.call(this,e,i),this._isActivated||(this.chain.add(this._onChainTriggerFired,this),this._isActivated=!0)},e.prototype.remove=function(e,i){t.prototype.remove.call(this,e,i),0===this.length&&this._isActivated&&(this.chain.remove(this._onChainTriggerFired,this),this._isActivated=!1)},e.prototype.removeAll=function(e){t.prototype.removeAll.call(this,e),0===this.length&&this._isActivated&&(this.chain.remove(this._onChainTriggerFired,this),this._isActivated=!1)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.chain.remove(this._onChainTriggerFired,this),this.filter=null,this.filterOwner=null,this._isActivated=!1},e.prototype._onChainTriggerFired=function(t){(!this.filter||this.filter.call(this.filterOwner,t))&&this.fire(t)},e}(e);t.ChainTrigger=r}(t||(t={}));var t;!function(t){var e=function(){function e(e,i){this.interval=e,this._scaledInterval=Math.round(e*i),this.elapsed=new t.Trigger,this._scaledElapsed=0}return e.prototype.tick=function(){for(this._scaledElapsed+=1e3;this._scaledElapsed>=this._scaledInterval&&this.elapsed;)this.elapsed.fire(),this._scaledElapsed-=this._scaledInterval},e.prototype.canDelete=function(){return!this.elapsed||0===this.elapsed.length},e.prototype.destroy=function(){this.interval=void 0,this.elapsed.destroy(),this.elapsed=void 0,this._scaledInterval=0,this._scaledElapsed=0},e.prototype.destroyed=function(){return void 0===this.elapsed},e}();t.Timer=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,s){this._timer=t,this._handler=e,this._handlerOwner=i,this._fired=r,this._firedOwner=s,this._timer.elapsed.add(this._fire,this)}return t.prototype.destroy=function(){this._timer.elapsed.remove(this._fire,this),this._timer=void 0,this._handler=void 0,this._handlerOwner=void 0,this._fired=void 0,this._firedOwner=void 0},t.prototype.destroyed=function(){return void 0===this._timer},t.prototype._fire=function(){this._handler.call(this._handlerOwner),this._fired&&this._fired.call(this._firedOwner,this)},t}();t.TimerIdentifier=e;var i=function(){function i(t,e){this._timers=[],this._trigger=t,this._identifiers=[],this._fps=e,this._registered=!1}return i.prototype.destroy=function(){for(var t=0;t<this._identifiers.length;++t)this._identifiers[t].destroy();for(var t=0;t<this._timers.length;++t)this._timers[t].destroy();this._timers=void 0,this._trigger=void 0,this._identifiers=void 0,this._fps=void 0},i.prototype.destroyed=function(){return void 0===this._timers},i.prototype.createTimer=function(e){if(this._registered||(this._trigger.add(this._tick,this),this._registered=!0),0>e)throw t.ExceptionFactory.createAssertionError("TimerManager#createTimer: invalid interval");1>e&&(e=1);for(var i=Math.min(1e3,e*this._fps),r=0;r<this._timers.length;++r)if(this._timers[r].interval===e&&this._timers[r]._scaledElapsed<i)return this._timers[r];var s=new t.Timer(e,this._fps);return this._timers.push(s),s},i.prototype.deleteTimer=function(e){if(e.canDelete()){var i=this._timers.indexOf(e);if(0>i)throw t.ExceptionFactory.createAssertionError("TimerManager#deleteTimer: can not find timer");if(this._timers.splice(i,1),e.destroy(),!this._timers.length){if(!this._registered)throw t.ExceptionFactory.createAssertionError("TimerManager#deleteTimer: handler is not handled");this._trigger.remove(this._tick,this),this._registered=!1}}},i.prototype.setTimeout=function(t,i,r){var s=this.createTimer(i),n=new e(s,t,r,this._onTimeoutFired,this);return this._identifiers.push(n),n},i.prototype.clearTimeout=function(t){this._clear(t)},i.prototype.setInterval=function(t,i,r){var s=this.createTimer(i),n=new e(s,t,r);return this._identifiers.push(n),n},i.prototype.clearInterval=function(t){this._clear(t)},i.prototype._tick=function(){for(var t=this._timers.concat(),e=0;e<t.length;++e)t[e].tick()},i.prototype._onTimeoutFired=function(e){var i=this._identifiers.indexOf(e);if(0>i)throw t.ExceptionFactory.createAssertionError("TimerManager#_onTimeoutFired: can not find identifier");this._identifiers.splice(i,1);var r=e._timer;e.destroy(),this.deleteTimer(r)},i.prototype._clear=function(e){var i=this._identifiers.indexOf(e);if(0>i)throw t.ExceptionFactory.createAssertionError("TimerManager#_clear: can not find identifier");if(e.destroyed())throw t.ExceptionFactory.createAssertionError("TimerManager#_clear: invalid identifier");this._identifiers.splice(i,1);var r=e._timer;e.destroy(),this.deleteTimer(r)},i}();t.TimerManager=i}(t||(t={}));var t;!function(t){var e=function(){function e(e){this.played=new t.Trigger,this.stopped=new t.Trigger,this.currentAudio=void 0,this.volume=e.volume,this._muted=e._muted,this._playbackRate=e._playbackRate,this._system=e}return e.prototype.play=function(t){this.currentAudio=t,this.played.fire({player:this,audio:t})},e.prototype.stop=function(){var t=this.currentAudio;this.currentAudio=void 0,this.stopped.fire({player:this,audio:t})},e.prototype.canHandleStopped=function(){return!0},e.prototype.changeVolume=function(t){this.volume=t},e.prototype._changeMuted=function(t){this._muted=t},e.prototype._changePlaybackRate=function(t){this._playbackRate=t},e.prototype._supportsPlaybackRate=function(){return!1},e.prototype._onVolumeChanged=function(){},e}();t.AudioPlayer=e}(t||(t={}));var t;!function(t){var e=function(){function e(t,e){var i=e._audioSystemManager;this.id=t,this.game=e,this._volume=1,this._destroyRequestedAssets={},this._muted=i._muted,this._playbackRate=i._playbackRate}return Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(e){if(0>e||e>1||isNaN(e)||"number"!=typeof e)throw t.ExceptionFactory.createAssertionError("AudioSystem#volume: expected: 0.0-1.0, actual: "+e);this._volume=e,this._onVolumeChanged()},enumerable:!0,configurable:!0}),e.prototype.requestDestroy=function(t){this._destroyRequestedAssets[t.id]=t},e.prototype._setMuted=function(t){var e=this._muted;this._muted=!!t,this._muted!==e&&this._onMutedChanged()},e.prototype._setPlaybackRate=function(e){if(0>e||isNaN(e)||"number"!=typeof e)throw t.ExceptionFactory.createAssertionError("AudioSystem#playbackRate: expected: greater or equal to 0.0, actual: "+e);var i=this._playbackRate;this._playbackRate=e,this._playbackRate!==i&&this._onPlaybackRateChanged()},e}();t.AudioSystem=e;var r=function(e){function r(t,i){var r=e.call(this,t,i)||this;return r._player=void 0,r._suppressingAudio=void 0,r}return i(r,e),Object.defineProperty(r.prototype,"player",{get:function(){return this._player||(this._player=this.game.resourceFactory.createAudioPlayer(this),this._player.played.handle(this,this._onPlayerPlayed),this._player.stopped.handle(this,this._onPlayerStopped)),this._player},set:function(t){this._player=t},enumerable:!0,configurable:!0}),r.prototype.findPlayers=function(t){return this.player.currentAudio&&this.player.currentAudio.id===t.id?[this.player]:[]},r.prototype.createPlayer=function(){return this.player},r.prototype.stopAll=function(){this._player&&this._player.stop()},r.prototype._onVolumeChanged=function(){this.player.changeVolume(this._volume)},r.prototype._onMutedChanged=function(){this.player._changeMuted(this._muted)},r.prototype._onPlaybackRateChanged=function(){var t=this.player;t._changePlaybackRate(this._playbackRate),t._supportsPlaybackRate()||this._onUnsupportedPlaybackRateChanged()},r.prototype._onUnsupportedPlaybackRateChanged=function(){if(1===this._playbackRate&&this._suppressingAudio){var t=this._suppressingAudio;this._suppressingAudio=void 0,t.destroyed()||this.player.play(t)}},r.prototype._onPlayerPlayed=function(e){if(e.player!==this._player)throw t.ExceptionFactory.createAssertionError("MusicAudioSystem#_onPlayerPlayed: unexpected audio player");e.player._supportsPlaybackRate()||1!==this._playbackRate&&(e.player.stop(),this._suppressingAudio=e.audio)},r.prototype._onPlayerStopped=function(t){this._destroyRequestedAssets[t.audio.id]&&(delete this._destroyRequestedAssets[t.audio.id],t.audio.destroy())},r}(e);t.MusicAudioSystem=r;var s=function(t){function e(e,i){var r=t.call(this,e,i)||this;return r.players=[],r}return i(e,t),e.prototype.createPlayer=function(){var t=this.game.resourceFactory.createAudioPlayer(this);return t.canHandleStopped()&&this.players.push(t),t.played.handle(this,this._onPlayerPlayed),t.stopped.handle(this,this._onPlayerStopped),t},e.prototype.findPlayers=function(t){for(var e=[],i=0;i<this.players.length;++i)this.players[i].currentAudio&&this.players[i].currentAudio.id===t.id&&e.push(this.players[i]);return e},e.prototype.stopAll=function(){for(var t=this.players.concat(),e=0;e<t.length;++e)t[e].stop()},e.prototype._onMutedChanged=function(){for(var t=this.players,e=0;e<t.length;++e)t[e]._changeMuted(this._muted)},e.prototype._onPlaybackRateChanged=function(){for(var t=this.players,e=0;e<t.length;++e)t[e]._changePlaybackRate(this._playbackRate)},e.prototype._onPlayerPlayed=function(t){t.player._supportsPlaybackRate()||1!==this._playbackRate&&t.player.stop()},e.prototype._onPlayerStopped=function(t){var e=this.players.indexOf(t.player);0>e||(t.player.stopped.remove({owner:this,func:this._onPlayerStopped}),this.players.splice(e,1),this._destroyRequestedAssets[t.audio.id]&&(delete this._destroyRequestedAssets[t.audio.id],t.audio.destroy()))},e.prototype._onVolumeChanged=function(){for(var t=0;t<this.players.length;++t)this.players[t].changeVolume(this._volume)},e}(e);t.SoundAudioSystem=s}(t||(t={}));var t;!function(t){var e=function(){function e(e){this._loop=!!e,this.played=new t.Trigger,this.stopped=new t.Trigger,this.currentVideo=void 0,this.volume=1}return e.prototype.play=function(t){this.currentVideo=t,this.played.fire({player:this,video:t}),t.asSurface().animatingStarted.fire()},e.prototype.stop=function(){var t=this.currentVideo;this.stopped.fire({player:this,video:t}),t.asSurface().animatingStopped.fire()},e.prototype.changeVolume=function(t){this.volume=t},e}();t.VideoPlayer=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t}();t.VideoSystem=e}(t||(t={}));var t;!function(t){var e=function(){function e(t){t?(this.x=t.x||0,this.y=t.y||0,this.width=t.width||0,this.height=t.height||0,this.opacity="opacity"in t?t.opacity:1,this.scaleX="scaleX"in t?t.scaleX:1,this.scaleY="scaleY"in t?t.scaleY:1,this.angle=t.angle||0,this.compositeOperation=t.compositeOperation,this._matrix=void 0):(this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.scaleX=1,this.scaleY=1,this.angle=0,this.compositeOperation=void 0,this._matrix=void 0)}return e.prototype.moveTo=function(e,i){if("number"==typeof e&&"number"!=typeof i)throw t.ExceptionFactory.createAssertionError("Object2D#moveTo: arguments must be CommonOffset or pair of x and y as a number.");"number"==typeof e?(this.x=e,this.y=i):(this.x=e.x,this.y=e.y)},e.prototype.moveBy=function(t,e){this.x+=t,this.y+=e},e.prototype.resizeTo=function(e,i){if("number"==typeof e&&"number"!=typeof i)throw t.ExceptionFactory.createAssertionError("Object2D#resizeTo: arguments must be CommonSize or pair of width and height as a number.");
"number"==typeof e?(this.width=e,this.height=i):(this.width=e.width,this.height=e.height)},e.prototype.resizeBy=function(t,e){this.width+=t,this.height+=e},e.prototype.scale=function(t){this.scaleX=t,this.scaleY=t},e.prototype.getMatrix=function(){if(this._matrix){if(!this._matrix._modified)return this._matrix}else this._matrix=t.Util.createMatrix();return this._updateMatrix(),this._matrix._modified=!1,this._matrix},e.prototype._updateMatrix=function(){this.angle||1!==this.scaleX||1!==this.scaleY?this._matrix.update(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y):this._matrix.reset(this.x,this.y)},e}();t.Object2D=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;if(r.children=void 0,r.parent=void 0,r._touchable=!1,r.state=0,r._hasTouchableChildren=!1,r._update=void 0,r._message=void 0,r._pointDown=void 0,r._pointMove=void 0,r._pointUp=void 0,r._targetCameras=void 0,r.tag=i.tag,r.shaderProgram=i.shaderProgram,r.local=i.scene.local!==t.LocalTickMode.NonLocal||!!i.local,i.children)for(var s=0;s<i.children.length;++s)r.append(i.children[s]);return i.parent&&i.parent.append(r),i.targetCameras&&(r.targetCameras=i.targetCameras),"touchable"in i&&(r.touchable=i.touchable),i.hidden&&r.hide(),r.id=i.id,i.scene.register(r),r}return i(r,e),Object.defineProperty(r.prototype,"update",{get:function(){return this._update||(this._update=new t.ChainTrigger(this.scene.update)),this._update},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"message",{get:function(){return this._message||(this._message=new t.ChainTrigger(this.scene.message)),this._message},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pointDown",{get:function(){return this._pointDown||(this._pointDown=new t.ChainTrigger(this.scene.pointDownCapture,this._isTargetOperation,this)),this._pointDown},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pointUp",{get:function(){return this._pointUp||(this._pointUp=new t.ChainTrigger(this.scene.pointUpCapture,this._isTargetOperation,this)),this._pointUp},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"pointMove",{get:function(){return this._pointMove||(this._pointMove=new t.ChainTrigger(this.scene.pointMoveCapture,this._isTargetOperation,this)),this._pointMove},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"targetCameras",{get:function(){return this._targetCameras||(this._targetCameras=[])},set:function(t){this._targetCameras=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"touchable",{get:function(){return this._touchable},set:function(t){this._touchable!==t&&(this._touchable=t,t?this._enableTouchPropagation():this._disableTouchPropagation())},enumerable:!0,configurable:!0}),r.prototype.render=function(t,e){if(this.state&=-5,!(1&this.state)){var i=this._targetCameras;if(!(i&&i.length>0)||e&&-1!==i.indexOf(e)){if(8&this.state){t.translate(this.x,this.y);var r=this.renderSelf(t,e);if(r&&this.children)for(var s=this.children,n=s.length,o=0;n>o;++o)s[o].render(t,e);return void t.translate(-this.x,-this.y)}t.save(),this.angle||1!==this.scaleX||1!==this.scaleY?t.transform(this.getMatrix()._matrix):t.translate(this.x,this.y),1!==this.opacity&&t.opacity(this.opacity),void 0!==this.compositeOperation&&t.setCompositeOperation(this.compositeOperation),void 0!==this.shaderProgram&&t.isSupportedShaderProgram()&&t.setShaderProgram(this.shaderProgram);var r=this.renderSelf(t,e);if(r&&this.children)for(var s=this.children,o=0;o<s.length;++o)s[o].render(t,e);t.restore()}}},r.prototype.renderSelf=function(t,e){return!0},r.prototype.game=function(){return this.scene.game},r.prototype.append=function(t){this.insertBefore(t,void 0)},r.prototype.insertBefore=function(t,e){t.parent&&t.remove(),this.children||(this.children=[]),t.parent=this;var i=-1;void 0!==e&&(i=this.children.indexOf(e))>-1?this.children.splice(i,0,t):this.children.push(t),(t._touchable||t._hasTouchableChildren)&&(this._hasTouchableChildren=!0,this._enableTouchPropagation()),this.modified(!0)},r.prototype.remove=function(e){if(void 0===e)return void this.parent.remove(this);var i=this.children?this.children.indexOf(e):-1;if(0>i)throw t.ExceptionFactory.createAssertionError("E#remove: invalid child");this.children[i].parent=void 0,this.children.splice(i,1),(e._touchable||e._hasTouchableChildren)&&(this._findTouchableChildren(this)||(this._hasTouchableChildren=!1,this._disableTouchPropagation())),this.modified(!0)},r.prototype.destroy=function(){if(this.parent&&this.remove(),this.children){for(;this.children.length;)this.children[this.children.length-1].destroy();this.children=void 0}this._update&&(this._update.destroy(),this._update=void 0),this._message&&(this._message.destroy(),this._message=void 0),this._pointDown&&(this._pointDown.destroy(),this._pointDown=void 0),this._pointMove&&(this._pointMove.destroy(),this._pointMove=void 0),this._pointUp&&(this._pointUp.destroy(),this._pointUp=void 0),this.scene.unregister(this)},r.prototype.destroyed=function(){return void 0===this.scene},r.prototype.modified=function(t){this._matrix&&(this._matrix._modified=!0),this.angle||1!==this.scaleX||1!==this.scaleY||1!==this.opacity||void 0!==this.compositeOperation||void 0!==this.shaderProgram?this.state&=-9:this.state|=8,4&this.state||(this.state|=4,this.parent&&this.parent.modified(!0))},r.prototype.shouldFindChildrenByPoint=function(t){return!0},r.prototype.findPointSourceByPoint=function(t,e,i,r){if(!(1&this.state)){var s=this._targetCameras;if(!(s&&s.length>0)||r&&-1!==s.indexOf(r)){e=e?e.multiplyNew(this.getMatrix()):this.getMatrix().clone();var n=e.multiplyInverseForPoint(t);if((this._hasTouchableChildren||i&&this.children&&this.children.length)&&this.shouldFindChildrenByPoint(n))for(var o=this.children.length-1;o>=0;--o){var a=this.children[o];if(i||a._touchable||a._hasTouchableChildren){var h=a.findPointSourceByPoint(t,e,i,r);if(h)return h}}if(i||this._touchable)return 0<=n.x&&this.width>n.x&&0<=n.y&&this.height>n.y?{target:this,point:n}:void 0}}},r.prototype.visible=function(){return 1!==(1&this.state)},r.prototype.show=function(){1&this.state&&(this.state&=-2,this.parent&&this.parent.modified(!0))},r.prototype.hide=function(){1&this.state||(this.state|=1,this.parent&&this.parent.modified(!0))},r.prototype.calculateBoundingRect=function(t){return this._calculateBoundingRect(void 0,t)},r.prototype._calculateBoundingRect=function(t,e){var i=this.getMatrix();if(t&&(i=t.multiplyNew(i)),this.visible()&&(!e||this._targetCameras&&-1!==this._targetCameras.indexOf(e))){for(var r={left:0,right:this.width,top:0,bottom:this.height},s=[{x:r.left,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.top},{x:r.right,y:r.bottom}],n=i.multiplyPoint(s[0]),o={left:n.x,right:n.x,top:n.y,bottom:n.y},a=1;a<s.length;++a)n=i.multiplyPoint(s[a]),o.left>n.x&&(o.left=n.x),o.right<n.x&&(o.right=n.x),o.top>n.y&&(o.top=n.y),o.bottom<n.y&&(o.bottom=n.y);if(void 0!==this.children)for(var a=0;a<this.children.length;++a){var h=this.children[a]._calculateBoundingRect(i,e);h&&(o.left>h.left&&(o.left=h.left),o.right<h.right&&(o.right=h.right),o.top>h.top&&(o.top=h.top),o.bottom<h.bottom&&(o.bottom=h.bottom))}return o}},r.prototype._enableTouchPropagation=function(){for(var t=this.parent;t instanceof r&&!t._hasTouchableChildren;)t._hasTouchableChildren=!0,t=t.parent},r.prototype._disableTouchPropagation=function(){for(var t=this.parent;t instanceof r&&t._hasTouchableChildren&&!this._findTouchableChildren(t);)t._hasTouchableChildren=!1,t=t.parent},r.prototype._isTargetOperation=function(e){return 1&this.state?!1:e instanceof t.PointEvent?this._touchable&&e.target===this:!1},r.prototype._findTouchableChildren=function(t){if(t.children)for(var e=0;e<t.children.length;++e){if(t.children[e].touchable)return t.children[e];var i=this._findTouchableChildren(t.children[e]);if(i)return i}},r}(t.Object2D);t.E=e}(t||(t={}));var t;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i._shouldRenderChildren=!0,i._cache=void 0,i._renderer=void 0,i._renderedCamera=void 0,i}return i(e,t),e.prototype.invalidate=function(){this.state&=-3,this.modified()},e.prototype.renderSelf=function(t,e){if(this._renderedCamera!==e&&(this.state&=-3,this._renderedCamera=e),!(2&this.state)){this._cacheSize=this.calculateCacheSize();var i=!this._cache||this._cache.width<Math.ceil(this._cacheSize.width)||this._cache.height<Math.ceil(this._cacheSize.height);i&&(this._cache&&!this._cache.destroyed()&&this._cache.destroy(),this._cache=this.scene.game.resourceFactory.createSurface(Math.ceil(this._cacheSize.width),Math.ceil(this._cacheSize.height)),this._renderer=this._cache.renderer()),this._renderer.begin(),i||this._renderer.clear(),this.renderCache(this._renderer,e),this.state|=2,this._renderer.end()}return this._cache&&this._cacheSize.width>0&&this._cacheSize.height>0&&t.drawImage(this._cache,0,0,this._cacheSize.width,this._cacheSize.height,0,0),this._shouldRenderChildren},e.prototype.destroy=function(){this._cache&&!this._cache.destroyed()&&this._cache.destroy(),this._cache=void 0,t.prototype.destroy.call(this)},e.prototype.calculateCacheSize=function(){return{width:this.width,height:this.height}},e}(t.E);t.CacheableE=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Slots=1]="Slots",t[t.Scores=2]="Scores",t[t.Counts=3]="Counts",t[t.Values=4]="Values"}(e=t.StorageRegion||(t.StorageRegion={}));var i;!function(t){t[t.Asc=0]="Asc",t[t.Desc=1]="Desc"}(i=t.StorageOrder||(t.StorageOrder={}));var r;!function(t){t[t.Equal=1]="Equal",t[t.GreaterThan=2]="GreaterThan",t[t.LessThan=3]="LessThan"}(r=t.StorageCondition||(t.StorageCondition={}));var s;!function(t){t[t.Incr=1]="Incr",t[t.Decr=2]="Decr"}(s=t.StorageCountsOperation||(t.StorageCountsOperation={}));var n=function(){function t(t,e){this._keys=t,this._values=e}return t.prototype.get=function(t){if(void 0===this._values)return[];if("number"==typeof t)return this._values[t];var e=this._keys.indexOf(t);if(-1!==e)return this._values[e];for(var i=0;i<this._keys.length;++i){var r=this._keys[i];if(r.region===t.region&&r.regionKey===t.regionKey&&r.userId===t.userId&&r.gameId===t.gameId)return this._values[i]}return[]},t.prototype.getOne=function(t){var e=this.get(t);return e?e[0]:void 0},t}();t.StorageValueStore=n;var o=function(){function t(t,e,i){this._loaded=!1,this._storage=t,this._valueStore=new n(e),this._handler=void 0,this._valueStoreSerialization=i}return t.prototype._load=function(t){this._handler=t,this._storage._load&&this._storage._load.call(this._storage,this._valueStore._keys,this,this._valueStoreSerialization)},t.prototype._onLoaded=function(t,e){this._valueStore._values=t,this._loaded=!0,e&&(this._valueStoreSerialization=e),this._handler&&this._handler._onStorageLoaded()},t.prototype._onError=function(t){this._handler&&this._handler._onStorageLoadError(t)},t}();t.StorageLoader=o;var a=function(){function t(t){this._game=t}return t.prototype.write=function(t,e,i){this._write&&this._write(t,e,i)},t.prototype.requestValuesForJoinPlayer=function(t){this._requestedKeysForJoinPlayer=t},t.prototype._createLoader=function(t,e){return new o(this,t,e)},t.prototype._registerWrite=function(t){this._write=t},t.prototype._registerLoad=function(t){this._load=t},t}();t.Storage=a}(t||(t={}));var t;!function(t){var e=function(){function e(t){this.waitingAssetsCount=t.assetIds.length,this._scene=t.scene,this._assetManager=t.assetManager,this._assetIds=t.assetIds,this._assets=[],this._handler=t.handler,this._handlerOwner=t.handlerOwner||null,this._direct=!!t.direct,this._requested=!1}return e.prototype.request=function(){return 0===this.waitingAssetsCount?!1:this._requested?!0:(this._requested=!0,this._assetManager.requestAssets(this._assetIds,this),!0)},e.prototype.destroy=function(){this._requested&&this._assetManager.unrefAssets(this._assets),this.waitingAssetsCount=0,this._scene=void 0,this._assetIds=void 0,this._handler=void 0,this._requested=!1},e.prototype.destroyed=function(){return!this._scene},e.prototype.callHandler=function(){this._handler.call(this._handlerOwner)},e.prototype._onAssetError=function(t,e,i){if(!this.destroyed()&&!this._scene.destroyed()){var r={asset:t,error:e,cancelRetry:!1};this._scene.assetLoadFailed.fire(r),e.retriable&&!r.cancelRetry?this._assetManager.retryLoad(t):this._assetManager.configuration[t.id]&&this._scene.game.terminateGame(),this._scene.assetLoadCompleted.fire(t)}},e.prototype._onAssetLoad=function(e){if(!this.destroyed()&&!this._scene.destroyed()){if(this._scene.assets[e.id]=e,this._scene.assetLoaded.fire(e),this._scene.assetLoadCompleted.fire(e),this._assets.push(e),--this.waitingAssetsCount,this.waitingAssetsCount<0)throw t.ExceptionFactory.createAssertionError("SceneAssetHolder#_onAssetLoad: broken waitingAssetsCount");this.waitingAssetsCount>0||(this._direct?this.callHandler():this._scene.game._callSceneAssetHolderHandler(this))}},e}();t.SceneAssetHolder=e;var i;!function(t){t[t.Destroyed=0]="Destroyed",t[t.Standby=1]="Standby",t[t.Active=2]="Active",t[t.Deactive=3]="Deactive",t[t.BeforeDestroyed=4]="BeforeDestroyed"}(i=t.SceneState||(t.SceneState={}));var r;!function(t){t[t.Initial=0]="Initial",t[t.Ready=1]="Ready",t[t.ReadyFired=2]="ReadyFired",t[t.LoadedFired=3]="LoadedFired"}(r=t.SceneLoadState||(t.SceneLoadState={}));var s=function(){function s(s){var n,o,a,h;n=s.game,h=s.assetIds,s.storageKeys?(this._storageLoader=n.storage._createLoader(s.storageKeys,s.storageValuesSerialization),this.storageValues=this._storageLoader._valueStore):(this._storageLoader=void 0,this.storageValues=void 0),o=void 0===s.local?t.LocalTickMode.NonLocal:s.local===!1?t.LocalTickMode.NonLocal:s.local===!0?t.LocalTickMode.FullLocal:s.local,a=void 0!==s.tickGenerationMode?s.tickGenerationMode:t.TickGenerationMode.ByClock,this.name=s.name,h||(h=[]),this.game=n,this.local=o,this.tickGenerationMode=a,this.loaded=new t.Trigger,this._ready=new t.Trigger,this.assets={},this._loaded=!1,this._prefetchRequested=!1,this._loadingState=r.Initial,this.update=new t.Trigger,this._timer=new t.TimerManager(this.update,this.game.fps),this.assetLoaded=new t.Trigger,this.assetLoadFailed=new t.Trigger,this.assetLoadCompleted=new t.Trigger,this.message=new t.Trigger,this.pointDownCapture=new t.Trigger,this.pointMoveCapture=new t.Trigger,this.pointUpCapture=new t.Trigger,this.operation=new t.Trigger,this.children=[],this.state=i.Standby,this.stateChanged=new t.Trigger,this._assetHolders=[],this._sceneAssetHolder=new e({scene:this,assetManager:this.game._assetManager,assetIds:h,handler:this._onSceneAssetsLoad,handlerOwner:this,direct:!0})}return s.prototype.modified=function(t){this.game.modified=!0},s.prototype.destroy=function(){this.state=i.BeforeDestroyed,this.stateChanged.fire(this.state);var t=this.game.db;for(var e in t)t.hasOwnProperty(e)&&t[e].scene===this&&t[e].destroy();var t=this.game._localDb;for(var e in t)t.hasOwnProperty(e)&&t[e].scene===this&&t[e].destroy();this._timer.destroy(),this.update.destroy(),this.message.destroy(),this.pointDownCapture.destroy(),this.pointMoveCapture.destroy(),this.pointUpCapture.destroy(),this.operation.destroy(),this.loaded.destroy(),this.assetLoaded.destroy(),this.assetLoadFailed.destroy(),this.assetLoadCompleted.destroy(),this.assets={};for(var r=0;r<this._assetHolders.length;++r)this._assetHolders[r].destroy();this._sceneAssetHolder.destroy(),this._storageLoader=void 0,this.game=void 0,this.state=i.Destroyed,this.stateChanged.fire(this.state),this.stateChanged.destroy()},s.prototype.destroyed=function(){return void 0===this.game},s.prototype.createTimer=function(t){return this._timer.createTimer(t)},s.prototype.deleteTimer=function(t){this._timer.deleteTimer(t)},s.prototype.setInterval=function(t,e,i){var r=this._timer;return"number"==typeof t?(this.game.logger.warn("[deprecated] Scene#setInterval(): this arguments ordering is now deprecated. Specify the function first."),null!=i?r.setInterval(i,t,e):r.setInterval(e,t,null)):r.setInterval(t,e,i)},s.prototype.clearInterval=function(t){this._timer.clearInterval(t)},s.prototype.setTimeout=function(t,e,i){var r=this._timer;return"number"==typeof t?(this.game.logger.warn("[deprecated] Scene#setTimeout(): this arguments ordering is now deprecated. Specify the function first."),null!=i?r.setTimeout(i,t,e):r.setTimeout(e,t,null)):r.setTimeout(t,e,i)},s.prototype.clearTimeout=function(t){this._timer.clearTimeout(t)},s.prototype.isCurrentScene=function(){return this.game.scene()===this},s.prototype.gotoScene=function(e,i){if(!this.isCurrentScene())throw t.ExceptionFactory.createAssertionError("Scene#gotoScene: this scene is not the current scene");i?this.game.pushScene(e):this.game.replaceScene(e)},s.prototype.end=function(){if(!this.isCurrentScene())throw t.ExceptionFactory.createAssertionError("Scene#end: this scene is not the current scene");this.game.popScene()},s.prototype.register=function(t){this.game.register(t),t.scene=this},s.prototype.unregister=function(t){t.scene=void 0,this.game.unregister(t)},s.prototype.append=function(t){this.insertBefore(t,void 0)},s.prototype.insertBefore=function(t,e){t.parent&&t.remove(),t.parent=this;var i=-1;void 0!==e&&(i=this.children.indexOf(e))>-1?this.children.splice(i,0,t):this.children.push(t),this.modified(!0)},s.prototype.remove=function(t){var e=this.children.indexOf(t);-1!==e&&(this.children[e].parent=void 0,this.children.splice(e,1),this.modified(!0))},s.prototype.findPointSourceByPoint=function(e,i,r){var s=this.local!==t.LocalTickMode.NonLocal,n=this.children,o=void 0;r&&r instanceof t.Camera2D&&(o=r.getMatrix());for(var a=n.length-1;a>=0;--a){var h=n[a].findPointSourceByPoint(e,o,i,r);if(h)return h.local=h.target.local||s,h}return{target:void 0,point:void 0,local:s}},s.prototype.prefetch=function(){this._loaded||this._prefetchRequested||(this._prefetchRequested=!0,this._sceneAssetHolder.request())},s.prototype.serializeStorageValues=function(){return this._storageLoader?this._storageLoader._valueStoreSerialization:void 0},s.prototype.requestAssets=function(i,s){if(this._loadingState<r.ReadyFired)throw t.ExceptionFactory.createAssertionError("Scene#requestAsset(): can be called after loaded.");var n=new e({scene:this,assetManager:this.game._assetManager,assetIds:i,handler:s});this._assetHolders.push(n),n.request()},s.prototype._activate=function(){this.state=i.Active,this.stateChanged.fire(this.state)},s.prototype._deactivate=function(){this.state=i.Deactive,this.stateChanged.fire(this.state)},s.prototype._needsLoading=function(){return this._sceneAssetHolder.waitingAssetsCount>0||this._storageLoader&&!this._storageLoader._loaded},s.prototype._load=function(){if(!this._loaded){this._loaded=!0;var t=this._sceneAssetHolder.request();this._storageLoader&&(this._storageLoader._load(this),t=!0),t||this._notifySceneReady()}},s.prototype._onSceneAssetsLoad=function(){this._loaded&&(!this._storageLoader||this._storageLoader._loaded)&&this._notifySceneReady()},s.prototype._onStorageLoadError=function(t){this.game.terminateGame()},s.prototype._onStorageLoaded=function(){0===this._sceneAssetHolder.waitingAssetsCount&&this._notifySceneReady()},s.prototype._notifySceneReady=function(){this._loadingState=r.Ready,this.game._fireSceneReady(this)},s.prototype._fireReady=function(){this._ready.fire(this),this._loadingState=r.ReadyFired},s.prototype._fireLoaded=function(){this.loaded.fire(this),this._loadingState=r.LoadedFired},s}();t.Scene=s}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=this;return i.local=!0,r=e.call(this,i)||this,r.targetReset=new t.Trigger,r.targetReady=new t.Trigger,r.targetAssetLoaded=new t.Trigger,r._explicitEnd=!!i.explicitEnd,r._targetScene=void 0,r}return i(r,e),r.prototype.destroy=function(){this._clearTargetScene(),e.prototype.destroy.call(this)},r.prototype.reset=function(e){this._clearTargetScene(),this._targetScene=e,this._loadingState<t.SceneLoadState.LoadedFired?this.loaded.addOnce(this._doReset,this):this._doReset()},r.prototype.getTargetWaitingAssetsCount=function(){return this._targetScene?this._targetScene._sceneAssetHolder.waitingAssetsCount:0},r.prototype.end=function(){if(!this._targetScene||this._targetScene._loadingState<t.SceneLoadState.Ready){var e=this._targetScene?t.SceneLoadState[this._targetScene._loadingState]:"(no scene)",i="LoadingScene#end(): the target scene is in invalid state: "+e;throw t.ExceptionFactory.createAssertionError(i)}this.game.popScene(!0),this.game._fireSceneLoaded(this._targetScene),this._clearTargetScene()},r.prototype._clearTargetScene=function(){this._targetScene&&(this._targetScene._ready.removeAll({owner:this}),this._targetScene.assetLoaded.removeAll({owner:this}),this._targetScene=void 0)},r.prototype._doReset=function(){this.targetReset.fire(this._targetScene),this._targetScene._loadingState<t.SceneLoadState.ReadyFired?(this._targetScene._ready.add(this._fireTriggerOnTargetReady,this),this._targetScene.assetLoaded.add(this._fireTriggerOnTargetAssetLoad,this),this._targetScene._load()):this._fireTriggerOnTargetReady(this._targetScene)},r.prototype._fireTriggerOnTargetAssetLoad=function(t){this.targetAssetLoaded.fire(t)},r.prototype._fireTriggerOnTargetReady=function(t){this.targetReady.fire(t),this._explicitEnd||this.end()},r}(t.Scene);t.LoadingScene=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._canceller=new t.Object2D,r}return i(r,e),r.prototype.renderSelf=function(t,e){if(!this.children)return!1;if(e){var i=e,r=this._canceller;(i.x!==r.x||i.y!==r.y||i.angle!==r.angle||i.scaleX!==r.scaleX||i.scaleY!==r.scaleY)&&(r.x=i.x,r.y=i.y,r.angle=i.angle,r.scaleX=i.scaleX,r.scaleY=i.scaleY,r._matrix&&(r._matrix._modified=!0)),t.save(),t.transform(r.getMatrix()._matrix)}for(var s=this.children,n=0;n<s.length;++n)s[n].render(t,e);return e&&t.restore(),!1},r}(t.E),r=function(r){function s(t){var e=r.call(this,{game:t.game,name:"akashic:default-loading-scene"})||this;return e._barWidth=Math.min(t.game.width,Math.max(100,t.game.width/2)),e._barHeight=5,e._gauge=void 0,e._gaugeUpdateCount=0,e._totalWaitingAssetCount=0,e.loaded.handle(e,e._onLoaded),e.targetReset.handle(e,e._onTargetReset),e.targetAssetLoaded.handle(e,e._onTargetAssetLoaded),e}return i(s,r),s.prototype._onLoaded=function(){var i;return this.append(new e({scene:this,children:[new t.FilledRect({scene:this,width:this.game.width,height:this.game.height,cssColor:"rgba(0, 0, 0, 0.8)",children:[new t.FilledRect({scene:this,x:(this.game.width-this._barWidth)/2,y:(this.game.height-this._barHeight)/2,width:this._barWidth,height:this._barHeight,cssColor:"gray",children:[i=new t.FilledRect({scene:this,width:0,height:this._barHeight,cssColor:"white"})]})]})]})),i.update.handle(this,this._onUpdateGuage),this._gauge=i,!0},s.prototype._onUpdateGuage=function(){var t=50,e=2/3;++this._gaugeUpdateCount;var i=Math.round(255-t+Math.sin(this._gaugeUpdateCount/this.game.fps*e*(2*Math.PI))*t);this._gauge.cssColor="rgb("+i+","+i+","+i+")",this._gauge.modified()},s.prototype._onTargetReset=function(t){this._gauge&&(this._gauge.width=0,this._gauge.modified()),this._totalWaitingAssetCount=t._sceneAssetHolder.waitingAssetsCount},s.prototype._onTargetAssetLoaded=function(t){var e=this._targetScene._sceneAssetHolder.waitingAssetsCount;this._gauge.width=Math.ceil((1-e/this._totalWaitingAssetCount)*this._barWidth),this._gauge.modified()},s}(t.LoadingScene);t.DefaultLoadingScene=r}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r.surface=t.Util.asSurface(i.src),"width"in i||(r.width=r.surface.width),"height"in i||(r.height=r.surface.height),r.srcWidth="srcWidth"in i?i.srcWidth:r.width,r.srcHeight="srcHeight"in i?i.srcHeight:r.height,r.srcX=i.srcX||0,r.srcY=i.srcY||0,r._stretchMatrix=void 0,r._beforeSurface=r.surface,t.Util.setupAnimatingHandler(r,r.surface),r._invalidateSelf(),r}return i(r,e),r.prototype._onUpdate=function(){this.modified()},r.prototype._onAnimatingStarted=function(){this.update.contains(this._onUpdate,this)||this.update.add(this._onUpdate,this)},r.prototype._onAnimatingStopped=function(){this.destroyed()||this.update.remove(this._onUpdate,this)},r.prototype.renderSelf=function(t,e){return this.srcWidth<=0||this.srcHeight<=0?!0:(this._stretchMatrix&&(t.save(),t.transform(this._stretchMatrix._matrix)),t.drawImage(this.surface,this.srcX,this.srcY,this.srcWidth,this.srcHeight,0,0),this._stretchMatrix&&t.restore(),!0)},r.prototype.invalidate=function(){this._invalidateSelf(),this.modified()},r.prototype.destroy=function(t){this.surface&&!this.surface.destroyed()&&(t?this.surface.destroy():this.surface.isDynamic&&(this.surface.animatingStarted.remove(this._onAnimatingStarted,this),this.surface.animatingStopped.remove(this._onAnimatingStopped,this))),this.surface=void 0,e.prototype.destroy.call(this)},r.prototype._invalidateSelf=function(){this.width===this.srcWidth&&this.height===this.srcHeight?this._stretchMatrix=void 0:(this._stretchMatrix=t.Util.createMatrix(),this._stretchMatrix.scale(this.width/this.srcWidth,this.height/this.srcHeight)),this.surface!==this._beforeSurface&&(t.Util.migrateAnimatingHandler(this,this._beforeSurface,this.surface),this._beforeSurface=this.surface)},r}(t.E);t.Sprite=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._lastUsedIndex=0,r.frameNumber=i.frameNumber||0,r.frames="frames"in i?i.frames:[0],r.interval=i.interval,r._timer=void 0,r.loop=null!=i.loop?i.loop:!0,r.finished=new t.Trigger,r._modifiedSelf(),r}return i(r,e),r.createBySprite=function(t,e,i){var s=new r({scene:t.scene,src:t.surface,width:void 0===e?t.width:e,height:void 0===i?t.height:i});return s.srcHeight=void 0===i?t.srcHeight:i,s.srcWidth=void 0===e?t.srcWidth:e,s},r.prototype.start=function(){void 0===this.interval&&(this.interval=1e3/this.game().fps),this._timer&&this._free(),this._timer=this.scene.createTimer(this.interval),this._timer.elapsed.add(this._onElapsed,this)},r.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t)},r.prototype.stop=function(){this._timer&&this._free()},r.prototype.modified=function(t){this._modifiedSelf(t),e.prototype.modified.call(this,t)},r.prototype._onElapsed=function(){this.frameNumber===this.frames.length-1?this.loop?this.frameNumber=0:(this.stop(),this.finished.fire()):this.frameNumber++,this.modified()},r.prototype._free=function(){this._timer&&(this._timer.elapsed.remove(this._onElapsed,this),this._timer.canDelete()&&this.scene.deleteTimer(this._timer),this._timer=void 0)},r.prototype._changeFrame=function(){var t=this.frames[this.frameNumber],e=Math.floor(this.surface.width/this.srcWidth);this.srcX=t%e*this.srcWidth,this.srcY=Math.floor(t/e)*this.srcHeight,this._lastUsedIndex=t},r.prototype._modifiedSelf=function(t){this._lastUsedIndex!==this.frames[this.frameNumber]&&this._changeFrame()},r}(t.Sprite);t.FrameSprite=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Unknown=0]="Unknown",t[t.Join=1]="Join",t[t.Leave=2]="Leave",t[t.Timestamp=3]="Timestamp",t[t.Seed=4]="Seed",t[t.PointDown=5]="PointDown",t[t.PointMove=6]="PointMove",t[t.PointUp=7]="PointUp",t[t.Message=8]="Message",t[t.Operation=9]="Operation"}(e=t.EventType||(t.EventType={}));var r=function(){function t(t,e,i,r,s,n){this.priority=n,this.local=s,this.player=r,this.pointerId=t,this.target=e,this.point=i}return t}();t.PointEvent=r;var s=function(t){function r(i,r,s,n,o,a){var h=t.call(this,i,r,s,n,o,a)||this;return h.type=e.PointDown,h}return i(r,t),r}(r);t.PointDownEvent=s;var n=function(t){function r(i,r,s,n,o,a,h,d){var c=t.call(this,i,r,s,a,h,d)||this;return c.type=e.PointUp,c.prevDelta=n,c.startDelta=o,c}return i(r,t),r}(r);t.PointUpEvent=n;var o=function(t){function r(i,r,s,n,o,a,h,d){var c=t.call(this,i,r,s,a,h,d)||this;return c.type=e.PointMove,c.prevDelta=n,c.startDelta=o,c}return i(r,t),r}(r);t.PointMoveEvent=o;var a=function(){function t(t,i,r,s){this.type=e.Message,this.priority=s,this.local=r,this.player=i,this.data=t}return t}();t.MessageEvent=a;var h=function(){function t(t,i,r,s,n){this.type=e.Operation,this.priority=n,this.local=s,this.player=r,this.code=t,this.data=i}return t}();t.OperationEvent=h;var d=function(){function t(t,i,r){this.type=e.Join,this.priority=r,this.player=t,this.storageValues=i}return t}();t.JoinEvent=d;var c=function(){function t(t,i){this.type=e.Leave,this.priority=i,this.player=t}return t}();t.LeaveEvent=c;var l=function(){function t(t,i,r){this.type=e.Timestamp,this.priority=r,this.player=i,this.timestamp=t}return t}();t.TimestampEvent=l;var u=function(){function t(t,i){this.type=e.Seed,this.priority=i,this.generator=t}return t}();t.SeedEvent=u}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Error=0]="Error",t[t.Warn=1]="Warn",t[t.Info=2]="Info",t[t.Debug=3]="Debug"}(e=t.LogLevel||(t.LogLevel={}));var i=function(){function i(e){this.game=e,this.logging=new t.Trigger}return i.prototype.error=function(t,i){this.logging.fire({game:this.game,level:e.Error,message:t,cause:i})},i.prototype.warn=function(t,i){this.logging.fire({game:this.game,level:e.Warn,message:t,cause:i})},i.prototype.info=function(t,i){this.logging.fire({game:this.game,level:e.Info,message:t,cause:i})},i.prototype.debug=function(t,i){this.logging.fire({game:this.game,level:e.Debug,message:t,cause:i})},i}();t.Logger=i}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,s,n){e=this._normalizeConfiguration(e),this.fps=e.fps,this.width=e.width,this.height=e.height,this.renderers=[],this.scenes=[],this.random=null,this.age=0,this.assetBase=r||"",this.resourceFactory=i,this.selfId=s||void 0,this.playId=void 0,this._audioSystemManager=new t.AudioSystemManager(this),this.audio={music:new t.MusicAudioSystem("music",this),sound:new t.SoundAudioSystem("sound",this)},this.defaultAudioSystemId="sound",this.storage=new t.Storage(this),this.assets={},this.join=new t.Trigger,this.leave=new t.Trigger,this.seed=new t.Trigger,this._eventTriggerMap={},this._eventTriggerMap[t.EventType.Join]=this.join,this._eventTriggerMap[t.EventType.Leave]=this.leave,this._eventTriggerMap[t.EventType.Seed]=this.seed,this._eventTriggerMap[t.EventType.Message]=void 0,this._eventTriggerMap[t.EventType.PointDown]=void 0,this._eventTriggerMap[t.EventType.PointMove]=void 0,this._eventTriggerMap[t.EventType.PointUp]=void 0,this._eventTriggerMap[t.EventType.Operation]=void 0,this.resized=new t.Trigger,this._loaded=new t.Trigger,this._started=new t.Trigger,this.isLoaded=!1,this.snapshotRequest=new t.Trigger,this.external={},this.logger=new t.Logger(this),this._main=e.main,this._mainParameter=void 0,this._configuration=e,this._assetManager=new t.AssetManager(this,e.assets,e.audio,e.moduleMainScripts);var o=e.operationPlugins||[];this._operationPluginManager=new t.OperationPluginManager(this,n,o),this._operationPluginOperated=new t.Trigger,this._operationPluginManager.operated.add(this._operationPluginOperated.fire,this._operationPluginOperated),this._sceneChanged=new t.Trigger,this._sceneChanged.add(this._updateEventTriggers,this),this._initialScene=new t.Scene({game:this,assetIds:this._assetManager.globalAssetIds(),local:!0,name:"akashic:initial-scene"}),this._initialScene.loaded.add(this._onInitialSceneLoaded,this),this._reset({age:0})}return Object.defineProperty(e.prototype,"focusingCamera",{get:function(){return this._focusingCamera},set:function(t){t!==this._focusingCamera&&(this.modified&&this.render(this._focusingCamera),this._focusingCamera=t)},enumerable:!0,configurable:!0}),e.prototype.pushScene=function(t){this._sceneChangeRequests.push({type:0,scene:t})},e.prototype.replaceScene=function(t,e){this._sceneChangeRequests.push({type:1,scene:t,preserveCurrent:e})},e.prototype.popScene=function(t){this._sceneChangeRequests.push({type:2,preserveCurrent:t})},e.prototype.scene=function(){return this.scenes.length?this.scenes[this.scenes.length-1]:void 0},e.prototype.tick=function(e){var i=void 0;if(this._isTerminated)return!1;if(this.scenes.length){if(i=this.scenes[this.scenes.length-1],
this.events.length){var r=this.events;this.events=[];for(var s=0;s<r.length;++s){var n=this._eventTriggerMap[r[s].type];n&&n.fire(r[s])}}i.update.fire(),(e===!0||void 0===e&&i.local!==t.LocalTickMode.FullLocal)&&++this.age}return this._sceneChangeRequests.length?(this._flushSceneChangeRequests(),i!==this.scenes[this.scenes.length-1]):!1},e.prototype.render=function(t){t||(t=this.focusingCamera);for(var e=this.renderers,i=0;i<e.length;++i)e[i].draw(this,t);this.modified=!1},e.prototype.findPointSource=function(t,e){return e||(e=this.focusingCamera),this.scene().findPointSourceByPoint(t,!1,e)},e.prototype.register=function(e){if(e.local){if(void 0===e.id)e.id=--this._localIdx;else{if(e.id>0)throw t.ExceptionFactory.createAssertionError("Game#register: invalid local id: "+e.id);if(this._localDb.hasOwnProperty(String(e.id)))throw t.ExceptionFactory.createAssertionError("Game#register: conflicted id: "+e.id);this._localIdx>e.id&&(this._localIdx=e.id)}this._localDb[e.id]=e}else{if(void 0===e.id)e.id=++this._idx;else{if(e.id<0)throw t.ExceptionFactory.createAssertionError("Game#register: invalid non-local id: "+e.id);if(this.db.hasOwnProperty(String(e.id)))throw t.ExceptionFactory.createAssertionError("Game#register: conflicted id: "+e.id);this._idx<e.id&&(this._idx=e.id)}this.db[e.id]=e}},e.prototype.unregister=function(t){t.local?delete this._localDb[t.id]:delete this.db[t.id]},e.prototype.leaveGame=function(){this._leaveGame()},e.prototype.terminateGame=function(){this._leaveGame(),this._isTerminated=!0,this._terminateGame()},e.prototype._fireSceneReady=function(t){this._sceneChangeRequests.push({type:3,scene:t})},e.prototype._fireSceneLoaded=function(e){e._loadingState<t.SceneLoadState.LoadedFired&&this._sceneChangeRequests.push({type:4,scene:e})},e.prototype._callSceneAssetHolderHandler=function(t){this._sceneChangeRequests.push({type:5,assetHolder:t})},e.prototype._normalizeConfiguration=function(e){if(!e)throw t.ExceptionFactory.createAssertionError("Game#_normalizeConfiguration: invalid arguments");if("assets"in e||(e.assets={}),"fps"in e||(e.fps=30),"number"!=typeof e.fps)throw t.ExceptionFactory.createAssertionError("Game#_normalizeConfiguration: fps must be given as a number");if(!(0<=e.fps&&e.fps<=60))throw t.ExceptionFactory.createAssertionError("Game#_normalizeConfiguration: fps must be a number in (0, 60].");if("number"!=typeof e.width)throw t.ExceptionFactory.createAssertionError("Game#_normalizeConfiguration: width must be given as a number");if("number"!=typeof e.height)throw t.ExceptionFactory.createAssertionError("Game#_normalizeConfiguration: height must be given as a number");return e},e.prototype._setAudioPlaybackRate=function(t){this._audioSystemManager._setPlaybackRate(t)},e.prototype._setMuted=function(t){this._audioSystemManager._setMuted(t)},e.prototype._decodeOperationPluginOperation=function(t,e){var i=this._operationPluginManager.plugins;return i[t]&&i[t].decode?i[t].decode(e):e},e.prototype._reset=function(e){if(this._operationPluginManager.stopAll(),this.scene()){for(;this.scene()!==this._initialScene;)this.popScene(),this._flushSceneChangeRequests();this.isLoaded||this.scenes.pop()}switch(e&&(void 0!==e.age&&(this.age=e.age),void 0!==e.randGen&&(this.random=e.randGen)),this._loaded.removeAll({func:this._start,owner:this}),this.join.removeAll(),this.leave.removeAll(),this.seed.removeAll(),this.resized.removeAll(),this._idx=0,this._localIdx=0,this._cameraIdx=0,this.db={},this._localDb={},this.events=[],this.modified=!0,this.loadingScene=void 0,this._focusingCamera=void 0,this._scriptCaches={},this.snapshotRequest.removeAll(),this._sceneChangeRequests=[],this._isTerminated=!1,this.vars={},this._configuration.defaultLoadingScene){case"none":this._defaultLoadingScene=new t.LoadingScene({game:this});break;default:this._defaultLoadingScene=new t.DefaultLoadingScene({game:this})}},e.prototype._loadAndStart=function(t){this._mainParameter=t||{},this.isLoaded?this._start():(this._loaded.add(this._start,this),this.pushScene(this._initialScene),this._flushSceneChangeRequests())},e.prototype._startLoadingGlobalAssets=function(){if(this.isLoaded)throw t.ExceptionFactory.createAssertionError("Game#_startLoadingGlobalAssets: already loaded.");this.pushScene(this._initialScene),this._flushSceneChangeRequests()},e.prototype._updateEventTriggers=function(e){return this.modified=!0,e?(this._eventTriggerMap[t.EventType.Message]=e.message,this._eventTriggerMap[t.EventType.PointDown]=e.pointDownCapture,this._eventTriggerMap[t.EventType.PointMove]=e.pointMoveCapture,this._eventTriggerMap[t.EventType.PointUp]=e.pointUpCapture,this._eventTriggerMap[t.EventType.Operation]=e.operation,void e._activate()):(this._eventTriggerMap[t.EventType.Message]=void 0,this._eventTriggerMap[t.EventType.PointDown]=void 0,this._eventTriggerMap[t.EventType.PointMove]=void 0,this._eventTriggerMap[t.EventType.PointUp]=void 0,void(this._eventTriggerMap[t.EventType.Operation]=void 0))},e.prototype._onInitialSceneLoaded=function(){this._initialScene.loaded.remove(this._onInitialSceneLoaded,this),this.assets=this._initialScene.assets,this.isLoaded=!0,this._loaded.fire()},e.prototype._terminateGame=function(){},e.prototype._flushSceneChangeRequests=function(){do{var e=this._sceneChangeRequests;this._sceneChangeRequests=[];for(var i=0;i<e.length;++i){var r=e[i];switch(r.type){case 0:var s=this.scene();s&&s._deactivate(),this._doPushScene(r.scene);break;case 1:this._doPopScene(r.preserveCurrent,!1),this._doPushScene(r.scene);break;case 2:this._doPopScene(r.preserveCurrent,!0);break;case 3:r.scene.destroyed()||r.scene._fireReady();break;case 4:r.scene.destroyed()||r.scene._fireLoaded();break;case 5:r.assetHolder.callHandler();break;default:throw t.ExceptionFactory.createAssertionError("Game#_flushSceneChangeRequests: unknown scene change request.")}}}while(this._sceneChangeRequests.length>0)},e.prototype._doPopScene=function(e,i){var r=this.scenes.pop();if(r===this._initialScene)throw t.ExceptionFactory.createAssertionError("Game#_doPopScene: invalid call; attempting to pop the initial scene");e||r.destroy(),i&&this._sceneChanged.fire(this.scene())},e.prototype._start=function(){if(this._operationPluginManager.initialize(),this.operationPlugins=this._operationPluginManager.plugins,!this._main){if(this._mainParameter.snapshot){if(!this.assets.snapshotLoader)throw t.ExceptionFactory.createAssertionError("Game#_start: global asset 'snapshotLoader' not found.");var e=t._require(this,"snapshotLoader");e(this._mainParameter.snapshot),this._flushSceneChangeRequests()}else{if(!this.assets.mainScene)throw t.ExceptionFactory.createAssertionError("Game#_start: global asset 'mainScene' not found.");var i=t._require(this,"mainScene")();this.pushScene(i),this._flushSceneChangeRequests()}return void this._started.fire()}var r=t._require(this,this._main);if(!r||"function"!=typeof r)throw t.ExceptionFactory.createAssertionError("Game#_start: Entry point '"+this._main+"' not found.");r(this._mainParameter),this._flushSceneChangeRequests(),this._started.fire()},e.prototype._doPushScene=function(e,i){if(i||(i=this.loadingScene||this._defaultLoadingScene),this.scenes.push(e),e._needsLoading()&&e._loadingState<t.SceneLoadState.LoadedFired){if(this._defaultLoadingScene._needsLoading())throw t.ExceptionFactory.createAssertionError("Game#_doPushScene: _defaultLoadingScene must not depend on any assets/storages.");this._doPushScene(i,this._defaultLoadingScene),i.reset(e)}else this._sceneChanged.fire(e),e._loaded||(e._load(),this._fireSceneLoaded(e));this.modified=!0},e}();t.Game=e}(t||(t={}));var t;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i.game=e.game,i.local=!!e.local,i.name=e.name,i._modifiedCount=0,i.width=e.game.width,i.height=e.game.height,i.id=i.local?void 0:i.game._cameraIdx++,i}return i(e,t),e.deserialize=function(t,i){var r=t;r.param.game=i;var s=new e(r.param);return s.id=r.id,s},e.prototype.modified=function(){this._modifiedCount=(this._modifiedCount+1)%32768,this._matrix&&(this._matrix._modified=!0),this.game.modified=!0},e.prototype.serialize=function(){var t={id:this.id,param:{game:void 0,local:this.local,name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,opacity:this.opacity,scaleX:this.scaleX,scaleY:this.scaleY,angle:this.angle,compositeOperation:this.compositeOperation}};return t},e.prototype._applyTransformToRenderer=function(t){this.angle||1!==this.scaleX||1!==this.scaleY?t.transform(this.getMatrix()._matrix):t.translate(-this.x,-this.y),1!==this.opacity&&t.opacity(this.opacity)},e.prototype._updateMatrix=function(){this.angle||1!==this.scaleX||1!==this.scaleY?this._matrix.updateByInverse(this.width,this.height,this.scaleX,this.scaleY,this.angle,this.x,this.y):this._matrix.reset(-this.x,-this.y)},e}(t.Object2D);t.Camera2D=e}(t||(t={}));var t;!function(t){var e=function(){function t(){}return t.prototype.draw=function(t,e){var i=t.scene();if(i){this.begin(),this.clear(),e&&(this.save(),e._applyTransformToRenderer(this));for(var r=i.children,s=0;s<r.length;++s)r[s].render(this,e);e&&this.restore(),this.end()}},t.prototype.begin=function(){},t.prototype.end=function(){},t}();t.Renderer=e}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,s){if(void 0===s&&(s=!1),e%1!==0||i%1!==0)throw t.ExceptionFactory.createAssertionError("Surface#constructor: width and height must be integers");this.width=e,this.height=i,r&&(this._drawable=r),this.isDynamic=s,this.isDynamic?(this.animatingStarted=new t.Trigger,this.animatingStopped=new t.Trigger):(this.animatingStarted=void 0,this.animatingStopped=void 0)}return e.prototype.destroy=function(){this.animatingStarted&&this.animatingStarted.destroy(),this.animatingStopped&&this.animatingStopped.destroy(),this._destroyed=!0},e.prototype.destroyed=function(){return!!this._destroyed},e}();t.Surface=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r.text=i.text,r.font=i.font,r.textAlign="textAlign"in i?i.textAlign:t.TextAlign.Left,r.glyphs=new Array(i.text.length),r.fontSize=i.fontSize,r.maxWidth=i.maxWidth,r.widthAutoAdjust="widthAutoAdjust"in i?i.widthAutoAdjust:!0,r.textColor=i.textColor,r._textWidth=0,r._game=void 0,r._invalidateSelf(),r}return i(r,e),r.prototype.aligning=function(t,e){this.width=t,this.widthAutoAdjust=!1,this.textAlign=e},r.prototype.invalidate=function(){this._invalidateSelf(),e.prototype.invalidate.call(this)},r.prototype.renderCache=function(e){if(!(!this.fontSize||this.height<=0||this._textWidth<=0)){var i=this.scene.game.resourceFactory.createSurface(Math.ceil(this._textWidth),Math.ceil(this.height)),r=i.renderer();r.begin(),r.save();for(var s=0;s<this.glyphs.length;++s){var n=this.glyphs[s],o=this.fontSize/this.font.size,a=n.advanceWidth*o;n.surface&&(r.save(),r.transform([o,0,0,o,0,0]),r.drawImage(n.surface,n.x,n.y,n.width,n.height,n.offsetX,n.offsetY),r.restore()),r.translate(a,0)}r.restore(),r.end();var h,d=this.maxWidth>0&&this.maxWidth<this._textWidth?this.maxWidth/this._textWidth:1;switch(this.textAlign){case t.TextAlign.Center:h=this.width/2-this._textWidth/2*d;break;case t.TextAlign.Right:h=this.width-this._textWidth*d;break;default:h=0}e.save(),e.translate(h,0),1!==d&&e.transform([d,0,0,1,0,0]),e.drawImage(i,0,0,this._textWidth,this.height,0,0),i.destroy(),this.textColor&&(e.setCompositeOperation(t.CompositeOperation.SourceAtop),e.fillRect(0,0,this._textWidth,this.height,this.textColor)),e.restore()}},r.prototype.destroy=function(){e.prototype.destroy.call(this)},r.prototype._invalidateSelf=function(){if(this.glyphs.length=0,this._textWidth=0,!this.fontSize)return void(this.height=0);for(var e=0,i=this.font.size>0?this.fontSize/this.font.size:0,r=0;r<this.text.length;++r){var s=t.Util.charCodeAt(this.text,r);if(s){var n=this.font.glyphForCharacter(s);if(n){if(!(n.width<0||n.height<0||n.x<0||n.y<0)){this.glyphs.push(n),this._textWidth+=n.advanceWidth*i;var o=n.offsetY+n.height;o>e&&(e=o)}}else{var a=4294901760&s?String.fromCharCode((4294901760&s)>>>16,65535&s):String.fromCharCode(s);this.game().logger.warn("Label#_invalidateSelf(): failed to get a glyph for '"+a+"' (BitmapFont might not have the glyph or DynamicFont might create a glyph larger than its atlas).")}}}this.widthAutoAdjust&&(this.width=this._textWidth),this.height=e*i},r}(t.CacheableE);t.Label=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i,r,s,n,o,a,h,d){void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=r),void 0===d&&(d=!!h),this.code=t,this.x=e,this.y=i,this.width=r,this.height=s,this.offsetX=n,this.offsetY=o,this.advanceWidth=a,this.surface=h,this.isSurfaceValid=d,this._atlas=null}return t.prototype.renderingWidth=function(t){return this.width&&this.height?t/this.height*this.width:0},t}();t.Glyph=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;if("string"!=typeof i.cssColor)throw t.ExceptionFactory.createTypeMismatchError("ColorBox#constructor(cssColor)","string",i.cssColor);return r.cssColor=i.cssColor,r}return i(r,e),r.prototype.renderSelf=function(t){return t.fillRect(0,0,this.width,this.height,this.cssColor),!0},r}(t.E);t.FilledRect=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i){var r=e.call(this,i)||this;return r._oldWidth=i.width,r._oldHeight=i.height,r.backgroundImage=t.Util.asSurface(i.backgroundImage),r.backgroundEffector=i.backgroundEffector,r._shouldRenderChildren=!1,r._padding=i.padding,r._initialize(),r._paddingChanged=!1,r._bgSurface=void 0,r._bgRenderer=void 0,r}return i(r,e),Object.defineProperty(r.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding=t,this._paddingChanged=!0},enumerable:!0,configurable:!0}),r.prototype.modified=function(t){t&&(this.state&=-3),e.prototype.modified.call(this)},r.prototype.shouldFindChildrenByPoint=function(t){var e=this._normalizedPadding;return e.left<t.x&&this.width-e.right>t.x&&e.top<t.y&&this.height-e.bottom>t.y?!0:!1},r.prototype.renderCache=function(t,e){this.width<=0||this.height<=0||(this._renderBackground(),this._renderChildren(e),this._bgSurface?t.drawImage(this._bgSurface,0,0,this.width,this.height,0,0):this.backgroundImage&&t.drawImage(this.backgroundImage,0,0,this.width,this.height,0,0),this._childrenArea.width<=0||this._childrenArea.height<=0||(t.save(),(0!==this._childrenArea.x||0!==this._childrenArea.y)&&t.translate(this._childrenArea.x,this._childrenArea.y),t.drawImage(this._childrenSurface,0,0,this._childrenArea.width,this._childrenArea.height,0,0),t.restore()))},r.prototype.destroy=function(t){t&&this.backgroundImage&&!this.backgroundImage.destroyed()&&this.backgroundImage.destroy(),this._bgSurface&&!this._bgSurface.destroyed()&&this._bgSurface.destroy(),this._childrenSurface&&!this._childrenSurface.destroyed()&&this._childrenSurface.destroy(),this.backgroundImage=void 0,this._bgSurface=void 0,this._childrenSurface=void 0,e.prototype.destroy.call(this)},r.prototype._renderBackground=function(){this._bgSurface&&!this._bgSurface.destroyed()&&this._bgSurface.destroy(),this.backgroundImage&&this.backgroundEffector?this._bgSurface=this.backgroundEffector.render(this.backgroundImage,this.width,this.height):this._bgSurface=void 0},r.prototype._renderChildren=function(t){var e=this._oldWidth!==this.width||this._oldHeight!==this.height||this._paddingChanged;if(e&&(this._initialize(),this._paddingChanged=!1,this._oldWidth=this.width,this._oldHeight=this.height),this._childrenRenderer.begin(),e||this._childrenRenderer.clear(),this.children)for(var i=this.children,r=0;r<i.length;++r)i[r].render(this._childrenRenderer,t);this._childrenRenderer.end()},r.prototype._initialize=function(){var t,e=void 0===this._padding?0:this._padding;t="number"==typeof e?{top:e,bottom:e,left:e,right:e}:this._padding,this._childrenArea={x:t.left,y:t.top,width:this.width-t.left-t.right,height:this.height-t.top-t.bottom};var i=this.scene.game.resourceFactory;this._childrenSurface&&!this._childrenSurface.destroyed()&&this._childrenSurface.destroy(),this._childrenSurface=i.createSurface(Math.ceil(this._childrenArea.width),Math.ceil(this._childrenArea.height)),this._childrenRenderer=this._childrenSurface.renderer(),this._normalizedPadding=t},r.prototype._calculateBoundingRect=function(t,e){var i=this.getMatrix();if(t&&(i=t.multiplyNew(i)),this.visible()&&(!e||this._targetCameras&&-1!==this._targetCameras.indexOf(e))){for(var r={left:0,right:this.width,top:0,bottom:this.height},s=[{x:r.left,y:r.top},{x:r.left,y:r.bottom},{x:r.right,y:r.top},{x:r.right,y:r.bottom}],n=i.multiplyPoint(s[0]),o={left:n.x,right:n.x,top:n.y,bottom:n.y},a=1;a<s.length;++a)n=i.multiplyPoint(s[a]),o.left>n.x&&(o.left=n.x),o.right<n.x&&(o.right=n.x),o.top>n.y&&(o.top=n.y),o.bottom<n.y&&(o.bottom=n.y);return o}},r}(t.CacheableE);t.Pane=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i){this._code=t,this._handler=i,this._handlerOwner=e}return t.prototype.onOperation=function(t){var e;t instanceof Array?e={_code:this._code,data:t}:(e=t,e._code=this._code),this._handler.call(this._handlerOwner,e)},t}(),i=function(){function i(e,i,r){this.operated=new t.Trigger,this.plugins={},this._game=e,this._viewInfo=i,this._infos=r,this._initialized=!1}return i.prototype.initialize=function(){this._initialized||(this._initialized=!0,this._loadOperationPlugins()),this._doAutoStart()},i.prototype.destroy=function(){this.stopAll(),this.operated.destroy(),this.operated=void 0,this.plugins=void 0,this._game=void 0,this._viewInfo=void 0,this._infos=void 0},i.prototype.stopAll=function(){if(this._initialized)for(var t=0;t<this._infos.length;++t){var e=this._infos[t];e._plugin&&e._plugin.stop()}},i.prototype._doAutoStart=function(){for(var t=0;t<this._infos.length;++t){var e=this._infos[t];!e.manualStart&&e._plugin&&e._plugin.start()}},i.prototype._loadOperationPlugins=function(){for(var i=0;i<this._infos.length;++i){var r=this._infos[i];if(r.script){var s=t._require(this._game,r.script);if(s.isSupported()){var n=new s(this._game,this._viewInfo,r.option),o=r.code;if(this.plugins[o])throw new Error("Plugin#code conflicted for code: "+o);this.plugins[o]=n,r._plugin=n;var a=new e(o,this.operated,this.operated.fire);n.operationTrigger.handle(a,a.onOperation)}}}},i}();t.OperationPluginManager=i}(t||(t={}));var t;!function(t){}(t||(t={}));var t;!function(t){function e(t,e,i){for(;t;){if(t.width>=e&&t.height>=i)return t;t=t.next}return null}function i(t){var e=Math.ceil(Math.min(t.initialAtlasWidth,t.maxAtlasWidth)),i=Math.ceil(Math.min(t.initialAtlasHeight,t.maxAtlasHeight));return{width:e,height:i}}var r;!function(t){t[t.Normal=0]="Normal",t[t.Bold=1]="Bold"}(r=t.FontWeight||(t.FontWeight={}));var s=function(){function t(t,e,i,r){this.x=t,this.y=e,this.width=i,this.height=r,this.prev=null,this.next=null}return t}();t.SurfaceAtlasSlot=s;var n=function(){function t(t){this._surface=t,this._emptySurfaceAtlasSlotHead=new s(0,0,this._surface.width,this._surface.height),this._accessScore=0,this._usedRectangleAreaSize={width:0,height:0}}return t.prototype._acquireSurfaceAtlasSlot=function(t,i){t+=1,i+=1;var r=e(this._emptySurfaceAtlasSlotHead,t,i);if(!r)return null;var n,o,a=r.width-t,h=r.height-i;h>=a?(n=new s(r.x+t,r.y,a,i),o=new s(r.x,r.y+i,r.width,h)):(n=new s(r.x,r.y+i,t,h),o=new s(r.x+t,r.y,a,r.height)),n.prev=r.prev,n.next=o,null===n.prev?this._emptySurfaceAtlasSlotHead=n:n.prev.next=n,o.prev=n,o.next=r.next,o.next&&(o.next.prev=o);var d=new s(r.x,r.y,t,i);return this._updateUsedRectangleAreaSize(d),d},t.prototype._updateUsedRectangleAreaSize=function(t){var e=t.x+t.width,i=t.y+t.height;e>this._usedRectangleAreaSize.width&&(this._usedRectangleAreaSize.width=e),i>this._usedRectangleAreaSize.height&&(this._usedRectangleAreaSize.height=i)},t.prototype.addSurface=function(t,e){var i=this._acquireSurfaceAtlasSlot(e.width,e.height);if(!i)return null;var r=this._surface.renderer();return r.begin(),r.drawImage(t,e.x,e.y,e.width,e.height,i.x,i.y),r.end(),i},t.prototype.destroy=function(){this._surface.destroy()},t.prototype.destroyed=function(){return this._surface.destroyed()},t.prototype.duplicateSurface=function(t){var e=this._surface,i=t.createSurface(this._usedRectangleAreaSize.width,this._usedRectangleAreaSize.height),r=i.renderer();return r.begin(),r.drawImage(e,0,0,this._usedRectangleAreaSize.width,this._usedRectangleAreaSize.height,0,0),r.end(),i},t}();t.SurfaceAtlas=n;var o=function(){function e(e){if(this.fontFamily=e.fontFamily,this.size=e.size,this.hint="hint"in e?e.hint:{},this.fontColor="fontColor"in e?e.fontColor:"black",this.fontWeight="fontWeight"in e?e.fontWeight:r.Normal,this.strokeWidth="strokeWidth"in e?e.strokeWidth:0,this.strokeColor="strokeColor"in e?e.strokeColor:"black",this.strokeOnly="strokeOnly"in e?e.strokeOnly:!1,this._resourceFactory=e.game.resourceFactory,this._glyphFactory=this._resourceFactory.createGlyphFactory(this.fontFamily,this.size,this.hint.baselineHeight,this.fontColor,this.strokeWidth,this.strokeColor,this.strokeOnly,this.fontWeight),this._glyphs={},this._atlases=[],this._currentAtlasIndex=0,this._destroyed=!1,this.hint.initialAtlasWidth=this.hint.initialAtlasWidth?this.hint.initialAtlasWidth:2048,this.hint.initialAtlasHeight=this.hint.initialAtlasHeight?this.hint.initialAtlasHeight:2048,this.hint.maxAtlasWidth=this.hint.maxAtlasWidth?this.hint.maxAtlasWidth:2048,this.hint.maxAtlasHeight=this.hint.maxAtlasHeight?this.hint.maxAtlasHeight:2048,this.hint.maxAtlasNum=this.hint.maxAtlasNum?this.hint.maxAtlasNum:1,this._atlasSize=i(this.hint),this._atlases.push(this._resourceFactory.createSurfaceAtlas(this._atlasSize.width,this._atlasSize.height)),this.hint.presetChars)for(var s=0,n=this.hint.presetChars.length;n>s;s++){var o=t.Util.charCodeAt(this.hint.presetChars,s);o&&this.glyphForCharacter(o)}}return e.prototype.glyphForCharacter=function(t){var e=this._glyphs[t];if(!e||!e.isSurfaceValid){if(e=this._glyphFactory.create(t),e.surface){if(e.width>this._atlasSize.width||e.height>this._atlasSize.height)return null;var i=this._addToAtlas(e);if(!i&&(this._reallocateAtlas(),i=this._addToAtlas(e),!i))return null;e._atlas=i}this._glyphs[t]=e}for(var r=0;r<this._atlases.length;r++){var s=this._atlases[r];s===e._atlas&&(s._accessScore+=1),s._accessScore/=2}return e},e.prototype.asBitmapFont=function(e){var i=this;if(1!==this._atlases.length)return null;var r;e&&(r=t.Util.charCodeAt(e,0),this.glyphForCharacter(r));var s={};Object.keys(this._glyphs).forEach(function(t){var e=Number(t),r=i._glyphs[e],n={x:r.x,y:r.y,width:r.width,height:r.height,offsetX:r.offsetX,offsetY:r.offsetY,advanceWidth:r.advanceWidth};s[e]=n});var n=s[r],o=this._atlases[0].duplicateSurface(this._resourceFactory),a=new t.BitmapFont({src:o,map:s,defaultGlyphWidth:0,defaultGlyphHeight:this.size,missingGlyph:n});return a},e.prototype._removeLowUseAtlas=function(){for(var t=Number.MAX_VALUE,e=-1,i=0;i<this._atlases.length;i++)this._atlases[i]._accessScore<=t&&(t=this._atlases[i]._accessScore,e=i);var r=this._atlases.splice(e,1)[0];return r},e.prototype._reallocateAtlas=function(){if(this._atlases.length>=this.hint.maxAtlasNum){var t=this._removeLowUseAtlas(),e=this._glyphs;for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];r.surface===t._surface&&(r.surface=null,r.isSurfaceValid=!1,r._atlas=null)}t.destroy()}this._atlases.push(this._resourceFactory.createSurfaceAtlas(this._atlasSize.width,this._atlasSize.height)),this._currentAtlasIndex=this._atlases.length-1},e.prototype._addToAtlas=function(t){for(var e=null,i=null,r={x:t.x,y:t.y,width:t.width,height:t.height},s=0;s<this._atlases.length;s++){var n=(this._currentAtlasIndex+s)%this._atlases.length;if(e=this._atlases[n],i=e.addSurface(t.surface,r)){this._currentAtlasIndex=n;break}}return i?(t.surface.destroy(),t.surface=e._surface,t.x=i.x,t.y=i.y,e):null},e.prototype.destroy=function(){for(var t=0;t<this._atlases.length;t++)this._atlases[t].destroy();this._glyphs=null,this._glyphFactory=null,this._destroyed=!0},e.prototype.destroyed=function(){return this._destroyed},e}();t.DynamicFont=o}(t||(t={}));var t;!function(t){var e=function(){function t(t){this._game=t,this._muted=!1,this._playbackRate=1}return t.prototype._setMuted=function(t){if(this._muted!==t){this._muted=t;var e=this._game.audio;for(var i in e)e.hasOwnProperty(i)&&e[i]._setMuted(t)}},t.prototype._setPlaybackRate=function(t){if(this._playbackRate!==t){this._playbackRate=t;var e=this._game.audio;for(var i in e)e.hasOwnProperty(i)&&e[i]._setPlaybackRate(t)}},t}();t.AudioSystemManager=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.SourceOver=0]="SourceOver",t[t.SourceAtop=1]="SourceAtop",t[t.Lighter=2]="Lighter",t[t.Copy=3]="Copy",t[t.ExperimentalSourceIn=4]="ExperimentalSourceIn",t[t.ExperimentalSourceOut=5]="ExperimentalSourceOut",t[t.ExperimentalDestinationAtop=6]="ExperimentalDestinationAtop",t[t.ExperimentalDestinationIn=7]="ExperimentalDestinationIn",t[t.DestinationOut=8]="DestinationOut",t[t.DestinationOver=9]="DestinationOver",t[t.Xor=10]="Xor"}(e=t.CompositeOperation||(t.CompositeOperation={}))}(t||(t={}));var t;!function(t){var e=function(){function e(e,i,r,s,n,o,a,h){void 0===r&&(r=i),void 0===s&&(s="black"),void 0===n&&(n=0),void 0===o&&(o="black"),void 0===a&&(a=!1),void 0===h&&(h=t.FontWeight.Normal),this.fontFamily=e,this.fontSize=i,this.fontWeight=h,this.baselineHeight=r,this.fontColor=s,this.strokeWidth=n,this.strokeColor=o,this.strokeOnly=a}return e}();t.GlyphFactory=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.NonLocal=0]="NonLocal",t[t.FullLocal=1]="FullLocal",t[t.InterpolateLocal=2]="InterpolateLocal"}(e=t.LocalTickMode||(t.LocalTickMode={}))}(t||(t={}));var t;!function(t){var e=function(){function t(t,e){void 0===e&&(e=4),this.game=t,"number"==typeof e?this.borderWidth={top:e,bottom:e,left:e,right:e}:this.borderWidth=e}return t.prototype.render=function(t,e,i){var r=this.game.resourceFactory.createSurface(Math.ceil(e),Math.ceil(i)),s=r.renderer();s.begin();var n=this.borderWidth.left,o=t.width-this.borderWidth.right,a=this.borderWidth.top,h=t.height-this.borderWidth.bottom,d=this.borderWidth.left,c=e-this.borderWidth.right,l=this.borderWidth.top,u=i-this.borderWidth.bottom,p=[{x:0,y:0,width:this.borderWidth.left,height:this.borderWidth.top},{x:o,y:0,width:this.borderWidth.right,height:this.borderWidth.top},{x:0,y:h,width:this.borderWidth.left,height:this.borderWidth.bottom},{x:o,y:h,width:this.borderWidth.right,height:this.borderWidth.bottom}],f=[{x:0,y:0},{x:c,y:0},{x:0,y:u},{x:c,y:u}],g=0;for(g=0;g<p.length;++g){var _=p[g];s.save(),s.translate(f[g].x,f[g].y),s.drawImage(t,_.x,_.y,_.width,_.height,0,0),s.restore()}var y=[{x:n,y:0,width:o-n,height:this.borderWidth.top},{x:0,y:a,width:this.borderWidth.left,height:h-a},{x:o,y:a,width:this.borderWidth.right,height:h-a},{x:n,y:h,width:o-n,height:this.borderWidth.bottom}],v=[{x:d,y:0,width:c-d,height:this.borderWidth.top},{x:0,y:l,width:this.borderWidth.left,height:u-l},{x:c,y:l,width:this.borderWidth.right,height:u-l},{x:d,y:u,width:c-d,height:this.borderWidth.bottom}];for(g=0;g<y.length;++g){var m=y[g],w=v[g];s.save(),s.translate(w.x,w.y),s.transform([w.width/m.width,0,0,w.height/m.height,0,0]),s.drawImage(t,m.x,m.y,m.width,m.height,0,0),s.restore()}var S=o-n,x=h-a,A=c-d,b=u-l;return s.save(),s.translate(d,l),s.transform([A/S,0,0,b/x,0,0]),s.drawImage(t,n,a,S,x,0,0),s.restore(),s.end(),r},t}();t.NinePatchSurfaceEffector=e}(t||(t={}));var t;!function(t){var e;!function(e){function i(i,r){function s(t){var e=t.split("/");return""===e[e.length-1]&&e.pop(),e}if(""===r)return i;for(var n=e.splitPath(i),o=s(n.path).concat(s(r)),a=[],h=0;h<o.length;++h){var d=o[h];switch(d){case"..":var c=a.pop();if(void 0===c||""===c||"."===c)throw t.ExceptionFactory.createAssertionError("PathUtil.resolvePath: invalid arguments");break;case".":0===a.length&&a.push(".");break;case"":a=[""];break;default:a.push(d)}}return n.host+a.join("/")}function r(t){var e=t.lastIndexOf("/");return-1===e?t:t.substr(0,e)}function s(t){for(var e=t.length-1;e>=0;--e){var i=t.charAt(e);if("."===i)return t.substr(e);if("/"===i)return""}return""}function n(t){var i=e.splitPath(t),r=i.host;t=i.path,"/"===t[t.length-1]&&(t=t.slice(0,t.length-1));for(var s=t.split("/"),n=s.indexOf("node_modules"),o=n>0?n-1:0,a=[],h=s.length-1;h>=o;--h)if("node_modules"!==s[h]){var d=s.slice(0,h+1);d.push("node_modules");var c=d.join("/");a.push(r+c)}return a}function o(t,e){var i=t.indexOf("?");return-1===i?t+"."+e:t.substring(0,i)+"."+e+t.substring(i,t.length)}function a(t){var e="",i=t.indexOf("//");if(i>=0){var r=t.indexOf("/",i+2);r>=0?(e=t.slice(0,r),t=t.slice(r)):(e=t,t="/")}else e="";return{host:e,path:t}}e.resolvePath=i,e.resolveDirname=r,e.resolveExtname=s,e.makeNodeModulePaths=n,e.addExtname=o,e.splitPath=a}(e=t.PathUtil||(t.PathUtil={}))}(t||(t={}));var t;!function(t){var e;!function(t){t[t.SansSerif=0]="SansSerif",t[t.Serif=1]="Serif",t[t.Monospace=2]="Monospace"}(e=t.FontFamily||(t.FontFamily={}))}(t||(t={}));var t;!function(t){var e=function(){function e(e){this.surface=t.Util.asSurface(e.src),this.map=e.map,this.defaultGlyphWidth=e.defaultGlyphWidth,this.defaultGlyphHeight=e.defaultGlyphHeight,this.missingGlyph=e.missingGlyph,this.size=e.defaultGlyphHeight}return e.prototype.glyphForCharacter=function(e){var i=this.map[e]||this.missingGlyph;if(!i)return null;var r=void 0===i.width?this.defaultGlyphWidth:i.width,s=void 0===i.height?this.defaultGlyphHeight:i.height,n=i.offsetX||0,o=i.offsetY||0,a=void 0===i.advanceWidth?r:i.advanceWidth,h=0===r||0===s?void 0:this.surface;return new t.Glyph(e,i.x,i.y,r,s,n,o,a,h,!0)},e.prototype.destroy=function(){this.surface&&!this.surface.destroyed()&&this.surface.destroy(),this.map=void 0},e.prototype.destroyed=function(){return!this.map},e}();t.BitmapFont=e}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Top=0]="Top",t[t.Middle=1]="Middle",t[t.Alphabetic=2]="Alphabetic",t[t.Bottom=3]="Bottom"}(e=t.TextBaseline||(t.TextBaseline={}));var r=function(r){function s(i){var s=r.call(this,i)||this;return s.text=i.text,s.fontSize=i.fontSize,s.textAlign="textAlign"in i?i.textAlign:t.TextAlign.Left,s.textBaseline="textBaseline"in i?i.textBaseline:e.Alphabetic,s.maxWidth=i.maxWidth,s.textColor="textColor"in i?i.textColor:"black",s.fontFamily="fontFamily"in i?i.fontFamily:t.FontFamily.SansSerif,s.strokeWidth="strokeWidth"in i?i.strokeWidth:0,s.strokeColor="strokeColor"in i?i.strokeColor:"black",s.strokeOnly="strokeOnly"in i?i.strokeOnly:!1,s}return i(s,r),s.prototype.renderSelf=function(e,i){if(this.text){var r;switch(this.textAlign){case t.TextAlign.Right:r=this.width;break;case t.TextAlign.Center:r=this.width/2;break;default:r=0}e.drawSystemText(this.text,r,0,this.maxWidth,this.fontSize,this.textAlign,this.textBaseline,this.textColor,this.fontFamily,this.strokeWidth,this.strokeColor,this.strokeOnly)}return!0},s}(t.E);t.SystemLabel=r}(t||(t={}));var t;!function(t){var e;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(e=t.TextAlign||(t.TextAlign={}))}(t||(t={}));var t;!function(t){var e;!function(t){t[t.ByClock=0]="ByClock",t[t.Manual=1]="Manual"}(e=t.TickGenerationMode||(t.TickGenerationMode={}))}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.initState(t)}return t.deserialize=function(e){var i=new t(0);return i._state0U=e._state0U,i._state0L=e._state0L,i._state1U=e._state1U,i._state1L=e._state1L,i},t.prototype.initState=function(t){var e=1812433253;t=e*(t^t>>30)+1,this._state0U=t,t=e*(t^t>>30)+2,this._state0L=t,t=e*(t^t>>30)+3,this._state1U=t,t=e*(t^t>>30)+4,this._state1L=t},t.prototype.randomInt=function(){var t=this._state0U,e=this._state0L,i=this._state1U,r=this._state1L;this._state0U=i,this._state0L=r;var s=0,n=0,o=0,a=0,h=23,d=4294967295<<32-h;s=t<<h|(e&d)>>>32-h,n=e<<h,t^=s,e^=n,s=t^i,n=e^r;var c=17,l=4294967295>>>32-c;o=t>>>c,a=e>>>c|(t&l)<<32-c,s^=o,n^=a;var u=26,p=4294967295>>>32-u;o=i>>>u,a=r>>>u|(i&p)<<32-u,s^=o,n^=a,this._state1U=s,this._state1L=n;var f=(n>>>0)+(r>>>0);return o=s+i+(f/2>>>31)>>>0,a=f>>>0,[o,a]},t.prototype.random=function(){var t=this.randomInt();
return(4294967296*t[0]+t[1])/0x10000000000000000},t.prototype.nextInt=function(t,e){return Math.floor(t+this.random()*(e-t))},t.prototype.serialize=function(){return{_state0U:this._state0U,_state0L:this._state0L,_state1U:this._state1U,_state1L:this._state1L}},t}();t.Xorshift=e}(t||(t={}));var t;!function(t){var e=function(e){function r(i,r){var s=this;if(void 0===i)throw t.ExceptionFactory.createAssertionError("XorshiftRandomGenerator#constructor: seed is undefined");return s=e.call(this,i)||this,r?s._xorshift=t.Xorshift.deserialize(r):s._xorshift=new t.Xorshift(i),s}return i(r,e),r.deserialize=function(t){return new r(t._seed,t._xorshift)},r.prototype.get=function(t,e){return this._xorshift.nextInt(t,e+1)},r.prototype.serialize=function(){return{_seed:this.seed,_xorshift:this._xorshift.serialize()}},r}(t.RandomGenerator);t.XorshiftRandomGenerator=e}(t||(t={}));var t;!function(t){var e=function(){function t(t){this.fragmentShader=t.fragmentShader,this.uniforms=t.uniforms}return t}();t.ShaderProgram=e}(t||(t={})),e.exports=t}).call(this)},{}]},{},[]);	require=function(){function e(t,i,r){function n(s,a){if(!i[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[s]={exports:{}};t[s][0].call(h.exports,function(e){var i=t[s][1][e];return n(i||e)},h,h.exports,e,t,i,r)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}return e}()({1:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("@akashic/akashic-engine"),n=function(){function e(t){this.fps=t.fps,this.scaleFactor=t.scaleFactor||1,this.frameTrigger=new r.Trigger,this.rawFrameTrigger=new r.Trigger,this._platform=t.platform,this._maxFramePerOnce=t.maxFramePerOnce,this._deltaTimeBrokenThreshold=t.deltaTimeBrokenThreshold||e.DEFAULT_DELTA_TIME_BROKEN_THRESHOLD,t.frameHandler&&this.frameTrigger.add(t.frameHandler,t.frameHandlerOwner),this.running=!1,this._totalDeltaTime=0,this._onLooperCall_bound=this._onLooperCall.bind(this),this._looper=this._platform.createLooper(this._onLooperCall_bound),this._waitTime=0,this._waitTimeDoubled=0,this._waitTimeMax=0,this._skipFrameWaitTime=0,this._realMaxFramePerOnce=0}return e.prototype.start=function(){this.running||(this._totalDeltaTime=0,this._updateWaitTimes(this.fps,this.scaleFactor),this._looper.start(),this.running=!0)},e.prototype.stop=function(){this.running&&(this._looper.stop(),this.running=!1)},e.prototype.changeScaleFactor=function(e){this.running?(this.stop(),this.scaleFactor=e,this.start()):this.scaleFactor=e},e.prototype._onLooperCall=function(e){if(0>=e)return this._waitTime-this._totalDeltaTime;e>this._deltaTimeBrokenThreshold&&(e=this._waitTime);var t=this._totalDeltaTime;if(t+=e,t<=this._skipFrameWaitTime)return this._totalDeltaTime=t,this._waitTime-t;for(var i=t<this._waitTimeDoubled?1:t>this._waitTimeMax?this._realMaxFramePerOnce:t/this._waitTime|0,r=i,n={interrupt:!1};r>0&&this.running&&!n.interrupt;)--r,this.frameTrigger.fire(n);return t-=(i-r)*this._waitTime,this.rawFrameTrigger.fire(),this._totalDeltaTime=t,this._waitTime-t},e.prototype._updateWaitTimes=function(t,i){var r=t*i;this._waitTime=1e3/r,this._waitTimeDoubled=Math.max(2e3/r|0,1),this._waitTimeMax=Math.max(i*(1e3*this._maxFramePerOnce/r)|0,1),this._skipFrameWaitTime=this._waitTime*e.ANTICIPATE_RATE|0,this._realMaxFramePerOnce=this._maxFramePerOnce*i},e.ANTICIPATE_RATE=.8,e.DEFAULT_DELTA_TIME_BROKEN_THRESHOLD=150,e}();i.Clock=n},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],2:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=(e("@akashic/akashic-pdi"),e("@akashic/akashic-engine")),n=e("./PointEventResolver"),o=function(){function e(e){this._amflow=e.amflow,this._isLocalReceiver=!0,this._isReceiver=!1,this._isSender=!1,this._isDiscarder=!1,this._defaultEventPriority=0,this._buffer=null,this._joinLeaveBuffer=null,this._localBuffer=null,this._filters=null,this._unfilteredLocalEvents=[],this._unfilteredEvents=[],this._unfilteredJoinLeaves=[],this._pointEventResolver=new n.PointEventResolver({game:e.game}),this._onEvent_bound=this.onEvent.bind(this)}return e.isEventLocal=function(e){switch(e[0]){case 0:return e[5];case 1:return e[3];case 2:return e[4];case 32:return e[4];case 33:return e[7];case 34:return e[11];case 35:return e[11];case 64:return e[5];default:throw r.ExceptionFactory.createAssertionError("EventBuffer.isEventLocal")}},e.prototype.setMode=function(e){null!=e.isLocalReceiver&&(this._isLocalReceiver=e.isLocalReceiver),null!=e.isReceiver&&this._isReceiver!==e.isReceiver&&(this._isReceiver=e.isReceiver,e.isReceiver?this._amflow.onEvent(this._onEvent_bound):this._amflow.offEvent(this._onEvent_bound)),null!=e.isSender&&(this._isSender=e.isSender),null!=e.isDiscarder&&(this._isDiscarder=e.isDiscarder),null!=e.defaultEventPriority&&(this._defaultEventPriority=e.defaultEventPriority)},e.prototype.getMode=function(){return{isLocalReceiver:this._isLocalReceiver,isReceiver:this._isReceiver,isSender:this._isSender,isDiscarder:this._isDiscarder,defaultEventPriority:this._defaultEventPriority}},e.prototype.onEvent=function(t){return e.isEventLocal(t)?void(this._isLocalReceiver&&!this._isDiscarder&&this._unfilteredLocalEvents.push(t)):(this._isReceiver&&!this._isDiscarder&&(0===t[0]||1===t[0]?this._unfilteredJoinLeaves.push(t):this._unfilteredEvents.push(t)),void(this._isSender&&(null==t[1]&&(t[1]=this._defaultEventPriority),this._amflow.sendEvent(t))))},e.prototype.onPointEvent=function(e){var t;switch(e.type){case 0:t=this._pointEventResolver.pointDown(e);break;case 1:t=this._pointEventResolver.pointMove(e);break;case 2:t=this._pointEventResolver.pointUp(e)}t&&this.onEvent(t)},e.prototype.addEventDirect=function(t){if(e.isEventLocal(t)){if(!this._isLocalReceiver||this._isDiscarder)return;return void(this._localBuffer?this._localBuffer.push(t):this._localBuffer=[t])}this._isReceiver&&!this._isDiscarder&&(0===t[0]||1===t[0]?this._joinLeaveBuffer?this._joinLeaveBuffer.push(t):this._joinLeaveBuffer=[t]:this._buffer?this._buffer.push(t):this._buffer=[t]),this._isSender&&(null==t[1]&&(t[1]=this._defaultEventPriority),this._amflow.sendEvent(t))},e.prototype.readEvents=function(){var e=this._buffer;return this._buffer=null,e},e.prototype.readJoinLeaves=function(){var e=this._joinLeaveBuffer;return this._joinLeaveBuffer=null,e},e.prototype.readLocalEvents=function(){var e=this._localBuffer;return this._localBuffer=null,e},e.prototype.addFilter=function(e,t){this._filters||(this._filters=[]),this._filters.push({func:e,handleEmpty:!!t})},e.prototype.removeFilter=function(e){if(this._filters){if(!e)return void(this._filters=null);for(var t=this._filters.length-1;t>=0;--t)this._filters[t].func===e&&this._filters.splice(t,1)}},e.prototype.processEvents=function(){var t=this._unfilteredLocalEvents,i=this._unfilteredEvents,r=this._unfilteredJoinLeaves;if(!this._filters)return t.length>0&&(this._unfilteredLocalEvents=[],this._localBuffer=this._localBuffer?this._localBuffer.concat(t):t),i.length>0&&(this._unfilteredEvents=[],this._buffer=this._buffer?this._buffer.concat(i):i),void(r.length>0&&(this._unfilteredJoinLeaves=[],this._joinLeaveBuffer=this._joinLeaveBuffer?this._joinLeaveBuffer.concat(r):r));if(0===t.length&&0===i.length&&0===r.length)for(var n=0;n<this._filters.length;++n)if(this._filters[n].handleEmpty){var o=this._filters[n].func([]);if(o)for(var s=0;s<o.length;++s){var a=o[s];e.isEventLocal(a)?t.push(a):0===a[0]||1===a[0]?r.push(a):i.push(a)}}if(t.length>0){this._unfilteredLocalEvents=[];for(var n=0;n<this._filters.length&&(t=this._filters[n].func(t));++n);t&&t.length>0&&(this._localBuffer=this._localBuffer?this._localBuffer.concat(t):t)}if(i.length>0){this._unfilteredEvents=[];for(var n=0;n<this._filters.length&&(i=this._filters[n].func(i));++n);i&&i.length>0&&(this._buffer=this._buffer?this._buffer.concat(i):i)}if(r.length>0){this._unfilteredJoinLeaves=[];for(var n=0;n<this._filters.length&&r&&r.length>0&&(r=this._filters[n].func(r));++n);r&&r.length>0&&(this._joinLeaveBuffer=this._joinLeaveBuffer?this._joinLeaveBuffer.concat(r):r)}},e}();i.EventBuffer=o},{"./PointEventResolver":13,"@akashic/akashic-engine":"@akashic/akashic-engine","@akashic/akashic-pdi":22}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("@akashic/akashic-engine"),n=function(){function e(e){this._game=e.game,this._playerTable={}}return e.prototype.toGameEvent=function(e){var t,i,n,o,s,a,u,c,h=e[0],l=e[1],f=e[2],_=this._playerTable[f]||{id:f};switch(h){case 0:_={id:f,name:e[3]},this._playerTable[f]=_;var p=void 0;if(e[4]){var d=[],g=[];e[4].map(function(e){d.push(e.readKey),g.push(e.values)}),p=new r.StorageValueStore(d,g)}return new r.JoinEvent(_,p,l);case 1:return delete this._playerTable[_.id],new r.LeaveEvent(_,l);case 2:return c=e[3],new r.TimestampEvent(c,_,l);case 32:return u=e[4],new r.MessageEvent(e[3],_,u,l);case 33:return u=e[7],t=e[3],i=e[6],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:e[4],y:e[5]},new r.PointDownEvent(t,n,o,_,u,l);case 34:return u=e[11],t=e[3],i=e[10],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:e[4],y:e[5]},s={x:e[6],y:e[7]},a={x:e[8],y:e[9]},new r.PointMoveEvent(t,n,o,a,s,_,u,l);case 35:return u=e[11],t=e[3],i=e[10],n=null==i?void 0:i>=0?this._game.db[i]:this._game._localDb[i],o={x:e[4],y:e[5]},s={x:e[6],y:e[7]},a={x:e[8],y:e[9]},new r.PointUpEvent(t,n,o,a,s,_,u,l);case 64:u=e[5];var v=e[3],m=e[4],T=this._game._decodeOperationPluginOperation(v,m);return new r.OperationEvent(v,T,_,u,l);default:throw r.ExceptionFactory.createAssertionError("EventConverter#toGameEvent")}},e.prototype.toPlaylogEvent=function(e,t){var i,n;switch(e.type){case r.EventType.Join:case r.EventType.Leave:throw r.ExceptionFactory.createAssertionError("EventConverter#toPlaylogEvent: Invalid type: "+r.EventType[e.type]);case r.EventType.Timestamp:var o=e;return n=t?o.player.id:this._game.player.id,[2,o.priority,n,o.timestamp];case r.EventType.PointDown:var s=e;return i=s.target?s.target.id:null,n=t?s.player.id:this._game.player.id,[33,s.priority,n,s.pointerId,s.point.x,s.point.y,i,!!s.local];case r.EventType.PointMove:var a=e;return i=a.target?a.target.id:null,n=t?a.player.id:this._game.player.id,[34,a.priority,n,a.pointerId,a.point.x,a.point.y,a.startDelta.x,a.startDelta.y,a.prevDelta.x,a.prevDelta.y,i,!!a.local];case r.EventType.PointUp:var u=e;return i=u.target?u.target.id:null,n=t?u.player.id:this._game.player.id,[35,u.priority,n,u.pointerId,u.point.x,u.point.y,u.startDelta.x,u.startDelta.y,u.prevDelta.x,u.prevDelta.y,i,!!u.local];case r.EventType.Message:var c=e;return n=t?c.player.id:this._game.player.id,[32,c.priority,n,c.data,!!c.local];case r.EventType.Operation:var h=e;return n=t?h.player.id:this._game.player.id,[64,h.priority,n,h.code,h.data,!!h.local];default:throw r.ExceptionFactory.createAssertionError("Unknown type: "+e.type)}},e.prototype.makePlaylogOperationEvent=function(e){var t=this._game.player.id,i=null!=e.priority?e.priority:0;return[64,i,t,e._code,e.data,!!e.local]},e}();i.EventConverter=n},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r;!function(e){e[e.Active=0]="Active",e[e.Passive=1]="Passive"}(r||(r={})),i["default"]=r},{}],6:[function(e,t,i){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,"__esModule",{value:!0});var n=e("@akashic/akashic-engine"),o=function(e){function t(t){var i=e.call(this,t.configuration,t.resourceFactory,t.assetBase,t.player.id,t.operationPluginViewInfo)||this;return i.agePassedTrigger=new n.Trigger,i.skippingChangedTrigger=new n.Trigger,i.abortTrigger=new n.Trigger,i.player=t.player,i.raiseEventTrigger=new n.Trigger,i.raiseTickTrigger=new n.Trigger,i.snapshotTrigger=new n.Trigger,i.isSnapshotSaver=!!t.isSnapshotSaver,i._getCurrentTimeFunc=null,i._eventFilterFuncs=null,i._notifyPassedAgeTable={},i._gameArgs=t.gameArgs,i._globalGameArgs=t.globalGameArgs,i}return r(t,e),t.prototype.requestNotifyAgePassed=function(e){this._notifyPassedAgeTable[e]=!0},t.prototype.cancelNotifyAgePassed=function(e){delete this._notifyPassedAgeTable[e]},t.prototype.fireAgePassedIfNeeded=function(){var e=this.age-1;return this._notifyPassedAgeTable[e]?(delete this._notifyPassedAgeTable[e],this.agePassedTrigger.fire(e),!0):!1},t.prototype.setCurrentTimeFunc=function(e){this._getCurrentTimeFunc=e},t.prototype.setEventFilterFuncs=function(e){this._eventFilterFuncs=e},t.prototype.setStorageFunc=function(e){this.storage._registerLoad(e.storageGetFunc),this.storage._registerWrite(e.storagePutFunc),this.storage.requestValuesForJoinPlayer=e.requestValuesForJoinFunc},t.prototype.getCurrentTime=function(){return this._getCurrentTimeFunc()},t.prototype.raiseEvent=function(e){this.raiseEventTrigger.fire(e)},t.prototype.raiseTick=function(e){if(!this.scene()||this.scene().tickGenerationMode!==n.TickGenerationMode.Manual)throw n.ExceptionFactory.createAssertionError("Game#raiseTick(): tickGenerationMode for the current scene is not Manual.");this.raiseTickTrigger.fire(e)},t.prototype.addEventFilter=function(e,t){this._eventFilterFuncs.addFilter(e,t)},t.prototype.removeEventFilter=function(e){this._eventFilterFuncs.removeFilter(e)},t.prototype.shouldSaveSnapshot=function(){return this.isSnapshotSaver},t.prototype.saveSnapshot=function(e,t){void 0===t&&(t=this._getCurrentTimeFunc()),this.shouldSaveSnapshot()&&this.snapshotTrigger.fire({frame:this.age,timestamp:t,data:{randGenSer:this.random[0].serialize(),gameSnapshot:e}})},t.prototype._restartWithSnapshot=function(e){var t=e.data;if(this._eventFilterFuncs.removeFilter(),null!=t.seed){var i=new n.XorshiftRandomGenerator(t.seed);this._reset({age:e.frame,randGen:i}),this._loadAndStart({args:this._gameArgs,globalArgs:this._globalGameArgs})}else{var i=new n.XorshiftRandomGenerator(0,t.randGenSer);this._reset({age:e.frame,randGen:i}),this._loadAndStart({snapshot:t.gameSnapshot})}},t.prototype._leaveGame=function(){},t.prototype._terminateGame=function(){this.abortTrigger.fire()},t}(n.Game);i.Game=o},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("es6-promise"),n=e("@akashic/akashic-engine"),o=e("./ExecutionMode"),s=e("./Game"),a=e("./EventBuffer"),u=e("./GameLoop"),c=e("./PdiUtil"),h=function(){function e(e){this.errorTrigger=new n.Trigger,e.errorHandler&&this.errorTrigger.add(e.errorHandler,e.errorHandlerOwner),this.configurationLoadedTrigger=new n.Trigger,this.gameCreatedTrigger=new n.Trigger,this._platform=e.platform,this._loadConfigurationFunc=c.PdiUtil.makeLoadConfigurationFunc(e.platform),this._player=e.player,this._rendererRequirement=null,this._playId=null,this._game=null,this._gameLoop=null,this._eventBuffer=null,this._openedAmflow=!1,this._playToken=null,this._permission=null,this._hidden=!1}return e.prototype.initialize=function(e,t){this.doInitialize(e).then(function(){t()},t)},e.prototype.changeState=function(e,t){var i=this,r=this._gameLoop&&this._gameLoop.running;r&&this._gameLoop.stop(),this.initialize(e,function(e){return e?void t(e):(r&&i._gameLoop.start(),void t())})},e.prototype.startGame=function(){return this._gameLoop?void this._gameLoop.start():void this.errorTrigger.fire(new Error("Not initialized"))},e.prototype.stopGame=function(){this._gameLoop&&this._gameLoop.stop()},e.prototype.setNextAge=function(e){this._gameLoop.setNextAge(e)},e.prototype.getPermission=function(){return this._permission},e.prototype.getDriverConfiguration=function(){return{playId:this._playId,playToken:this._playToken,executionMode:this._gameLoop?this._gameLoop.getExecutionMode():void 0,eventBufferMode:this._eventBuffer?this._eventBuffer.getMode():void 0}},e.prototype.getLoopConfiguration=function(){return this._gameLoop?this._gameLoop.getLoopConfiguration():null},e.prototype.getHidden=function(){return this._hidden},e.prototype.resetPrimarySurface=function(e,t,i){i=i?i:this._rendererRequirement?this._rendererRequirement.rendererCandidates:null;var r=this._game,n=this._platform,o=n.getPrimarySurface();r.renderers=r.renderers.filter(function(e){return e!==o.renderer()}),n.setRendererRequirement({primarySurfaceWidth:e,primarySurfaceHeight:t,rendererCandidates:i}),this._rendererRequirement={primarySurfaceWidth:e,primarySurfaceHeight:t,rendererCandidates:i},r.renderers.push(n.getPrimarySurface().renderer()),r.width=e,r.height=t,r.resized.fire({width:e,height:t}),r.modified=!0},e.prototype.doInitialize=function(e){var t=this,i=new r.Promise(function(i,r){return t._gameLoop&&t._gameLoop.running?r(new Error("Game is running. Must be stopped.")):(t._gameLoop&&e.loopConfiguration&&t._gameLoop.setLoopConfiguration(e.loopConfiguration),null!=e.hidden&&(t._hidden=e.hidden,t._game&&t._game._setMuted(e.hidden)),void i())}).then(function(){return t._doSetDriverConfiguration(e.driverConfiguration)});return e.configurationUrl?i.then(function(){return t._loadConfiguration(e.configurationUrl,e.assetBase)}).then(function(i){return t._createGame(i,t._player,e)}):i},e.prototype._doSetDriverConfiguration=function(e){var t=this;if(null==e)return r.Promise.resolve();void 0===e.playId&&(e.playId=this._playId),void 0===e.playToken&&(e.playToken=this._playToken),void 0===e.eventBufferMode&&(e.executionMode===o["default"].Active?e.eventBufferMode={isReceiver:!0,isSender:!1}:e.executionMode===o["default"].Passive&&(e.eventBufferMode={isReceiver:!1,isSender:!0}));var i=r.Promise.resolve();return this._playId!==e.playId&&(i=i.then(function(){return t._doOpenAmflow(e.playId)})),this._playToken!==e.playToken&&(i=i.then(function(){return t._doAuthenticate(e.playToken)})),i.then(function(){return new r.Promise(function(i,r){null!=e.eventBufferMode&&(null==e.eventBufferMode.defaultEventPriority&&(e.eventBufferMode.defaultEventPriority=t._permission.maxEventPriority),t._eventBuffer&&t._eventBuffer.setMode(e.eventBufferMode)),null!=e.executionMode&&t._gameLoop&&t._gameLoop.setExecutionMode(e.executionMode),i()})})},e.prototype._doCloseAmflow=function(){var e=this;return new r.Promise(function(t,i){return e._openedAmflow?void e._platform.amflow.close(function(r){return e._openedAmflow=!1,r?i(r):void t()}):t()})},e.prototype._doOpenAmflow=function(e){var t=this;if(void 0===e)return r.Promise.resolve();var i=this._doCloseAmflow();return i.then(function(){return new r.Promise(function(i,r){return null===e?i():void t._platform.amflow.open(e,function(n){return n?r(n):(t._openedAmflow=!0,t._playId=e,t._game&&t._updateGamePlayId(t._game),void i())})})})},e.prototype._doAuthenticate=function(e){var t=this;return null==e?r.Promise.resolve():new r.Promise(function(i,r){t._platform.amflow.authenticate(e,function(n,o){return n?r(n):(t._playToken=e,t._permission=o,t._game&&(t._game.isSnapshotSaver=t._permission.writeTick),void i())})})},e.prototype._loadConfiguration=function(e,t){var i=this;return new r.Promise(function(r,n){i._loadConfigurationFunc(e,t,function(e,t){return e?n(e):(i.configurationLoadedTrigger.fire(t),void r(t))})})},e.prototype._putZerothStartPoint=function(e){var t=this;return new r.Promise(function(i,r){var n={frame:0,timestamp:e.startedAt,data:e};t._platform.amflow.putStartPoint(n,function(e){return e?r(e):void i()})})},e.prototype._getZerothStartPointData=function(){var e=this;return new r.Promise(function(t,i){e._platform.amflow.getStartPoint({frame:0},function(e,r){if(e)return i(e);var n=r.data;return"number"!=typeof n.seed?i(new Error("GameDriver#_getRandomSeed: No seed found.")):void t(n)})})},e.prototype._createGame=function(e,t,i){var c,h=this,l=i.driverConfiguration.executionMode===o["default"].Active&&this._permission.writeTick;return c=l?this._putZerothStartPoint({seed:Date.now(),globalArgs:i.globalGameArgs,fps:e.fps,startedAt:Date.now()}):r.Promise.resolve(),c=c.then(function(){return h._getZerothStartPointData()}),c.then(function(r){var c=h._platform,l=i.driverConfiguration||{eventBufferMode:{isReceiver:!0,isSender:!1},executionMode:o["default"].Active},f=r.seed,_=i.gameArgs,p=r.globalArgs,d=r.startedAt,g={primarySurfaceWidth:e.width,primarySurfaceHeight:e.height,rendererCandidates:e.renderers};c.setRendererRequirement(g);var v=new s.Game({configuration:e,player:t,resourceFactory:c.getResourceFactory(),assetBase:i.assetBase,isSnapshotSaver:h._permission.writeTick,operationPluginViewInfo:c.getOperationPluginViewInfo?c.getOperationPluginViewInfo():null,gameArgs:_,globalGameArgs:p}),m=new a.EventBuffer({game:v,amflow:c.amflow});m.setMode(l.eventBufferMode),c.setPlatformEventHandler(m),v.setEventFilterFuncs({addFilter:m.addFilter.bind(m),removeFilter:m.removeFilter.bind(m)}),v.renderers.push(c.getPrimarySurface().renderer());var T=new u.GameLoop({game:v,amflow:c.amflow,platform:c,executionMode:l.executionMode,eventBuffer:m,configuration:i.loopConfiguration,startedAt:d,profiler:i.profiler});v.setCurrentTimeFunc(T.getCurrentTime.bind(T)),v._reset({age:0,randGen:new n.XorshiftRandomGenerator(f)}),h._updateGamePlayId(v),h._hidden&&v._setMuted(!0),v.snapshotTrigger.add(function(e){h._platform.amflow.putStartPoint(e,function(e){e&&h.errorTrigger.fire(e)})}),h._game=v,h._eventBuffer=m,h._gameLoop=T,h._rendererRequirement=g,h.gameCreatedTrigger.fire(v),h._game._loadAndStart({args:i.gameArgs||void 0})})},e.prototype._updateGamePlayId=function(e){var t=this;e.playId=this._playId,e.external.send=function(e){t._platform.sendToExternal(t._playId,e)}},e}();i.GameDriver=h},{"./EventBuffer":2,"./ExecutionMode":5,"./Game":6,"./GameLoop":8,"./PdiUtil":12,"@akashic/akashic-engine":"@akashic/akashic-engine","es6-promise":23}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("@akashic/akashic-engine"),n=e("./LoopMode"),o=e("./LoopRenderMode"),s=e("./ExecutionMode"),a=e("./Clock"),u=e("./ProfilerClock"),c=e("./EventConverter"),h=e("./TickController"),l=function(){function e(t){this.errorTrigger=new r.Trigger,this.running=!1,this._currentTime=t.startedAt,this._frameTime=1e3/t.game.fps,t.errorHandler&&this.errorTrigger.add(t.errorHandler,t.errorHandlerOwner);var i=t.configuration;this._startedAt=t.startedAt,this._targetTimeFunc=i.targetTimeFunc||null,this._targetTimeOffset=i.targetTimeOffset||null,this._originDate=i.originDate||null,this._realTargetTimeOffset=null!=this._originDate?this._originDate:(this._targetTimeOffset||0)+this._startedAt,this._delayIgnoreThreshold=i.delayIgnoreThreshold||e.DEFAULT_DELAY_IGNORE_THRESHOLD,this._skipTicksAtOnce=i.skipTicksAtOnce||e.DEFAULT_SKIP_TICKS_AT_ONCE,this._skipThreshold=i.skipThreshold||e.DEFAULT_SKIP_THRESHOLD,this._jumpTryThreshold=i.jumpTryThreshold||e.DEFAULT_JUMP_TRY_THRESHOLD,this._jumpIgnoreThreshold=i.jumpIgnoreThreshold||e.DEFAULT_JUMP_IGNORE_THRESHOLD,this._pollingTickThreshold=i._pollingTickThreshold||e.DEFAULT_POLLING_TICK_THRESHOLD,this._playbackRate=i.playbackRate||1;var n=null!=i.loopRenderMode?i.loopRenderMode:o["default"].AfterRawFrame;this._loopRenderMode=null,this._loopMode=i.loopMode,this._amflow=t.amflow,this._game=t.game,this._eventBuffer=t.eventBuffer,this._executionMode=t.executionMode,this._sceneTickMode=null,this._sceneLocalMode=null,this._targetAge=null!=i.targetAge?i.targetAge:null,this._waitingStartPoint=!1,this._lastRequestedStartPointAge=-1,this._lastRequestedStartPointTime=-1,this._waitingNextTick=!1,this._skipping=!1,this._lastPollingTickTime=0,t.profiler?this._clock=new u.ProfilerClock({fps:t.game.fps,scaleFactor:this._playbackRate,platform:t.platform,maxFramePerOnce:5,profiler:t.profiler}):this._clock=new a.Clock({fps:t.game.fps,scaleFactor:this._playbackRate,platform:t.platform,maxFramePerOnce:5}),this._tickController=new h.TickController({amflow:t.amflow,clock:this._clock,game:t.game,eventBuffer:t.eventBuffer,executionMode:t.executionMode,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._eventConverter=new c.EventConverter({game:t.game}),this._tickBuffer=this._tickController.getBuffer(),this._onGotStartPoint_bound=this._onGotStartPoint.bind(this),this._setLoopRenderMode(n),this._game.setStorageFunc(this._tickController.storageFunc()),this._game.raiseEventTrigger.add(this._onGameRaiseEvent,this),this._game.raiseTickTrigger.add(this._onGameRaiseTick,this),this._game._started.add(this._onGameStarted,this),this._game._operationPluginOperated.add(this._onGameOperationPluginOperated,this),this._tickBuffer.gotNextTickTrigger.add(this._onGotNextFrameTick,this),this._tickBuffer.start(),this._updateGamePlaybackRate(),this._handleSceneChange()}return e.prototype.start=function(){this.running=!0,this._clock.start()},e.prototype.stop=function(){this._clock.stop(),this.running=!1},e.prototype.setNextAge=function(e){this._tickController.setNextAge(e)},e.prototype.getExecutionMode=function(){return this._executionMode},e.prototype.setExecutionMode=function(e){this._executionMode=e,this._tickController.setExecutionMode(e)},e.prototype.getLoopConfiguration=function(){return{loopMode:this._loopMode,delayIgnoreThreshold:this._delayIgnoreThreshold,skipTicksAtOnce:this._skipTicksAtOnce,skipThreshold:this._skipThreshold,jumpTryThreshold:this._jumpTryThreshold,jumpIgnoreThreshold:this._jumpIgnoreThreshold,playbackRate:this._playbackRate,loopRenderMode:this._loopRenderMode,targetTimeFunc:this._targetTimeFunc,targetTimeOffset:this._targetTimeOffset,originDate:this._originDate,targetAge:this._targetAge}},e.prototype.setLoopConfiguration=function(e){null!=e.loopMode&&(this._loopMode=e.loopMode),null!=e.delayIgnoreThreshold&&(this._delayIgnoreThreshold=e.delayIgnoreThreshold),null!=e.skipTicksAtOnce&&(this._skipTicksAtOnce=e.skipTicksAtOnce),null!=e.skipThreshold&&(this._skipThreshold=e.skipThreshold),null!=e.jumpTryThreshold&&(this._jumpTryThreshold=e.jumpTryThreshold),null!=e.jumpIgnoreThreshold&&(this._jumpIgnoreThreshold=e.jumpIgnoreThreshold),null!=e.playbackRate&&(this._playbackRate=e.playbackRate,this._clock.changeScaleFactor(this._playbackRate),this._updateGamePlaybackRate()),null!=e.loopRenderMode&&this._setLoopRenderMode(e.loopRenderMode),null!=e.targetTimeFunc&&(this._targetTimeFunc=e.targetTimeFunc),null!=e.targetTimeOffset&&(this._targetTimeOffset=e.targetTimeOffset),null!=e.originDate&&(this._originDate=e.originDate),this._realTargetTimeOffset=null!=this._originDate?this._originDate:(this._targetTimeOffset||0)+this._startedAt,null!=e.targetAge&&(this._targetAge!==e.targetAge&&(this._waitingNextTick=!1),this._targetAge=e.targetAge)},e.prototype.addTickList=function(e){this._tickBuffer.addTickList(e)},e.prototype.getCurrentTime=function(){return this._currentTime},e.prototype._startSkipping=function(){this._skipping=!0,this._updateGamePlaybackRate(),this._game.skippingChangedTrigger.fire(!0)},e.prototype._stopSkipping=function(){this._skipping=!1,this._updateGamePlaybackRate(),this._game.skippingChangedTrigger.fire(!1)},e.prototype._updateGamePlaybackRate=function(){var e=this._skipping?this._playbackRate*this._skipTicksAtOnce:this._playbackRate;this._game._setAudioPlaybackRate(e)},e.prototype._handleSceneChange=function(){var e=this._game.scene(),t=e?e.local:r.LocalTickMode.FullLocal,i=e?e.tickGenerationMode:r.TickGenerationMode.ByClock;if(this._sceneLocalMode!==t||this._sceneTickMode!==i)switch(this._sceneLocalMode=t,this._sceneTickMode=i,t){case r.LocalTickMode.FullLocal:this._tickController.stopTick(),this._clock.frameTrigger.remove(this._onFrame,this),this._clock.frameTrigger.add(this._onLocalFrame,this);break;case r.LocalTickMode.NonLocal:case r.LocalTickMode.InterpolateLocal:i===r.TickGenerationMode.ByClock?this._tickController.startTick():this._tickController.startTickOnce(),this._clock.frameTrigger.remove(this._onLocalFrame,this),this._clock.frameTrigger.add(this._onFrame,this);break;default:return void this.errorTrigger.fire(new Error("Unknown LocalTickMode: "+t))}},e.prototype._onLocalFrame=function(){this._doLocalTick()},e.prototype._doLocalTick=function(){var e=this._game,t=this._eventBuffer.readLocalEvents();if(this._currentTime+=this._frameTime,t)for(var i=0,r=t.length;r>i;++i)e.events.push(this._eventConverter.toGameEvent(t[i]));var n=e.tick(!1);n&&this._handleSceneChange()},e.prototype._onFrame=function(e){this._loopMode===n["default"].Replay&&this._targetTimeFunc?this._onFrameForTimedReplay(e):this._onFrameNormal(e)},e.prototype._onFrameForTimedReplay=function(e){var t=!1,i=this._game,n=this._targetTimeFunc()+this._realTargetTimeOffset,o=n-this._currentTime,s=o/this._frameTime;if((s>this._jumpTryThreshold||0>s)&&!this._waitingStartPoint&&this._lastRequestedStartPointTime<this._currentTime&&(this._waitingStartPoint=!0,this._lastRequestedStartPointTime=n,this._amflow.getStartPoint({timestamp:n},this._onGotStartPoint_bound)),this._skipping?1>=s&&this._stopSkipping():s>this._skipThreshold&&this._startSkipping(),!(0>=s))for(var a=0;a<this._skipTicksAtOnce;++a){if(!this._tickBuffer.hasNextTick()){this._waitingNextTick||(this._tickBuffer.requestTicks(),this._startWaitingNextTick());break}var u=this._currentTime+this._frameTime,c=this._tickBuffer.readNextTickTime();if(null==c&&(c=u),u>n){if(!(n>=c))break;u=n}else if(c>u){this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick();continue}this._currentTime=u;var h=this._tickBuffer.consume(),l=-1,f=this._eventBuffer.readLocalEvents();if(f)for(var _=0,p=f.length;p>_;++_)i.events.push(this._eventConverter.toGameEvent(f[_]));if("number"==typeof h)l=h,t=i.tick(!0);else{l=h[0];var d=h[1];if(d)for(var _=0,p=d.length;p>_;++_)i.events.push(this._eventConverter.toGameEvent(d[_]));t=i.tick(!0)}if(i._notifyPassedAgeTable[l]&&i.fireAgePassedIfNeeded()){e.interrupt=!0;break}if(t){this._handleSceneChange();break}}},e.prototype._onFrameNormal=function(e){var t=!1,i=this._game;if(this._waitingNextTick)return void(this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick());var o,s;if(this._loopMode===n["default"].Realtime?(o=this._tickBuffer.knownLatestAge+1,s=o-this._tickBuffer.currentAge):null===this._targetAge?(o=null,s=1):this._targetAge===this._tickBuffer.currentAge?(o=this._targetAge=null,s=1):(o=this._targetAge,s=o-this._tickBuffer.currentAge),(s>this._jumpTryThreshold||0>s)&&!this._waitingStartPoint&&this._lastRequestedStartPointAge<this._tickBuffer.currentAge&&(this._waitingStartPoint=!0,this._lastRequestedStartPointAge=o,this._amflow.getStartPoint({frame:o},this._onGotStartPoint_bound)),this._skipping){var a=this._loopMode===n["default"].Realtime?0:1;a>=s&&this._stopSkipping()}else s>this._skipThreshold&&this._startSkipping();if(0>=s)return 0===s&&(this._sceneTickMode!==r.TickGenerationMode.Manual&&this._loopMode!==n["default"].Replay||0!==this._tickBuffer.currentAge||this._tickBuffer.requestTicks(),this._startWaitingNextTick()),void(this._sceneLocalMode===r.LocalTickMode.InterpolateLocal&&this._doLocalTick());for(var u=!this._skipping&&s<=this._delayIgnoreThreshold?1:Math.min(s,this._skipTicksAtOnce),c=0;u>c;++c){var h=this._currentTime+this._frameTime,l=this._tickBuffer.readNextTickTime();if(null!=l&&l>h){if(this._loopMode!==n["default"].Realtime){if(this._sceneLocalMode===r.LocalTickMode.InterpolateLocal){this._doLocalTick();continue}break}h=Math.ceil(l/this._frameTime)*this._frameTime}this._currentTime=h;var f=this._tickBuffer.consume(),_=-1;if(null==f){this._tickBuffer.requestTicks(),this._startWaitingNextTick();break}var p=this._eventBuffer.readLocalEvents();if(p)for(var d=0,g=p.length;g>d;++d)i.events.push(this._eventConverter.toGameEvent(p[d]));if("number"==typeof f)_=f,t=i.tick(!0);else{_=f[0];var v=f[1];if(v)for(var m=0,g=v.length;g>m;++m)i.events.push(this._eventConverter.toGameEvent(v[m]));t=i.tick(!0)}if(i._notifyPassedAgeTable[_]&&i.fireAgePassedIfNeeded()){e.interrupt=!0;break}if(t){this._handleSceneChange();break}}},e.prototype._onGotNextFrameTick=function(){this._waitingNextTick&&this._loopMode!==n["default"].FrameByFrame&&this._stopWaitingNextTick()},e.prototype._onGotStartPoint=function(e,t){if(this._waitingStartPoint=!1,e)return void this.errorTrigger.fire(e);if(this._targetTimeFunc&&this._loopMode!==n["default"].Realtime){var i=this._targetTimeFunc()+this._realTargetTimeOffset;if(i<t.timestamp)return;var r=this._currentTime;if(i>=r&&t.timestamp<r+this._jumpIgnoreThreshold*this._frameTime)return}else{var o=this._loopMode===n["default"].Realtime?this._tickBuffer.knownLatestAge+1:this._targetAge;if(null===o||o<t.frame)return;var s=this._tickBuffer.currentAge;if(o>=s&&t.frame<s+this._jumpIgnoreThreshold)return}this._clock.frameTrigger.remove(this._eventBuffer.processEvents,this._eventBuffer),this._tickBuffer.setCurrentAge(t.frame),
this._currentTime=t.timestamp||t.data.timestamp||0,this._waitingNextTick=!1,this._lastRequestedStartPointAge=-1,this._lastRequestedStartPointTime=-1,this._game._restartWithSnapshot(t),this._handleSceneChange(),this.start()},e.prototype._onGameStarted=function(){this._clock.frameTrigger.add({index:0,owner:this._eventBuffer,func:this._eventBuffer.processEvents})},e.prototype._setLoopRenderMode=function(e){if(e!==this._loopRenderMode)switch(this._loopRenderMode=e,e){case o["default"].AfterRawFrame:this._clock.rawFrameTrigger.add(this._renderOnRawFrame,this);break;case o["default"].None:this._clock.rawFrameTrigger.remove(this._renderOnRawFrame,this);break;default:this.errorTrigger.fire(new Error("GameLoop#_setLoopRenderMode: unknown mode: "+e))}},e.prototype._renderOnRawFrame=function(){var e=this._game;e.modified&&e.scenes.length>0&&e.render()},e.prototype._onGameRaiseEvent=function(e){var t=this._eventConverter.toPlaylogEvent(e);this._eventBuffer.onEvent(t)},e.prototype._onGameRaiseTick=function(e){if(this._executionMode===s["default"].Active){if(e)for(var t=0;t<e.length;++t)this._eventBuffer.addEventDirect(this._eventConverter.toPlaylogEvent(e[t]));this._tickController.forceGenerateTick()}},e.prototype._onGameOperationPluginOperated=function(e){var t=this._eventConverter.makePlaylogOperationEvent(e);this._eventBuffer.onEvent(t)},e.prototype._onPollingTick=function(){var e=Date.now();e-this._lastPollingTickTime>this._pollingTickThreshold&&(this._lastPollingTickTime=e,this._tickBuffer.requestTicks())},e.prototype._startWaitingNextTick=function(){this._waitingNextTick=!0,this._clock.rawFrameTrigger.add(this._onPollingTick,this),this._lastPollingTickTime=Date.now()},e.prototype._stopWaitingNextTick=function(){this._waitingNextTick=!1,this._clock.rawFrameTrigger.remove(this._onPollingTick,this)},e.DEFAULT_DELAY_IGNORE_THRESHOLD=6,e.DEFAULT_SKIP_TICKS_AT_ONCE=100,e.DEFAULT_SKIP_THRESHOLD=3e4,e.DEFAULT_JUMP_TRY_THRESHOLD=9e4,e.DEFAULT_JUMP_IGNORE_THRESHOLD=15e3,e.DEFAULT_POLLING_TICK_THRESHOLD=1e4,e.DEFAULT_DELAY_IGNORE_THERSHOLD=e.DEFAULT_DELAY_IGNORE_THRESHOLD,e}();i.GameLoop=l},{"./Clock":1,"./EventConverter":3,"./ExecutionMode":5,"./LoopMode":10,"./LoopRenderMode":11,"./ProfilerClock":14,"./TickController":17,"@akashic/akashic-engine":"@akashic/akashic-engine"}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("@akashic/akashic-engine"),n=function(){function e(e,t,i,r){this.joinResolver=t,this.pev=e,0===e[0]&&r?(this.resolved=!1,i.getStorageData(r,this._onGotStorageData.bind(this))):this.resolved=!0}return e.prototype._onGotStorageData=function(e,t){return this.resolved=!0,e?void this.joinResolver.errorTrigger.fire(e):void(this.pev[4]=t)},e}();i.JoinLeaveRequest=n;var o=function(){function e(e){this.errorTrigger=new r.Trigger,e.errorHandler&&this.errorTrigger.add(e.errorHandler,e.errorHandlerOwner),this._amflow=e.amflow,this._keysForJoin=null,this._requested=[]}return e.prototype.request=function(e){this._requested.push(new n(e,this,this._amflow,this._keysForJoin))},e.prototype.readResolved=function(){var e=this._requested.length;if(0===e||!this._requested[0].resolved)return null;for(var t=[],i=0;e>i;++i){var r=this._requested[i];if(!r.resolved)break;t.push(r.pev)}return this._requested.splice(0,i),t},e.prototype.setRequestValuesForJoin=function(e){this._keysForJoin=e},e}();i.JoinResolver=o},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],10:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r;!function(e){e[e.Realtime=0]="Realtime",e[e.Replay=1]="Replay",e[e.FrameByFrame=2]="FrameByFrame"}(r||(r={})),i["default"]=r},{}],11:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r;!function(e){e[e.AfterRawFrame=0]="AfterRawFrame",e[e.None=1]="None"}(r||(r={})),i["default"]=r},{}],12:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,n=e("es6-promise"),o=e("@akashic/akashic-engine");!function(e){function t(t){function i(i,s,a){t.loadGameConfiguration(i,function(t,u){if(t)return void a(t,null);try{u=e._resolveConfigurationBasePath(u,null!=s?s:o.PathUtil.resolveDirname(i))}catch(c){return void a(c,null)}if(!u.definitions)return void a(null,u);var h=u.definitions.map(function(e){return"string"==typeof e?r(e):r(e.url,e.basePath)});n.Promise.all(h).then(function(t){return a(null,t.reduce(e._mergeGameConfiguration))})["catch"](function(e){return a(e,null)})})}function r(e,t){return new n.Promise(function(r,n){i(e,t,function(e,t){e?n(e):r(t)})})}return i}function i(e,t){function i(e,t){var i=o.PathUtil.resolvePath(e,t);if(0!==i.indexOf(e))throw o.ExceptionFactory.createAssertionError("PdiUtil._resolveConfigurationBasePath: invalid path: "+t);return i}var r=e.assets;if(r instanceof Object)for(var n in r)r.hasOwnProperty(n)&&"path"in r[n]&&(r[n].virtualPath=r[n].virtualPath||r[n].path,r[n].path=i(t,r[n].path));return e.globalScripts&&(e.globalScripts.forEach(function(e){if(r.hasOwnProperty(e))throw o.ExceptionFactory.createAssertionError("PdiUtil._resolveConfigurationBasePath: asset ID already exists: "+e);r[e]={type:/\.json$/i.test(e)?"text":"script",virtualPath:e,path:i(t,e),global:!0}}),delete e.globalScripts),e}function r(t,i){for(var r=Object.keys(i),n=0,o=r.length;o>n;++n){var s=r[n],a=i[s],u=typeof a,c=typeof t[s];if(u===c)switch(typeof a){case"string":case"number":case"boolean":t[s]=a;break;case"object":null==a?t[s]=a:Array.isArray(a)?t[s]=t[s].concat(a):e._mergeObject(t[s],a);break;default:throw new Error("PdiUtil._mergeObject(): unknown type")}else t[s]=a}return t}function s(t,i){return e._mergeObject(t,i)}e.makeLoadConfigurationFunc=t,e._resolveConfigurationBasePath=i,e._mergeObject=r,e._mergeGameConfiguration=s}(r=i.PdiUtil||(i.PdiUtil={}))},{"@akashic/akashic-engine":"@akashic/akashic-engine","es6-promise":23}],13:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e){this._game=e.game,this._pointEventMap={}}return e.prototype.pointDown=function(e){var t=this._game.player,i=this._game.findPointSource(e.offset),r=i.point?i.point:e.offset,n=i.target?i.target.id:null;this._pointEventMap[e.identifier]={targetId:n,local:i.local,point:r,start:{x:e.offset.x,y:e.offset.y},prev:{x:e.offset.x,y:e.offset.y}};var o=[33,2,t.id,e.identifier,r.x,r.y,n];return i.local&&o.push(i.local),o},e.prototype.pointMove=function(e){var t=this._game.player,i=this._pointEventMap[e.identifier];if(!i)return null;var r={x:0,y:0},n={x:0,y:0};this._pointMoveAndUp(i,e.offset,r,n);var o=[34,2,t.id,e.identifier,i.point.x,i.point.y,n.x,n.y,r.x,r.y,i.targetId];return i.local&&o.push(i.local),o},e.prototype.pointUp=function(e){var t=this._game.player,i=this._pointEventMap[e.identifier];if(!i)return null;var r={x:0,y:0},n={x:0,y:0};this._pointMoveAndUp(i,e.offset,r,n),delete this._pointEventMap[e.identifier];var o=[35,2,t.id,e.identifier,i.point.x,i.point.y,n.x,n.y,r.x,r.y,i.targetId];return i.local&&o.push(i.local),o},e.prototype._pointMoveAndUp=function(e,t,i,r){r.x=t.x-e.start.x,r.y=t.y-e.start.y,i.x=t.x-e.prev.x,i.y=t.y-e.prev.y,e.prev.x=t.x,e.prev.y=t.y},e}();i.PointEventResolver=r},{}],14:[function(e,t,i){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])};return function(t,i){function r(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}();Object.defineProperty(i,"__esModule",{value:!0});var n=e("./Clock"),o=function(e){function t(t){var i=e.call(this,t)||this;return i._profiler=t.profiler,i}return r(t,e),t.prototype._onLooperCall=function(e){if(0>=e)return this._waitTime-this._totalDeltaTime;e>this._deltaTimeBrokenThreshold&&(e=this._waitTime);var t=this._totalDeltaTime;if(t+=e,t<=this._skipFrameWaitTime)return this._totalDeltaTime=t,this._waitTime-t;this._profiler.timeEnd(1),this._profiler.time(1);var i=t<this._waitTimeDoubled?1:t>this._waitTimeMax?this._realMaxFramePerOnce:t/this._waitTime|0,r=i,n={interrupt:!1};for(this._profiler.setValue(0,r-1);r>0&&this.running&&!n.interrupt;)--r,this._profiler.time(2),this.frameTrigger.fire(n),this._profiler.timeEnd(2);return t-=(i-r)*this._waitTime,this._profiler.time(3),this.rawFrameTrigger.fire(),this._profiler.timeEnd(3),this._totalDeltaTime=t,this._profiler.flush(),this._waitTime-t},t}(n.Clock);i.ProfilerClock=o},{"./Clock":1}],15:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("@akashic/akashic-engine"),n=e("./ExecutionMode"),o=function(){function e(e){this.errorTrigger=new r.Trigger,e.errorHandler&&this.errorTrigger.add(e.errorHandler,e.errorHandlerOwner),this.getStorageFunc=this._getStorage.bind(this),this.putStorageFunc=this._putStorage.bind(this),this.requestValuesForJoinFunc=this._requestValuesForJoin.bind(this),this._game=e.game,this._amflow=e.amflow,this._tickGenerator=e.tickGenerator,this._tickBuffer=e.tickBuffer,this._executionMode=null,this.setExecutionMode(e.executionMode),this._unresolvedLoaders={},this._unresolvedStorages={},this._onStoragePut_bound=this._onStoragePut.bind(this)}return e.prototype.setExecutionMode=function(e){if(this._executionMode!==e){this._executionMode=e;var t=this._tickBuffer,i=this._tickGenerator;e===n["default"].Active?(t.gotStorageTrigger.remove(this._onGotStorageOnTick,this),i.gotStorageTrigger.add(this._onGotStorageOnTick,this)):(i.gotStorageTrigger.remove(this._onGotStorageOnTick,this),t.gotStorageTrigger.add(this._onGotStorageOnTick,this))}},e.prototype._onGotStorageOnTick=function(e){var t=e.age,i=e.storageData,r=this._unresolvedLoaders[t];if(!r)return void(this._unresolvedStorages[t]=i);delete this._unresolvedLoaders[t];var n=t,o=i.map(function(e){return e.values});r._onLoaded(o,n)},e.prototype._getStorage=function(e,t,i){var r;null!=i?(r=i,this._tickBuffer.requestTicks(r,1)):this._executionMode===n["default"].Active?r=this._tickGenerator.requestStorageTick(e):(r=this._game.age,this._tickBuffer.requestTicks(r,1));var o=this._unresolvedStorages[r];if(!o)return void(this._unresolvedLoaders[r]=t);delete this._unresolvedStorages[r];var s=r,a=o.map(function(e){return e.values});t._onLoaded(a,s)},e.prototype._putStorage=function(e,t,i){this._executionMode===n["default"].Active&&this._amflow.putStorageData(e,t,i,this._onStoragePut_bound)},e.prototype._requestValuesForJoin=function(e){this._tickGenerator.setRequestValuesForJoin(e)},e.prototype._onStoragePut=function(e){e&&this.errorTrigger.fire(e)},e}();i.StorageResolver=o},{"./ExecutionMode":5,"@akashic/akashic-engine":"@akashic/akashic-engine"}],16:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("@akashic/akashic-engine"),n=e("./ExecutionMode"),o=function(){function e(t){this.currentAge=0,this.knownLatestAge=-1,this.gotNextTickTrigger=new r.Trigger,this.gotStorageTrigger=new r.Trigger,this._amflow=t.amflow,this._prefetchThreshold=t.prefetchThreshold||e.DEFAULT_PREFETCH_THRESHOLD,this._sizeRequestOnce=t.sizeRequestOnce||e.DEFAULT_SIZE_REQUEST_ONCE,this._executionMode=t.executionMode,this._receiving=!1,this._tickRanges=[],this._nearestAbsentAge=this.currentAge,this._nextTickTimeCache=null,this._addTick_bound=this.addTick.bind(this),this._onTicks_bound=this._onTicks.bind(this)}return e.prototype.start=function(){this._receiving=!0,this._updateAmflowReceiveState()},e.prototype.stop=function(){this._receiving=!1,this._updateAmflowReceiveState()},e.prototype.setExecutionMode=function(e){this._executionMode!==e&&(this._dropUntil(this.knownLatestAge+1),this._nextTickTimeCache=null,this._nearestAbsentAge=this.currentAge,this._executionMode=e,this._updateAmflowReceiveState())},e.prototype.setCurrentAge=function(e){this._dropUntil(e),this._nextTickTimeCache=null,this.currentAge=e,this._nearestAbsentAge=this._findNearestAbscentAge(e)},e.prototype.hasNextTick=function(){return this.currentAge!==this._nearestAbsentAge},e.prototype.consume=function(){if(this.currentAge===this._nearestAbsentAge)return null;var e=this.currentAge,t=this._tickRanges[0];return e===t.start?(this._nextTickTimeCache=null,++this.currentAge,++t.start,e+this._prefetchThreshold===this._nearestAbsentAge&&this.requestTicks(this._nearestAbsentAge,this._sizeRequestOnce),t.start===t.end&&this._tickRanges.shift(),t.ticks.length>0&&t.ticks[0][0]===e?t.ticks.shift():e):(this._dropUntil(this.currentAge),this.consume())},e.prototype.readNextTickTime=function(){if(null!=this._nextTickTimeCache)return this._nextTickTimeCache;if(this.currentAge===this._nearestAbsentAge)return null;var e=this.currentAge,t=this._tickRanges[0];if(e===t.start){if(0===t.ticks.length)return null;var i=t.ticks[0];if(i[0]!==e)return null;var r=i[1];if(!r)return null;for(var n=0;n<r.length;++n)if(2===r[n][0])return this._nextTickTimeCache=r[n][3],this._nextTickTimeCache;return null}return this._dropUntil(this.currentAge),this.readNextTickTime()},e.prototype.requestTicks=function(e,t){void 0===e&&(e=this.currentAge),void 0===t&&(t=this._sizeRequestOnce),this._executionMode===n["default"].Passive&&this._amflow.getTickList(e,e+t,this._onTicks_bound)},e.prototype.addTick=function(e){var t=e[0],i=this.currentAge===t&&this._nearestAbsentAge===t;this.knownLatestAge<t&&(this.knownLatestAge=t),e[2]&&this.gotStorageTrigger.fire({age:e[0],storageData:e[2]});for(var r=this._tickRanges.length-1;r>=0;--r){var n=this._tickRanges[r];if(t>=n.start)break}var o=this._tickRanges[r+1];if(0>r)this._tickRanges.unshift(this._createTickRangeFromTick(e));else{var n=this._tickRanges[r];t===n.end?(++n.end,e[1]&&n.ticks.push(e)):t>n.end&&this._tickRanges.splice(r+1,0,this._createTickRangeFromTick(e))}this._nearestAbsentAge===t&&(++this._nearestAbsentAge,o&&this._nearestAbsentAge===o.start&&(this._nearestAbsentAge=this._findNearestAbscentAge(this._nearestAbsentAge))),i&&this.gotNextTickTrigger.fire()},e.prototype.addTickList=function(e){var t=e[0],i=e[1]+1,r=e[2],n=t,o=i;this.knownLatestAge<i-1&&(this.knownLatestAge=i-1);var s=0,a=this._tickRanges.length;for(s=0;a>s;++s){var u=this._tickRanges[s];if(t<u.start)break}var c=s;if(s>0){--s;var h=this._tickRanges[s].end;h>t&&(t=h)}for(;a>s;++s){var l=this._tickRanges[s];if(i<=l.end)break}if(a>s){var f=this._tickRanges[s].start;i>f&&(i=f)}if(t>=i)return{start:t,end:t,ticks:[]};r||(r=[]),(n!==t||o!==i)&&(r=r.filter(function(e){var r=e[0];return r>=t&&i>r}));for(var _=0;_<r.length;++_){var p=r[_];p[2]&&this.gotStorageTrigger.fire({age:p[0],storageData:p[2]})}var d={start:t,end:i,ticks:r},g=Math.max(0,s-c);return this._tickRanges.splice(c,g,d),t<=this._nearestAbsentAge&&this._nearestAbsentAge<i&&(this._nearestAbsentAge=this._findNearestAbscentAge(this._nearestAbsentAge)),d},e.prototype._updateAmflowReceiveState=function(){this._receiving&&this._executionMode===n["default"].Passive?this._amflow.onTick(this._addTick_bound):this._amflow.offTick(this._addTick_bound)},e.prototype._onTicks=function(e,t){if(e)throw new Error;if(t){var i=this.currentAge===this._nearestAbsentAge,r=this.addTickList(t);i&&r.start<=this.currentAge&&this.currentAge<r.end&&this.gotNextTickTrigger.fire()}},e.prototype._findNearestAbscentAge=function(e){for(var t=0,i=this._tickRanges.length;i>t&&!(e<=this._tickRanges[t].end);++t);for(;i>t;++t){var r=this._tickRanges[t];if(e<r.start)break;e=r.end}return e},e.prototype._dropUntil=function(e){var t;for(t=0;t<this._tickRanges.length&&!(e<this._tickRanges[t].end);++t);if(this._tickRanges=this._tickRanges.slice(t),0!==this._tickRanges.length){var i=this._tickRanges[0];if(!(e<i.start)){for(i.start=e,t=0;t<i.ticks.length&&!(e<=i.ticks[t][0]);++t);i.ticks=i.ticks.slice(t)}}},e.prototype._createTickRangeFromTick=function(e){var t=e[0],i={start:t,end:t+1,ticks:[]};return e[1]&&i.ticks.push(e),i},e.DEFAULT_PREFETCH_THRESHOLD=1800,e.DEFAULT_SIZE_REQUEST_ONCE=9e3,e}();i.TickBuffer=o},{"./ExecutionMode":5,"@akashic/akashic-engine":"@akashic/akashic-engine"}],17:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("@akashic/akashic-engine"),n=e("./ExecutionMode"),o=e("./TickBuffer"),s=e("./TickGenerator"),a=e("./StorageResolver"),u=function(){function e(e){this.errorTrigger=new r.Trigger,e.errorHandler&&this.errorTrigger.add(e.errorHandler,e.errorHandlerOwner),this._amflow=e.amflow,this._clock=e.clock,this._started=!1,this._executionMode=e.executionMode,this._generator=new s.TickGenerator({amflow:e.amflow,eventBuffer:e.eventBuffer,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._buffer=new o.TickBuffer({amflow:e.amflow,executionMode:e.executionMode}),this._storageResolver=new a.StorageResolver({game:e.game,amflow:e.amflow,tickGenerator:this._generator,tickBuffer:this._buffer,executionMode:e.executionMode,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._generator.tickTrigger.add(this._onTickGenerated,this),this._clock.frameTrigger.add(this._generator.next,this._generator)}return e.prototype.startTick=function(){this._started=!0,this._updateGeneratorState()},e.prototype.stopTick=function(){this._started=!1,this._updateGeneratorState()},e.prototype.startTickOnce=function(){this._started=!0,this._generator.tickTrigger.addOnce(this._stopTriggerOnTick,this),this._updateGeneratorState()},e.prototype.setNextAge=function(e){this._generator.setNextAge(e)},e.prototype.forceGenerateTick=function(){this._generator.forceNext()},e.prototype.getBuffer=function(){return this._buffer},e.prototype.storageFunc=function(){return{storageGetFunc:this._storageResolver.getStorageFunc,storagePutFunc:this._storageResolver.putStorageFunc,requestValuesForJoinFunc:this._storageResolver.requestValuesForJoinFunc}},e.prototype.setExecutionMode=function(e){this._executionMode!==e&&(this._executionMode=e,this._updateGeneratorState(),this._buffer.setExecutionMode(e),this._storageResolver.setExecutionMode(e))},e.prototype._stopTriggerOnTick=function(){this.stopTick()},e.prototype._updateGeneratorState=function(){var e=this._started&&this._executionMode===n["default"].Active;this._generator.startStopGenerate(e)},e.prototype._onTickGenerated=function(e){this._amflow.sendTick(e),this._buffer.addTick(e)},e}();i.TickController=u},{"./ExecutionMode":5,"./StorageResolver":15,"./TickBuffer":16,"./TickGenerator":18,"@akashic/akashic-engine":"@akashic/akashic-engine"}],18:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("@akashic/akashic-engine"),n=e("./JoinResolver"),o=function(){function e(e){this.tickTrigger=new r.Trigger,this.gotStorageTrigger=new r.Trigger,this.errorTrigger=new r.Trigger,e.errorHandler&&this.errorTrigger.add(e.errorHandler,e.errorHandlerOwner),this._amflow=e.amflow,this._eventBuffer=e.eventBuffer,this._joinResolver=new n.JoinResolver({amflow:e.amflow,errorHandler:this.errorTrigger.fire,errorHandlerOwner:this.errorTrigger}),this._nextAge=0,this._storageDataForNext=null,this._generatingTick=!1,this._waitingStorage=!1,this._onGotStorageData_bound=this._onGotStorageData.bind(this)}return e.prototype.next=function(){if(this._generatingTick&&!this._waitingStorage){var e=this._eventBuffer.readJoinLeaves();if(e)for(var t=0;t<e.length;++t)this._joinResolver.request(e[t]);var i=this._eventBuffer.readEvents(),r=this._joinResolver.readResolved();r&&(i?i.push.apply(i,r):i=r);var n=this._storageDataForNext;this._storageDataForNext=null,this.tickTrigger.fire([this._nextAge++,i,n])}},e.prototype.forceNext=function(){if(this._waitingStorage)return void this.errorTrigger.fire(new Error("TickGenerator#forceNext(): cannot generate tick while waiting storage."));var e=this._generatingTick;this._generatingTick=!0,this.next(),this._generatingTick=e},e.prototype.startStopGenerate=function(e){this._generatingTick=e},e.prototype.startTick=function(){this._generatingTick=!0},e.prototype.stopTick=function(){this._generatingTick=!1},e.prototype.setNextAge=function(e){return this._waitingStorage?void this.errorTrigger.fire(new Error("TickGenerator#setNextAge(): cannot change the next age while waiting storage.")):void(this._nextAge=e)},e.prototype.requestStorageTick=function(e){if(this._waitingStorage){var t=r.ExceptionFactory.createAssertionError("TickGenerator#requestStorageTick(): Unsupported: multiple storage request");return this.errorTrigger.fire(t),-1}return this._waitingStorage=!0,this._amflow.getStorageData(e,this._onGotStorageData_bound),this._nextAge},e.prototype.setRequestValuesForJoin=function(e){this._joinResolver.setRequestValuesForJoin(e)},e.prototype._onGotStorageData=function(e,t){return this._waitingStorage=!1,e?void this.errorTrigger.fire(e):(this._storageDataForNext=t,void this.gotStorageTrigger.fire({age:this._nextAge,storageData:t}))},e}();i.TickGenerator=o},{"./JoinResolver":9,"@akashic/akashic-engine":"@akashic/akashic-engine"}],19:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e){this._playId=e.playId,this._putStorageDataSyncFunc=e.putStorageDataSyncFunc||function(){throw new Error("Implementation not given")},this._getStorageDataSyncFunc=e.getStorageDataSyncFunc||function(){throw new Error("Implementation not given")},this._tickHandlers=[],this._eventHandlers=[],this._events=[],this._tickList=null,e.startPoints?(this._tickList=e.tickList,this._startPoints=e.startPoints):this._startPoints=[]}return e.prototype.dump=function(){return{tickList:this._tickList,startPoints:this._startPoints}},e.prototype.open=function(e,t){var i=this;setTimeout(function(){return e!==i._playId?void t(new Error("MemoryAmflowClient#open: unknown playId")):void t()},0)},e.prototype.close=function(e){setTimeout(function(){e()},0)},e.prototype.authenticate=function(t,i){setTimeout(function(){switch(t){case e.TOKEN_ACTIVE:i(null,{writeTick:!0,readTick:!0,subscribeTick:!1,sendEvent:!1,subscribeEvent:!0,maxEventPriority:2});break;case e.TOKEN_PASSIVE:i(null,{writeTick:!1,readTick:!0,subscribeTick:!0,sendEvent:!0,subscribeEvent:!1,maxEventPriority:2});break;default:i(null,{writeTick:!0,readTick:!0,subscribeTick:!0,sendEvent:!0,subscribeEvent:!0,maxEventPriority:2})}},0)},e.prototype.sendTick=function(e){if(this._tickList){if(this._tickList[0]<=e[0]&&e[0]<=this._tickList[1])throw new Error("illegal age tick");this._tickList[1]=e[0]}else this._tickList=[e[0],e[0],[]];(e[1]||e[2])&&this._tickList[2].push(e),this._tickHandlers.forEach(function(t){return t(e)})},e.prototype.onTick=function(e){this._tickHandlers.push(e)},e.prototype.offTick=function(e){this._tickHandlers=this._tickHandlers.filter(function(t){return t!==e})},e.prototype.sendEvent=function(e){return 0===this._eventHandlers.length?void this._events.push(e):void this._eventHandlers.forEach(function(t){return t(e)})},e.prototype.onEvent=function(e){var t=this;this._eventHandlers.push(e),this._events.length>0&&(this._events.forEach(function(e){t._eventHandlers.forEach(function(t){return t(e)})}),this._events=[])},e.prototype.offEvent=function(e){this._eventHandlers=this._eventHandlers.filter(function(t){return t!==e})},e.prototype.getTickList=function(e,t,i){if(!this._tickList)return void setTimeout(function(){return i(null,null)},0);e=Math.max(e,this._tickList[0]),t=Math.min(t,this._tickList[1]);var r=this._tickList[2].filter(function(i){var r=i[0];return r>=e&&t>=r}),n=[e,t,r];setTimeout(function(){return i(null,n)},0)},e.prototype.putStartPoint=function(e,t){var i=this;setTimeout(function(){i._startPoints.push(e),t(null)},0)},e.prototype.getStartPoint=function(e,t){var i=this;setTimeout(function(){if(!i._startPoints||0===i._startPoints.length)return void t(new Error("no startpoint"));var r=0;if(null!=e.frame)for(var n=i._startPoints[0].frame,o=1;o<i._startPoints.length;++o){var s=i._startPoints[o].frame;s<=e.frame&&s>n&&(n=s,r=o)}else for(var a=i._startPoints[0].timestamp,o=1;o<i._startPoints.length;++o){var u=i._startPoints[o].timestamp;u<=e.timestamp&&u>a&&(a=u,r=o)}t(null,i._startPoints[r])},0)},e.prototype.putStorageData=function(e,t,i,r){var n=this;setTimeout(function(){try{n._putStorageDataSyncFunc(e,t,i),r(null)}catch(o){r(o)}},0)},e.prototype.getStorageData=function(e,t){var i=this;setTimeout(function(){try{var r=i._getStorageDataSyncFunc(e);t(null,r)}catch(n){t(n)}},0)},e.prototype.dropAfter=function(e){if(this._tickList){var t=this._tickList[0],i=this._tickList[1];t>=e?(this._tickList=null,this._startPoints=[]):i>=e&&(this._tickList[1]=e-1,this._tickList[2]=this._tickList[2].filter(function(i){var r=i[0];return r>=t&&e-1>=r}),this._startPoints=this._startPoints.filter(function(t){return t.frame<e}))}},e.TOKEN_ACTIVE="mamfc-token:active",e.TOKEN_PASSIVE="mamfc-token:passive",e}();i.MemoryAmflowClient=r},{}],20:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e){this._amflow=e.amflow,this._tickList=e.tickList,this._startPoints=e.startPoints}return e.prototype.dropAfter=function(e){if(this._tickList){var t=this._tickList[0],i=this._tickList[1],r=this._tickList[2];t>=e?(this._tickList=null,this._startPoints=[]):i>=e&&(this._tickList[1]=e-1,this._tickList[2]=this._sliceTicks(r,i,e-1),this._startPoints=this._startPoints.filter(function(t){return t.frame<e}))}},e.prototype.open=function(e,t){this._amflow.open(e,t)},e.prototype.close=function(e){this._amflow.close(e)},e.prototype.authenticate=function(e,t){this._amflow.authenticate(e,t)},e.prototype.sendTick=function(e){this._amflow.sendTick(e)},e.prototype.onTick=function(e){this._amflow.onTick(e)},e.prototype.offTick=function(e){this._amflow.offTick(e)},e.prototype.sendEvent=function(e){this._amflow.sendEvent(e)},e.prototype.onEvent=function(e){this._amflow.onEvent(e)},e.prototype.offEvent=function(e){this._amflow.offEvent(e)},e.prototype.getTickList=function(e,t,i){var r=this;if(!this._tickList)return void this._amflow.getTickList(e,t,i);var n=this._tickList[0],o=this._tickList[1],s=this._tickList[2],a=e>=n&&o>=e,u=t>=n&&o>=t;a&&u?setTimeout(function(){i(null,[e,t,r._sliceTicks(s,e,t)])},0):this._amflow.getTickList(e,t,function(c,h){if(c)return void i(c);if(h)if(a||u)if(a){var l=r._sliceTicks(s,e,t).concat(h[2]||[]);i(null,[e,h[1],l])}else{var l=(h[2]||[]).concat(r._sliceTicks(s,e,t));i(null,[h[0],t,l])}else if(n>t||e>o)i(null,h);else{var l=h[2];if(l){var f=r._sliceTicks(l,e,n-1),_=r._sliceTicks(l,o+1,t);l=f.concat(s,_)}else l=s;i(null,[e,t,l])}else a||u?a?i(null,[e,o,r._sliceTicks(s,e,t)]):i(null,[n,t,r._sliceTicks(s,e,t)]):n>t||e>o?i(null,h):i(null,[n,o,r._sliceTicks(s,e,t)])})},e.prototype.putStartPoint=function(e,t){this._amflow.putStartPoint(e,t)},e.prototype.getStartPoint=function(e,t){var i=this,r=0;if(this._startPoints.length>0)if(null!=e.frame)for(var n=this._startPoints[0].frame,o=1;o<this._startPoints.length;++o){var s=this._startPoints[o].frame;s<=e.frame&&s>n&&(n=s,r=o)}else for(var a=this._startPoints[0].timestamp,o=1;o<this._startPoints.length;++o){var u=this._startPoints[o].timestamp;u<=e.timestamp&&u>a&&(a=u,r=o)}var c=this._tickList?this._tickList[1]:-1;e.frame>c?this._amflow.getStartPoint(e,function(e,n){return e?void t(e):void(c<n.frame?t(null,n):t(null,i._startPoints[r]))}):setTimeout(function(){t(null,i._startPoints[r])},0)},e.prototype.putStorageData=function(e,t,i,r){this._amflow.putStorageData(e,t,i,r)},e.prototype.getStorageData=function(e,t){this._amflow.getStorageData(e,t)},e.prototype._sliceTicks=function(e,t,i){return e.filter(function(e){var r=e[0];return r>=t&&i>=r})},e}();i.ReplayAmflowProxy=r},{}],21:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("@akashic/akashic-engine"),n=function(){function e(t){this._interval=null!=t.interval?t.interval:e.DEFAULT_INTERVAL,null!=t.limit?this._limit=t.limit>=e.DEFAULT_LIMIT?t.limit:e.DEFAULT_LIMIT:this._limit=e.DEFAULT_LIMIT,this._calculateProfilerValueTrigger=new r.Trigger,t.getValueHandler&&this._calculateProfilerValueTrigger.add(t.getValueHandler,t.getValueHandlerOwner),this._reset()}return e.prototype.time=function(e){this._beforeTimes[e]=this._getCurrentTime()},e.prototype.timeEnd=function(e){var t=this._getCurrentTime(),i=null!=this._beforeTimes[e]?t-this._beforeTimes[e]:0;this._values[e].push({time:t,value:i})},e.prototype.flush=function(){var t=this._getCurrentTime();if(0===this._beforeFlushTime&&(this._beforeFlushTime=t),this._beforeFlushTime+this._interval<t&&(this._calculateProfilerValueTrigger.fire(this.getProfilerValue(this._interval)),this._beforeFlushTime=t),this._values[1].length>this._limit)for(var i in this._values)this._values.hasOwnProperty(i)&&(this._values[i]=this._values[i].slice(-e.BACKUP_MARGIN))},e.prototype.setValue=function(e,t){this._values[e].push({time:this._getCurrentTime(),value:t})},e.prototype.getProfilerValue=function(e){var t=this._calculateProfilerValue(1,e);return{skippedFrameCount:this._calculateProfilerValue(0,e),rawFrameInterval:t,framePerSecond:{ave:1e3/t.ave,max:1e3/t.min,min:1e3/t.max},frameTime:this._calculateProfilerValue(2,e),renderingTime:this._calculateProfilerValue(3,e)}},e.prototype._reset=function(){this._startTime=this._getCurrentTime(),this._beforeFlushTime=0,this._beforeTimes=[],this._beforeTimes[1]=0,this._beforeTimes[2]=0,this._beforeTimes[3]=0,this._beforeTimes[0]=0,this._values=[],this._values[1]=[],this._values[2]=[],this._values[3]=[],this._values[0]=[]},e.prototype._calculateProfilerValue=function(e,t){for(var i=this._getCurrentTime()-t,r=0,n=0,o=0,s=Number.MAX_VALUE,a=this._values[e].length-1;a>=0&&!(n>0&&this._values[e][a].time<i);--a){var u=this._values[e][a].value;u>o&&(o=u),s>u&&(s=u),r+=u,++n}return{ave:r/n,max:o,min:s}},e.prototype._getCurrentTime=function(){return+new Date},e.DEFAULT_INTERVAL=1e3,e.DEFAULT_LIMIT=1e3,e.BACKUP_MARGIN=100,e}();i.SimpleProfiler=n},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],22:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},{}],23:[function(e,t,i){(function(r,n){!function(e,r){"object"==typeof i&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.ES6Promise=r()}(this,function(){"use strict";function t(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function o(e){Y=e}function s(e){Z=e}function a(){return function(){return r.nextTick(f)}}function u(){return function(){z(f)}}function c(){var e=0,t=new $(f),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}function h(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function l(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;K>e;e+=2){var t=ie[e],i=ie[e+1];t(i),ie[e]=void 0,ie[e+1]=void 0}K=0}function _(){try{var t=e,i=t("vertx");return z=i.runOnLoop||i.runOnContext,u()}catch(r){return l()}}function p(e,t){var i=arguments,r=this,n=new this.constructor(g);void 0===n[ne]&&C(n);var o=r._state;return o?!function(){var e=i[o-1];Z(function(){return F(o,n,e,r._result)})}():S(r,n,e,t),n}function d(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var i=new t(g);return A(i,e),i}function g(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function T(e){try{return e.then}catch(t){return ue.error=t,ue}}function k(e,t,i,r){try{e.call(t,i,r)}catch(n){return n}}function y(e,t,i){Z(function(e){var r=!1,n=k(i,t,function(i){r||(r=!0,t!==i?A(e,i):L(e,i))},function(t){r||(r=!0,b(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&n&&(r=!0,b(e,n))},e)}function w(e,t){t._state===se?L(e,t._result):t._state===ae?b(e,t._result):S(t,void 0,function(t){return A(e,t)},function(t){return b(e,t)})}function E(e,t,r){t.constructor===e.constructor&&r===p&&t.constructor.resolve===d?w(e,t):r===ue?b(e,ue.error):void 0===r?L(e,t):i(r)?y(e,t,r):L(e,t)}function A(e,i){e===i?b(e,v()):t(i)?E(e,i,T(i)):L(e,i)}function P(e){e._onerror&&e._onerror(e._result),M(e)}function L(e,t){e._state===oe&&(e._result=t,
e._state=se,0!==e._subscribers.length&&Z(M,e))}function b(e,t){e._state===oe&&(e._state=ae,e._result=t,Z(P,e))}function S(e,t,i,r){var n=e._subscribers,o=n.length;e._onerror=null,n[o]=t,n[o+se]=i,n[o+ae]=r,0===o&&e._state&&Z(M,e)}function M(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var r=void 0,n=void 0,o=e._result,s=0;s<t.length;s+=3)r=t[s],n=t[s+i],r?F(i,r,n,o):n(o);e._subscribers.length=0}}function x(){this.error=null}function R(e,t){try{return e(t)}catch(i){return ce.error=i,ce}}function F(e,t,r,n){var o=i(r),s=void 0,a=void 0,u=void 0,c=void 0;if(o){if(s=R(r,n),s===ce?(c=!0,a=s.error,s=null):u=!0,t===s)return void b(t,m())}else s=n,u=!0;t._state!==oe||(o&&u?A(t,s):c?b(t,a):e===se?L(t,s):e===ae&&b(t,s))}function O(e,t){try{t(function(t){A(e,t)},function(t){b(e,t)})}catch(i){b(e,i)}}function D(){return he++}function C(e){e[ne]=he++,e._state=void 0,e._result=void 0,e._subscribers=[]}function G(e,t){this._instanceConstructor=e,this.promise=new e(g),this.promise[ne]||C(this.promise),W(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&L(this.promise,this._result))):b(this.promise,B())}function B(){return new Error("Array Methods must be provided an Array")}function I(e){return new G(this,e).promise}function N(e){var t=this;return new t(W(e)?function(i,r){for(var n=e.length,o=0;n>o;o++)t.resolve(e[o]).then(i,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function H(e){var t=this,i=new t(g);return b(i,e),i}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function U(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function q(e){this[ne]=D(),this._result=this._state=void 0,this._subscribers=[],g!==e&&("function"!=typeof e&&j(),this instanceof q?O(this,e):U())}function V(){var e=void 0;if("undefined"!=typeof n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var i=e.Promise;if(i){var r=null;try{r=Object.prototype.toString.call(i.resolve())}catch(t){}if("[object Promise]"===r&&!i.cast)return}e.Promise=q}var J=void 0;J=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var W=J,K=0,z=void 0,Y=void 0,Z=function(e,t){ie[K]=e,ie[K+1]=t,K+=2,2===K&&(Y?Y(f):re())},X="undefined"!=typeof window?window:void 0,Q=X||{},$=Q.MutationObserver||Q.WebKitMutationObserver,ee="undefined"==typeof self&&"undefined"!=typeof r&&"[object process]"==={}.toString.call(r),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ie=new Array(1e3),re=void 0;re=ee?a():$?c():te?h():void 0===X&&"function"==typeof e?_():l();var ne=Math.random().toString(36).substring(16),oe=void 0,se=1,ae=2,ue=new x,ce=new x,he=0;return G.prototype._enumerate=function(){for(var e=this.length,t=this._input,i=0;this._state===oe&&e>i;i++)this._eachEntry(t[i],i)},G.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,r=i.resolve;if(r===d){var n=T(e);if(n===p&&e._state!==oe)this._settledAt(e._state,t,e._result);else if("function"!=typeof n)this._remaining--,this._result[t]=e;else if(i===q){var o=new i(g);E(o,e,n),this._willSettleAt(o,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},G.prototype._settledAt=function(e,t,i){var r=this.promise;r._state===oe&&(this._remaining--,e===ae?b(r,i):this._result[t]=i),0===this._remaining&&L(r,this._result)},G.prototype._willSettleAt=function(e,t){var i=this;S(e,void 0,function(e){return i._settledAt(se,t,e)},function(e){return i._settledAt(ae,t,e)})},q.all=I,q.race=N,q.resolve=d,q.reject=H,q._setScheduler=o,q._setAsap=s,q._asap=Z,q.prototype={constructor:q,then:p,"catch":function(e){return this.then(null,e)}},V(),q.polyfill=V,q.Promise=q,q})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:24}],24:[function(e,t,i){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function s(e){if(f===clearTimeout)return clearTimeout(e);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){g&&p&&(g=!1,p.length?d=p.concat(d):v=-1,d.length&&u())}function u(){if(!g){var e=o(a);g=!0;for(var t=d.length;t;){for(p=d,d=[];++v<t;)p&&p[v].run();v=-1,t=d.length}p=null,g=!1,s(e)}}function c(e,t){this.fun=e,this.array=t}function h(){}var l,f,_=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(e){f=n}}();var p,d=[],g=!1,v=-1;_.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];d.push(new c(e,t)),1!==d.length||g||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={},_.on=h,_.addListener=h,_.once=h,_.off=h,_.removeListener=h,_.removeAllListeners=h,_.emit=h,_.prependListener=h,_.prependOnceListener=h,_.listeners=function(e){return[]},_.binding=function(e){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(e){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}},{}],"@akashic/game-driver":[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=e("./EventIndex");i.EventIndex=r;var n=e("./LoopMode");i.LoopMode=n["default"];var o=e("./LoopRenderMode");i.LoopRenderMode=o["default"];var s=e("./ExecutionMode");i.ExecutionMode=s["default"];var a=e("./GameDriver");i.GameDriver=a.GameDriver;var u=e("./Game");i.Game=u.Game;var c=e("./auxiliary/ReplayAmflowProxy");i.ReplayAmflowProxy=c.ReplayAmflowProxy;var h=e("./auxiliary/MemoryAmflowClient");i.MemoryAmflowClient=h.MemoryAmflowClient;var l=e("./auxiliary/SimpleProfiler");i.SimpleProfiler=l.SimpleProfiler},{"./EventIndex":4,"./ExecutionMode":5,"./Game":6,"./GameDriver":7,"./LoopMode":10,"./LoopRenderMode":11,"./auxiliary/MemoryAmflowClient":19,"./auxiliary/ReplayAmflowProxy":20,"./auxiliary/SimpleProfiler":21}]},{},[]);	require=function t(e,r,n){function i(a,s){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[a]={exports:{}};e[a][0].call(h.exports,function(t){var r=e[a][1][t];return i(r?r:t)},h,h.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({"@akashic/pdi-browser":[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./Platform");r.Platform=n.Platform;var i=t("./ResourceFactory");r.ResourceFactory=i.ResourceFactory;var o=t("@akashic/akashic-engine");r.g=o;var a=t("./plugin/AudioPluginRegistry");r.AudioPluginRegistry=a.AudioPluginRegistry;var s=t("./plugin/AudioPluginManager");r.AudioPluginManager=s.AudioPluginManager;var u=t("./plugin/HTMLAudioPlugin/HTMLAudioPlugin");r.HTMLAudioPlugin=u.HTMLAudioPlugin;var c=t("./plugin/WebAudioPlugin/WebAudioPlugin");r.WebAudioPlugin=c.WebAudioPlugin},{"./Platform":4,"./ResourceFactory":6,"./plugin/AudioPluginManager":34,"./plugin/AudioPluginRegistry":35,"./plugin/HTMLAudioPlugin/HTMLAudioPlugin":38,"./plugin/WebAudioPlugin/WebAudioPlugin":42,"@akashic/akashic-engine":"@akashic/akashic-engine"}],1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){this.audioAssets=[],this._masterVolume=1}return t.prototype.registerAudioAsset=function(t){-1===this.audioAssets.indexOf(t)&&this.audioAssets.push(t)},t.prototype.removeAudioAsset=function(t){var e=this.audioAssets.indexOf(t);-1===e&&this.audioAssets.splice(e,1)},t.prototype.setMasterVolume=function(t){this._masterVolume=t;for(var e=0;e<this.audioAssets.length;e++)this.audioAssets[e]._lastPlayedPlayer&&this.audioAssets[e]._lastPlayedPlayer.notifyMasterVolumeChanged()},t.prototype.getMasterVolume=function(){return this._masterVolume},t}();r.AudioManager=n},{}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("@akashic/akashic-engine"),i=t("./InputHandlerLayer"),o=function(){function t(t){this.container=null,this.surface=null,this.inputHandlerLayer=null,this.rootView=null,this.useResizeForScaling=!1,this.pointEventTrigger=new n.Trigger,this._rendererReq=null,this._disablePreventDefault=!1,this.resourceFactory=t}return t.prototype.initialize=function(t){this._rendererReq=t.rendererRequirement,this._disablePreventDefault=!!t.disablePreventDefault,this._loadView()},t.prototype.setRootView=function(t){t!==this.rootView&&(this.rootView&&(this.unloadView(),this._loadView()),this.rootView=t,this._appendToRootView(t))},t.prototype.resetView=function(t){this.unloadView(),this._rendererReq=t,this._loadView(),this._appendToRootView(this.rootView)},t.prototype.getRenderer=function(){if(!this.surface)throw new Error("this container has no surface");return this.surface.renderer()},t.prototype.changeScale=function(t,e){this.useResizeForScaling?this.surface.changePhysicalScale(t,e):this.surface.changeVisualScale(t,e),this.inputHandlerLayer._inputHandler.setScale(t,e)},t.prototype.unloadView=function(){if(this.inputHandlerLayer.disablePointerEvent(),this.rootView)for(;this.rootView.firstChild;)this.rootView.removeChild(this.rootView.firstChild)},t.prototype._loadView=function(){var t=this._rendererReq,e=t.primarySurfaceWidth,r=t.primarySurfaceHeight,n=this._disablePreventDefault;this.container=document.createDocumentFragment(),this.inputHandlerLayer?(this.inputHandlerLayer.setViewSize({width:e,height:r}),this.inputHandlerLayer.pointEventTrigger.removeAll(),this.inputHandlerLayer.view.removeChild(this.surface.canvas),this.surface.destroy()):this.inputHandlerLayer=new i.InputHandlerLayer({width:e,height:r,disablePreventDefault:n}),this.surface=this.resourceFactory.createPrimarySurface(e,r),this.inputHandlerLayer.view.appendChild(this.surface.getHTMLElement()),this.container.appendChild(this.inputHandlerLayer.view)},t.prototype._appendToRootView=function(t){t.appendChild(this.container),this.inputHandlerLayer.enablePointerEvent(),this.inputHandlerLayer.pointEventTrigger.add(this.pointEventTrigger.fire,this.pointEventTrigger)},t}();r.ContainerController=o},{"./InputHandlerLayer":3,"@akashic/akashic-engine":"@akashic/akashic-engine"}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("@akashic/akashic-engine"),i=t("./handler/MouseHandler"),o=t("./handler/TouchHandler"),a=function(){function t(t){this.view=this._createInputView(t.width,t.height),this._inputHandler=void 0,this.pointEventTrigger=new n.Trigger,this._disablePreventDefault=!!t.disablePreventDefault}return t.prototype.enablePointerEvent=function(){var t=this;o.TouchHandler.isSupported()?this._inputHandler=new o.TouchHandler(this.view,this._disablePreventDefault):this._inputHandler=new i.MouseHandler(this.view,this._disablePreventDefault),this._inputHandler.pointTrigger.add(function(e){t.pointEventTrigger.fire(e)}),this._inputHandler.start()},t.prototype.disablePointerEvent=function(){this._inputHandler&&this._inputHandler.stop()},t.prototype.setOffset=function(t){var e="position:relative; left:"+t.x+"px; top:"+t.y+"px";this._inputHandler.inputView.setAttribute("style",e)},t.prototype.setViewSize=function(t){var e=this.view;e.style.width=t.width+"px",e.style.height=t.height+"px"},t.prototype._createInputView=function(t,e){var r=document.createElement("div");return r.setAttribute("tabindex","1"),r.className="input-handler",r.setAttribute("style","display:inline-block; outline:none;"),r.style.width=t+"px",r.style.height=e+"px",r},t}();r.InputHandlerLayer=a},{"./handler/MouseHandler":32,"./handler/TouchHandler":33,"@akashic/akashic-engine":"@akashic/akashic-engine"}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./RafLooper"),i=t("./ResourceFactory"),o=t("./ContainerController"),a=t("./plugin/AudioPluginManager"),s=t("./AudioManager"),u=t("./plugin/AudioPluginRegistry"),c=t("./asset/XHRTextAsset"),h=function(){function t(t){this.containerView=t.containerView,this.audioPluginManager=new a.AudioPluginManager,t.audioPlugins&&this.audioPluginManager.tryInstallPlugin(t.audioPlugins),this.audioPluginManager.tryInstallPlugin(u.AudioPluginRegistry.getRegisteredAudioPlugins()),this._audioManager=new s.AudioManager,this.amflow=t.amflow,this._platformEventHandler=null,this._resourceFactory=t.resourceFactory||new i.ResourceFactory({audioPluginManager:this.audioPluginManager,platform:this,audioManager:this._audioManager}),this.containerController=new o.ContainerController(this._resourceFactory),this._rendererReq=null,this._disablePreventDefault=!!t.disablePreventDefault}return t.prototype.setPlatformEventHandler=function(t){this.containerController&&(this.containerController.pointEventTrigger.removeAll({owner:this._platformEventHandler}),this.containerController.pointEventTrigger.add(t.onPointEvent,t)),this._platformEventHandler=t},t.prototype.loadGameConfiguration=function(t,e){var r=new c.XHRTextAsset("(game.json)",t);r._load({_onAssetLoad:function(t){e(null,JSON.parse(r.data))},_onAssetError:function(t,r){e(r,null)}})},t.prototype.getResourceFactory=function(){return this._resourceFactory},t.prototype.setRendererRequirement=function(t){if(!t)return void(this.containerController&&this.containerController.unloadView());if(this._rendererReq=t,this._resourceFactory._rendererCandidates=this._rendererReq.rendererCandidates,this.containerController&&!this.containerController.inputHandlerLayer)this.containerController.initialize({rendererRequirement:t,disablePreventDefault:this._disablePreventDefault}),this.containerController.setRootView(this.containerView),this._platformEventHandler&&this.containerController.pointEventTrigger.add(this._platformEventHandler.onPointEvent,this._platformEventHandler);else{var e=this.getPrimarySurface();e&&!e.destroyed()&&e.destroy(),this.containerController.resetView(t)}},t.prototype.getPrimarySurface=function(){return this.containerController.surface},t.prototype.getOperationPluginViewInfo=function(){var t=this;return{type:"pdi-browser",view:this.containerController.inputHandlerLayer.view,getScale:function(){return t.containerController.inputHandlerLayer._inputHandler.getScale()}}},t.prototype.createLooper=function(t){return new n.RafLooper(t)},t.prototype.sendToExternal=function(t,e){},t.prototype.registerAudioPlugins=function(t){return this.audioPluginManager.tryInstallPlugin(t)},t.prototype.setScale=function(t,e){this.containerController.changeScale(t,e)},t.prototype.notifyViewMoved=function(){},t.prototype.setMasterVolume=function(t){this._audioManager&&this._audioManager.setMasterVolume(t)},t.prototype.getMasterVolume=function(){return this._audioManager?this._audioManager.getMasterVolume():void 0},t}();r.Platform=h},{"./AudioManager":1,"./ContainerController":2,"./RafLooper":5,"./ResourceFactory":6,"./asset/XHRTextAsset":12,"./plugin/AudioPluginManager":34,"./plugin/AudioPluginRegistry":35}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t){this._fun=t,this._timerId=void 0,this._prev=0}return t.prototype.start=function(){var t=this,e=function(r){null!=t._timerId&&(t._timerId=requestAnimationFrame(e),t._fun(r-t._prev),t._prev=r)},r=function(r){t._timerId=requestAnimationFrame(e),t._fun(0),t._prev=r};this._timerId=requestAnimationFrame(r)},t.prototype.stop=function(){cancelAnimationFrame(this._timerId),this._timerId=void 0,this._prev=0},t}();r.RafLooper=n},{}],6:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=t("./asset/HTMLImageAsset"),a=t("./asset/HTMLVideoAsset"),s=t("./asset/XHRTextAsset"),u=t("./asset/XHRScriptAsset"),c=t("./canvas/GlyphFactory"),h=t("./canvas/shims/SurfaceFactory"),p=function(t){function e(e){var r=t.call(this)||this;return r._audioPluginManager=e.audioPluginManager,r._audioManager=e.audioManager,r._platform=e.platform,r._surfaceFactory=new h.SurfaceFactory,r}return n(e,t),e.prototype.createAudioAsset=function(t,e,r,n,i,o){var a=this._audioPluginManager.getActivePlugin(),s=a.createAsset(t,e,r,n,i,o);return s.onDestroyed&&(this._audioManager.registerAudioAsset(s),s.onDestroyed.add(this._onAudioAssetDestroyed,this)),s},e.prototype.createAudioPlayer=function(t){var e=this._audioPluginManager.getActivePlugin();return e.createPlayer(t,this._audioManager)},e.prototype.createImageAsset=function(t,e,r,n){return new o.HTMLImageAsset(t,e,r,n)},e.prototype.createVideoAsset=function(t,e,r,n,i,o,s){return new a.HTMLVideoAsset(t,e,r,n,i,o,s)},e.prototype.createTextAsset=function(t,e){return new s.XHRTextAsset(t,e)},e.prototype.createScriptAsset=function(t,e){return new u.XHRScriptAsset(t,e)},e.prototype.createPrimarySurface=function(t,e){return this._surfaceFactory.createPrimarySurface(t,e,this._rendererCandidates)},e.prototype.createSurface=function(t,e){return this._surfaceFactory.createBackSurface(t,e,this._rendererCandidates)},e.prototype.createGlyphFactory=function(t,e,r,n,i,o,a,s){return new c.GlyphFactory(t,e,r,n,i,o,a,s)},e.prototype._onAudioAssetDestroyed=function(t){this._audioManager.removeAudioAsset(t)},e}(i.ResourceFactory);r.ResourceFactory=p},{"./asset/HTMLImageAsset":8,"./asset/HTMLVideoAsset":9,"./asset/XHRScriptAsset":11,"./asset/XHRTextAsset":12,"./canvas/GlyphFactory":14,"./canvas/shims/SurfaceFactory":18,"@akashic/akashic-engine":"@akashic/akashic-engine"}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n;!function(t){function e(){return"pointerEnabled"in window.navigator}function r(){return"msPointerEnabled"in window.navigator}function n(){return"ontouchstart"in window}t.pointerEnabled=e,t.msPointerEnabled=r,t.touchEnabled=n}(n=r.RuntimeInfo||(r.RuntimeInfo={}))},{}],8:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=function(t){function e(e,r,n){return t.call(this,e,r,n)||this}return n(e,t),e.prototype.renderer=function(){throw i.ExceptionFactory.createAssertionError("ImageAssetSurface cannot be rendered.")},e.prototype.isPlaying=function(){return!1},e}(i.Surface);r.ImageAssetSurface=o;var a=function(t){function e(e,r,n,i){var o=t.call(this,e,r,n,i)||this;return o.data=void 0,o._surface=void 0,o}return n(e,t),e.prototype.destroy=function(){this._surface&&!this._surface.destroyed()&&this._surface.destroy(),this.data=void 0,this._surface=void 0,t.prototype.destroy.call(this)},e.prototype._load=function(t){var e=this,r=new Image;r.onerror=function(){t._onAssetError(e,i.ExceptionFactory.createAssetLoadError("HTMLImageAsset unknown loading error"))},r.onload=function(){e.data=r,t._onAssetLoad(e)},r.src=this.path},e.prototype.asSurface=function(){if(!this.data)throw i.ExceptionFactory.createAssertionError("ImageAssetImpl#asSurface: not yet loaded.");return this._surface?this._surface:(this._surface=new o(this.width,this.height,this.data),this._surface)},e}(i.ImageAsset);r.HTMLImageAsset=a},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],9:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=t("./HTMLVideoPlayer"),a=function(t){function e(e,r,n){return t.call(this,e,r,n,!0)||this}return n(e,t),e.prototype.renderer=function(){throw i.ExceptionFactory.createAssertionError("VideoAssetSurface cannot be rendered.")},e.prototype.isPlaying=function(){return!1},e}(i.Surface),s=function(t){function e(e,r,n,i,s,u,c){var h=t.call(this,e,r,n,i,s,u,c)||this;return h._player=new o.HTMLVideoPlayer,h._surface=new a(n,i,null),h}return n(e,t),e.prototype.inUse=function(){return!1},e.prototype._load=function(t){var e=this;setTimeout(function(){t._onAssetLoad(e)},0)},e.prototype.getPlayer=function(){return this._player},e.prototype.asSurface=function(){return this._surface},e}(i.VideoAsset);r.HTMLVideoAsset=s},{"./HTMLVideoPlayer":10,"@akashic/akashic-engine":"@akashic/akashic-engine"}],10:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=function(t){function e(e){var r=t.call(this,e)||this;return r.isDummy=!0,r}return n(e,t),e.prototype.play=function(t){},e.prototype.stop=function(){},e.prototype.changeVolume=function(t){},e}(i.VideoPlayer);r.HTMLVideoPlayer=o},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],11:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=t("../utils/XHRLoader"),a=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.script=void 0,n}return n(e,t),e.prototype._load=function(t){var e=this,r=new o.XHRLoader;r.get(this.path,function(r,n){return r?void t._onAssetError(e,r):(e.script=n+"\n",void t._onAssetLoad(e))})},e.prototype.execute=function(t){var e=this._wrap();return e(t),t.module.exports},e.prototype._wrap=function(){var t=new Function("g",e.PRE_SCRIPT+this.script+e.POST_SCRIPT);return t},e.PRE_SCRIPT="(function(exports, require, module, __filename, __dirname) {",e.POST_SCRIPT="})(g.module.exports, g.module.require, g.module, g.filename, g.dirname);",e}(i.ScriptAsset);r.XHRScriptAsset=a},{"../utils/XHRLoader":43,"@akashic/akashic-engine":"@akashic/akashic-engine"}],12:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=t("../utils/XHRLoader"),a=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.data=void 0,n}return n(e,t),e.prototype._load=function(t){var e=this,r=new o.XHRLoader;r.get(this.path,function(r,n){return r?void t._onAssetError(e,r):(e.data=n,void t._onAssetLoad(e))})},e}(i.TextAsset);r.XHRTextAsset=a},{"../utils/XHRLoader":43,"@akashic/akashic-engine":"@akashic/akashic-engine"}],13:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=function(t){function e(e,r){var n=this,i=document.createElement("canvas");return n=t.call(this,e,r,i)||this,i.width=e,i.height=r,n.canvas=i,n._renderer=void 0,n}return n(e,t),e.prototype.getHTMLElement=function(){return this.canvas},e.prototype.changeVisualScale=function(t,e){var r=this.canvas.style;"transform"in r?(r.transformOrigin="0 0",r.transform="scale("+t+","+e+")"):"webkitTransform"in r?(r.webkitTransformOrigin="0 0",r.webkitTransform="scale("+t+","+e+")"):(r.width=Math.floor(t*this.width)+"px",r.height=Math.floor(e*this.width)+"px")},e}(i.Surface);r.CanvasSurface=o},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],14:[function(t,e,r){"use strict";function n(t,e,r,n,i,o,a,s,u,c,f,d){var _=e<l._environmentMinimumFontSize?e/l._environmentMinimumFontSize:1,g=Math.ceil((e+2*i)*_),y=Math.ceil((e+2*o)*_),m=new p.Context2DSurface(g,y),v=m.canvas,E=v.getContext("2d"),x=4294901760&t?String.fromCharCode((4294901760&t)>>>16,65535&t):String.fromCharCode(t),A=d===h.FontWeight.Bold?"bold ":"";E.save(),E.font=A+e+"px "+r,E.textAlign="left",E.textBaseline="alphabetic",E.lineJoin="bevel",1!==_&&E.scale(_,_),u>0&&(E.lineWidth=u,E.strokeStyle=c,E.strokeText(x,i,o+n)),f||(E.fillStyle=s,E.fillText(x,i,o+n));var T=E.measureText(x).width;E.restore();var R={surface:m,advanceWidth:T,imageData:a?E.getImageData(0,0,v.width,v.height):void 0};return R}function i(t){for(var e=t.width,r=t.height,n=0,i=0,o=0,a=0,s=t.height;s>a;a=a+1|0)for(var u=0,c=t.width;c>u;u=u+1|0){var h=t.data[o+3];0!==h&&(e>u&&(e=u),u>n&&(n=u),r>a&&(r=a),a>i&&(i=a)),o+=4}var p=void 0;return p=e===t.width?{x:0,y:0,width:0,height:0}:{x:e,y:r,width:n-e+1,height:i-r+1}}function o(t){return 0===t.width||0===t.height}function a(t){switch(t){case h.FontFamily.Monospace:return"monospace";case h.FontFamily.Serif:return"serif";default:return"sans-serif"}}function s(t){return-1!==f.indexOf(t)?t:'"'+t+'"'}function u(t){return"number"==typeof t?a(t):"string"==typeof t?s(t):t.map(function(t){return"string"==typeof t?s(t):a(t)}).join(",")}var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var h=t("@akashic/akashic-engine"),p=t("./context2d/Context2DSurface"),f=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],l=function(t){function e(r,n,i,o,s,c,p,f){var l=t.call(this,r,n,i,o,s,c,p,f)||this;l._glyphAreas={},l._cssFontFamily=u(r);var d=a(h.FontFamily.SansSerif);return-1===l._cssFontFamily.indexOf(d)&&(l._cssFontFamily+=","+d),l._marginW=Math.ceil(.3*l.fontSize+l.strokeWidth/2),l._marginH=Math.ceil(.3*l.fontSize+l.strokeWidth/2),void 0===e._environmentMinimumFontSize&&(e._environmentMinimumFontSize=l.measureMinimumFontSize()),l}return c(e,t),e.prototype.create=function(t){var e,r=this._glyphAreas[t];return r||(e=n(t,this.fontSize,this._cssFontFamily,this.baselineHeight,this._marginW,this._marginH,!0,this.fontColor,this.strokeWidth,this.strokeColor,this.strokeOnly,this.fontWeight),r=i(e.imageData),r.advanceWidth=e.advanceWidth,this._glyphAreas[t]=r),o(r)?(e&&e.surface.destroy(),new h.Glyph(t,0,0,0,0,0,0,r.advanceWidth,void 0,!0)):(e||(e=n(t,this.fontSize,this._cssFontFamily,this.baselineHeight,this._marginW,this._marginH,!1,this.fontColor,this.strokeWidth,this.strokeColor,this.strokeOnly,this.fontWeight)),new h.Glyph(t,r.x,r.y,r.width,r.height,r.x-this._marginW,r.y-this._marginH,r.advanceWidth,e.surface,!0))},e.prototype.measureMinimumFontSize=function(){var t=1,e="M",r=document.createElement("canvas"),n=r.getContext("2d");n.textAlign="left",n.textBaseline="alphabetic",n.lineJoin="bevel";var i;n.font=t+"px sans-serif";var o=n.measureText(e).width;do i=o,t+=1,n.font=t+"px sans-serif",o=n.measureText(e).width;while(i===o||t>50);return t},e}(h.GlyphFactory);r.GlyphFactory=l},{"./context2d/Context2DSurface":17,"@akashic/akashic-engine":"@akashic/akashic-engine"}],15:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n;!function(t){function e(t){if(0!==(t&t-1)){for(var e=1;t>e;)e*=2;return e}return t}function r(t){return Math.min(Math.max(t,0),1)}function n(t){var e=!1;return t&&0<t.length&&(e="webgl"===t[0]),e}t.toPowerOfTwo=e,t.clamp=r,t.usedWebGL=n}(n=r.RenderingHelper||(r.RenderingHelper={}))},{}],16:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=function(t){function e(e){var r=t.call(this)||this;return r.surface=e,r.context=e.context(),r}return n(e,t),e.prototype.clear=function(){this.context.clearRect(0,0,this.surface.width,this.surface.height)},e.prototype.drawImage=function(t,e,r,n,i,o,a){this.context.drawImage(t._drawable,e,r,n,i,o,a,n,i)},e.prototype.drawSprites=function(t,e,r,n,i,o,a,s){for(var u=0;s>u;++u)this.drawImage(t,e[u],r[u],n[u],i[u],o[u],a[u])},e.prototype.drawSystemText=function(t,e,r,n,o,a,s,u,c,h,p,f){var l,d,_,g=this.context;switch(g.save(),c){case i.FontFamily.Monospace:l="monospace";break;case i.FontFamily.Serif:l="serif";break;default:l="sans-serif"}switch(g.font=o+"px "+l,a){case i.TextAlign.Right:d="right";break;case i.TextAlign.Center:d="center";break;default:d="left"}switch(g.textAlign=d,s){case i.TextBaseline.Top:_="top";break;case i.TextBaseline.Middle:_="middle";break;case i.TextBaseline.Bottom:_="bottom";break;default:_="alphabetic"}g.textBaseline=_,g.lineJoin="bevel",h>0&&(g.lineWidth=h,g.strokeStyle=p,"undefined"==typeof n?g.strokeText(t,e,r):g.strokeText(t,e,r,n)),f||(g.fillStyle=u,"undefined"==typeof n?g.fillText(t,e,r):g.fillText(t,e,r,n)),g.restore()},e.prototype.translate=function(t,e){this.context.translate(t,e)},e.prototype.transform=function(t){this.context.transform.apply(this.context,t)},e.prototype.opacity=function(t){this.context.globalAlpha*=t},e.prototype.save=function(){this.context.save()},e.prototype.restore=function(){this.context.restore()},e.prototype.fillRect=function(t,e,r,n,i){var o=this.context.fillStyle;this.context.fillStyle=i,this.context.fillRect(t,e,r,n),this.context.fillStyle=o},e.prototype.setCompositeOperation=function(t){var e;switch(t){case i.CompositeOperation.SourceAtop:e="source-atop";break;case i.CompositeOperation.Lighter:e="lighter";break;case i.CompositeOperation.Copy:e="copy";break;case i.CompositeOperation.ExperimentalSourceIn:e="source-in";break;case i.CompositeOperation.ExperimentalSourceOut:e="source-out";break;case i.CompositeOperation.ExperimentalDestinationAtop:e="destination-atop";break;case i.CompositeOperation.ExperimentalDestinationIn:e="destination-in";break;case i.CompositeOperation.DestinationOut:e="destination-out";break;case i.CompositeOperation.DestinationOver:e="destination-over";break;case i.CompositeOperation.Xor:e="xor";break;default:e="source-over"}this.context.globalCompositeOperation=e},e.prototype.setOpacity=function(t){throw i.ExceptionFactory.createAssertionError("Context2DRenderer#setOpacity() is not implemented")},e.prototype.setTransform=function(t){throw i.ExceptionFactory.createAssertionError("Context2DRenderer#setTransform() is not implemented")},e.prototype.setShaderProgram=function(t){throw i.ExceptionFactory.createAssertionError("Context2DRenderer#setShaderProgram() is not implemented")},e.prototype.isSupportedShaderProgram=function(){return!1},e.prototype._getImageData=function(t,e,r,n){return this.context.getImageData(t,e,r,n)},e.prototype._putImageData=function(t,e,r,n,i,o,a){void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=t.width),void 0===a&&(a=t.height),this.context.putImageData(t,e,r,n,i,o,a)},e}(i.Renderer);r.Context2DRenderer=o},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],17:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("./Context2DRenderer"),o=t("../CanvasSurface"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.context=function(){return this._context||(this._context=this.canvas.getContext("2d")),this._context},e.prototype.renderer=function(){return this._renderer||(this._renderer=new i.Context2DRenderer(this)),this._renderer},e.prototype.changePhysicalScale=function(t,e){this.canvas.width=this.width*t,this.canvas.height=this.height*e,this._context.scale(t,e)},e.prototype.isPlaying=function(){return!1},e}(o.CanvasSurface);r.Context2DSurface=a},{"../CanvasSurface":13,"./Context2DRenderer":16}],18:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../RenderingHelper"),i=t("../context2d/Context2DSurface"),o=t("../webgl/WebGLSharedObject"),a=function(){function t(){}return t.prototype.createPrimarySurface=function(t,e,r){return n.RenderingHelper.usedWebGL(r)?(this._shared||(this._shared=new o.WebGLSharedObject(t,e)),this._shared.getPrimarySurface()):new i.Context2DSurface(t,e)},t.prototype.createBackSurface=function(t,e,r){return n.RenderingHelper.usedWebGL(r)?this._shared.createBackSurface(t,e):new i.Context2DSurface(t,e)},t}();r.SurfaceFactory=a},{"../RenderingHelper":15,"../context2d/Context2DSurface":17,"../webgl/WebGLSharedObject":28}],19:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t){t?this.matrix=new Float32Array(t.matrix):this.matrix=new Float32Array([1,0,0,1,0,0])}return t.prototype.scale=function(t,e){var r=this.matrix;return r[0]*=t,r[1]*=t,r[2]*=e,r[3]*=e,this},t.prototype.translate=function(t,e){var r=this.matrix;return r[4]+=r[0]*t+r[2]*e,r[5]+=r[1]*t+r[3]*e,this},t.prototype.transform=function(t){var e=this.matrix,r=t[0]*e[0]+t[1]*e[2],n=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=t[4]*e[0]+t[5]*e[2]+e[4],s=t[4]*e[1]+t[5]*e[3]+e[5];return e[0]=r,e[1]=n,e[2]=i,e[3]=o,e[4]=a,e[5]=s,this},t.prototype.setTransform=function(t){var e=this.matrix;e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5]},t.prototype.copyFrom=function(t){return this.matrix.set(t.matrix),this},t}();r.AffineTransformer=n},{}],20:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("@akashic/akashic-engine"),i=t("./AffineTransformer"),o=function(){function t(t){t?(this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer=new i.AffineTransformer(t.transformer),this.shaderProgram=t.shaderProgram):(this.globalAlpha=1,this.globalCompositeOperation=n.CompositeOperation.SourceOver,this.transformer=new i.AffineTransformer,this.shaderProgram=null)}return t.prototype.copyFrom=function(t){return this.globalAlpha=t.globalAlpha,this.globalCompositeOperation=t.globalCompositeOperation,this.transformer.copyFrom(t.transformer),this.shaderProgram=t.shaderProgram,this},t}();r.RenderingState=o},{"./AffineTransformer":19,"@akashic/akashic-engine":"@akashic/akashic-engine"}],21:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("./WebGLBackSurfaceRenderer"),o=t("./WebGLPrimarySurface"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.renderer=function(){return this._renderer||(this._renderer=new i.WebGLBackSurfaceRenderer(this,this._shared)),this._renderer},e.prototype.destroy=function(){this._renderer&&this._renderer.destroy(),this._renderer=void 0,this._drawable=void 0,t.prototype.destroy.call(this)},e}(o.WebGLPrimarySurface);r.WebGLBackSurface=a},{"./WebGLBackSurfaceRenderer":22,"./WebGLPrimarySurface":24}],22:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("./WebGLRenderer"),o=t("./RenderingState"),a=function(t){function e(e,r){var n=t.call(this,r,r.createRenderTarget(e.width,e.height))||this;return e._drawable={texture:n._renderTarget.texture,textureOffsetX:0,textureOffsetY:0,textureWidth:e.width,textureHeight:e.height},n}return n(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this.save();var e=new o.RenderingState(this.currentState()),r=e.transformer.matrix;r[1]*=-1,r[3]*=-1,r[5]=-r[5]+this._renderTarget.height,this.currentState().copyFrom(e),this._shared.pushRenderTarget(this._renderTarget)},e.prototype.end=function(){this.restore(),this._shared.popRenderTarget(),t.prototype.end.call(this)},e}(i.WebGLRenderer);r.WebGLBackSurfaceRenderer=a},{"./RenderingState":20,"./WebGLRenderer":26}],23:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{
value:!0});var n,i=t("../RenderingHelper");!function(t){function e(e){var r="string"==typeof e?t._toColor(e):[e[0],e[1],e[2],e[3]];return r[3]=i.RenderingHelper.clamp(r[3]),r[0]=i.RenderingHelper.clamp(r[0])*r[3],r[1]=i.RenderingHelper.clamp(r[1])*r[3],r[2]=i.RenderingHelper.clamp(r[2])*r[3],r}function r(t){var e=t[0]%360,r=t[1],n=t[2]>50?100-t[2]:t[2],i=t[3],o=n+n*r,a=n-n*r;return 60>e?[o,e/60*(o-a)+a,a,i]:120>e?[(120-e)/60*(o-a)+a,o,a,i]:180>e?[a,o,(e-120)/60*(o-a)+a,i]:240>e?[a,(240-e)/60*(o-a)+a,o,i]:300>e?[(e-240)/60*(o-a)+a,a,o,i]:[o,a,(360-e)/60*(o-a)+a,i]}function n(e){var r=e.toUpperCase().replace(/\s+/g,""),n=t.colorMap[r];if(n)return n;if(r.match(/^#([\dA-F])([\dA-F])([\dA-F])$/))return[parseInt(RegExp.$1,16)/15,parseInt(RegExp.$2,16)/15,parseInt(RegExp.$3,16)/15,1];if(r.match(/^#([\dA-F]{2})([\dA-F]{2})([\dA-F]{2})$/))return[parseInt(RegExp.$1,16)/255,parseInt(RegExp.$2,16)/255,parseInt(RegExp.$3,16)/255,1];if(r.match(/^RGB\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/))return[parseInt(RegExp.$1,10)/255,parseInt(RegExp.$2,10)/255,parseInt(RegExp.$3,10)/255,1];if(r.match(/^RGBA\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d(\.\d*)?)\)$/))return[parseInt(RegExp.$1,10)/255,parseInt(RegExp.$2,10)/255,parseInt(RegExp.$3,10)/255,parseFloat(RegExp.$4)];if(r.match(/^HSL\((\d{1,3}),(\d{1,3})%,(\d{1,3})%\)$/))return t._hsl2rgb([parseInt(RegExp.$1,10),i.RenderingHelper.clamp(parseInt(RegExp.$2,10)/100),i.RenderingHelper.clamp(parseInt(RegExp.$3,10)/100),1]);if(r.match(/^HSLA\((\d{1,3}),(\d{1,3})%,(\d{1,3})%,(\d(\.\d*)?)\)$/))return t._hsl2rgb([parseInt(RegExp.$1,10),i.RenderingHelper.clamp(parseInt(RegExp.$2,10)/100),i.RenderingHelper.clamp(parseInt(RegExp.$3,10)/100),parseFloat(RegExp.$4)]);throw Error("illigal cssColor format: "+r)}t.colorMap={ALICEBLUE:[240/255,248/255,1,1],ANTIQUEWHITE:[250/255,235/255,215/255,1],AQUA:[0,1,1,1],AQUAMARINE:[127/255,1,212/255,1],AZURE:[240/255,1,1,1],BEIGE:[245/255,245/255,220/255,1],BISQUE:[1,228/255,196/255,1],BLACK:[0,0,0,1],BLANCHEDALMOND:[1,235/255,205/255,1],BLUE:[0,0,1,1],BLUEVIOLET:[138/255,43/255,226/255,1],BROWN:[165/255,42/255,42/255,1],BURLYWOOD:[222/255,184/255,135/255,1],CADETBLUE:[95/255,158/255,160/255,1],CHARTREUSE:[127/255,1,0,1],CHOCOLATE:[210/255,105/255,30/255,1],CORAL:[1,127/255,80/255,1],CORNFLOWERBLUE:[100/255,149/255,237/255,1],CORNSILK:[1,248/255,220/255,1],CRIMSON:[220/255,20/255,60/255,1],CYAN:[0,1,1,1],DARKBLUE:[0,0,139/255,1],DARKCYAN:[0,139/255,139/255,1],DARKGOLDENROD:[184/255,134/255,11/255,1],DARKGRAY:[169/255,169/255,169/255,1],DARKGREEN:[0,100/255,0,1],DARKGREY:[169/255,169/255,169/255,1],DARKKHAKI:[189/255,183/255,107/255,1],DARKMAGENTA:[139/255,0,139/255,1],DARKOLIVEGREEN:[85/255,107/255,47/255,1],DARKORANGE:[1,140/255,0,1],DARKORCHID:[.6,50/255,.8,1],DARKRED:[139/255,0,0,1],DARKSALMON:[233/255,150/255,122/255,1],DARKSEAGREEN:[143/255,188/255,143/255,1],DARKSLATEBLUE:[72/255,61/255,139/255,1],DARKSLATEGRAY:[47/255,79/255,79/255,1],DARKSLATEGREY:[47/255,79/255,79/255,1],DARKTURQUOISE:[0,206/255,209/255,1],DARKVIOLET:[148/255,0,211/255,1],DEEPPINK:[1,20/255,147/255,1],DEEPSKYBLUE:[0,191/255,1,1],DIMGRAY:[105/255,105/255,105/255,1],DIMGREY:[105/255,105/255,105/255,1],DODGERBLUE:[30/255,144/255,1,1],FIREBRICK:[178/255,34/255,34/255,1],FLORALWHITE:[1,250/255,240/255,1],FORESTGREEN:[34/255,139/255,34/255,1],FUCHSIA:[1,0,1,1],GAINSBORO:[220/255,220/255,220/255,1],GHOSTWHITE:[248/255,248/255,1,1],GOLD:[1,215/255,0,1],GOLDENROD:[218/255,165/255,32/255,1],GRAY:[128/255,128/255,128/255,1],GREEN:[0,128/255,0,1],GREENYELLOW:[173/255,1,47/255,1],GREY:[128/255,128/255,128/255,1],HONEYDEW:[240/255,1,240/255,1],HOTPINK:[1,105/255,180/255,1],INDIANRED:[205/255,92/255,92/255,1],INDIGO:[75/255,0,130/255,1],IVORY:[1,1,240/255,1],KHAKI:[240/255,230/255,140/255,1],LAVENDER:[230/255,230/255,250/255,1],LAVENDERBLUSH:[1,240/255,245/255,1],LAWNGREEN:[124/255,252/255,0,1],LEMONCHIFFON:[1,250/255,205/255,1],LIGHTBLUE:[173/255,216/255,230/255,1],LIGHTCORAL:[240/255,128/255,128/255,1],LIGHTCYAN:[224/255,1,1,1],LIGHTGOLDENRODYELLOW:[250/255,250/255,210/255,1],LIGHTGRAY:[211/255,211/255,211/255,1],LIGHTGREEN:[144/255,238/255,144/255,1],LIGHTGREY:[211/255,211/255,211/255,1],LIGHTPINK:[1,182/255,193/255,1],LIGHTSALMON:[1,160/255,122/255,1],LIGHTSEAGREEN:[32/255,178/255,170/255,1],LIGHTSKYBLUE:[135/255,206/255,250/255,1],LIGHTSLATEGRAY:[119/255,136/255,.6,1],LIGHTSLATEGREY:[119/255,136/255,.6,1],LIGHTSTEELBLUE:[176/255,196/255,222/255,1],LIGHTYELLOW:[1,1,224/255,1],LIME:[0,1,0,1],LIMEGREEN:[50/255,205/255,50/255,1],LINEN:[250/255,240/255,230/255,1],MAGENTA:[1,0,1,1],MAROON:[128/255,0,0,1],MEDIUMAQUAMARINE:[.4,205/255,170/255,1],MEDIUMBLUE:[0,0,205/255,1],MEDIUMORCHID:[186/255,85/255,211/255,1],MEDIUMPURPLE:[147/255,112/255,219/255,1],MEDIUMSEAGREEN:[60/255,179/255,113/255,1],MEDIUMSLATEBLUE:[123/255,104/255,238/255,1],MEDIUMSPRINGGREEN:[0,250/255,154/255,1],MEDIUMTURQUOISE:[72/255,209/255,.8,1],MEDIUMVIOLETRED:[199/255,21/255,133/255,1],MIDNIGHTBLUE:[25/255,25/255,112/255,1],MINTCREAM:[245/255,1,250/255,1],MISTYROSE:[1,228/255,225/255,1],MOCCASIN:[1,228/255,181/255,1],NAVAJOWHITE:[1,222/255,173/255,1],NAVY:[0,0,128/255,1],OLDLACE:[253/255,245/255,230/255,1],OLIVE:[128/255,128/255,0,1],OLIVEDRAB:[107/255,142/255,35/255,1],ORANGE:[1,165/255,0,1],ORANGERED:[1,69/255,0,1],ORCHID:[218/255,112/255,214/255,1],PALEGOLDENROD:[238/255,232/255,170/255,1],PALEGREEN:[152/255,251/255,152/255,1],PALETURQUOISE:[175/255,238/255,238/255,1],PALEVIOLETRED:[219/255,112/255,147/255,1],PAPAYAWHIP:[1,239/255,213/255,1],PEACHPUFF:[1,218/255,185/255,1],PERU:[205/255,133/255,63/255,1],PINK:[1,192/255,203/255,1],PLUM:[221/255,160/255,221/255,1],POWDERBLUE:[176/255,224/255,230/255,1],PURPLE:[128/255,0,128/255,1],RED:[1,0,0,1],ROSYBROWN:[188/255,143/255,143/255,1],ROYALBLUE:[65/255,105/255,225/255,1],SADDLEBROWN:[139/255,69/255,19/255,1],SALMON:[250/255,128/255,114/255,1],SANDYBROWN:[244/255,164/255,96/255,1],SEAGREEN:[46/255,139/255,87/255,1],SEASHELL:[1,245/255,238/255,1],SIENNA:[160/255,82/255,45/255,1],SILVER:[192/255,192/255,192/255,1],SKYBLUE:[135/255,206/255,235/255,1],SLATEBLUE:[106/255,90/255,205/255,1],SLATEGRAY:[112/255,128/255,144/255,1],SLATEGREY:[112/255,128/255,144/255,1],SNOW:[1,250/255,250/255,1],SPRINGGREEN:[0,1,127/255,1],STEELBLUE:[70/255,130/255,180/255,1],TAN:[210/255,180/255,140/255,1],TEAL:[0,128/255,128/255,1],THISTLE:[216/255,191/255,216/255,1],TOMATO:[1,99/255,71/255,1],TURQUOISE:[64/255,224/255,208/255,1],VIOLET:[238/255,130/255,238/255,1],WHEAT:[245/255,222/255,179/255,1],WHITE:[1,1,1,1],WHITESMOKE:[245/255,245/255,245/255,1],YELLOW:[1,1,0,1],YELLOWGREEN:[154/255,205/255,50/255,1]},t.get=e,t._hsl2rgb=r,t._toColor=n}(n=r.WebGLColor||(r.WebGLColor={}))},{"../RenderingHelper":15}],24:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("../CanvasSurface"),o=t("./WebGLPrimarySurfaceRenderer"),a=function(t){function e(e,r,n){var i=t.call(this,r,n)||this;return i.canvas.style.position="absolute",i._shared=e,i}return n(e,t),e.prototype.renderer=function(){return this._renderer||(this._renderer=new o.WebGLPrimarySurfaceRenderer(this._shared,this._shared.getPrimaryRenderTarget(this.width,this.height))),this._renderer},e.prototype.changePhysicalScale=function(t,e){var r=Math.ceil(this.width*t),n=Math.ceil(this.height*e);this.canvas.width=r,this.canvas.height=n,this.renderer().changeViewportSize(r,n)},e.prototype.isPlaying=function(){return!1},e}(i.CanvasSurface);r.WebGLPrimarySurface=a},{"../CanvasSurface":13,"./WebGLPrimarySurfaceRenderer":25}],25:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("./WebGLRenderer"),o=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n._shared.pushRenderTarget(n._renderTarget),n}return n(e,t),e.prototype.begin=function(){t.prototype.begin.call(this),this._shared.begin()},e.prototype.end=function(){t.prototype.end.call(this),this._shared.end()},e}(i.WebGLRenderer);r.WebGLPrimarySurfaceRenderer=o},{"./WebGLRenderer":26}],26:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=t("./WebGLColor"),a=t("./RenderingState"),s=function(t){function e(r,n){var i=t.call(this)||this;return i._stateStack=[],i._stateStackPointer=0,i._capacity=0,i._reallocation(e.DEFAULT_CAPACITY),i._whiteColor=[1,1,1,1],i._shared=r,i._renderTarget=n,i}return n(e,t),e.prototype.clear=function(){this._shared.clear()},e.prototype.end=function(){this._shared.end()},e.prototype.save=function(){this._pushState()},e.prototype.restore=function(){this._popState()},e.prototype.translate=function(t,e){this.currentState().transformer.translate(t,e)},e.prototype.transform=function(t){this.currentState().transformer.transform(t)},e.prototype.opacity=function(t){this.currentState().globalAlpha*=t},e.prototype.setCompositeOperation=function(t){this.currentState().globalCompositeOperation=t},e.prototype.currentState=function(){return this._stateStack[this._stateStackPointer]},e.prototype.fillRect=function(t,e,r,n,i){this._shared.draw(this.currentState(),this._shared.getFillRectSurfaceTexture(),0,0,r,n,t,e,o.WebGLColor.get(i))},e.prototype.drawSprites=function(t,e,r,n,i,o,a,s){for(var u=0;s>u;++u)this.drawImage(t,e[u],r[u],n[u],i[u],o[u],a[u])},e.prototype.drawImage=function(t,e,r,n,o,a,s){if(!t._drawable)throw i.ExceptionFactory.createAssertionError("WebGLRenderer#drawImage: no drawable surface.");if(t._drawable.texture instanceof WebGLTexture||this._shared.makeTextureForSurface(t),!t._drawable.texture)throw i.ExceptionFactory.createAssertionError("WebGLRenderer#drawImage: could not create a texture.");this._shared.draw(this.currentState(),t._drawable,e,r,n,o,a,s,this._whiteColor)},e.prototype.drawSystemText=function(t,e,r,n,i,o,a,s,u,c,h,p){},e.prototype.setTransform=function(t){this.currentState().transformer.setTransform(t)},e.prototype.setOpacity=function(t){this.currentState().globalAlpha=t},e.prototype.setShaderProgram=function(t){this.currentState().shaderProgram=this._shared.initializeShaderProgram(t)},e.prototype.isSupportedShaderProgram=function(){return!0},e.prototype.changeViewportSize=function(t,e){var r=this._renderTarget;this._renderTarget={width:r.width,height:r.height,viewportWidth:t,viewportHeight:e,texture:r.texture,framebuffer:r.framebuffer}},e.prototype.destroy=function(){this._shared.deleteRenderTarget(this._renderTarget),this._shared=void 0,this._renderTarget=void 0,this._whiteColor=void 0},e.prototype._getImageData=function(){throw i.ExceptionFactory.createAssertionError("WebGLRenderer#_getImageData() is not implemented")},e.prototype._putImageData=function(t,e,r,n,o,a,s){throw i.ExceptionFactory.createAssertionError("WebGLRenderer#_putImageData() is not implemented")},e.prototype._pushState=function(){var t=this.currentState();++this._stateStackPointer,this._isOverCapacity()&&this._reallocation(this._stateStackPointer+1),this.currentState().copyFrom(t)},e.prototype._popState=function(){if(!(this._stateStackPointer>0))throw i.ExceptionFactory.createAssertionError("WebGLRenderer#restore: state stack under-flow.");this.currentState().shaderProgram=null,--this._stateStackPointer},e.prototype._isOverCapacity=function(){return this._capacity<=this._stateStackPointer},e.prototype._reallocation=function(t){var e=this._capacity;if(t>e){2*e>t?this._capacity*=2:this._capacity=t;for(var r=e;r<this._capacity;++r)this._stateStack.push(new a.RenderingState)}},e.DEFAULT_CAPACITY=16,e}(i.Renderer);r.WebGLRenderer=s},{"./RenderingState":20,"./WebGLColor":23,"@akashic/akashic-engine":"@akashic/akashic-engine"}],27:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("@akashic/akashic-engine"),i=function(){function t(e,r,n){var i=t._DEFAULT_VERTEX_SHADER,r=r||t._DEFAULT_FRAGMENT_SHADER,o=t._makeShaderProgram(e,i,r);this.program=o,this._context=e,this._aVertex=e.getAttribLocation(this.program,"aVertex"),this._uColor=e.getUniformLocation(this.program,"uColor"),this._uAlpha=e.getUniformLocation(this.program,"uAlpha"),this._uSampler=e.getUniformLocation(this.program,"uSampler"),this._uniforms=n,this._uniformCaches=[],this._uniformSetterTable={"float":this._uniform1f.bind(this),"int":this._uniform1i.bind(this),float_v:this._uniform1fv.bind(this),int_v:this._uniform1iv.bind(this),vec2:this._uniform2fv.bind(this),vec3:this._uniform3fv.bind(this),vec4:this._uniform4fv.bind(this),ivec2:this._uniform2iv.bind(this),ivec3:this._uniform3iv.bind(this),ivec4:this._uniform4iv.bind(this),mat2:this._uniformMatrix2fv.bind(this),mat3:this._uniformMatrix3fv.bind(this),mat4:this._uniformMatrix4fv.bind(this)}}return t._makeShader=function(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(n);throw t.deleteShader(n),new Error(i)}return n},t._makeShaderProgram=function(e,r,n){var i=e.createProgram(),o=t._makeShader(e,e.VERTEX_SHADER,r);e.attachShader(i,o),e.deleteShader(o);var a=t._makeShader(e,e.FRAGMENT_SHADER,n);if(e.attachShader(i,a),e.deleteShader(a),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){var s=e.getProgramInfoLog(i);throw e.deleteProgram(i),new Error(s)}return i},t.prototype.set_aVertex=function(t){this._context.bindBuffer(this._context.ARRAY_BUFFER,t),this._context.enableVertexAttribArray(this._aVertex),this._context.vertexAttribPointer(this._aVertex,4,this._context.FLOAT,!1,0,0)},t.prototype.set_uColor=function(t){this._context.uniform4f(this._uColor,t[0],t[1],t[2],t[3])},t.prototype.set_uAlpha=function(t){this._context.uniform1f(this._uAlpha,t)},t.prototype.set_uSampler=function(t){this._context.uniform1i(this._uSampler,t)},t.prototype.updateUniforms=function(){for(var t=0;t<this._uniformCaches.length;++t){var e=this._uniformCaches[t],r=this._uniforms[e.name].value;(e.isArray||r!==e.beforeValue)&&(e.update(e.loc,r),e.beforeValue=r)}},t.prototype.initializeUniforms=function(){var t=this,e=[],r=this._uniforms;null!=r&&Object.keys(r).forEach(function(i){var o=r[i].type,a=Array.isArray(r[i].value);!a||"int"!==o&&"float"!==o||(o+="_v");var s=t._uniformSetterTable[o];if(!s)throw n.ExceptionFactory.createAssertionError("WebGLShaderProgram#initializeUniforms: Uniform type '"+o+"' is not supported.");e.push({name:i,update:s,beforeValue:null,isArray:a,loc:t._context.getUniformLocation(t.program,i)})}),this._uniformCaches=e},t.prototype.use=function(){this._context.useProgram(this.program)},t.prototype.unuse=function(){this._context.useProgram(null)},t.prototype.destroy=function(){this._context.deleteProgram(this.program)},t.prototype._uniform1f=function(t,e){this._context.uniform1f(t,e)},t.prototype._uniform1i=function(t,e){this._context.uniform1i(t,e)},t.prototype._uniform1fv=function(t,e){this._context.uniform1fv(t,e)},t.prototype._uniform1iv=function(t,e){this._context.uniform1iv(t,e)},t.prototype._uniform2fv=function(t,e){this._context.uniform2fv(t,e)},t.prototype._uniform3fv=function(t,e){this._context.uniform3fv(t,e)},t.prototype._uniform4fv=function(t,e){this._context.uniform4fv(t,e)},t.prototype._uniform2iv=function(t,e){this._context.uniform2iv(t,e)},t.prototype._uniform3iv=function(t,e){this._context.uniform3iv(t,e)},t.prototype._uniform4iv=function(t,e){this._context.uniform4iv(t,e)},t.prototype._uniformMatrix2fv=function(t,e){this._context.uniformMatrix2fv(t,!1,e)},t.prototype._uniformMatrix3fv=function(t,e){this._context.uniformMatrix3fv(t,!1,e)},t.prototype._uniformMatrix4fv=function(t,e){this._context.uniformMatrix4fv(t,!1,e)},t._DEFAULT_VERTEX_SHADER="#version 100\nprecision mediump float;\nattribute vec4 aVertex;\nvarying vec2 vTexCoord;\nvarying vec4 vColor;\nuniform vec4 uColor;\nuniform float uAlpha;\nvoid main() {    gl_Position = vec4(aVertex.xy, 0.0, 1.0);    vTexCoord = aVertex.zw;    vColor = uColor * uAlpha;}",t._DEFAULT_FRAGMENT_SHADER="#version 100\nprecision mediump float;\nvarying vec2 vTexCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main() {    gl_FragColor = texture2D(uSampler, vTexCoord) * vColor;}",t}();r.WebGLShaderProgram=i},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],28:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("@akashic/akashic-engine"),i=t("./WebGLShaderProgram"),o=t("./WebGLTextureAtlas"),a=t("./WebGLPrimarySurface"),s=t("./WebGLBackSurface"),u=function(){function t(t,e){var r=new a.WebGLPrimarySurface(this,t,e),i=r.canvas.getContext("webgl",{depth:!1,preserveDrawingBuffer:!0});if(!i)throw n.ExceptionFactory.createAssertionError("WebGLSharedObject#constructor: could not initialize WebGLRenderingContext");this._surface=r,this._context=i,this._init()}return t.prototype.getFillRectSurfaceTexture=function(){return this._fillRectSurfaceTexture},t.prototype.getPrimarySurface=function(){return this._surface},t.prototype.createBackSurface=function(t,e){return new s.WebGLBackSurface(this,t,e)},t.prototype.pushRenderTarget=function(t){this._commit(),this._renderTargetStack.push(t),this._context.bindFramebuffer(this._context.FRAMEBUFFER,t.framebuffer),this._context.viewport(0,0,t.viewportWidth,t.viewportHeight)},t.prototype.popRenderTarget=function(){this._commit(),this._renderTargetStack.pop();var t=this.getCurrentRenderTarget();this._context.bindFramebuffer(this._context.FRAMEBUFFER,t.framebuffer),this._context.viewport(0,0,t.viewportWidth,t.viewportHeight)},t.prototype.getCurrentRenderTarget=function(){return this._renderTargetStack[this._renderTargetStack.length-1]},t.prototype.begin=function(){this.clear(),this._currentShaderProgram.use(),this._currentShaderProgram.set_aVertex(this._vertices),this._currentShaderProgram.set_uColor(this._currentColor),this._currentShaderProgram.set_uAlpha(this._currentAlpha),this._currentShaderProgram.set_uSampler(0),this._currentShaderProgram.updateUniforms()},t.prototype.clear=function(){this._context.clear(this._context.COLOR_BUFFER_BIT)},t.prototype.draw=function(t,e,r,n,i,o,a,s,u){this._numSprites>=this._maxSpriteCount&&this._commit();var c;if(c=e===this._fillRectSurfaceTexture||null==t.shaderProgram||null==t.shaderProgram._program?this._defaultShaderProgram:t.shaderProgram._program,this._currentShaderProgram!==c&&(this._commit(),this._currentShaderProgram=c,this._currentShaderProgram.use(),this._currentShaderProgram.updateUniforms(),this._currentCompositeOperation=null,this._currentAlpha=null,this._currentColor=[],this._currentTexture=null),this._currentTexture!==e.texture&&(this._currentTexture=e.texture,this._commit(),this._context.bindTexture(this._context.TEXTURE_2D,e.texture)),(this._currentColor[0]!==u[0]||this._currentColor[1]!==u[1]||this._currentColor[2]!==u[2]||this._currentColor[3]!==u[3])&&(this._currentColor=u,this._commit(),this._currentShaderProgram.set_uColor(u)),this._currentAlpha!==t.globalAlpha&&(this._currentAlpha=t.globalAlpha,this._commit(),this._currentShaderProgram.set_uAlpha(t.globalAlpha)),this._currentCompositeOperation!==t.globalCompositeOperation){this._currentCompositeOperation=t.globalCompositeOperation,this._commit();var h=this._compositeOps[this._currentCompositeOperation];this._context.blendFunc(h[0],h[1])}var p=1/e.textureWidth,f=1/e.textureHeight,l=e.textureOffsetX,d=e.textureOffsetY,_=p*(l+r+i),g=f*(d+n+o),y=p*(l+r),m=f*(d+n);this._register(this._transformVertex(a,s,i,o,t.transformer),[y,m,_,m,_,g,y,m,_,g,y,g])},t.prototype.end=function(){this._commit()},t.prototype.makeTextureForSurface=function(t){this._textureAtlas.makeTextureForSurface(this,t)},t.prototype.disposeTexture=function(t){this._currentTexture===t&&this._commit()},t.prototype.assignTexture=function(t,e,r,i){if(this._context.bindTexture(this._context.TEXTURE_2D,i),t instanceof HTMLVideoElement)throw n.ExceptionFactory.createAssertionError("WebGLRenderer#assignTexture: HTMLVideoElement is not supported.");this._context.texSubImage2D(this._context.TEXTURE_2D,0,e,r,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture)},t.prototype.clearTexture=function(t,e,r,n){this._context.bindTexture(this._context.TEXTURE_2D,n),this._context.texSubImage2D(this._context.TEXTURE_2D,0,0,0,e,r,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture)},t.prototype.makeTextureRaw=function(t,e,r){void 0===r&&(r=null);var n=this._context.createTexture();return this._context.bindTexture(this._context.TEXTURE_2D,n),this._context.pixelStorei(this._context.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_S,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_T,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MAG_FILTER,this._context.NEAREST),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MIN_FILTER,this._context.NEAREST),this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,t,e,0,this._context.RGBA,this._context.UNSIGNED_BYTE,r),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture),n},t.prototype.makeTexture=function(t){var e=this._context.createTexture();return this._context.bindTexture(this._context.TEXTURE_2D,e),this._context.pixelStorei(this._context.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_S,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_WRAP_T,this._context.CLAMP_TO_EDGE),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MAG_FILTER,this._context.NEAREST),this._context.texParameteri(this._context.TEXTURE_2D,this._context.TEXTURE_MIN_FILTER,this._context.NEAREST),t instanceof HTMLImageElement?this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t):t instanceof HTMLCanvasElement?this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t):t instanceof ImageData&&this._context.texImage2D(this._context.TEXTURE_2D,0,this._context.RGBA,this._context.RGBA,this._context.UNSIGNED_BYTE,t),this._context.bindTexture(this._context.TEXTURE_2D,this._currentTexture),e},t.prototype.getPrimaryRenderTarget=function(t,e){return this._renderTarget},t.prototype.createRenderTarget=function(t,e){var r=this._context,n=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,n);var i=r.createTexture();r.bindTexture(r.TEXTURE_2D,i),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,t,e,0,r.RGBA,r.UNSIGNED_BYTE,null),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,i,0),r.bindTexture(r.TEXTURE_2D,this._currentTexture);var o=this.getCurrentRenderTarget();return r.bindFramebuffer(r.FRAMEBUFFER,o.framebuffer),{width:t,height:e,viewportWidth:t,viewportHeight:e,framebuffer:n,texture:i}},t.prototype.deleteRenderTarget=function(t){var e=this._context;this.getCurrentRenderTarget()===t&&this._commit(),e.deleteFramebuffer(t.framebuffer),e.deleteTexture(t.texture)},t.prototype.getContext=function(){return this._context},t.prototype.getDefaultShaderProgram=function(){return this._defaultShaderProgram},t.prototype.initializeShaderProgram=function(t){if(t&&!t._program){var e=new i.WebGLShaderProgram(this._context,t.fragmentShader,t.uniforms);e.initializeUniforms(),t._program=e}return t},t.prototype._init=function(){var t,e=new i.WebGLShaderProgram(this._context);this._textureAtlas=new o.WebGLTextureAtlas,this._fillRectTexture=this.makeTextureRaw(1,1,new Uint8Array([255,255,255,255])),this._fillRectSurfaceTexture={texture:this._fillRectTexture,textureWidth:1,textureHeight:1,textureOffsetX:0,textureOffsetY:0},this._renderTarget={width:this._surface.width,height:this._surface.height,viewportWidth:this._surface.width,viewportHeight:this._surface.height,framebuffer:null,texture:null},this._maxSpriteCount=1024,this._vertices=this._makeBuffer(24*this._maxSpriteCount*4),this._verticesCache=new Float32Array(24*this._maxSpriteCount),this._numSprites=0,this._currentTexture=null,this._currentColor=[1,1,1,1],this._currentAlpha=1,this._currentCompositeOperation=n.CompositeOperation.SourceOver,this._currentShaderProgram=e,this._defaultShaderProgram=e,this._renderTargetStack=[],this._currentShaderProgram.use();try{this._currentShaderProgram.set_aVertex(this._vertices),this._currentShaderProgram.set_uColor(this._currentColor),this._currentShaderProgram.set_uAlpha(this._currentAlpha),this._currentShaderProgram.set_uSampler(0)}finally{this._currentShaderProgram.unuse()}this._context.enable(this._context.BLEND),this._context.activeTexture(this._context.TEXTURE0),this._context.bindTexture(this._context.TEXTURE_2D,this._fillRectTexture),this._compositeOps=(t={},t[n.CompositeOperation.SourceAtop]=[this._context.DST_ALPHA,this._context.ONE_MINUS_SRC_ALPHA],t[n.CompositeOperation.ExperimentalSourceIn]=[this._context.DST_ALPHA,this._context.ZERO],t[n.CompositeOperation.ExperimentalSourceOut]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ZERO],t[n.CompositeOperation.SourceOver]=[this._context.ONE,this._context.ONE_MINUS_SRC_ALPHA],t[n.CompositeOperation.ExperimentalDestinationAtop]=[this._context.ONE_MINUS_DST_ALPHA,this._context.SRC_ALPHA],t[n.CompositeOperation.ExperimentalDestinationIn]=[this._context.ZERO,this._context.SRC_ALPHA],t[n.CompositeOperation.DestinationOut]=[this._context.ZERO,this._context.ONE_MINUS_SRC_ALPHA],t[n.CompositeOperation.DestinationOver]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ONE],t[n.CompositeOperation.Lighter]=[this._context.ONE,this._context.ONE],t[n.CompositeOperation.Copy]=[this._context.ONE,this._context.ZERO],t[n.CompositeOperation.Xor]=[this._context.ONE_MINUS_DST_ALPHA,this._context.ONE_MINUS_SRC_ALPHA],t);var r=this._compositeOps[this._currentCompositeOperation];this._context.blendFunc(r[0],r[1])},t.prototype._makeBuffer=function(t){var e=this._context.createBuffer();return this._context.bindBuffer(this._context.ARRAY_BUFFER,e),this._context.bufferData(this._context.ARRAY_BUFFER,t,this._context.DYNAMIC_DRAW),e},t.prototype._transformVertex=function(t,e,r,n,i){var o=this.getCurrentRenderTarget(),a=2/o.width,s=-2/o.height,u=i.matrix,c=a*r*u[0],h=s*r*u[1],p=a*n*u[2],f=s*n*u[3],l=a*(t*u[0]+e*u[2]+u[4])-1,d=s*(t*u[1]+e*u[3]+u[5])+1;return[l,d,c+l,h+d,c+p+l,h+f+d,l,d,c+p+l,h+f+d,p+l,f+d]},t.prototype._register=function(t,e){var r=6*this._numSprites;++this._numSprites;for(var n=0;6>n;++n)this._verticesCache[4*(n+r)+0]=t[2*n+0],this._verticesCache[4*(n+r)+1]=t[2*n+1],this._verticesCache[4*(n+r)+2]=e[2*n+0],this._verticesCache[4*(n+r)+3]=e[2*n+1]},t.prototype._commit=function(){this._numSprites>0&&(this._context.bindBuffer(this._context.ARRAY_BUFFER,this._vertices),this._context.bufferSubData(this._context.ARRAY_BUFFER,0,this._verticesCache.subarray(0,24*this._numSprites)),this._context.drawArrays(this._context.TRIANGLES,0,6*this._numSprites),this._numSprites=0)},t}();r.WebGLSharedObject=u},{"./WebGLBackSurface":21,"./WebGLPrimarySurface":24,"./WebGLShaderProgram":27,"./WebGLTextureAtlas":29,"@akashic/akashic-engine":"@akashic/akashic-engine"}],29:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./WebGLTextureMap"),i=t("../RenderingHelper"),o=function(){function t(){this._maps=[],this._insertPos=0,this.emptyTexturePixels=new Uint8Array(t.TEXTURE_SIZE*t.TEXTURE_SIZE*4)}return t.prototype.clear=function(){for(var t=0;t<this._maps.length;++t)this._maps[t].dispose()},t.prototype.showOccupancy=function(){for(var t=0;t<this._maps.length;++t)console.log("occupancy["+t+"]: "+this._maps[t].occupancy())},t.prototype.makeTextureForSurface=function(e,r){var n=r._drawable;if(n&&!n.texture){var o=n.width,a=n.height;if(o>=t.TEXTURE_SIZE||a>=t.TEXTURE_SIZE){var s=i.RenderingHelper.toPowerOfTwo(n.width),u=i.RenderingHelper.toPowerOfTwo(n.height);if(s!==n.width||u!==n.height){var c=document.createElement("canvas");c.width=s,c.height=u;var h=c.getContext("2d");h.globalCompositeOperation="copy",h.drawImage(n,0,0),n=h.getImageData(0,0,s,u)}return r._drawable.texture=e.makeTexture(n),r._drawable.textureOffsetX=0,r._drawable.textureOffsetY=0,r._drawable.textureWidth=s,void(r._drawable.textureHeight=u)}this._assign(e,r,this._maps)}},t.prototype._assign=function(e,r,i){for(var o,a=0;a<i.length;++a)if(o=i[(a+this._insertPos)%i.length].insert(r))return this._register(e,o,r._drawable),void(this._insertPos=a);o=null,i.length>=t.TEXTURE_COUNT&&(o=i.shift(),e.disposeTexture(o.texture),o.dispose(),e.clearTexture(this.emptyTexturePixels,t.TEXTURE_SIZE,t.TEXTURE_SIZE,o.texture)),o||(o=new n.WebGLTextureMap(e.makeTextureRaw(t.TEXTURE_SIZE,t.TEXTURE_SIZE),0,0,t.TEXTURE_SIZE,t.TEXTURE_SIZE)),i.push(o),o=o.insert(r),this._register(e,o,r._drawable)},t.prototype._register=function(e,r,n){n.texture=r.texture,n.textureOffsetX=r.offsetX,n.textureOffsetY=r.offsetY,n.textureWidth=t.TEXTURE_SIZE,n.textureHeight=t.TEXTURE_SIZE,e.assignTexture(n,r.offsetX,r.offsetY,r.texture)},t.TEXTURE_SIZE=1024,t.TEXTURE_COUNT=16,t}();r.WebGLTextureAtlas=o},{"../RenderingHelper":15,"./WebGLTextureMap":30}],30:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t,e,r,n,i){this.texture=t,this.offsetX=e,this.offsetY=r,this._width=n,this._height=i}return t.prototype.dispose=function(){this._left&&(this._left.dispose(),this._left=null),this._right&&(this._right.dispose(),this._right=null),this._surface&&(this._surface._drawable&&(this._surface._drawable.texture=null),this._surface=null)},t.prototype.capacity=function(){return this._width*this._height},t.prototype.area=function(){if(!this._surface)return 0;var t=this._surface._drawable,e=t.width*t.height;return this._left&&(e+=this._left.area()),this._right&&(e+=this._right.area()),e},t.prototype.occupancy=function(){return this.area()/this.capacity()},t.prototype.insert=function(e){var r=e._drawable,n=r.width+t.TEXTURE_MARGIN,i=r.height+t.TEXTURE_MARGIN;if(this._surface){if(this._left){var o=this._left.insert(e);if(o)return o}if(this._right){var a=this._right.insert(e);if(a)return a}return null}if(this._width<n||this._height<i)return null;var s=this._width-n,u=this._height-i;return u>=s?(this._left=new t(this.texture,this.offsetX+n,this.offsetY,s,i),this._right=new t(this.texture,this.offsetX,this.offsetY+i,this._width,u)):(this._left=new t(this.texture,this.offsetX,this.offsetY+i,n,u),this._right=new t(this.texture,this.offsetX+n,this.offsetY,s,this._height)),this._surface=e,this},t.TEXTURE_MARGIN=1,t}();r.WebGLTextureMap=n},{}],31:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("@akashic/akashic-engine"),i=(t("@akashic/akashic-pdi"),function(){function t(e,r){if(Object.getPrototypeOf&&Object.getPrototypeOf(this)===t.prototype)throw new Error("InputAbstractHandler is abstract and should not be directly instantiated");
this.inputView=e,this.pointerEventLock={},this._xScale=1,this._yScale=1,this._disablePreventDefault=!!r,this.pointTrigger=new n.Trigger}return t.isSupported=function(){return!1},t.prototype.start=function(){throw new Error("This method is abstract")},t.prototype.stop=function(){throw new Error("This method is abstract")},t.prototype.setScale=function(t,e){void 0===e&&(e=t),this._xScale=t,this._yScale=e},t.prototype.pointDown=function(t,e){this.pointTrigger.fire({type:0,identifier:t,offset:this.getOffsetFromEvent(e)}),this.pointerEventLock[t]=!0},t.prototype.pointMove=function(t,e){this.pointerEventLock.hasOwnProperty(t+"")&&this.pointTrigger.fire({type:1,identifier:t,offset:this.getOffsetFromEvent(e)})},t.prototype.pointUp=function(t,e){this.pointerEventLock.hasOwnProperty(t+"")&&(this.pointTrigger.fire({type:2,identifier:t,offset:this.getOffsetFromEvent(e)}),delete this.pointerEventLock[t])},t.prototype.getOffsetFromEvent=function(t){return{x:t.offsetX,y:t.offsetY}},t.prototype.getScale=function(){return{x:this._xScale,y:this._yScale}},t}());r.InputAbstractHandler=i},{"@akashic/akashic-engine":"@akashic/akashic-engine","@akashic/akashic-pdi":44}],32:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("./InputAbstractHandler"),o=function(t){function e(e,r){var n=t.call(this,e,r)||this,i=1;return n.onMouseDown=function(t){0===t.button&&(n.pointDown(i,t),window.addEventListener("mousemove",n.onMouseMove,!1),window.addEventListener("mouseup",n.onMouseUp,!1),n._disablePreventDefault||(t.stopPropagation(),t.preventDefault()))},n.onMouseMove=function(t){n.pointMove(i,t),n._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},n.onMouseUp=function(t){n.pointUp(i,t),window.removeEventListener("mousemove",n.onMouseMove,!1),window.removeEventListener("mouseup",n.onMouseUp,!1),n._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},n}return n(e,t),e.isSupported=function(){return!0},e.prototype.start=function(){this.inputView.addEventListener("mousedown",this.onMouseDown,!1)},e.prototype.stop=function(){this.inputView.removeEventListener("mousedown",this.onMouseDown,!1)},e}(i.InputAbstractHandler);r.MouseHandler=o},{"./InputAbstractHandler":31}],33:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("./MouseHandler"),o=t("../RuntimeInfo"),a=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.onTouchDown=function(t){for(var e=t.changedTouches,r=0,i=e.length;i>r;r++){var o=e[r];n.pointDown(o.identifier,n.convertToPagePosition(o))}n._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},n.onTouchMove=function(t){for(var e=t.changedTouches,r=0,i=e.length;i>r;r++){var o=e[r];n.pointMove(o.identifier,n.convertToPagePosition(o))}n._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},n.onTouchUp=function(t){for(var e=t.changedTouches,r=0,i=e.length;i>r;r++){var o=e[r];n.pointUp(o.identifier,n.convertToPagePosition(o))}n._disablePreventDefault||(t.stopPropagation(),t.preventDefault())},n}return n(e,t),e.isSupported=function(){return o.RuntimeInfo.touchEnabled()},e.prototype.start=function(){t.prototype.start.call(this),this.inputView.addEventListener("touchstart",this.onTouchDown),this.inputView.addEventListener("touchmove",this.onTouchMove),this.inputView.addEventListener("touchend",this.onTouchUp)},e.prototype.stop=function(){t.prototype.stop.call(this),this.inputView.removeEventListener("touchstart",this.onTouchDown),this.inputView.removeEventListener("touchmove",this.onTouchMove),this.inputView.removeEventListener("touchend",this.onTouchUp)},e.prototype.convertToPagePosition=function(t){var e=this.inputView.getBoundingClientRect(),r=this.getScale();return{offsetX:(t.pageX-Math.round(window.pageXOffset+e.left))/r.x,offsetY:(t.pageY-Math.round(window.pageYOffset+e.top))/r.y}},e}(i.MouseHandler);r.TouchHandler=a},{"../RuntimeInfo":7,"./MouseHandler":32}],34:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(){this._activePlugin=void 0}return t.prototype.getActivePlugin=function(){return void 0===this._activePlugin?null:this._activePlugin},t.prototype.tryInstallPlugin=function(t){var e=this.findFirstAvailablePlugin(t);return e?(this._activePlugin=new e,!0):!1},t.prototype.findFirstAvailablePlugin=function(t){for(var e=0,r=t.length;r>e;e++){var n=t[e];if(n.isSupported())return n}},t}();r.AudioPluginManager=n},{}],35:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=[];r.AudioPluginRegistry={addPlugin:function(t){-1===n.indexOf(t)&&n.push(t)},getRegisteredAudioPlugins:function(){return n},clear:function(){n=[]}}},{}],36:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._load=function(t){var r=this;if(null==this.path)return this.data=null,void setTimeout(function(){return t._onAssetLoad(r)},0);var n=new Audio,o=function(t,e){n.autoplay=!1,n.preload="none",n.src=t,r._attachAll(n,e),n.preload="auto",s(n,e),n.load()},a={success:function(){r._detachAll(n,a),r.data=n,t._onAssetLoad(r),window.clearInterval(r._intervalId)},error:function(){r._detachAll(n,a),r.data=n,t._onAssetError(r,i.ExceptionFactory.createAssetLoadError("HTMLAudioAsset loading error")),window.clearInterval(r._intervalId)}},s=function(t,e){r._intervalCount=0,r._intervalId=window.setInterval(function(){4===t.readyState?e.success():(++r._intervalCount,600===r._intervalCount&&e.error())},100)};if(".aac"===this.path.slice(-4)&&-1!==e.supportedFormats.indexOf("mp4")){var u={success:a.success,error:function(){r._detachAll(n,u),window.clearInterval(r._intervalId);var t=r.path.slice(0,r.path.length-4)+".mp4";o(t,a)}};return void o(this.path,u)}o(this.path,a)},e.prototype.cloneElement=function(){return this.data?new Audio(this.data.src):null},e.prototype._assetPathFilter=function(t){return-1!==e.supportedFormats.indexOf("ogg")?i.PathUtil.addExtname(t,"ogg"):-1!==e.supportedFormats.indexOf("aac")?i.PathUtil.addExtname(t,"aac"):null},e.prototype._attachAll=function(t,e){e.success&&t.addEventListener("canplaythrough",e.success,!1),e.error&&(t.addEventListener("stalled",e.error,!1),t.addEventListener("error",e.error,!1),t.addEventListener("abort",e.error,!1))},e.prototype._detachAll=function(t,e){e.success&&t.removeEventListener("canplaythrough",e.success,!1),e.error&&(t.removeEventListener("stalled",e.error,!1),t.removeEventListener("error",e.error,!1),t.removeEventListener("abort",e.error,!1))},e}(i.AudioAsset);r.HTMLAudioAsset=o},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],37:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=function(t){function e(e,r){var n=t.call(this,e)||this;return n._manager=r,n._endedEventHandler=function(){n._onAudioEnded()},n._onPlayEventHandler=function(){n._onPlayEvent()},n._dummyDurationWaitTimer=null,n}return n(e,t),e.prototype.play=function(e){this.currentAudio&&this.stop();var r=e.cloneElement();r?(r.volume=this._calculateVolume(),r.play(),r.loop=e.loop,r.addEventListener("ended",this._endedEventHandler,!1),r.addEventListener("play",this._onPlayEventHandler,!1),this._isWaitingPlayEvent=!0,this._audioInstance=r):this._dummyDurationWaitTimer=setTimeout(this._endedEventHandler,e.duration),t.prototype.play.call(this,e)},e.prototype.stop=function(){this.currentAudio&&(this._clearEndedEventHandler(),this._audioInstance&&(this._isWaitingPlayEvent?this._isStopRequested=!0:(this._audioInstance.pause(),this._audioInstance=null)),t.prototype.stop.call(this))},e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype.notifyMasterVolumeChanged=function(){this._audioInstance&&(this._audioInstance.volume=this._calculateVolume())},e.prototype._onAudioEnded=function(){this._clearEndedEventHandler(),t.prototype.stop.call(this)},e.prototype._clearEndedEventHandler=function(){this._audioInstance&&this._audioInstance.removeEventListener("ended",this._endedEventHandler,!1),null!=this._dummyDurationWaitTimer&&(clearTimeout(this._dummyDurationWaitTimer),this._dummyDurationWaitTimer=null)},e.prototype._onPlayEvent=function(){this._isWaitingPlayEvent&&(this._isWaitingPlayEvent=!1,this._isStopRequested&&(this._isStopRequested=!1,this._audioInstance.pause(),this._audioInstance=null))},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(i.AudioPlayer);r.HTMLAudioPlayer=o},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],38:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./HTMLAudioAsset"),i=t("./HTMLAudioPlayer"),o=function(){function t(){this._supportedFormats=this._detectSupportedFormats(),n.HTMLAudioAsset.supportedFormats=this.supportedFormats}return t.isSupported=function(){var t=document.createElement("audio"),e=!1;try{e=void 0!==t.canPlayType}catch(r){}return e},Object.defineProperty(t.prototype,"supportedFormats",{get:function(){return this._supportedFormats},set:function(t){this._supportedFormats=t,n.HTMLAudioAsset.supportedFormats=t},enumerable:!0,configurable:!0}),t.prototype.createAsset=function(t,e,r,i,o,a){return new n.HTMLAudioAsset(t,e,r,i,o,a)},t.prototype.createPlayer=function(t,e){return new i.HTMLAudioPlayer(t,e)},t.prototype._detectSupportedFormats=function(){if(-1!==navigator.userAgent.indexOf("Edge/"))return["aac"];var t=document.createElement("audio"),e=[];try{for(var r=["ogg","aac","mp4"],n=0,i=r.length;i>n;n++){var o=r[n],a=t.canPlayType("audio/"+o),s="no"!==a&&""!==a;s&&e.push(o)}}catch(u){}return e},t}();r.HTMLAudioPlugin=o},{"./HTMLAudioAsset":36,"./HTMLAudioPlayer":37}],39:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=t("../../utils/XHRLoader"),a=t("./WebAudioHelper"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._load=function(t){var e=this;if(null==this.path)return this.data=null,void setTimeout(function(){return t._onAssetLoad(e)},0);var r=function(r){e.data=r,t._onAssetLoad(e)},n=function(){t._onAssetError(e,i.ExceptionFactory.createAssetLoadError("WebAudioAsset unknown loading error"))},s=function(t){var e=a.getAudioContext();e.decodeAudioData(t,r,n)},u=new o.XHRLoader,c=function(t,e,r){u.getArrayBuffer(t,function(t,n){t?r(t):e(n)})};return".aac"===this.path.slice(-4)?void c(this.path,s,function(t){var r=e.path.slice(0,e.path.length-4)+".mp4";c(r,function(t){e.path=r,s(t)},n)}):void c(this.path,s,n)},e.prototype._assetPathFilter=function(t){return-1!==e.supportedFormats.indexOf("ogg")?i.PathUtil.addExtname(t,"ogg"):-1!==e.supportedFormats.indexOf("aac")?i.PathUtil.addExtname(t,"aac"):null},e.supportedFormats=[],e}(i.AudioAsset);r.WebAudioAsset=s},{"../../utils/XHRLoader":43,"./WebAudioHelper":40,"@akashic/akashic-engine":"@akashic/akashic-engine"}],40:[function(t,e,r){"use strict";var n,i=window.AudioContext||window.webkitAudioContext,o=null;!function(t){function e(){return o||(o=new i,t._workAroundSafari()),o}function r(t){return t.createGain?t.createGain():t.createGainNode()}function n(t){var e=t.createBufferSource();return e.start?e:(e.start=e.noteOn,e.stop=e.noteOff,e)}function a(){document.addEventListener("touchstart",function t(){document.removeEventListener("touchstart",t),o.createBufferSource().start(0)},!0)}t.getAudioContext=e,t.createGainNode=r,t.createBufferNode=n,t._workAroundSafari=a}(n||(n={})),e.exports=n},{}],41:[function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var i=t("@akashic/akashic-engine"),o=t("./WebAudioHelper"),a=function(t){function e(e,r){var n=t.call(this,e)||this;return n._audioContext=o.getAudioContext(),n._manager=r,n._gainNode=o.createGainNode(n._audioContext),n._gainNode.connect(n._audioContext.destination),n._sourceNode=void 0,n._dummyDurationWaitTimer=null,n._endedEventHandler=function(){n._onAudioEnded()},n}return n(e,t),e.prototype.changeVolume=function(e){t.prototype.changeVolume.call(this,e),this._gainNode.gain.value=this._calculateVolume()},e.prototype._changeMuted=function(e){t.prototype._changeMuted.call(this,e),this._gainNode.gain.value=this._calculateVolume()},e.prototype.play=function(e){if(this.currentAudio&&this.stop(),e.data){var r=o.createBufferNode(this._audioContext);r.loop=e.loop,r.buffer=e.data,this._gainNode.gain.value=this._calculateVolume(),r.connect(this._gainNode),this._sourceNode=r,this._sourceNode.onended=this._endedEventHandler,this._sourceNode.start(0)}else this._dummyDurationWaitTimer=setTimeout(this._endedEventHandler,e.duration);t.prototype.play.call(this,e)},e.prototype.stop=function(){this.currentAudio&&(this._clearEndedEventHandler(),this._sourceNode&&this._sourceNode.stop(0),t.prototype.stop.call(this))},e.prototype.notifyMasterVolumeChanged=function(){this._gainNode.gain.value=this._calculateVolume()},e.prototype._onAudioEnded=function(){this._clearEndedEventHandler(),t.prototype.stop.call(this)},e.prototype._clearEndedEventHandler=function(){this._sourceNode&&(this._sourceNode.onended=null),null!=this._dummyDurationWaitTimer&&(clearTimeout(this._dummyDurationWaitTimer),this._dummyDurationWaitTimer=null)},e.prototype._calculateVolume=function(){return this._muted?0:this.volume*this._system.volume*this._manager.getMasterVolume()},e}(i.AudioPlayer);r.WebAudioPlayer=a},{"./WebAudioHelper":40,"@akashic/akashic-engine":"@akashic/akashic-engine"}],42:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./WebAudioAsset"),i=t("./WebAudioPlayer"),o=function(){function t(){this.supportedFormats=this._detectSupportedFormats()}return t.isSupported=function(){return"AudioContext"in window?!0:"webkitAudioContext"in window?!0:!1},Object.defineProperty(t.prototype,"supportedFormats",{get:function(){return this._supportedFormats},set:function(t){this._supportedFormats=t,n.WebAudioAsset.supportedFormats=t},enumerable:!0,configurable:!0}),t.prototype.createAsset=function(t,e,r,i,o,a){return new n.WebAudioAsset(t,e,r,i,o,a)},t.prototype.createPlayer=function(t,e){return new i.WebAudioPlayer(t,e)},t.prototype._detectSupportedFormats=function(){if(-1!==navigator.userAgent.indexOf("Edge/"))return["aac"];var t=document.createElement("audio"),e=[];try{for(var r=["ogg","aac","mp4"],n=0,i=r.length;i>n;n++){var o=r[n],a=t.canPlayType("audio/"+o),s="no"!==a&&""!==a;s&&e.push(o)}}catch(u){}return e},t}();r.WebAudioPlugin=o},{"./WebAudioAsset":39,"./WebAudioPlayer":41}],43:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("@akashic/akashic-engine"),i=function(){function t(t){void 0===t&&(t={}),this.timeout=t.timeout||15e3}return t.prototype.get=function(t,e){this._getRequestObject({url:t,responseType:"text"},e)},t.prototype.getArrayBuffer=function(t,e){this._getRequestObject({url:t,responseType:"arraybuffer"},e)},t.prototype._getRequestObject=function(t,e){var r=new XMLHttpRequest;r.open("GET",t.url,!0),r.responseType=t.responseType,r.timeout=this.timeout,r.addEventListener("timeout",function(){e(n.ExceptionFactory.createAssetLoadError("loading timeout"))},!1),r.addEventListener("load",function(){if(r.status>=200&&r.status<300){var i="text"===t.responseType?r.responseText:r.response;e(null,i)}else e(n.ExceptionFactory.createAssetLoadError("loading error. status: "+r.status))},!1),r.addEventListener("error",function(){e(n.ExceptionFactory.createAssetLoadError("loading error. status: "+r.status))},!1),r.send()},t}();r.XHRLoader=i},{"@akashic/akashic-engine":"@akashic/akashic-engine"}],44:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}]},{},[]);</script>

<script>
if (! ("optionProps" in window)) {
	window.optionProps = {};
}
window.optionProps.magnify = false
window.g = require("@akashic/akashic-engine");
</script>
<script>
if (! ("gLocalAssetContainer" in window)) {
	window.gLocalAssetContainer = {};
}

			window.gLocalAssetContainer["game.json"] = "{%0A%09%22width%22: 800,%0A%09%22height%22: 600,%0A%09%22fps%22: 30,%0A%09%22main%22: %22./script/main.js%22,%0A%09%22assets%22: {%0A%09%09%22main%22: {%0A%09%09%09%22type%22: %22script%22,%0A%09%09%09%22path%22: %22script/main.js%22,%0A%09%09%09%22global%22: true%0A%09%09},%0A%09%09%22config%22: {%0A%09%09%09%22type%22: %22script%22,%0A%09%09%09%22path%22: %22script/config.js%22,%0A%09%09%09%22global%22: true%0A%09%09},%0A%09%09%22player%22: {%0A%09%09%09%22type%22: %22script%22,%0A%09%09%09%22path%22: %22script/player.js%22,%0A%09%09%09%22global%22: true%0A%09%09},%0A%09%09%22slot%22: {%0A%09%09%09%22type%22: %22script%22,%0A%09%09%09%22path%22: %22script/slot.js%22,%0A%09%09%09%22global%22: true%0A%09%09},%0A%09%09%22nataslot_reel%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 512,%0A%09%09%09%22height%22: 199,%0A%09%09%09%22path%22: %22image/nataslot_reel.png%22%0A%09%09},%0A%09%09%22nataslot_line0_0%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line0_0.png%22%0A%09%09},%0A%09%09%22nataslot_line0_1%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line0_1.png%22%0A%09%09},%0A%09%09%22nataslot_line0_2%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line0_2.png%22%0A%09%09},%0A%09%09%22nataslot_line0_3%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line0_3.png%22%0A%09%09},%0A%09%09%22nataslot_line0_4%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line0_4.png%22%0A%09%09},%0A%09%09%22nataslot_line1_0%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line1_0.png%22%0A%09%09},%0A%09%09%22nataslot_line1_1%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line1_1.png%22%0A%09%09},%0A%09%09%22nataslot_line1_2%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line1_2.png%22%0A%09%09},%0A%09%09%22nataslot_line1_3%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line1_3.png%22%0A%09%09},%0A%09%09%22nataslot_line1_4%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line1_4.png%22%0A%09%09},%0A%09%09%22nataslot_line2_0%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line2_0.png%22%0A%09%09},%0A%09%09%22nataslot_line2_1%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line2_1.png%22%0A%09%09},%0A%09%09%22nataslot_line2_2%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line2_2.png%22%0A%09%09},%0A%09%09%22nataslot_line2_3%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line2_3.png%22%0A%09%09},%0A%09%09%22nataslot_line2_4%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 200,%0A%09%09%09%22height%22: 800,%0A%09%09%09%22path%22: %22image/nataslot_line2_4.png%22%0A%09%09},%0A%09%09%22nataslot_bg%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 1920,%0A%09%09%09%22height%22: 1280,%0A%09%09%09%22path%22: %22image/nataslot_bg.jpg%22%0A%09%09},%0A%09%09%22start_button%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 169,%0A%09%09%09%22height%22: 89,%0A%09%09%09%22path%22: %22image/start_button.png%22%0A%09%09},%0A%09%09%22stop_button%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 111,%0A%09%09%09%22height%22: 98,%0A%09%09%09%22path%22: %22image/stop_button.png%22%0A%09%09},%0A%09%09%22main_bgm%22: {%0A%09%09%09%22type%22: %22audio%22,%0A%09%09%09%22path%22: %22audio/main_bgm%22,%0A%09%09%09%22systemId%22: %22music%22,%0A%09%09%09%22duration%22: 24000%0A%09%09},%0A%09%09%22hit_se%22: {%0A%09%09%09%22type%22: %22audio%22,%0A%09%09%09%22path%22: %22audio/hit_se%22,%0A%09%09%09%22systemId%22: %22sound%22,%0A%09%09%09%22duration%22: 1057%0A%09%09},%0A%09%09%22start_se%22: {%0A%09%09%09%22type%22: %22audio%22,%0A%09%09%09%22path%22: %22audio/start_se%22,%0A%09%09%09%22systemId%22: %22sound%22,%0A%09%09%09%22duration%22: 1626%0A%09%09},%0A%09%09%22stop_se%22: {%0A%09%09%09%22type%22: %22audio%22,%0A%09%09%09%22path%22: %22audio/stop_se%22,%0A%09%09%09%22systemId%22: %22sound%22,%0A%09%09%09%22duration%22: 575%0A%09%09},%0A%09%09%22DynamicFontRepository%22: {%0A%09%09%09%22type%22: %22script%22,%0A%09%09%09%22path%22: %22script/repository/DynamicFontRepository.js%22,%0A%09%09%09%22global%22: true%0A%09%09},%0A%09%09%22nata_mu1%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 300,%0A%09%09%09%22height%22: 300,%0A%09%09%09%22path%22: %22image/nata_mu1.png%22%0A%09%09},%0A%09%09%22nata_mu2%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 300,%0A%09%09%09%22height%22: 300,%0A%09%09%09%22path%22: %22image/nata_mu2.png%22%0A%09%09},%0A%09%09%22nata_muri%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 300,%0A%09%09%09%22height%22: 300,%0A%09%09%09%22path%22: %22image/nata_muri.png%22%0A%09%09},%0A%09%09%22nata_suki%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 300,%0A%09%09%09%22height%22: 300,%0A%09%09%09%22path%22: %22image/nata_suki.png%22%0A%09%09},%0A%09%09%22nata_sushi%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 300,%0A%09%09%09%22height%22: 300,%0A%09%09%09%22path%22: %22image/nata_sushi.png%22%0A%09%09},%0A%09%09%22nata_toutoi1%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 300,%0A%09%09%09%22height%22: 300,%0A%09%09%09%22path%22: %22image/nata_toutoi1.png%22%0A%09%09},%0A%09%09%22nata_toutoi2%22: {%0A%09%09%09%22type%22: %22image%22,%0A%09%09%09%22width%22: 300,%0A%09%09%09%22height%22: 300,%0A%09%09%09%22path%22: %22image/nata_toutoi2.png%22%0A%09%09},%0A%09%09%22GAServiceForDerarara%22: {%0A%09%09%09%22type%22: %22script%22,%0A%09%09%09%22path%22: %22script/service/GAServiceForDerarara.js%22,%0A%09%09%09%22global%22: true%0A%09%09},%0A%09%09%22CandidateParameter%22: {%0A%09%09%09%22type%22: %22script%22,%0A%09%09%09%22path%22: %22script/CandidateParameter.js%22,%0A%09%09%09%22global%22: true%0A%09%09}%0A%09},%0A%09%22environment%22: {%0A%09%09%22sandbox-runtime%22: %222%22%0A%09},%0A%09%22globalScripts%22: [%0A%09%09%22node_modules/@akashic-extension/akashic-keyboard-plugin/lib/index.js%22,%0A%09%09%22node_modules/@akashic-extension/akashic-liquidfun/lib/EBody.js%22,%0A%09%09%22node_modules/@akashic-extension/akashic-liquidfun/lib/EParticle.js%22,%0A%09%09%22node_modules/@akashic-extension/akashic-liquidfun/lib/LiquidFun.js%22,%0A%09%09%22node_modules/@akashic-extension/akashic-liquidfun/lib/index.js%22,%0A%09%09%22node_modules/@akashic-extension/liquidfun/liquidfun.js%22,%0A%09%09%22node_modules/akashic-analytics/lib/index.js%22,%0A%09%09%22node_modules/akashic-analytics/lib/GoogleAnalyticsService.js%22%0A%09],%0A%09%22moduleMainScripts%22: {%0A%09%09%22akashic-analytics%22: %22node_modules/akashic-analytics/lib/index.js%22,%0A%09%09%22@akashic-extension/akashic-keyboard-plugin%22: %22node_modules/@akashic-extension/akashic-keyboard-plugin/lib/index.js%22,%0A%09%09%22@akashic-extension/akashic-liquidfun%22: %22node_modules/@akashic-extension/akashic-liquidfun/lib/index.js%22,%0A%09%09%22@akashic-extension/liquidfun%22: %22node_modules/@akashic-extension/liquidfun/liquidfun.js%22%0A%09}%0A}";
				window.gLocalAssetContainer["main"] = function(g) {
			!function(e,t,a,n,o){"use strict";var i=t("./service/GAServiceForDerarara"),s=t("./CandidateParameter");i.GAServiceForDerarara.initialize("imaslot",s.candidates);var r=t("./slot"),l=t("./config"),c=t("./player"),m=t("./repository/DynamicFontRepository");a.exports=function(e){var t=new g.Scene({game:g.game,assetIds:["nataslot_line0_0","nataslot_line0_1","nataslot_line0_2","nataslot_line0_3","nataslot_line0_4","nataslot_line1_0","nataslot_line1_1","nataslot_line1_2","nataslot_line1_3","nataslot_line1_4","nataslot_line2_0","nataslot_line2_1","nataslot_line2_2","nataslot_line2_3","nataslot_line2_4","nataslot_reel","nata_mu1","nata_mu2","nata_muri","nata_suki","nata_sushi","nata_toutoi1","nata_toutoi2","nataslot_bg","start_button","stop_button","main_bgm","hit_se","start_se","stop_se"]});t.loaded.add(function(){console.log("currentNum",i.GAServiceForDerarara.instance.currentNumber);var e=new g.DynamicFont({game:t.game,fontFamily:g.FontFamily.Monospace,size:l.config.game.player.label.size});m.DynamicFontRepository.instance.setDynamicFont("player",e);var a=new g.Sprite({scene:t,src:t.assets.nataslot_bg,width:g.game.width,height:g.game.height,srcWidth:1920,srcHeight:1280,x:0,y:0});t.append(a);var n=["nata_mu1","nata_mu2","nata_muri","nata_suki","nata_sushi","nata_toutoi1","nata_toutoi2"],o={};n.forEach(function(e){o[e]=new g.Sprite({scene:t,src:t.assets[e],width:l.config.game.player.character.width,height:l.config.game.player.character.height,srcWidth:300,srcHeight:300,x:l.config.game.player.character.x,y:l.config.game.player.character.y})});var s=new c.Player(o);t.append(s.charaSprite),t.append(s.getMoneyLabel(t));var h=new g.Sprite({scene:t,src:t.assets.nataslot_reel,width:l.config.game.slot.reel.width,height:l.config.game.slot.reel.height,srcWidth:512,srcHeight:199,x:l.config.game.slot.reel.x,y:l.config.game.slot.reel.y});t.append(h);for(var u=[],p=function(e){var a=new g.Pane({scene:t,width:l.config.game.slot.reel.pane.width,height:l.config.game.slot.reel.pane.height,x:l.config.game.slot.reel.x+l.config.game.slot.reel.pane.dx+e*l.config.game.slot.reel.pane.intervalX,y:l.config.game.slot.reel.y+l.config.game.slot.reel.pane.dy}),n=[0,1,2,3,4].map(function(a){var n="nataslot_line"+e+"_"+a;return new g.Sprite({scene:t,src:t.assets[n],width:l.config.game.slot.reel.element.width,height:l.config.game.slot.reel.element.height*l.config.game.slot.reel.element.count_per_set,srcWidth:200,srcHeight:800})}),o=new r.Reel(a,n,e);t.append(o.image),u.push(o)},_=0;_<l.config.game.slot.reel.count;_++)p(_);var d=new r.Slot(u),f=new g.Sprite({scene:t,src:t.assets.start_button,width:l.config.game.slot.button.start.width,height:l.config.game.slot.button.start.height,srcWidth:169,srcHeight:89,x:l.config.game.slot.button.start.x,y:l.config.game.slot.button.start.y,touchable:!0});f.pointUp.add(function(){s.canContinue()&&d.canBet()&&(s.addMoney(-1*r.Slot.getMinimumBuyIn()),d.addBetValue(r.Slot.getMinimumBuyIn())),d.canStart()&&(t.assets.start_se.play(),d.start())}),t.append(f);for(var y=[0,1,2].map(function(e){return new g.Sprite({scene:t,src:t.assets.stop_button,width:l.config.game.slot.button.stop.width,height:l.config.game.slot.button.stop.height,srcWidth:111,srcHeight:98,x:l.config.game.slot.button.stop.x+e*l.config.game.slot.button.stop.intervalX,y:l.config.game.slot.button.stop.y,touchable:!0})}),w=function(e){var a=y[e];a.pointUp.add(function(){d.canStop(e)&&(t.assets.stop_se.play(),d.stop(e))}),t.append(a)},S=0;S<y.length;S++)w(S);t.update.add(function(){d.spin(),d.isComplete()&&(s.addMoney(d.calculateScore()),d.refresh(),i.GAServiceForDerarara.instance.sendScore(s.money)),"nata_muri"===s.currentCharaStatus||s.canContinue()||s.changeFaceSprite(t,"nata_muri")})}),g.game.pushScene(t)}}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["config"] = function(g) {
			!function(e,t,i,h,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.config={game:{slot:{reel:{element:{width:150,height:150,count_per_set:5,set_count:5,dy:-35},pane:{width:150,height:410,dx:18,dy:35,intervalX:160},width:512,height:470,x:0,y:0,count:3},button:{start:{x:200,y:535,width:119,height:63},stop:{x:50,y:450,intervalX:160,width:77,height:70}}},player:{character:{default_status:"nata_sushi",width:200,height:200,x:556,y:400},label:{x:556,y:360,size:30}}}}}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["player"] = function(g) {
			!function(e,t,r,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("./config"),i=t("./repository/DynamicFontRepository"),c=t("./service/GAServiceForDerarara"),u=function(){function e(e){this._charaSprites=e,this._money=c.GAServiceForDerarara.instance.getParameter().defaultMoney,this._currentCharaStatus=o.config.game.player.character.default_status}return e.prototype.canContinue=function(){return this._money>0},Object.defineProperty(e.prototype,"currentCharaStatus",{get:function(){return this._currentCharaStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"charaSprite",{get:function(){return this._charaSprites[this._currentCharaStatus]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"money",{get:function(){return this._money},enumerable:!0,configurable:!0}),e.prototype.addMoney=function(e){this._money+=e,this.changeMoneyLabel(this._money)},e.prototype.changeFaceSprite=function(e,t){e.remove(this._charaSprites[this._currentCharaStatus]),this._currentCharaStatus=t,e.append(this._charaSprites[this._currentCharaStatus])},e.prototype.getMoneyLabel=function(e){var t=i.DynamicFontRepository.instance.getDynamicFont("player");return void 0===this._moneyLabel&&(this._moneyLabel=new g.Label({scene:e,text:"残チップ数："+this._money,textColor:"white",font:t,fontSize:o.config.game.player.label.size,x:o.config.game.player.label.x,y:o.config.game.player.label.y})),this._moneyLabel},e.prototype.changeMoneyLabel=function(e){this._moneyLabel.text="残チップ数："+e,this._moneyLabel.invalidate()},e}();e.Player=u}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["slot"] = function(g) {
			!function(e,t,n,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("./config"),o=t("./service/GAServiceForDerarara"),l=20,p=1,a=24,c=o.GAServiceForDerarara.instance.getParameter().maxSpeed,h=c/45,u=c/30,g=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],[24,22,20,18,16,14,12,10,8,6,4,2,0,23,21,19,17,15,13,11,9,7,5,3,1],[4,7,10,13,16,19,22,0,3,6,9,12,15,18,21,24,2,5,8,11,14,17,20,23,1]],f=function(){function e(e){this._reels=[],this._reels=e,this.betValue=0,this.magnification=0}return e.getMinimumBuyIn=function(){return p},e.prototype.addBetValue=function(e){this.betValue+=e},e.prototype.canBet=function(){return 0===this.magnification},e.prototype.canStart=function(){return this.betValue>=p&&0===this.magnification},e.prototype.start=function(){this.magnification=this.betValue,this.betValue=0,this._reels.forEach(function(e){e.allowSpin=!0})},e.prototype.spin=function(){this._reels.forEach(function(e){e.spin()})},e.prototype.canStop=function(e){return this._reels[e].isMaxSpeed()},e.prototype.stop=function(e){this._reels[e].allowSpin=!1},e.prototype.isComplete=function(){return 0===this.magnification?!1:this._reels.every(function(e){return e.isStop()})},e.prototype.calculateScore=function(){var e=this,t=0,n=this._reels.map(function(e){return e.getCurrentNumbers()});console.log("displayed",n);var i=[{place:[0,0,0],ozz:1},{place:[1,1,1],ozz:1.5},{place:[2,2,2],ozz:1},{place:[0,1,2],ozz:1},{place:[2,1,0],ozz:1}];return i.forEach(function(i){console.log(n[0][i.place[0]],n[1][i.place[1]],n[2][i.place[2]]),n[0][i.place[0]]===n[1][i.place[1]]&&n[0][i.place[0]]===n[2][i.place[2]]&&(console.log("hit"),t+=i.ozz*l*e.magnification,console.log(t))}),t},e.prototype.refresh=function(){this.betValue=0,this.magnification=0},e}();e.Slot=f;var _=function(){function e(e,t,n){this._pane=e,this._sprites=t,this._elements=g[n],this._allowSpin=!1,this._spinSpeed=0,this._currentIndex=a,this.initialize()}return Object.defineProperty(e.prototype,"image",{get:function(){return this._pane},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowSpin",{set:function(e){this._allowSpin=e},enumerable:!0,configurable:!0}),e.prototype.getCurrentNumber=function(){return this._elements[this._currentIndex]},e.prototype.getCurrentNumbers=function(){var e=0===this._currentIndex?this._elements.length-1:this._currentIndex-1,t=(this._currentIndex+1)%this._elements.length;return[this._elements[e],this._elements[this._currentIndex],this._elements[t]]},e.prototype.spin=function(){var e=this;this.updateSpeed(),this._sprites.forEach(function(t){t.y+=e._spinSpeed,t.y>=s.config.game.slot.reel.pane.height&&(t.y-=s.config.game.slot.reel.element.height*s.config.game.slot.reel.element.count_per_set*e._sprites.length),t.modified()}),0===this._spinSpeed&&(this.setCurrentIndex(),this.setYPlace())},e.prototype.isStop=function(){return this._allowSpin===!1&&0===this._spinSpeed},e.prototype.isMaxSpeed=function(){return this._spinSpeed===c},e.prototype.initialize=function(){var e=this;this.setYPlace(),this._sprites.forEach(function(t){e._pane.append(t)})},e.prototype.setYPlace=function(){for(var e=0;e<this._sprites.length;e++){var t=this._sprites[e],n=0===e&&24===this._currentIndex?this._sprites.length:e;t.y=s.config.game.slot.reel.element.dy+s.config.game.slot.reel.element.height*s.config.game.slot.reel.element.count_per_set*n-s.config.game.slot.reel.element.height*(this._currentIndex-1),t.y>=s.config.game.slot.reel.pane.height&&(t.y-=s.config.game.slot.reel.element.height*s.config.game.slot.reel.element.count_per_set*this._sprites.length)}},e.prototype.updateSpeed=function(){this._allowSpin?this._spinSpeed>=c?this._spinSpeed=c:this._spinSpeed+=h:this._spinSpeed<=0?this._spinSpeed=0:this._spinSpeed-=u},e.prototype.setCurrentIndex=function(){for(var e=0;e<this._sprites.length;e++){var t=this._sprites[e],n=s.config.game.slot.reel.element.count_per_set,i=(1.5-n)*s.config.game.slot.reel.element.height+s.config.game.slot.reel.element.dy,r=2*s.config.game.slot.reel.element.height+s.config.game.slot.reel.element.dy;if(i<=t.y&&t.y<r){this._currentIndex=e*n+n-Math.ceil((t.y-i)/s.config.game.slot.reel.element.width),this._currentIndex<0&&(this._currentIndex=this._elements.length+this._currentIndex),this._currentIndex=this._currentIndex%this._elements.length;break}}},e}();e.Reel=_}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["DynamicFontRepository"] = function(g) {
			!function(e,t,n,o,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(){this.dynamicFontMap={}}return Object.defineProperty(e,"instance",{get:function(){return void 0===e._repository&&(this._repository=new e),e._repository},enumerable:!0,configurable:!0}),e.prototype.getDynamicFont=function(e){return this.dynamicFontMap[e]},e.prototype.setDynamicFont=function(e,t){this.dynamicFontMap[e]=t},e}();e.DynamicFontRepository=r}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["GAServiceForDerarara"] = function(g) {
			!function(e,t,n,r,o){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=t("akashic-analytics"),c=t("../CandidateParameter"),u=function(e){function t(t,n){return void 0===n&&(n=[]),e.call(this,t,n)||this}return a(t,e),t.initialize=function(e,n){void 0===n&&(n=[]),t._instance=new t(e,n)},Object.defineProperty(t,"instance",{get:function(){return t._instance},enumerable:!0,configurable:!0}),t.prototype.getParameter=function(){var t=e.prototype.getParameter.call(this);return t==={}?c.candidates[0]:t},t.prototype.createEventData=function(e){var t="pattern_no"+this.currentNumber;return null!=e.value&&(t+="_"+e.value),{event:"analytics",eventCategory:e.title,eventAction:e.action,eventLabel:t,eventValue:1}},t}(i.GoogleAnalyticsService);e.GAServiceForDerarara=u}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["CandidateParameter"] = function(g) {
			!function(e,d,a,u,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.candidates=[{defaultMoney:20,maxSpeed:2e3/30},{defaultMoney:20,maxSpeed:1e3/30},{defaultMoney:40,maxSpeed:1e3/30}]}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["node_modules/@akashic-extension/akashic-keyboard-plugin/lib/index.js"] = function(g) {
			!function(e,t,n,o,r){"use strict";var i=t("g"),s=function(){function e(e,t,n,o,r){this.code=o,this.operationTrigger=new i.Trigger,this._game=e,this._view=t,this._player=n,this._noPreventDefault=!!r&&r.noPreventDefault,this._onKeyDown=this._onKeyDownImpl.bind(this),this._onKeyUp=this._onKeyUpImpl.bind(this),this._onKeyPress=this._onKeyPressImpl.bind(this)}return e.isSupported=function(){return"undefined"!=typeof document&&"function"==typeof document.addEventListener},e.prototype.start=function(){return document.addEventListener("keydown",this._onKeyDown,!1),document.addEventListener("keyup",this._onKeyUp,!1),document.addEventListener("keypress",this._onKeyPress,!1),!0},e.prototype.stop=function(){document.removeEventListener("keydown",this._onKeyDown,!1),document.removeEventListener("keyup",this._onKeyUp,!1),document.removeEventListener("keypress",this._onKeyPress,!1)},e.prototype._makeEvent=function(t,n){var o={type:t,keyCode:n.keyCode,charCode:n.charCode,shiftKey:n.shiftKey,altKey:n.altKey,ctrlKey:n.ctrlKey,metaKey:n.metaKey};return!this._noPreventDefault&&e._keymapForPreventDefault.hasOwnProperty(""+n.keyCode)&&n.preventDefault(),new i.OperationEvent(this.code,o,this._player)},e.prototype._onKeyDownImpl=function(e){this.operationTrigger.fire(this._makeEvent("keydown",e))},e.prototype._onKeyUpImpl=function(e){this.operationTrigger.fire(this._makeEvent("keyup",e))},e.prototype._onKeyPressImpl=function(e){this.operationTrigger.fire(this._makeEvent("keypress",e))},e._keymapForPreventDefault={8:!0,13:!0,32:!0,37:!0,38:!0,39:!0,40:!0},e}();n.exports=s}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["node_modules/@akashic-extension/akashic-liquidfun/lib/EBody.js"] = function(g) {
			!function(e,t,i,n,o){"use strict";var u=function(){function e(e){this.entity=e.entity,this.b2body=e.b2body}return e}();e.EBody=u}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["node_modules/@akashic-extension/akashic-liquidfun/lib/EParticle.js"] = function(g) {
			!function(e,t,i,s,n){"use strict";var r=function(){function e(e){this.entities=e.entities,this.system=e.system,this.group=e.group}return e}();e.EParticle=r}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["node_modules/@akashic-extension/akashic-liquidfun/lib/LiquidFun.js"] = function(g) {
			!function(e,t,i,r,o){"use strict";var s=t("@akashic-extension/liquidfun"),n=t("./EBody"),a=t("./EParticle"),h=function(){function e(e){if(null==e.gravity)throw new Error("Missing parameter: gravity");if(null==e.scale)throw new Error("Missing parameter: scale");var t=new s.b2World(new s.b2Vec2(e.gravity[0],e.gravity[1]));this.world=t,"undefined"!=typeof window&&(window.world=t),this.bodies=[],this.particles=[],this.scale=e.scale}return e.prototype.createBody=function(e,t,i){if(!i.shape)throw new Error("Missing parameter: shape");for(var r=0;r<this.bodies.length;++r)if(this.bodies[r].entity===e)return null;var o=Object.create(t);o.position=this.vec2(e.x+e.width/2,e.y+e.height/2),o.angle=this.radian(e.angle),o.userData=t.userData||e.id;var s=this.world.CreateBody(o);s.CreateFixtureFromDef(i);var a=new n.EBody({entity:e,b2body:s});return this.bodies.push(a),a},e.prototype.createParticle=function(e,t,i,r){for(var o=[],s=r.GetBufferIndex();s<i.GetPositionBuffer().length/2;++s){var n=void 0;n=e.cssColor?new g.FilledRect(e):new g.Sprite(e),t.append(n),o.push(n)}var h=new a.EParticle({entities:o,system:i,group:r});return this.particles.push(h),h},e.prototype.removeBody=function(e,t){this.world.DestroyBody(e.b2body),t&&!e.entity.destroyed()&&e.entity.destroy();for(var i=[],r=0;r<this.bodies.length;++r)this.bodies[r]!==e&&i.push(this.bodies[r]);this.bodies=i},e.prototype.removeParticle=function(e){this.world.DestroyParticleSystem(e.system);for(var t=[],i=0;i<this.particles.length;++i)this.particles[i].system===e.system?this._removeEntities(this.particles[i].entities):t.push(this.particles[i]);this.particles=t},e.prototype.destroy=function(e){for(var t=0;t<this.bodies.length;++t)this.removeBody(this.bodies[t],e);for(var t=0;t<this.particles.length;++t)this.world.DestroyParticleSystem(this.particles[t].system),this._removeEntities(this.particles[t].entities);this.world=void 0,"undefined"!=typeof window&&(window.world=void 0),this.bodies=void 0,this.particles=void 0,this.scale=void 0},e.prototype.destroyed=function(){return void 0===this.world},e.prototype.step=function(e,t,i){t=t||10,i=i||10,this.world.Step(e,t,i),this._stepBody(),this._stepParticle()},e.prototype.createRectShape=function(e,t){var i=new s.b2PolygonShape;return i.SetAsBoxXY(e/(2*this.scale),t/(2*this.scale)),i},e.prototype.createCircleShape=function(e){var t=new s.b2CircleShape;return t.radius=e/this.scale,t},e.prototype.createPolygonShape=function(e){var t=new s.b2PolygonShape;return t.vertices=e,t},e.prototype.degree=function(e){return 180*e/Math.PI},e.prototype.radian=function(e){return e*Math.PI/180},e.prototype.vec2=function(e,t){return new s.b2Vec2(e/this.scale,t/this.scale)},e.prototype.length=function(e){return e/this.scale},e.prototype._removeEntities=function(e){for(var t=0;t<e.length;++t)e[t].destroyed()||e[t].destroy()},e.prototype._stepBody=function(){for(var e=0;e<this.bodies.length;++e){var t=this.bodies[e].b2body,i=this.bodies[e].entity;if(!i.destroyed()){var r=t.GetPosition();i.x=r.x*this.scale-i.width/2,i.y=r.y*this.scale-i.height/2,i.angle=this.degree(t.GetAngle()),i.modified()}}},e.prototype._stepParticle=function(){for(var e=0;e<this.particles.length;++e)for(var t=this.particles[e],i=t.system.GetPositionBuffer(),r=t.group.GetBufferIndex(),o=t.group.GetParticleCount(),s=0;o>s;++s){var n=i[2*(r+s)],a=i[2*(r+s)+1],h=t.entities[s];h.destroyed()||(h.x=n*this.scale-h.width/2,h.y=a*this.scale-h.height/2,h.modified())}},e}();e.LiquidFun=h}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["node_modules/@akashic-extension/akashic-liquidfun/lib/index.js"] = function(g) {
			!function(i,u,e,n,d){"use strict";var r=u("@akashic-extension/liquidfun");i.liquidfun=r;var a=u("./LiquidFun");i.LiquidFun=a.LiquidFun}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["node_modules/@akashic-extension/liquidfun/liquidfun.js"] = function(g) {
			!function(exports,require,module,__filename,__dirname){!function(){function globalEval(e){eval.call(null,e)}function assert(e,r){e||abort("Assertion failed: "+r)}function getCFunc(ident){var func=Module["_"+ident];if(!func)try{func=eval("_"+ident)}catch(e){}return assert(func,"Cannot call unknown function "+ident+" (perhaps LLVM optimizations or closure removed it?)"),func}function setValue(e,r,t,i){switch(t=t||"i8","*"===t.charAt(t.length-1)&&(t="i32"),t){case"i1":HEAP8[e>>0]=r;break;case"i8":HEAP8[e>>0]=r;break;case"i16":HEAP16[e>>1]=r;break;case"i32":HEAP32[e>>2]=r;break;case"i64":tempI64=[r>>>0,(tempDouble=r,+Math_abs(tempDouble)>=1?tempDouble>0?(0|Math_min(+Math_floor(tempDouble/4294967296),4294967295))>>>0:~~+Math_ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[e>>2]=tempI64[0],HEAP32[e+4>>2]=tempI64[1];break;case"float":HEAPF32[e>>2]=r;break;case"double":HEAPF64[e>>3]=r;break;default:abort("invalid type for setValue: "+t)}}function getValue(e,r,t){switch(r=r||"i8","*"===r.charAt(r.length-1)&&(r="i32"),r){case"i1":return HEAP8[e>>0];case"i8":return HEAP8[e>>0];case"i16":return HEAP16[e>>1];case"i32":return HEAP32[e>>2];case"i64":return HEAP32[e>>2];case"float":return HEAPF32[e>>2];case"double":return HEAPF64[e>>3];default:abort("invalid type for setValue: "+r)}return null}function allocate(e,r,t,i){var n,o;"number"==typeof e?(n=!0,o=e):(n=!1,o=e.length);var a,u="string"==typeof r?r:null;if(a=t==ALLOC_NONE?i:[_malloc,Runtime.stackAlloc,Runtime.staticAlloc,Runtime.dynamicAlloc][void 0===t?ALLOC_STATIC:t](Math.max(o,u?1:r.length)),n){var l,i=a;for(assert(0==(3&a)),l=a+(-4&o);l>i;i+=4)HEAP32[i>>2]=0;for(l=a+o;l>i;)HEAP8[i++>>0]=0;return a}if("i8"===u)return e.subarray||e.slice?HEAPU8.set(e,a):HEAPU8.set(new Uint8Array(e),a),a;for(var s,f,c,d=0;o>d;){var b=e[d];"function"==typeof b&&(b=Runtime.getFunctionIndex(b)),s=u||r[d],0!==s?("i64"==s&&(s="i32"),setValue(a+d,b,s),c!==s&&(f=Runtime.getNativeTypeSize(s),c=s),d+=f):d++}return a}function Pointer_stringify(e,r){for(var t,i=!1,n=0;;){if(t=HEAPU8[e+n>>0],t>=128)i=!0;else if(0==t&&!r)break;if(n++,r&&n==r)break}r||(r=n);var o="";if(!i){for(var a,u=1024;r>0;)a=String.fromCharCode.apply(String,HEAPU8.subarray(e,e+Math.min(r,u))),o=o?o+a:a,e+=u,r-=u;return o}var l=new Runtime.UTF8Processor;for(n=0;r>n;n++)t=HEAPU8[e+n>>0],o+=l.processCChar(t);return o}function UTF16ToString(e){for(var r=0,t="";;){var i=HEAP16[e+2*r>>1];if(0==i)return t;++r,t+=String.fromCharCode(i)}}function stringToUTF16(e,r){for(var t=0;t<e.length;++t){var i=e.charCodeAt(t);HEAP16[r+2*t>>1]=i}HEAP16[r+2*e.length>>1]=0}function UTF32ToString(e){for(var r=0,t="";;){var i=HEAP32[e+4*r>>2];if(0==i)return t;if(++r,i>=65536){var n=i-65536;t+=String.fromCharCode(55296|n>>10,56320|1023&n)}else t+=String.fromCharCode(i)}}function stringToUTF32(e,r){for(var t=0,i=0;i<e.length;++i){var n=e.charCodeAt(i);if(n>=55296&&57343>=n){var o=e.charCodeAt(++i);n=65536+((1023&n)<<10)|1023&o}HEAP32[r+4*t>>2]=n,++t}HEAP32[r+4*t>>2]=0}function demangle(e){function r(){i++,"K"===e[i]&&i++;for(var r=[];"E"!==e[i];)if("S"!==e[i])if("C"!==e[i]){var t=parseInt(e.substr(i)),n=t.toString().length;if(!t||!n){i--;break}var a=e.substr(i+n,t);r.push(a),o.push(a),i+=n+t}else r.push(r[r.length-1]),i+=2;else{i++;var u=e.indexOf("_",i),l=e.substring(i,u)||0;r.push(o[l]||"?"),i=u+1}return i++,r}function t(o,u,l){function s(){return"("+d.join(", ")+")"}u=u||1/0;var f,c="",d=[];if("N"===e[i]){if(f=r().join("::"),u--,0===u)return o?[f]:f}else{("K"===e[i]||a&&"L"===e[i])&&i++;var b=parseInt(e.substr(i));if(b){var h=b.toString().length;f=e.substr(i+h,b),i+=h+b}}if(a=!1,"I"===e[i]){i++;var _=t(!0),m=t(!0,1,!0);c+=m[0]+" "+f+"<"+_.join(", ")+">"}else c=f;e:for(;i<e.length&&u-- >0;){var p=e[i++];if(p in n)d.push(n[p]);else switch(p){case"P":d.push(t(!0,1,!0)[0]+"*");break;case"R":d.push(t(!0,1,!0)[0]+"&");break;case"L":i++;var y=e.indexOf("E",i),b=y-i;d.push(e.substr(i,b)),i+=b+2;break;case"A":var b=parseInt(e.substr(i));if(i+=b.toString().length,"_"!==e[i])throw"?";i++,d.push(t(!0,1,!0)[0]+" ["+b+"]");break;case"E":break e;default:c+="?"+p;break e}}return l||1!==d.length||"void"!==d[0]||(d=[]),o?(c&&d.push(c+"?"),d):c+s()}var i=3,n={v:"void",b:"bool",c:"char",s:"short",i:"int",l:"long",f:"float",d:"double",w:"wchar_t",a:"signed char",h:"unsigned char",t:"unsigned short",j:"unsigned int",m:"unsigned long",x:"long long",y:"unsigned long long",z:"..."},o=[],a=!0;try{if("Object._main"==e||"_main"==e)return"main()";if("number"==typeof e&&(e=Pointer_stringify(e)),"_"!==e[0])return e;if("_"!==e[1])return e;if("Z"!==e[2])return e;switch(e[3]){case"n":return"operator new()";case"d":return"operator delete()"}return t()}catch(u){return e}}function demangleAll(e){return e.replace(/__Z[\w\d_]+/g,function(e){var r=demangle(e);return e===r?e:e+" ["+r+"]"})}function stackTrace(){var e=(new Error).stack;return e?demangleAll(e):"(no stack trace available)"}function alignMemoryPage(e){return e+4095&-4096}function enlargeMemory(){abort("Cannot enlarge memory arrays. Either (1) compile with -s TOTAL_MEMORY=X with X higher than the current value "+TOTAL_MEMORY+", (2) compile with ALLOW_MEMORY_GROWTH which adjusts the size at runtime but prevents some optimizations, or (3) set Module.TOTAL_MEMORY before the program runs.")}function callRuntimeCallbacks(e){for(;e.length>0;){var r=e.shift();if("function"!=typeof r){var t=r.func;"number"==typeof t?void 0===r.arg?Runtime.dynCall("v",t):Runtime.dynCall("vi",t,[r.arg]):t(void 0===r.arg?null:r.arg)}else r()}}function preRun(){if(Module.preRun)for("function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function ensureInitRuntime(){runtimeInitialized||(runtimeInitialized=!0,callRuntimeCallbacks(__ATINIT__))}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function exitRuntime(){callRuntimeCallbacks(__ATEXIT__)}function postRun(){if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(e){__ATPRERUN__.unshift(e)}function addOnInit(e){__ATINIT__.unshift(e)}function addOnPreMain(e){__ATMAIN__.unshift(e)}function addOnExit(e){__ATEXIT__.unshift(e)}function addOnPostRun(e){__ATPOSTRUN__.unshift(e)}function intArrayFromString(e,r,t){var i=(new Runtime.UTF8Processor).processJSString(e);return t&&(i.length=t),r||i.push(0),i}function intArrayToString(e){for(var r=[],t=0;t<e.length;t++){var i=e[t];i>255&&(i&=255),r.push(String.fromCharCode(i))}return r.join("")}function writeStringToMemory(e,r,t){for(var i=intArrayFromString(e,t),n=0;n<i.length;){var o=i[n];HEAP8[r+n>>0]=o,n+=1}}function writeArrayToMemory(e,r){for(var t=0;t<e.length;t++)HEAP8[r+t>>0]=e[t]}function writeAsciiToMemory(e,r,t){for(var i=0;i<e.length;i++)HEAP8[r+i>>0]=e.charCodeAt(i);t||(HEAP8[r+e.length>>0]=0)}function unSign(e,r,t){return e>=0?e:32>=r?2*Math.abs(1<<r-1)+e:Math.pow(2,r)+e}function reSign(e,r,t){if(0>=e)return e;var i=32>=r?Math.abs(1<<r-1):Math.pow(2,r-1);return e>=i&&(32>=r||e>i)&&(e=-2*i+e),e}function addRunDependency(e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),0==runDependencies&&(null!==runDependencyWatcher&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var r=dependenciesFulfilled;dependenciesFulfilled=null,r()}}function copyTempFloat(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3]}function copyTempDouble(e){HEAP8[tempDoublePtr]=HEAP8[e],HEAP8[tempDoublePtr+1]=HEAP8[e+1],HEAP8[tempDoublePtr+2]=HEAP8[e+2],HEAP8[tempDoublePtr+3]=HEAP8[e+3],HEAP8[tempDoublePtr+4]=HEAP8[e+4],HEAP8[tempDoublePtr+5]=HEAP8[e+5],HEAP8[tempDoublePtr+6]=HEAP8[e+6],HEAP8[tempDoublePtr+7]=HEAP8[e+7]}function _cosf(){return Math_cos.apply(null,arguments)}function ___cxa_pure_virtual(){throw ABORT=!0,"Pure virtual function called!"}function _b2WorldEndContactBody(e){b2World.EndContactBody(e)}function _floorf(){return Math_floor.apply(null,arguments)}function __ZSt18uncaught_exceptionv(){return!!__ZSt18uncaught_exceptionv.uncaught_exception}function ___cxa_is_number_type(e){var r=!1;try{e==__ZTIi&&(r=!0)}catch(t){}try{e==__ZTIj&&(r=!0)}catch(t){}try{e==__ZTIl&&(r=!0)}catch(t){}try{e==__ZTIm&&(r=!0)}catch(t){}try{e==__ZTIx&&(r=!0)}catch(t){}try{e==__ZTIy&&(r=!0)}catch(t){}try{e==__ZTIf&&(r=!0)}catch(t){}try{e==__ZTId&&(r=!0)}catch(t){}try{e==__ZTIe&&(r=!0)}catch(t){}try{e==__ZTIc&&(r=!0)}catch(t){}try{e==__ZTIa&&(r=!0)}catch(t){}try{e==__ZTIh&&(r=!0)}catch(t){}try{e==__ZTIs&&(r=!0)}catch(t){}try{e==__ZTIt&&(r=!0)}catch(t){}return r}function ___cxa_does_inherit(e,r,t){if(0==t)return!1;if(0==r||r==e)return!0;var i;if(___cxa_is_number_type(r))i=r;else{var n=HEAP32[r>>2]-8;i=HEAP32[n>>2]}switch(i){case 0:var o=HEAP32[e>>2]-8,a=HEAP32[o>>2];if(0==a){var u=e+8,l=HEAP32[u>>2],s=r+8,f=HEAP32[s>>2];return ___cxa_does_inherit(l,f,t)}return!1;case 1:return!1;case 2:var c=r+8,d=HEAP32[c>>2];return ___cxa_does_inherit(e,d,t);default:return!1}}function ___resumeException(e){throw ___cxa_last_thrown_exception||(___cxa_last_thrown_exception=e),e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function ___cxa_find_matching_catch(e,r){-1==e&&(e=___cxa_last_thrown_exception),header=e-___cxa_exception_header_size,-1==r&&(r=HEAP32[header>>2]);var t=Array.prototype.slice.call(arguments,2);if(0!=r&&!___cxa_is_number_type(r)){var i=HEAP32[r>>2]-8,n=HEAP32[i>>2];0==n&&(e=HEAP32[e>>2])}for(var o=0;o<t.length;o++)if(___cxa_does_inherit(t[o],r,e))return 0|(asm.setTempRet0(t[o]),e);return 0|(asm.setTempRet0(r),e)}function ___cxa_throw(e,r,t){if(!___cxa_throw.initialized){try{HEAP32[__ZTVN10__cxxabiv119__pointer_type_infoE>>2]=0}catch(i){}try{HEAP32[__ZTVN10__cxxabiv117__class_type_infoE>>2]=1}catch(i){}try{HEAP32[__ZTVN10__cxxabiv120__si_class_type_infoE>>2]=2}catch(i){}___cxa_throw.initialized=!0}var n=e-___cxa_exception_header_size;throw HEAP32[n>>2]=r,HEAP32[n+4>>2]=t,___cxa_last_thrown_exception=e,"uncaught_exception"in __ZSt18uncaught_exceptionv?__ZSt18uncaught_exceptionv.uncaught_exception++:__ZSt18uncaught_exceptionv.uncaught_exception=1,e+" - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch."}function _b2WorldRayCastCallback(e,r,t,i,n,o){return b2World.RayCast(e,r,t,i,n,o)}function __exit(e){Module.exit(e)}function _exit(e){__exit(e)}function __ZSt9terminatev(){_exit(-1234)}function _abort(){Module.abort()}function _b2WorldBeginContactBody(e){b2World.BeginContactBody(e)}function ___cxa_begin_catch(e){return __ZSt18uncaught_exceptionv.uncaught_exception--,___cxa_caught_exceptions.push(___cxa_last_thrown_exception),e}function _sinf(){return Math_sin.apply(null,arguments)}function _b2WorldPostSolve(e,r){b2World.PostSolve(e,r)}function _sqrtf(){return Math_sqrt.apply(null,arguments)}function _b2WorldQueryAABB(e){return b2World.QueryAABB(e)}function _sbrk(e){var r=_sbrk;r.called||(DYNAMICTOP=alignMemoryPage(DYNAMICTOP),r.called=!0,assert(Runtime.dynamicAlloc),r.alloc=Runtime.dynamicAlloc,Runtime.dynamicAlloc=function(){abort("cannot dynamically allocate, sbrk now has control")});var t=DYNAMICTOP;return 0!=e&&r.alloc(e),t}function _emscripten_memcpy_big(e,r,t){return HEAPU8.set(HEAPU8.subarray(r,r+t),e),e}function ___setErrNo(e){return HEAP32[___errno_state>>2]=e,e}function ___errno_location(){return ___errno_state}function __ZNSt9exceptionD2Ev(){}function _b2WorldPreSolve(e,r){b2World.PreSolve(e,r)}function _fflush(e){}function _time(e){var r=Math.floor(Date.now()/1e3);return e&&(HEAP32[e>>2]=r),r}function _sysconf(e){switch(e){case 30:return PAGE_SIZE;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 79:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return 1}return ___setErrNo(ERRNO_CODES.EINVAL),-1}function _malloc(e){var r=Runtime.dynamicAlloc(e+8);return r+8&4294967288}function ___cxa_allocate_exception(e){var r=_malloc(e+___cxa_exception_header_size);return r+___cxa_exception_header_size}function invoke_diiiiid(e,r,t,i,n,o,a){try{return Module.dynCall_diiiiid(e,r,t,i,n,o,a)}catch(u){if("number"!=typeof u&&"longjmp"!==u)throw u;asm.setThrew(1,0)}}function invoke_ii(e,r){try{return Module.dynCall_ii(e,r)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;asm.setThrew(1,0)}}function invoke_viiiii(e,r,t,i,n,o){try{Module.dynCall_viiiii(e,r,t,i,n,o)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;asm.setThrew(1,0)}}function invoke_did(e,r,t){try{return Module.dynCall_did(e,r,t)}catch(i){if("number"!=typeof i&&"longjmp"!==i)throw i;asm.setThrew(1,0)}}function invoke_vi(e,r){try{Module.dynCall_vi(e,r)}catch(t){if("number"!=typeof t&&"longjmp"!==t)throw t;asm.setThrew(1,0)}}function invoke_diiiid(e,r,t,i,n,o){try{return Module.dynCall_diiiid(e,r,t,i,n,o)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;asm.setThrew(1,0)}}function invoke_vii(e,r,t){try{Module.dynCall_vii(e,r,t)}catch(i){if("number"!=typeof i&&"longjmp"!==i)throw i;asm.setThrew(1,0)}}function invoke_iiii(e,r,t,i){try{return Module.dynCall_iiii(e,r,t,i)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;asm.setThrew(1,0)}}function invoke_viii(e,r,t,i){try{Module.dynCall_viii(e,r,t,i)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;asm.setThrew(1,0)}}function invoke_v(e){try{Module.dynCall_v(e)}catch(r){if("number"!=typeof r&&"longjmp"!==r)throw r;asm.setThrew(1,0)}}function invoke_viid(e,r,t,i){try{Module.dynCall_viid(e,r,t,i)}catch(n){if("number"!=typeof n&&"longjmp"!==n)throw n;asm.setThrew(1,0)}}function invoke_iiiii(e,r,t,i,n){try{return Module.dynCall_iiiii(e,r,t,i,n)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;asm.setThrew(1,0)}}function invoke_viiiiii(e,r,t,i,n,o,a){try{Module.dynCall_viiiiii(e,r,t,i,n,o,a)}catch(u){if("number"!=typeof u&&"longjmp"!==u)throw u;asm.setThrew(1,0)}}function invoke_iii(e,r,t){try{return Module.dynCall_iii(e,r,t)}catch(i){if("number"!=typeof i&&"longjmp"!==i)throw i;asm.setThrew(1,0)}}function invoke_iiiiii(e,r,t,i,n,o){try{return Module.dynCall_iiiiii(e,r,t,i,n,o)}catch(a){if("number"!=typeof a&&"longjmp"!==a)throw a;asm.setThrew(1,0)}}function invoke_viiii(e,r,t,i,n){try{Module.dynCall_viiii(e,r,t,i,n)}catch(o){if("number"!=typeof o&&"longjmp"!==o)throw o;asm.setThrew(1,0)}}function asmPrintInt(e,r){Module.print("int "+e+","+r)}function asmPrintFloat(e,r){Module.print("float "+e+","+r)}function ExitStatus(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function run(e){function r(){Module.calledRun||(Module.calledRun=!0,ensureInitRuntime(),preMain(),ENVIRONMENT_IS_WEB&&null!==preloadStartTime&&Module.printErr("pre-main prep time: "+(Date.now()-preloadStartTime)+" ms"),Module._main&&shouldRunNow&&Module.callMain(e),postRun())}return e=e||Module.arguments,null===preloadStartTime&&(preloadStartTime=Date.now()),runDependencies>0?void Module.printErr("run() called, but dependencies remain, so not running"):(preRun(),void(runDependencies>0||Module.calledRun||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),ABORT||r()},1)):r())))}function exit(e){throw ABORT=!0,EXITSTATUS=e,STACKTOP=initialStackTop,exitRuntime(),new ExitStatus(e)}function abort(e){e&&(Module.print(e),Module.printErr(e)),ABORT=!0,EXITSTATUS=1;var r="\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.";throw"abort() at "+stackTrace()+r}function b2Max(e,r){return new b2Vec2(Math.max(e.x,r.x),Math.max(e.y,r.y))}function b2Min(e,r){return new b2Vec2(Math.min(e.x,r.x),Math.min(e.y,r.y))}function b2Clamp(e,r,t){return b2Max(r,b2Min(e,t))}function b2Vec2(e,r){void 0===e&&(e=0),void 0===r&&(r=0),this.x=e,this.y=r}function b2Rot(e){void 0===e&&(e=0),this.s=Math.sin(e),this.c=Math.cos(e)}function b2Transform(e,r){void 0===e&&(e=new b2Vec2),void 0===r&&(r=new b2Rot),this.p=e,this.q=r}function b2AABB(){this.lowerBound=new b2Vec2,this.upperBound=new b2Vec2}function b2Manifold(e){this.ptr=e}function b2WorldManifold(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e}function b2EdgeShape(){this.hasVertex0=!1,this.hasVertex3=!1,this.vertex0=new b2Vec2,this.vertex1=new b2Vec2,this.vertex2=new b2Vec2,this.vertex3=new b2Vec2,this.type=b2Shape_Type_e_edge}function b2PolygonShape(){this.position=new b2Vec2,this.vertices=[],this.type=b2Shape_Type_e_polygon}function b2MassData(e,r,t){this.mass=e,this.center=r,this.I=t}function b2ChainShape(){this.radius=b2_polygonRadius,this.vertices=[],this.type=b2Shape_Type_e_chain}function b2CircleShape(){this.position=new b2Vec2,this.radius=0,this.type=b2Shape_Type_e_circle}function b2Body(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e,this.fixtures=[]}function b2BodyDef(){this.active=!0,this.allowSleep=!0,this.angle=0,this.angularVelocity=0,this.angularDamping=0,this.awake=!0,this.bullet=!1,this.fixedRotation=!1,this.gravityScale=1,this.linearDamping=0,this.linearVelocity=new b2Vec2,this.position=new b2Vec2,this.type=b2_staticBody,this.userData=null}function b2World(e){this.bodies=[],this.bodiesLookup={},this.fixturesLookup={},this.joints=[],this.listener=null,this.particleSystems=[],this.ptr=b2World_Create(e.x,e.y),this.queryAABBCallback=null,this.rayCastCallback=null,this.buffer=new DataView(Module.HEAPU8.buffer,this.ptr);var r=4*Float32Array.BYTES_PER_ELEMENT,t=Module._malloc(r);_transBuf=new Uint8Array(Module.HEAPU8.buffer,t,r),r=2*Float32Array.BYTES_PER_ELEMENT,t=Module._malloc(r),_vec2Buf=new Uint8Array(Module.HEAPU8.buffer,t,r)}function b2WheelJoint(e){this.next=null,this.ptr=null}function b2WheelJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=.7,this.enableMotor=!1,this.frequencyHz=2,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.localAxisA=new b2Vec2(1,0),this.maxMotorTorque=0,this.motorSpeed=0}function b2WeldJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=0,this.frequencyHz=0,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.referenceAngle=0}function b2WeldJoint(e){this.bodyA=e.bodyA,this.bodyB=e.bodyB,this.next=null,this.ptr=null}function b2GearJoint(e){this.ptr=null,this.next=null}function b2GearJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.joint1=null,this.joint2=null,this.ratio=0}function b2Joint(){}function b2FrictionJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.maxForce=0,this.maxTorque=0,this.userData=null}function b2FrictionJoint(e){this.bodyA=e.bodyA,this.bodyB=e.bodyB,this.ptr=null,this.next=null}function b2RevoluteJoint(e){this.collideConnected=e.collideConnected,this.enableLimit=e.enableLimit,this.enableMotor=e.enableMotor,this.lowerAngle=e.lowerAngle,this.maxMotorTorque=e.maxMotorTorque,this.motorSpeed=e.motorSpeed,this.next=null,this.ptr=null,this.upperAngle=e.upperAngle,this.userData=e.userData}function b2RevoluteJointDef(){this.collideConnected=!1,this.enableLimit=!1,this.enableMotor=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.lowerAngle=0,this.maxMotorTorque=0,this.motorSpeed=0,this.referenceAngle=0,this.upperAngle=0,this.userData=null}function b2MotorJoint(e){this.bodyA=e.bodyA,this.bodyB=e.bodyB,this.ptr=null,this.next=null}function b2MotorJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.angularOffset=0,this.correctionFactor=.3,this.linearOffset=new b2Vec2,this.maxForce=0,this.maxTorque=0}function b2PulleyJoint(e){this.ptr=null,this.next=null}function b2PulleyJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!0,this.groundAnchorA=new b2Vec2,this.groundAnchorB=new b2Vec2,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.lengthA=0,this.lengthB=0,this.ratio=1}function b2DistanceJoint(e){this.bodyA=e.bodyA,this.bodyB=e.bodyB,this.ptr=null,this.next=null}function b2DistanceJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=0,this.length=1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.frequencyHz=0}function b2PrismaticJoint(e){this.ptr=null,this.next=null}function b2PrismaticJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.enableLimit=!1,this.enableMotor=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.localAxisA=new b2Vec2(1,0),this.lowerTranslation=0,this.maxMotorForce=0,this.motorSpeed=0,this.referenceAngle=0,this.upperTranslation=0}function b2RopeJoint(e){this.next=null,this.ptr=null}function b2RopeJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.localAnchorA=new b2Vec2,this.localAnchorB=new b2Vec2,this.maxLength=0}function b2MouseJoint(e){this.ptr=null,this.next=null}function b2MouseJointDef(){this.bodyA=null,this.bodyB=null,this.collideConnected=!1,this.dampingRatio=.7,this.frequencyHz=5,this.maxForce=0,this.target=new b2Vec2}function b2Contact(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e}function b2Filter(){this.categoryBits=1,this.groupIndex=0,this.maskBits=65535}function b2Fixture(){this.body=null,this.buffer=null,this.ptr=null,this.shape=null}function b2FixtureDef(){this.density=0,this.friction=.2,this.isSensor=!1,this.restitution=0,this.shape=null,this.userData=null,this.filter=new b2Filter}function b2ContactImpulse(e){this.ptr=e,this.buffer=new DataView(Module.HEAPU8.buffer,e)}function b2ParticleSystemDef(){this.colorMixingStrength=.5,this.dampingStrength=1,this.destroyByAge=!0,this.ejectionStrength=.5,this.elasticStrength=.25,this.lifetimeGranularity=1/60,this.powderStrength=.5,this.pressureStrength=.05,this.radius=1,this.repulsiveStrength=1,this.springStrength=.25,this.staticPressureIterations=8,this.staticPressureRelaxation=.2,this.staticPressureStrength=.2,this.surfaceTensionNormalStrength=.2,this.surfaceTensionPressureStrength=.2,this.viscousStrength=.25}function b2ParticleSystem(e){this.dampingStrength=1,this.density=1,this.ptr=e,this.particleGroups=[],this.radius=1}function b2ParticleGroup(e){this.buffer=new DataView(Module.HEAPU8.buffer,e),this.ptr=e}function b2ParticleGroupDef(){this.angle=0,this.angularVelocity=0,this.color=new b2ParticleColor(0,0,0,0),this.flags=0,this.group=new b2ParticleGroup(null),this.groupFlags=0,this.lifetime=0,this.linearVelocity=new b2Vec2,this.position=new b2Vec2,this.positionData=null,this.particleCount=0,this.shape=null,this.strength=1,this.stride=0,this.userData=null}function b2ParticleColor(e,r,t,i){void 0===e&&(e=0),void 0===r&&(r=0),void 0===t&&(t=0),void 0===i&&(i=0),this.r=e,this.g=r,this.b=t,this.a=i}function b2ParticleDef(){this.color=new b2Vec2,this.flags=0,this.group=0,this.lifetime=0,this.position=new b2Vec2,this.userData=0,this.velocity=new b2Vec2}var Module;Module||(Module=("undefined"!=typeof Module?Module:null)||{});var moduleOverrides={};for(var key in Module)Module.hasOwnProperty(key)&&(moduleOverrides[key]=Module[key]);var ENVIRONMENT_IS_NODE="object"==typeof process&&"function"==typeof require,ENVIRONMENT_IS_WEB="object"==typeof window,ENVIRONMENT_IS_WORKER="function"==typeof importScripts,ENVIRONMENT_IS_SHELL=!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_NODE&&!ENVIRONMENT_IS_WORKER;if(ENVIRONMENT_IS_NODE){Module.print||(Module.print=function(e){process.stdout.write(e+"\n")}),Module.printErr||(Module.printErr=function(e){process.stderr.write(e+"\n")});var nodeFS=require("fs"),nodePath=require("path");Module.read=function(e,r){e=nodePath.normalize(e);var t=nodeFS.readFileSync(e);return t||e==nodePath.resolve(e)||(e=path.join(__dirname,"..","src",e),t=nodeFS.readFileSync(e)),t&&!r&&(t=t.toString()),t},Module.readBinary=function(e){return Module.read(e,!0)},Module.load=function(e){globalEval(read(e))},Module.arguments=process.argv.slice(2),module.exports=Module}else if(ENVIRONMENT_IS_SHELL)Module.print||(Module.print=print),"undefined"!=typeof printErr&&(Module.printErr=printErr),"undefined"!=typeof read?Module.read=read:Module.read=function(){throw"no read() available (jsc?)"},Module.readBinary=function(e){return read(e,"binary")},"undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments),this.Module=Module;else{if(!ENVIRONMENT_IS_WEB&&!ENVIRONMENT_IS_WORKER)throw"Unknown runtime environment. Where are we?";if(Module.read=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},"undefined"!=typeof arguments&&(Module.arguments=arguments),"undefined"!=typeof console)Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)});else{var TRY_USE_DUMP=!1;Module.print||(Module.print=TRY_USE_DUMP&&"undefined"!=typeof dump?function(e){dump(e)}:function(e){})}ENVIRONMENT_IS_WEB?window.Module=Module:Module.load=importScripts}"undefined"==!Module.load&&Module.read&&(Module.load=function(e){globalEval(Module.read(e))}),Module.print||(Module.print=function(){}),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.print=Module.print,Module.printErr=Module.printErr,Module.preRun=[],Module.postRun=[];for(var key in moduleOverrides)moduleOverrides.hasOwnProperty(key)&&(Module[key]=moduleOverrides[key]);var Runtime={setTempRet0:function(e){tempRet0=e},getTempRet0:function(){return tempRet0},stackSave:function(){return STACKTOP},stackRestore:function(e){STACKTOP=e},forceAlign:function(e,r){return r=r||4,1==r?e:isNumber(e)&&isNumber(r)?Math.ceil(e/r)*r:isNumber(r)&&isPowerOfTwo(r)?"((("+e+")+"+(r-1)+")&"+-r+")":"Math.ceil(("+e+")/"+r+")*"+r},isNumberType:function(e){return e in Runtime.INT_TYPES||e in Runtime.FLOAT_TYPES},isPointerType:function(e){return"*"==e[e.length-1]},isStructType:function(e){return isPointerType(e)?!1:isArrayType(e)?!0:/<?\{ ?[^}]* ?\}>?/.test(e)?!0:"%"==e[0]},INT_TYPES:{i1:0,i8:0,i16:0,i32:0,i64:0},FLOAT_TYPES:{"float":0,"double":0},or64:function(e,r){var t=0|e|(0|r),i=4294967296*(Math.round(e/4294967296)|Math.round(r/4294967296));return t+i},and64:function(e,r){var t=(0|e)&(0|r),i=4294967296*(Math.round(e/4294967296)&Math.round(r/4294967296));return t+i},xor64:function(e,r){var t=(0|e)^(0|r),i=4294967296*(Math.round(e/4294967296)^Math.round(r/4294967296));return t+i},getNativeTypeSize:function(e){switch(e){case"i1":case"i8":return 1;case"i16":return 2;case"i32":return 4;case"i64":return 8;case"float":return 4;case"double":return 8;default:if("*"===e[e.length-1])return Runtime.QUANTUM_SIZE;if("i"===e[0]){var r=parseInt(e.substr(1));return assert(r%8===0),r/8}return 0}},getNativeFieldSize:function(e){return Math.max(Runtime.getNativeTypeSize(e),Runtime.QUANTUM_SIZE)},dedup:function(e,r){var t={};return r?e.filter(function(e){return t[e[r]]?!1:(t[e[r]]=!0,!0)}):e.filter(function(e){return t[e]?!1:(t[e]=!0,!0)})},set:function(){for(var e="object"==typeof arguments[0]?arguments[0]:arguments,r={},t=0;t<e.length;t++)r[e[t]]=0;return r},STACK_ALIGN:8,getAlignSize:function(e,r,t){return t||"i64"!=e&&"double"!=e?e?Math.min(r||(e?Runtime.getNativeFieldSize(e):0),Runtime.QUANTUM_SIZE):Math.min(r,8):8},calculateStructAlignment:function(e){e.flatSize=0,e.alignSize=0;var r=[],t=-1,i=0;return e.flatIndexes=e.fields.map(function(n){i++;var o,a;Runtime.isNumberType(n)||Runtime.isPointerType(n)?(o=Runtime.getNativeTypeSize(n),a=Runtime.getAlignSize(n,o)):Runtime.isStructType(n)?"0"===n[1]?(o=0,a=Types.types[n]?Runtime.getAlignSize(null,Types.types[n].alignSize):e.alignSize||QUANTUM_SIZE):(o=Types.types[n].flatSize,a=Runtime.getAlignSize(null,Types.types[n].alignSize)):"b"==n[0]?(o=0|n.substr(1),a=1):"<"===n[0]?o=a=Types.types[n].flatSize:"i"===n[0]?(o=a=parseInt(n.substr(1))/8,assert(o%1===0,"cannot handle non-byte-size field "+n)):assert(!1,"invalid type for calculateStructAlignment"),e.packed&&(a=1),e.alignSize=Math.max(e.alignSize,a);var u=Runtime.alignMemory(e.flatSize,a);return e.flatSize=u+o,t>=0&&r.push(u-t),t=u,u}),e.name_&&"["===e.name_[0]&&(e.flatSize=parseInt(e.name_.substr(1))*e.flatSize/2),e.flatSize=Runtime.alignMemory(e.flatSize,e.alignSize),0==r.length?e.flatFactor=e.flatSize:1==Runtime.dedup(r).length&&(e.flatFactor=r[0]),e.needsFlattening=1!=e.flatFactor,e.flatIndexes},generateStructInfo:function(e,r,t){var i,n;if(r){if(t=t||0,i=("undefined"==typeof Types?Runtime.typeInfo:Types.types)[r],!i)return null;if(i.fields.length!=e.length)return printErr("Number of named fields must match the type for "+r+": possibly duplicate struct names. Cannot return structInfo"),null;n=i.flatIndexes}else{var i={fields:e.map(function(e){return e[0]})};n=Runtime.calculateStructAlignment(i)}var o={__size__:i.flatSize};return r?e.forEach(function(e,r){if("string"==typeof e)o[e]=n[r]+t;else{var a;for(var u in e)a=u;o[a]=Runtime.generateStructInfo(e[a],i.fields[r],n[r])}}):e.forEach(function(e,r){o[e[1]]=n[r]}),o},dynCall:function(e,r,t){return t&&t.length?(t.splice||(t=Array.prototype.slice.call(t)),t.splice(0,0,r),Module["dynCall_"+e].apply(null,t)):Module["dynCall_"+e].call(null,r)},functionPointers:[],addFunction:function(e){for(var r=0;r<Runtime.functionPointers.length;r++)if(!Runtime.functionPointers[r])return Runtime.functionPointers[r]=e,2*(1+r);throw"Finished up all reserved function pointers. Use a higher value for RESERVED_FUNCTION_POINTERS."},removeFunction:function(e){Runtime.functionPointers[(e-2)/2]=null},getAsmConst:function(code,numArgs){Runtime.asmConstCache||(Runtime.asmConstCache={});var func=Runtime.asmConstCache[code];if(func)return func;for(var args=[],i=0;numArgs>i;i++)args.push(String.fromCharCode(36)+i);var source=Pointer_stringify(code);'"'===source[0]&&(source.indexOf('"',1)===source.length-1?source=source.substr(1,source.length-2):abort("invalid EM_ASM input |"+source+"|. Please use EM_ASM(..code..) (no quotes) or EM_ASM({ ..code($0).. }, input) (to input values)"));try{var evalled=eval("(function("+args.join(",")+"){ "+source+" })")}catch(e){throw Module.printErr("error in executing inline EM_ASM code: "+e+" on: \n\n"+source+"\n\nwith args |"+args+"| (make sure to use the right one out of EM_ASM, EM_ASM_ARGS, etc.)"),e}return Runtime.asmConstCache[code]=evalled},warnOnce:function(e){Runtime.warnOnce.shown||(Runtime.warnOnce.shown={}),Runtime.warnOnce.shown[e]||(Runtime.warnOnce.shown[e]=1,Module.printErr(e))},funcWrappers:{},getFuncWrapper:function(e,r){return assert(r),Runtime.funcWrappers[e]||(Runtime.funcWrappers[e]=function(){return Runtime.dynCall(r,e,arguments);
}),Runtime.funcWrappers[e]},UTF8Processor:function(){var e=[],r=0;this.processCChar=function(t){if(t=255&t,0==e.length)return 0==(128&t)?String.fromCharCode(t):(e.push(t),r=192==(224&t)?1:224==(240&t)?2:3,"");if(r&&(e.push(t),r--,r>0))return"";var i,n=e[0],o=e[1],a=e[2],u=e[3];if(2==e.length)i=String.fromCharCode((31&n)<<6|63&o);else if(3==e.length)i=String.fromCharCode((15&n)<<12|(63&o)<<6|63&a);else{var l=(7&n)<<18|(63&o)<<12|(63&a)<<6|63&u;i=String.fromCharCode(Math.floor((l-65536)/1024)+55296,(l-65536)%1024+56320)}return e.length=0,i},this.processJSString=function(e){e=unescape(encodeURIComponent(e));for(var r=[],t=0;t<e.length;t++)r.push(e.charCodeAt(t));return r}},getCompilerSetting:function(e){throw"You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work"},stackAlloc:function(e){var r=STACKTOP;return STACKTOP=STACKTOP+e|0,STACKTOP=STACKTOP+7&-8,r},staticAlloc:function(e){var r=STATICTOP;return STATICTOP=STATICTOP+e|0,STATICTOP=STATICTOP+7&-8,r},dynamicAlloc:function(e){var r=DYNAMICTOP;return DYNAMICTOP=DYNAMICTOP+e|0,DYNAMICTOP=DYNAMICTOP+7&-8,DYNAMICTOP>=TOTAL_MEMORY&&enlargeMemory(),r},alignMemory:function(e,r){var t=e=Math.ceil(e/(r?r:8))*(r?r:8);return t},makeBigInt:function(e,r,t){var i=t?+(e>>>0)+4294967296*+(r>>>0):+(e>>>0)+4294967296*+(0|r);return i},GLOBAL_BASE:8,QUANTUM_SIZE:4,__dummy__:0};Module.Runtime=Runtime;var __THREW__=0,ABORT=!1,EXITSTATUS=0,undef=0,tempValue,tempInt,tempBigInt,tempInt2,tempBigInt2,tempPair,tempBigIntI,tempBigIntR,tempBigIntS,tempBigIntP,tempBigIntD,tempDouble,tempFloat,tempI64,tempI64b,tempRet0,tempRet1,tempRet2,tempRet3,tempRet4,tempRet5,tempRet6,tempRet7,tempRet8,tempRet9,globalScope=this,cwrap,ccall;!function(){function parseJSFunc(e){var r=e.toString().match(sourceRegex).slice(1);return{arguments:r[0],body:r[1],returnValue:r[2]}}var stack=0,JSfuncs={stackSave:function(){stack=Runtime.stackSave()},stackRestore:function(){Runtime.stackRestore(stack)},arrayToC:function(e){var r=Runtime.stackAlloc(e.length);return writeArrayToMemory(e,r),r},stringToC:function(e){var r=0;return null!==e&&void 0!==e&&0!==e&&(r=Runtime.stackAlloc(e.length+1),writeStringToMemory(e,r)),r}},toC={string:JSfuncs.stringToC,array:JSfuncs.arrayToC};ccall=function(e,r,t,i){var n=getCFunc(e),o=[];if(i)for(var a=0;a<i.length;a++){var u=toC[t[a]];u?(0===stack&&(stack=Runtime.stackSave()),o[a]=u(i[a])):o[a]=i[a]}var l=n.apply(null,o);return"string"===r&&(l=Pointer_stringify(l)),0!==stack&&JSfuncs.stackRestore(),l};var sourceRegex=/^function\s*\(([^)]*)\)\s*{\s*([^*]*?)[\s;]*(?:return\s*(.*?)[;\s]*)?}$/,JSsource={};for(var fun in JSfuncs)JSfuncs.hasOwnProperty(fun)&&(JSsource[fun]=parseJSFunc(JSfuncs[fun]));cwrap=function cwrap(ident,returnType,argTypes){var cfunc=getCFunc(ident),numericArgs=argTypes.every(function(e){return"number"===e}),numericRet="string"!==returnType;if(numericRet&&numericArgs)return cfunc;var argNames=argTypes.map(function(e,r){return"$"+r}),funcstr="(function("+argNames.join(",")+") {",nargs=argTypes.length;if(!numericArgs){funcstr+=JSsource.stackSave.body+";";for(var i=0;nargs>i;i++){var arg=argNames[i],type=argTypes[i];if("number"!==type){var convertCode=JSsource[type+"ToC"];funcstr+="var "+convertCode.arguments+" = "+arg+";",funcstr+=convertCode.body+";",funcstr+=arg+"="+convertCode.returnValue+";"}}}var cfuncname=parseJSFunc(function(){return cfunc}).returnValue;if(funcstr+="var ret = "+cfuncname+"("+argNames.join(",")+");",!numericRet){var strgfy=parseJSFunc(function(){return Pointer_stringify}).returnValue;funcstr+="ret = "+strgfy+"(ret);"}return numericArgs||(funcstr+=JSsource.stackRestore.body+";"),funcstr+="return ret})",eval(funcstr)}}(),Module.cwrap=cwrap,Module.ccall=ccall,Module.setValue=setValue,Module.getValue=getValue;var ALLOC_NORMAL=0,ALLOC_STACK=1,ALLOC_STATIC=2,ALLOC_DYNAMIC=3,ALLOC_NONE=4;Module.ALLOC_NORMAL=ALLOC_NORMAL,Module.ALLOC_STACK=ALLOC_STACK,Module.ALLOC_STATIC=ALLOC_STATIC,Module.ALLOC_DYNAMIC=ALLOC_DYNAMIC,Module.ALLOC_NONE=ALLOC_NONE,Module.allocate=allocate,Module.Pointer_stringify=Pointer_stringify,Module.UTF16ToString=UTF16ToString,Module.stringToUTF16=stringToUTF16,Module.UTF32ToString=UTF32ToString,Module.stringToUTF32=stringToUTF32;for(var PAGE_SIZE=4096,HEAP,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64,STATIC_BASE=0,STATICTOP=0,staticSealed=!1,STACK_BASE=0,STACKTOP=0,STACK_MAX=0,DYNAMIC_BASE=0,DYNAMICTOP=0,TOTAL_STACK=Module.TOTAL_STACK||5242880,TOTAL_MEMORY=Module.TOTAL_MEMORY||33554432,FAST_MEMORY=Module.FAST_MEMORY||2097152,totalMemory=4096;TOTAL_MEMORY>totalMemory||2*TOTAL_STACK>totalMemory;)16777216>totalMemory?totalMemory*=2:totalMemory+=16777216;totalMemory!==TOTAL_MEMORY&&(Module.printErr("increasing TOTAL_MEMORY to "+totalMemory+" to be more reasonable"),TOTAL_MEMORY=totalMemory),assert("undefined"!=typeof Int32Array&&"undefined"!=typeof Float64Array&&!!new Int32Array(1).subarray&&!!new Int32Array(1).set,"JS engine does not provide full typed array support");var buffer=new ArrayBuffer(TOTAL_MEMORY);HEAP8=new Int8Array(buffer),HEAP16=new Int16Array(buffer),HEAP32=new Int32Array(buffer),HEAPU8=new Uint8Array(buffer),HEAPU16=new Uint16Array(buffer),HEAPU32=new Uint32Array(buffer),HEAPF32=new Float32Array(buffer),HEAPF64=new Float64Array(buffer),HEAP32[0]=255,assert(255===HEAPU8[0]&&0===HEAPU8[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=HEAP,Module.HEAP8=HEAP8,Module.HEAP16=HEAP16,Module.HEAP32=HEAP32,Module.HEAPU8=HEAPU8,Module.HEAPU16=HEAPU16,Module.HEAPU32=HEAPU32,Module.HEAPF32=HEAPF32,Module.HEAPF64=HEAPF64;var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATEXIT__=[],__ATPOSTRUN__=[],runtimeInitialized=!1;Module.addOnPreRun=Module.addOnPreRun=addOnPreRun,Module.addOnInit=Module.addOnInit=addOnInit,Module.addOnPreMain=Module.addOnPreMain=addOnPreMain,Module.addOnExit=Module.addOnExit=addOnExit,Module.addOnPostRun=Module.addOnPostRun=addOnPostRun,Module.intArrayFromString=intArrayFromString,Module.intArrayToString=intArrayToString,Module.writeStringToMemory=writeStringToMemory,Module.writeArrayToMemory=writeArrayToMemory,Module.writeAsciiToMemory=writeAsciiToMemory,Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,r){var t=e>>>16,i=65535&e,n=r>>>16,o=65535&r;return i*o+(t*o+i*n<<16)|0}),Math.imul=Math.imul;var Math_abs=Math.abs,Math_cos=Math.cos,Math_sin=Math.sin,Math_tan=Math.tan,Math_acos=Math.acos,Math_asin=Math.asin,Math_atan=Math.atan,Math_atan2=Math.atan2,Math_exp=Math.exp,Math_log=Math.log,Math_sqrt=Math.sqrt,Math_ceil=Math.ceil,Math_floor=Math.floor,Math_pow=Math.pow,Math_imul=Math.imul,Math_fround=Math.fround,Math_min=Math.min,runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;Module.addRunDependency=addRunDependency,Module.removeRunDependency=removeRunDependency,Module.preloadedImages={},Module.preloadedAudios={};var memoryInitializer=null,__ZTVN10__cxxabiv117__class_type_infoE=9e3,__ZTVN10__cxxabiv120__si_class_type_infoE=9040;STATIC_BASE=8,STATICTOP=STATIC_BASE+Runtime.alignMemory(9715),__ATINIT__.push({func:function(){__GLOBAL__I_a()}}),allocate([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,152,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,49,53,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,49,55,98,50,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,0,0,0,0,0,48,35,0,0,120,0,0,0,88,35,0,0,96,0,0,0,144,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,3,0,0,0,4,0,0,0,2,0,0,0,1,0,0,0,3,0,0,0,0,0,0,0,49,55,81,117,101,114,121,65,65,66,66,67,97,108,108,98,97,99,107,0,0,0,0,0,49,53,98,50,81,117,101,114,121,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,48,35,0,0,224,0,0,0,88,35,0,0,200,0,0,0,248,0,0,0,0,0,0,0,0,0,0,0,128,1,0,0,5,0,0,0,6,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,3,0,0,0,4,0,0,0,50,50,98,50,87,111,114,108,100,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,0,0,0,0,0,0,0,0,49,55,98,50,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,0,0,0,0,0,48,35,0,0,96,1,0,0,88,35,0,0,64,1,0,0,120,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,56,2,0,0,7,0,0,0,8,0,0,0,4,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,1,0,0,0,3,0,0,0,1,0,0,0,0,0,0,0,49,49,98,50,69,100,103,101,83,104,97,112,101,0,0,0,55,98,50,83,104,97,112,101,0,0,0,0,0,0,0,0,48,35,0,0,32,2,0,0,88,35,0,0,16,2,0,0,48,2,0,0,0,0,0,0,0,0,0,0,144,2,0,0,9,0,0,0,10,0,0,0,5,0,0,0,2,0,0,0,3,0,0,0,2,0,0,0,2,0,0,0,4,0,0,0,2,0,0,0,0,0,0,0,49,52,98,50,80,111,108,121,103,111,110,83,104,97,112,101,0,0,0,0,0,0,0,0,88,35,0,0,120,2,0,0,48,2,0,0,0,0,0,0,0,0,0,0,224,2,0,0,11,0,0,0,12,0,0,0,6,0,0,0,3,0,0,0,4,0,0,0,3,0,0,0,3,0,0,0,5,0,0,0,3,0,0,0,0,0,0,0,49,51,98,50,67,105,114,99,108,101,83,104,97,112,101,0,88,35,0,0,208,2,0,0,48,2,0,0,0,0,0,0,0,0,0,0,48,3,0,0,13,0,0,0,14,0,0,0,7,0,0,0,4,0,0,0,5,0,0,0,4,0,0,0,4,0,0,0,6,0,0,0,4,0,0,0,0,0,0,0,49,50,98,50,67,104,97,105,110,83,104,97,112,101,0,0,88,35,0,0,32,3,0,0,48,2,0,0,0,0,0,0,0,0,0,0,120,3,0,0,15,0,0,0,16,0,0,0,6,0,0,0,1,0,0,0,2,0,0,0,0,0,0,0,49,53,98,50,67,111,110,116,97,99,116,70,105,108,116,101,114,0,0,0,0,0,0,0,48,35,0,0,96,3,0,0,0,0,0,0,224,3,0,0,3,0,0,0,4,0,0,0,5,0,0,0,1,0,0,0,17,0,0,0,5,0,0,0,18,0,0,0,19,0,0,0,6,0,0,0,7,0,0,0,8,0,0,0,0,0,0,0,49,50,98,50,77,111,117,115,101,74,111,105,110,116,0,0,55,98,50,74,111,105,110,116,0,0,0,0,0,0,0,0,48,35,0,0,200,3,0,0,88,35,0,0,184,3,0,0,216,3,0,0,0,0,0,0,77,111,117,115,101,32,106,111,105,110,116,32,100,117,109,112,105,110,103,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,46,10,0,0,0,0,0,0,200,5,0,0,8,0,0,0,9,0,0,0,6,0,0,0,2,0,0,0,20,0,0,0,10,0,0,0,21,0,0,0,22,0,0,0,11,0,0,0,12,0,0,0,9,0,0,0,0,0,0,0,32,32,98,50,77,111,116,111,114,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,105,110,101,97,114,79,102,102,115,101,116,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,97,110,103,117,108,97,114,79,102,102,115,101,116,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,106,100,46,109,97,120,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,32,32,106,100,46,99,111,114,114,101,99,116,105,111,110,70,97,99,116,111,114,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,50,98,50,77,111,116,111,114,74,111,105,110,116,0,0,88,35,0,0,184,5,0,0,216,3,0,0,0,0,0,0,0,0,0,0,152,7,0,0,13,0,0,0,14,0,0,0,7,0,0,0,3,0,0,0,23,0,0,0,10,0,0,0,24,0,0,0,25,0,0,0,15,0,0,0,16,0,0,0,10,0,0,0,0,0,0,0,32,32,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,102,114,101,113,117,101,110,99,121,72,122,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,32,32,106,100,46,100,97,109,112,105,110,103,82,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,53,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,0,0,0,0,0,0,0,88,35,0,0,128,7,0,0,216,3,0,0,0,0,0,0,0,0,0,0,80,9,0,0,17,0,0,0,18,0,0,0,8,0,0,0,4,0,0,0,26,0,0,0,10,0,0,0,27,0,0,0,28,0,0,0,19,0,0,0,20,0,0,0,11,0,0,0,0,0,0,0,32,32,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,53,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,0,0,0,0,0,0,0,88,35,0,0,56,9,0,0,216,3,0,0,0,0,0,0,0,0,0,0,24,11,0,0,21,0,0,0,22,0,0,0,9,0,0,0,5,0,0,0,29,0,0,0,10,0,0,0,30,0,0,0,31,0,0,0,23,0,0,0,24,0,0,0,12,0,0,0,0,0,0,0,32,32,98,50,87,101,108,100,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,114,101,102,101,114,101,110,99,101,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,102,114,101,113,117,101,110,99,121,72,122,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,32,32,106,100,46,100,97,109,112,105,110,103,82,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,49,98,50,87,101,108,100,74,111,105,110,116,0,0,0,88,35,0,0,8,11,0,0,216,3,0,0,0,0,0,0,0,0,0,0,120,12,0,0,25,0,0,0,26,0,0,0,10,0,0,0,6,0,0,0,32,0,0,0,10,0,0,0,33,0,0,0,34,0,0,0,27,0,0,0,28,0,0,0,13,0,0,0,0,0,0,0,32,32,98,50,71,101,97,114,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,106,111,105,110,116,49,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0,0,0,0,0,0,32,32,106,100,46,106,111,105,110,116,50,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0,0,0,0,0,0,32,32,106,100,46,114,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,49,98,50,71,101,97,114,74,111,105,110,116,0,0,0,88,35,0,0,104,12,0,0,216,3,0,0,0,0,0,0,0,0,0,0,8,15,0,0,29,0,0,0,30,0,0,0,11,0,0,0,7,0,0,0,35,0,0,0,10,0,0,0,36,0,0,0,37,0,0,0,31,0,0,0,32,0,0,0,14,0,0,0,0,0,0,0,32,32,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,120,105,115,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,114,101,102,101,114,101,110,99,101,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,101,110,97,98,108,101,76,105,109,105,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,108,111,119,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,117,112,112,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,32,32,106,100,46,101,110,97,98,108,101,77,111,116,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,109,111,116,111,114,83,112,101,101,100,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,109,97,120,77,111,116,111,114,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,54,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,0,0,0,0,0,0,88,35,0,0,240,14,0,0,216,3,0,0,0,0,0,0,0,0,0,0,144,16,0,0,33,0,0,0,34,0,0,0,12,0,0,0,8,0,0,0,38,0,0,0,10,0,0,0,39,0,0,0,40,0,0,0,35,0,0,0,36,0,0,0,15,0,0,0,0,0,0,0,32,32,98,50,82,111,112,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,109,97,120,76,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,49,98,50,82,111,112,101,74,111,105,110,116,0,0,0,88,35,0,0,128,16,0,0,216,3,0,0,0,0,0,0,0,0,0,0,216,3,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,41,0,0,0,10,0,0,0,42,0,0,0,43,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,47,47,32,68,117,109,112,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,102,111,114,32,116,104,105,115,32,106,111,105,110,116,32,116,121,112,101,46,10,0,0,0,0,0,0,80,19,0,0,37,0,0,0,38,0,0,0,13,0,0,0,9,0,0,0,44,0,0,0,10,0,0,0,45,0,0,0,46,0,0,0,39,0,0,0,40,0,0,0,16,0,0,0,0,0,0,0,32,32,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,114,101,102,101,114,101,110,99,101,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,101,110,97,98,108,101,76,105,109,105,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,108,111,119,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,117,112,112,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,101,110,97,98,108,101,77,111,116,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,109,111,116,111,114,83,112,101,101,100,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,109,97,120,77,111,116,111,114,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,53,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,0,0,0,0,0,0,0,88,35,0,0,56,19,0,0,216,3,0,0,0,0,0,0,0,0,0,0,128,21,0,0,41,0,0,0,42,0,0,0,14,0,0,0,10,0,0,0,47,0,0,0,10,0,0,0,48,0,0,0,49,0,0,0,43,0,0,0,44,0,0,0,17,0,0,0,0,0,0,0,32,32,98,50,87,104,101,101,108,74,111,105,110,116,68,101,102,32,106,100,59,10,0,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,120,105,115,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,32,32,106,100,46,101,110,97,98,108,101,77,111,116,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,32,32,106,100,46,109,111,116,111,114,83,112,101,101,100,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,32,32,106,100,46,109,97,120,77,111,116,111,114,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0,32,32,106,100,46,102,114,101,113,117,101,110,99,121,72,122,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,32,32,106,100,46,100,97,109,112,105,110,103,82,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,50,98,50,87,104,101,101,108,74,111,105,110,116,0,0,88,35,0,0,112,21,0,0,216,3,0,0,0,0,0,0,0,0,0,0,160,23,0,0,45,0,0,0,46,0,0,0,15,0,0,0,11,0,0,0,50,0,0,0,47,0,0,0,51,0,0,0,52,0,0,0,48,0,0,0,49,0,0,0,18,0,0,0,0,0,0,0,32,32,98,50,80,117,108,108,101,121,74,111,105,110,116,68,101,102,32,106,100,59,10,0,32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0,0,0,0,0,0,0,32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0,0,0,0,0,0,32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,65,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,0,32,32,106,100,46,108,101,110,103,116,104,66,32,61,32,37,46,49,53,108,101,102,59,10,0,0,0,0,0,0,0,0,32,32,106,100,46,114,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0,0,32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0,0,0,0,0,0,49,51,98,50,80,117,108,108,101,121,74,111,105,110,116,0,88,35,0,0,144,23,0,0,216,3,0,0,0,0,0,0,0,0,0,0,0,24,0,0,7,0,0,0,53,0,0,0,54,0,0,0,0,0,0,0,50,52,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,57,98,50,67,111,110,116,97,99,116,0,0,0,0,0,0,48,35,0,0,232,23,0,0,88,35,0,0,200,23,0,0,248,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,248,23,0,0,1,0,0,0,55,0,0,0,56,0,0,0,0,0,0,0,0,0,0,0,40,25,0,0,8,0,0,0,57,0,0,0,58,0,0,0,0,0,0,0,50,53,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,88,35,0,0,8,25,0,0,248,23,0,0,0,0,0,0,0,0,0,0,104,25,0,0,9,0,0,0,59,0,0,0,60,0,0,0,0,0,0,0,49,53,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,88,35,0,0,80,25,0,0,248,23,0,0,0,0,0,0,0,0,0,0,176,25,0,0,10,0,0,0,61,0,0,0,62,0,0,0,0,0,0,0,50,50,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,0,88,35,0,0,144,25,0,0,248,23,0,0,0,0,0,0,0,0,0,0,248,25,0,0,11,0,0,0,63,0,0,0,64,0,0,0,0,0,0,0,50,51,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0,0,0,0,0,0,0,88,35,0,0,216,25,0,0,248,23,0,0,0,0,0,0,0,0,0,0,64,26,0,0,12,0,0,0,65,0,0,0,66,0,0,0,0,0,0,0,50,51,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,0,88,35,0,0,32,26,0,0,248,23,0,0,0,0,0,0,0,0,0,0,128,26,0,0,13,0,0,0,67,0,0,0,68,0,0,0,0,0,0,0,49,54,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0,0,0,0,0,0,88,35,0,0,104,26,0,0,248,23,0,0,0,0,0,0,72,3,0,0,0,0,0,0,168,26,0,0,0,0,0,0,0,0,0,0,120,1,0,0,69,0,0,0,70,0,0,0,50,0,0,0,51,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,2,0,0,0,5,0,0,0,6,0,0,0,0,0,0,0,120,27,0,0,71,0,0,0,72,0,0,0,19,0,0,0,1,0,0,0,20,0,0,0,14,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,49,52,83,111,108,118,101,67,111,108,108,105,115,105,111,110,69,82,75,49,48,98,50,84,105,109,101,83,116,101,112,69,50,50,83,111,108,118,101,67,111,108,108,105,115,105,111,110,67,97,108,108,98,97,99,107,0,0,0,0,51,48,98,50,70,105,120,116,117,114,101,80,97,114,116,105,99,108,101,81,117,101,114,121,67,97,108,108,98,97,99,107,0,0,0,0,0,0,0,0,88,35,0,0,64,27,0,0,248,0,0,0,0,0,0,0,88,35,0,0,240,26,0,0,104,27,0,0,0,0,0,0,0,0,0,0,240,27,0,0,73,0,0,0,74,0,0,0,19,0,0,0,1,0,0,0,20,0,0,0,15,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,49,56,85,112,100,97,116,101,66,111,100,121,67,111,110,116,97,99,116,115,69,118,69,50,54,85,112,100,97,116,101,66,111,100,121,67,111,110,116,97,99,116,115,67,97,108,108,98,97,99,107,0,88,35,0,0,168,27,0,0,104,27,0,0,0,0,0,0,0,0,0,0,168,28,0,0,75,0,0,0,76,0,0,0,16,0,0,0,0,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,50,48,85,112,100,97,116,101,80,97,105,114,115,65,110,100,84,114,105,97,100,115,69,105,105,82,75,78,83,95,49,54,67,111,110,110,101,99,116,105,111,110,70,105,108,116,101,114,69,69,50,48,85,112,100,97,116,101,84,114,105,97,100,115,67,97,108,108,98,97,99,107,0,0,0,0,78,49,54,98,50,86,111,114,111,110,111,105,68,105,97,103,114,97,109,49,50,78,111,100,101,67,97,108,108,98,97,99,107,69,0,0,0,0,0,0,48,35,0,0,120,28,0,0,88,35,0,0,24,28,0,0,160,28,0,0,0,0,0,0,0,0,0,0,96,29,0,0,77,0,0,0,78,0,0,0,21,0,0,0,7,0,0,0,3,0,0,0,0,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,52,49,85,112,100,97,116,101,80,97,105,114,115,65,110,100,84,114,105,97,100,115,87,105,116,104,82,101,97,99,116,105,118,101,80,97,114,116,105,99,108,101,115,69,118,69,49,52,82,101,97,99,116,105,118,101,70,105,108,116,101,114,0,0,0,0,0,0,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,49,54,67,111,110,110,101,99,116,105,111,110,70,105,108,116,101,114,69,0,0,48,35,0,0,48,29,0,0,88,35,0,0,216,28,0,0,88,29,0,0,0,0,0,0,0,0,0,0,88,29,0,0,79,0,0,0,80,0,0,0,22,0,0,0,7,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,16,30,0,0,81,0,0,0,82,0,0,0,22,0,0,0,8,0,0,0,4,0,0,0,0,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,49,56,74,111,105,110,80,97,114,116,105,99,108,101,71,114,111,117,112,115,69,80,49,53,98,50,80,97,114,116,105,99,108,101,71,114,111,117,112,83,49,95,69,50,52,74,111,105,110,80,97,114,116,105,99,108,101,71,114,111,117,112,115,70,105,108,116,101,114,0,0,0,0,0,0,0,88,35,0,0,176,29,0,0,88,29,0,0,0,0,0,0,0,0,0,0,208,30,0,0,83,0,0,0,84,0,0,0,23,0,0,0,5,0,0,0,9,0,0,0,5,0,0,0,5,0,0,0,17,0,0,0,16,0,0,0,0,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,51,51,67,114,101,97,116,101,80,97,114,116,105,99,108,101,115,87,105,116,104,83,104,97,112,101,115,70,111,114,71,114,111,117,112,69,80,75,80,75,55,98,50,83,104,97,112,101,105,82,75,49,56,98,50,80,97,114,116,105,99,108,101,71,114,111,117,112,68,101,102,82,75,49,49,98,50,84,114,97,110,115,102,111,114,109,69,49,52,67,111,109,112,111,115,105,116,101,83,104,97,112,101,0,0,0,0,0,88,35,0,0,80,30,0,0,48,2,0,0,0,0,0,0,0,0,0,0,112,31,0,0,85,0,0,0,86,0,0,0,24,0,0,0,10,0,0,0,3,0,0,0,0,0,0,0,90,78,49,54,98,50,80,97,114,116,105,99,108,101,83,121,115,116,101,109,50,51,68,101,115,116,114,111,121,80,97,114,116,105,99,108,101,115,73,110,83,104,97,112,101,69,82,75,55,98,50,83,104,97,112,101,82,75,49,49,98,50,84,114,97,110,115,102,111,114,109,98,69,51,49,68,101,115,116,114,111,121,80,97,114,116,105,99,108,101,115,73,110,83,104,97,112,101,67,97,108,108,98,97,99,107,0,0,0,0,0,0,88,35,0,0,0,31,0,0,248,0,0,0,0,0,0,0,8,0,0,0,0,0,0,0,16,0,0,0,32,0,0,0,64,0,0,0,96,0,0,0,128,0,0,0,160,0,0,0,192,0,0,0,224,0,0,0,0,1,0,0,64,1,0,0,128,1,0,0,192,1,0,0,0,2,0,0,128,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,76,105,113,117,105,100,70,117,110,32,49,46,49,46,48,0,104,34,0,0,0,0,0,0,25,0,0,0,0,0,0,0,52,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,83,116,57,116,121,112,101,95,105,110,102,111,0,0,0,0,48,35,0,0,160,34,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,0,88,35,0,0,184,34,0,0,176,34,0,0,0,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,0,0,0,88,35,0,0,240,34,0,0,224,34,0,0,0,0,0,0,0,0,0,0,24,35,0,0,87,0,0,0,88,0,0,0,89,0,0,0,90,0,0,0,11,0,0,0,6,0,0,0,1,0,0,0,18,0,0,0,0,0,0,0,160,35,0,0,87,0,0,0,91,0,0,0,89,0,0,0,90,0,0,0,11,0,0,0,7,0,0,0,2,0,0,0,19,0,0,0,78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0,0,0,0,88,35,0,0,120,35,0,0,24,35,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,232,37,0,0,92,0,0,0,93,0,0,0,6,0,0,0,0,0,0,0,115,116,100,58,58,98,97,100,95,97,108,108,111,99,0,0,83,116,57,98,97,100,95,97,108,108,111,99,0,0,0,0,88,35,0,0,216,37,0,0,0,0,0,0,0,0,0,0],"i8",ALLOC_NONE,Runtime.GLOBAL_BASE);
var tempDoublePtr=Runtime.alignMemory(allocate(12,"i8",ALLOC_STATIC),8);assert(tempDoublePtr%8==0);var ___cxa_last_thrown_exception=0,___cxa_exception_header_size=8;Module._memset=_memset;var _FtoIHigh=!0,___cxa_caught_exceptions=[];Module._strlen=_strlen,Module._i64Add=_i64Add,Module._memcpy=_memcpy,Module._memmove=_memmove;var ___errno_state=0,_FtoILow=!0,ERRNO_CODES={EPERM:1,ENOENT:2,ESRCH:3,EINTR:4,EIO:5,ENXIO:6,E2BIG:7,ENOEXEC:8,EBADF:9,ECHILD:10,EAGAIN:11,EWOULDBLOCK:11,ENOMEM:12,EACCES:13,EFAULT:14,ENOTBLK:15,EBUSY:16,EEXIST:17,EXDEV:18,ENODEV:19,ENOTDIR:20,EISDIR:21,EINVAL:22,ENFILE:23,EMFILE:24,ENOTTY:25,ETXTBSY:26,EFBIG:27,ENOSPC:28,ESPIPE:29,EROFS:30,EMLINK:31,EPIPE:32,EDOM:33,ERANGE:34,ENOMSG:42,EIDRM:43,ECHRNG:44,EL2NSYNC:45,EL3HLT:46,EL3RST:47,ELNRNG:48,EUNATCH:49,ENOCSI:50,EL2HLT:51,EDEADLK:35,ENOLCK:37,EBADE:52,EBADR:53,EXFULL:54,ENOANO:55,EBADRQC:56,EBADSLT:57,EDEADLOCK:35,EBFONT:59,ENOSTR:60,ENODATA:61,ETIME:62,ENOSR:63,ENONET:64,ENOPKG:65,EREMOTE:66,ENOLINK:67,EADV:68,ESRMNT:69,ECOMM:70,EPROTO:71,EMULTIHOP:72,EDOTDOT:73,EBADMSG:74,ENOTUNIQ:76,EBADFD:77,EREMCHG:78,ELIBACC:79,ELIBBAD:80,ELIBSCN:81,ELIBMAX:82,ELIBEXEC:83,ENOSYS:38,ENOTEMPTY:39,ENAMETOOLONG:36,ELOOP:40,EOPNOTSUPP:95,EPFNOSUPPORT:96,ECONNRESET:104,ENOBUFS:105,EAFNOSUPPORT:97,EPROTOTYPE:91,ENOTSOCK:88,ENOPROTOOPT:92,ESHUTDOWN:108,ECONNREFUSED:111,EADDRINUSE:98,ECONNABORTED:103,ENETUNREACH:101,ENETDOWN:100,ETIMEDOUT:110,EHOSTDOWN:112,EHOSTUNREACH:113,EINPROGRESS:115,EALREADY:114,EDESTADDRREQ:89,EMSGSIZE:90,EPROTONOSUPPORT:93,ESOCKTNOSUPPORT:94,EADDRNOTAVAIL:99,ENETRESET:102,EISCONN:106,ENOTCONN:107,ETOOMANYREFS:109,EUSERS:87,EDQUOT:122,ESTALE:116,ENOTSUP:95,ENOMEDIUM:123,EILSEQ:84,EOVERFLOW:75,ECANCELED:125,ENOTRECOVERABLE:131,EOWNERDEAD:130,ESTRPIPE:86},ERRNO_MESSAGES={0:"Success",1:"Not super-user",2:"No such file or directory",3:"No such process",4:"Interrupted system call",5:"I/O error",6:"No such device or address",7:"Arg list too long",8:"Exec format error",9:"Bad file number",10:"No children",11:"No more processes",12:"Not enough core",13:"Permission denied",14:"Bad address",15:"Block device required",16:"Mount device busy",17:"File exists",18:"Cross-device link",19:"No such device",20:"Not a directory",21:"Is a directory",22:"Invalid argument",23:"Too many open files in system",24:"Too many open files",25:"Not a typewriter",26:"Text file busy",27:"File too large",28:"No space left on device",29:"Illegal seek",30:"Read only file system",31:"Too many links",32:"Broken pipe",33:"Math arg out of domain of func",34:"Math result not representable",35:"File locking deadlock error",36:"File or path name too long",37:"No record locks available",38:"Function not implemented",39:"Directory not empty",40:"Too many symbolic links",42:"No message of desired type",43:"Identifier removed",44:"Channel number out of range",45:"Level 2 not synchronized",46:"Level 3 halted",47:"Level 3 reset",48:"Link number out of range",49:"Protocol driver not attached",50:"No CSI structure available",51:"Level 2 halted",52:"Invalid exchange",53:"Invalid request descriptor",54:"Exchange full",55:"No anode",56:"Invalid request code",57:"Invalid slot",59:"Bad font file fmt",60:"Device not a stream",61:"No data (for no delay io)",62:"Timer expired",63:"Out of streams resources",64:"Machine is not on the network",65:"Package not installed",66:"The object is remote",67:"The link has been severed",68:"Advertise error",69:"Srmount error",70:"Communication error on send",71:"Protocol error",72:"Multihop attempted",73:"Cross mount point (not really error)",74:"Trying to read unreadable message",75:"Value too large for defined data type",76:"Given log. name not unique",77:"f.d. invalid for this operation",78:"Remote address changed",79:"Can   access a needed shared lib",80:"Accessing a corrupted shared lib",81:".lib section in a.out corrupted",82:"Attempting to link in too many libs",83:"Attempting to exec a shared library",84:"Illegal byte sequence",86:"Streams pipe error",87:"Too many users",88:"Socket operation on non-socket",89:"Destination address required",90:"Message too long",91:"Protocol wrong type for socket",92:"Protocol not available",93:"Unknown protocol",94:"Socket type not supported",95:"Not supported",96:"Protocol family not supported",97:"Address family not supported by protocol family",98:"Address already in use",99:"Address not available",100:"Network interface is not configured",101:"Network is unreachable",102:"Connection reset by network",103:"Connection aborted",104:"Connection reset by peer",105:"No buffer space available",106:"Socket is already connected",107:"Socket is not connected",108:"Can't send after socket shutdown",109:"Too many references",110:"Connection timed out",111:"Connection refused",112:"Host is down",113:"Host is unreachable",114:"Socket already connected",115:"Connection already in progress",116:"Stale file handle",122:"Quota exceeded",123:"No medium (in tape drive)",125:"Operation canceled",130:"Previous owner died",131:"State not recoverable"},TTY={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){TTY.ttys[e]={input:[],output:[],ops:r},FS.registerDevice(e,TTY.stream_ops)},stream_ops:{open:function(e){var r=TTY.ttys[e.node.rdev];if(!r)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);e.tty=r,e.seekable=!1},close:function(e){e.tty.output.length&&e.tty.ops.put_char(e.tty,10)},read:function(e,r,t,i,n){if(!e.tty||!e.tty.ops.get_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0,a=0;i>a;a++){var u;try{u=e.tty.ops.get_char(e.tty)}catch(l){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===u&&0===o)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===u||void 0===u)break;o++,r[t+a]=u}return o&&(e.node.timestamp=Date.now()),o},write:function(e,r,t,i,n){if(!e.tty||!e.tty.ops.put_char)throw new FS.ErrnoError(ERRNO_CODES.ENXIO);for(var o=0;i>o;o++)try{e.tty.ops.put_char(e.tty,r[t+o])}catch(a){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return i&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(ENVIRONMENT_IS_NODE){if(r=process.stdin.read(),!r){if(process.stdin._readableState&&process.stdin._readableState.ended)return null;return}}else"undefined"!=typeof window&&"function"==typeof window.prompt?(r=window.prompt("Input: "),null!==r&&(r+="\n")):"function"==typeof readline&&(r=readline(),null!==r&&(r+="\n"));if(!r)return null;e.input=intArrayFromString(r,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(Module.print(e.output.join("")),e.output=[]):e.output.push(TTY.utf8.processCChar(r))}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(Module.printErr(e.output.join("")),e.output=[]):e.output.push(TTY.utf8.processCChar(r))}}},MEMFS={ops_table:null,mount:function(e){return MEMFS.createNode(null,"/",16895,0)},createNode:function(e,r,t,i){if(FS.isBlkdev(t)||FS.isFIFO(t))throw new FS.ErrnoError(ERRNO_CODES.EPERM);MEMFS.ops_table||(MEMFS.ops_table={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,allocate:MEMFS.stream_ops.allocate,mmap:MEMFS.stream_ops.mmap}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}});var n=FS.createNode(e,r,t,i);return FS.isDir(n.mode)?(n.node_ops=MEMFS.ops_table.dir.node,n.stream_ops=MEMFS.ops_table.dir.stream,n.contents={}):FS.isFile(n.mode)?(n.node_ops=MEMFS.ops_table.file.node,n.stream_ops=MEMFS.ops_table.file.stream,n.usedBytes=0,n.contents=null):FS.isLink(n.mode)?(n.node_ops=MEMFS.ops_table.link.node,n.stream_ops=MEMFS.ops_table.link.stream):FS.isChrdev(n.mode)&&(n.node_ops=MEMFS.ops_table.chrdev.node,n.stream_ops=MEMFS.ops_table.chrdev.stream),n.timestamp=Date.now(),e&&(e.contents[r]=n),n},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var r=[],t=0;t<e.usedBytes;++t)r.push(e.contents[t]);return r}return e.contents},getFileDataAsTypedArray:function(e){return e.contents&&e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents)},expandFileStorage:function(e,r){if(e.contents&&e.contents.subarray&&r>e.contents.length&&(e.contents=MEMFS.getFileDataAsRegularArray(e),e.usedBytes=e.contents.length),!e.contents||e.contents.subarray){var t=e.contents?e.contents.buffer.byteLength:0;if(t>=r)return;var i=1048576;r=Math.max(r,t*(i>t?2:1.125)|0),0!=t&&(r=Math.max(r,256));var n=e.contents;return e.contents=new Uint8Array(r),void(e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0))}for(!e.contents&&r>0&&(e.contents=[]);e.contents.length<r;)e.contents.push(0)},resizeFileStorage:function(e,r){if(e.usedBytes!=r){if(0==r)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var t=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(r)),e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),void(e.usedBytes=r)}if(e.contents||(e.contents=[]),e.contents.length>r)e.contents.length=r;else for(;e.contents.length<r;)e.contents.push(0);e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=FS.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,FS.isDir(e.mode)?r.size=4096:FS.isFile(e.mode)?r.size=e.usedBytes:FS.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&MEMFS.resizeFileStorage(e,r.size)},lookup:function(e,r){throw FS.genericErrors[ERRNO_CODES.ENOENT]},mknod:function(e,r,t,i){return MEMFS.createNode(e,r,t,i)},rename:function(e,r,t){if(FS.isDir(e.mode)){var i;try{i=FS.lookupNode(r,t)}catch(n){}if(i)for(var o in i.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY)}delete e.parent.contents[e.name],e.name=t,r.contents[t]=e,e.parent=r},unlink:function(e,r){delete e.contents[r]},rmdir:function(e,r){var t=FS.lookupNode(e,r);for(var i in t.contents)throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);delete e.contents[r]},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){var i=MEMFS.createNode(e,r,41471,0);return i.link=t,i},readlink:function(e){if(!FS.isLink(e.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.link}},stream_ops:{read:function(e,r,t,i,n){var o=e.node.contents;if(n>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-n,i);if(assert(a>=0),a>8&&o.subarray)r.set(o.subarray(n,n+a),t);else for(var u=0;a>u;u++)r[t+u]=o[n+u];return a},write:function(e,r,t,i,n,o){if(!i)return 0;var a=e.node;if(a.timestamp=Date.now(),r.subarray&&(!a.contents||a.contents.subarray)){if(o)return a.contents=r.subarray(t,t+i),a.usedBytes=i,i;if(0===a.usedBytes&&0===n)return a.contents=new Uint8Array(r.subarray(t,t+i)),a.usedBytes=i,i;if(n+i<=a.usedBytes)return a.contents.set(r.subarray(t,t+i),n),i}if(MEMFS.expandFileStorage(a,n+i),a.contents.subarray&&r.subarray)a.contents.set(r.subarray(t,t+i),n);else for(var u=0;i>u;u++)a.contents[n+u]=r[t+u];return a.usedBytes=Math.max(a.usedBytes,n+i),i},llseek:function(e,r,t){var i=r;if(1===t?i+=e.position:2===t&&FS.isFile(e.node.mode)&&(i+=e.node.usedBytes),0>i)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.ungotten=[],e.position=i,i},allocate:function(e,r,t){MEMFS.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,i,n,o,a){if(!FS.isFile(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);var u,l,s=e.node.contents;if(2&a||s.buffer!==r&&s.buffer!==r.buffer){if((n>0||n+i<e.node.usedBytes)&&(s=s.subarray?s.subarray(n,n+i):Array.prototype.slice.call(s,n,n+i)),l=!0,u=_malloc(i),!u)throw new FS.ErrnoError(ERRNO_CODES.ENOMEM);r.set(s,u)}else l=!1,u=s.byteOffset;return{ptr:u,allocated:l}}}},IDBFS={dbs:{},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_VERSION:21,DB_STORE_NAME:"FILE_DATA",mount:function(e){return MEMFS.mount.apply(null,arguments)},syncfs:function(e,r,t){IDBFS.getLocalSet(e,function(i,n){return i?t(i):void IDBFS.getRemoteSet(e,function(e,i){if(e)return t(e);var o=r?i:n,a=r?n:i;IDBFS.reconcile(o,a,t)})})},getDB:function(e,r){var t=IDBFS.dbs[e];if(t)return r(null,t);var i;try{i=IDBFS.indexedDB().open(e,IDBFS.DB_VERSION)}catch(n){return r(n)}i.onupgradeneeded=function(e){var r,t=e.target.result,i=e.target.transaction;r=t.objectStoreNames.contains(IDBFS.DB_STORE_NAME)?i.objectStore(IDBFS.DB_STORE_NAME):t.createObjectStore(IDBFS.DB_STORE_NAME),r.createIndex("timestamp","timestamp",{unique:!1})},i.onsuccess=function(){t=i.result,IDBFS.dbs[e]=t,r(null,t)},i.onerror=function(){r(this.error)}},getLocalSet:function(e,r){function t(e){return"."!==e&&".."!==e}function i(e){return function(r){return PATH.join2(e,r)}}for(var n={},o=FS.readdir(e.mountpoint).filter(t).map(i(e.mountpoint));o.length;){var a,u=o.pop();try{a=FS.stat(u)}catch(l){return r(l)}FS.isDir(a.mode)&&o.push.apply(o,FS.readdir(u).filter(t).map(i(u))),n[u]={timestamp:a.mtime}}return r(null,{type:"local",entries:n})},getRemoteSet:function(e,r){var t={};IDBFS.getDB(e.mountpoint,function(e,i){if(e)return r(e);var n=i.transaction([IDBFS.DB_STORE_NAME],"readonly");n.onerror=function(){r(this.error)};var o=n.objectStore(IDBFS.DB_STORE_NAME),a=o.index("timestamp");a.openKeyCursor().onsuccess=function(e){var n=e.target.result;return n?(t[n.primaryKey]={timestamp:n.key},void n["continue"]()):r(null,{type:"remote",db:i,entries:t})}})},loadLocalEntry:function(e,r){var t,i;try{var n=FS.lookupPath(e);i=n.node,t=FS.stat(e)}catch(o){return r(o)}return FS.isDir(t.mode)?r(null,{timestamp:t.mtime,mode:t.mode}):FS.isFile(t.mode)?(i.contents=MEMFS.getFileDataAsTypedArray(i),r(null,{timestamp:t.mtime,mode:t.mode,contents:i.contents})):r(new Error("node type not supported"))},storeLocalEntry:function(e,r,t){try{if(FS.isDir(r.mode))FS.mkdir(e,r.mode);else{if(!FS.isFile(r.mode))return t(new Error("node type not supported"));FS.writeFile(e,r.contents,{encoding:"binary",canOwn:!0})}FS.utime(e,r.timestamp,r.timestamp)}catch(i){return t(i)}t(null)},removeLocalEntry:function(e,r){try{var t=(FS.lookupPath(e),FS.stat(e));FS.isDir(t.mode)?FS.rmdir(e):FS.isFile(t.mode)&&FS.unlink(e)}catch(i){return r(i)}r(null)},loadRemoteEntry:function(e,r,t){var i=e.get(r);i.onsuccess=function(e){t(null,e.target.result)},i.onerror=function(){t(this.error)}},storeRemoteEntry:function(e,r,t,i){var n=e.put(t,r);n.onsuccess=function(){i(null)},n.onerror=function(){i(this.error)}},removeRemoteEntry:function(e,r,t){var i=e["delete"](r);i.onsuccess=function(){t(null)},i.onerror=function(){t(this.error)}},reconcile:function(e,r,t){function i(e){return e?i.errored?void 0:(i.errored=!0,t(e)):++u>=n?t(null):void 0}var n=0,o=[];Object.keys(e.entries).forEach(function(t){var i=e.entries[t],a=r.entries[t];(!a||i.timestamp>a.timestamp)&&(o.push(t),n++)});var a=[];if(Object.keys(r.entries).forEach(function(t){var i=(r.entries[t],e.entries[t]);i||(a.push(t),n++)}),!n)return t(null);var u=0,l="remote"===e.type?e.db:r.db,s=l.transaction([IDBFS.DB_STORE_NAME],"readwrite"),f=s.objectStore(IDBFS.DB_STORE_NAME);s.onerror=function(){i(this.error)},o.sort().forEach(function(e){"local"===r.type?IDBFS.loadRemoteEntry(f,e,function(r,t){return r?i(r):void IDBFS.storeLocalEntry(e,t,i)}):IDBFS.loadLocalEntry(e,function(r,t){return r?i(r):void IDBFS.storeRemoteEntry(f,e,t,i)})}),a.sort().reverse().forEach(function(e){"local"===r.type?IDBFS.removeLocalEntry(e,i):IDBFS.removeRemoteEntry(f,e,i)})}},NODEFS={isWindows:!1,staticInit:function(){NODEFS.isWindows=!!process.platform.match(/^win/)},mount:function(e){return assert(ENVIRONMENT_IS_NODE),NODEFS.createNode(null,"/",NODEFS.getMode(e.opts.root),0)},createNode:function(e,r,t,i){if(!FS.isDir(t)&&!FS.isFile(t)&&!FS.isLink(t))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=FS.createNode(e,r,t);return n.node_ops=NODEFS.node_ops,n.stream_ops=NODEFS.stream_ops,n},getMode:function(e){var r;try{r=fs.lstatSync(e),NODEFS.isWindows&&(r.mode=r.mode|(146&r.mode)>>1)}catch(t){if(!t.code)throw t;throw new FS.ErrnoError(ERRNO_CODES[t.code])}return r.mode},realPath:function(e){for(var r=[];e.parent!==e;)r.push(e.name),e=e.parent;return r.push(e.mount.opts.root),r.reverse(),PATH.join.apply(null,r)},flagsToPermissionStringMap:{0:"r",1:"r+",2:"r+",64:"r",65:"r+",66:"r+",129:"rx+",193:"rx+",514:"w+",577:"w",578:"w+",705:"wx",706:"wx+",1024:"a",1025:"a",1026:"a+",1089:"a",1090:"a+",1153:"ax",1154:"ax+",1217:"ax",1218:"ax+",4096:"rs",4098:"rs+"},flagsToPermissionString:function(e){return e in NODEFS.flagsToPermissionStringMap?NODEFS.flagsToPermissionStringMap[e]:e},node_ops:{getattr:function(e){var r,t=NODEFS.realPath(e);try{r=fs.lstatSync(t)}catch(i){if(!i.code)throw i;throw new FS.ErrnoError(ERRNO_CODES[i.code])}return NODEFS.isWindows&&!r.blksize&&(r.blksize=4096),NODEFS.isWindows&&!r.blocks&&(r.blocks=(r.size+r.blksize-1)/r.blksize|0),{dev:r.dev,ino:r.ino,mode:r.mode,nlink:r.nlink,uid:r.uid,gid:r.gid,rdev:r.rdev,size:r.size,atime:r.atime,mtime:r.mtime,ctime:r.ctime,blksize:r.blksize,blocks:r.blocks}},setattr:function(e,r){var t=NODEFS.realPath(e);try{if(void 0!==r.mode&&(fs.chmodSync(t,r.mode),e.mode=r.mode),void 0!==r.timestamp){var i=new Date(r.timestamp);fs.utimesSync(t,i,i)}void 0!==r.size&&fs.truncateSync(t,r.size)}catch(n){if(!n.code)throw n;throw new FS.ErrnoError(ERRNO_CODES[n.code])}},lookup:function(e,r){var t=PATH.join2(NODEFS.realPath(e),r),i=NODEFS.getMode(t);return NODEFS.createNode(e,r,i)},mknod:function(e,r,t,i){var n=NODEFS.createNode(e,r,t,i),o=NODEFS.realPath(n);try{FS.isDir(n.mode)?fs.mkdirSync(o,n.mode):fs.writeFileSync(o,"",{mode:n.mode})}catch(a){if(!a.code)throw a;throw new FS.ErrnoError(ERRNO_CODES[a.code])}return n},rename:function(e,r,t){var i=NODEFS.realPath(e),n=PATH.join2(NODEFS.realPath(r),t);try{fs.renameSync(i,n)}catch(o){if(!o.code)throw o;throw new FS.ErrnoError(ERRNO_CODES[o.code])}},unlink:function(e,r){var t=PATH.join2(NODEFS.realPath(e),r);try{fs.unlinkSync(t)}catch(i){if(!i.code)throw i;throw new FS.ErrnoError(ERRNO_CODES[i.code])}},rmdir:function(e,r){var t=PATH.join2(NODEFS.realPath(e),r);try{fs.rmdirSync(t)}catch(i){if(!i.code)throw i;throw new FS.ErrnoError(ERRNO_CODES[i.code])}},readdir:function(e){var r=NODEFS.realPath(e);try{return fs.readdirSync(r)}catch(t){if(!t.code)throw t;throw new FS.ErrnoError(ERRNO_CODES[t.code])}},symlink:function(e,r,t){var i=PATH.join2(NODEFS.realPath(e),r);try{fs.symlinkSync(t,i)}catch(n){if(!n.code)throw n;throw new FS.ErrnoError(ERRNO_CODES[n.code])}},readlink:function(e){var r=NODEFS.realPath(e);try{return fs.readlinkSync(r)}catch(t){if(!t.code)throw t;throw new FS.ErrnoError(ERRNO_CODES[t.code])}}},stream_ops:{open:function(e){var r=NODEFS.realPath(e.node);try{FS.isFile(e.node.mode)&&(e.nfd=fs.openSync(r,NODEFS.flagsToPermissionString(e.flags)))}catch(t){if(!t.code)throw t;throw new FS.ErrnoError(ERRNO_CODES[t.code])}},close:function(e){try{FS.isFile(e.node.mode)&&e.nfd&&fs.closeSync(e.nfd)}catch(r){if(!r.code)throw r;throw new FS.ErrnoError(ERRNO_CODES[r.code])}},read:function(e,r,t,i,n){var o,a=new Buffer(i);try{o=fs.readSync(e.nfd,a,0,i,n)}catch(u){throw new FS.ErrnoError(ERRNO_CODES[u.code])}if(o>0)for(var l=0;o>l;l++)r[t+l]=a[l];return o},write:function(e,r,t,i,n){var o,a=new Buffer(r.subarray(t,t+i));try{o=fs.writeSync(e.nfd,a,0,i,n)}catch(u){throw new FS.ErrnoError(ERRNO_CODES[u.code])}return o},llseek:function(e,r,t){var i=r;if(1===t)i+=e.position;else if(2===t&&FS.isFile(e.node.mode))try{var n=fs.fstatSync(e.nfd);i+=n.size}catch(o){throw new FS.ErrnoError(ERRNO_CODES[o.code])}if(0>i)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return e.position=i,i}}},_stdin=allocate(1,"i32*",ALLOC_STATIC),_stdout=allocate(1,"i32*",ALLOC_STATIC),_stderr=allocate(1,"i32*",ALLOC_STATIC),FS={root:null,mounts:[],devices:[null],streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},handleFSError:function(e){if(!(e instanceof FS.ErrnoError))throw e+" : "+stackTrace();return ___setErrNo(e.errno)},lookupPath:function(e,r){e=PATH.resolve(FS.cwd(),e),r=r||{};var t={follow_mount:!0,recurse_count:0};for(var i in t)void 0===r[i]&&(r[i]=t[i]);if(r.recurse_count>8)throw new FS.ErrnoError(ERRNO_CODES.ELOOP);for(var n=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!1),o=FS.root,a="/",u=0;u<n.length;u++){var l=u===n.length-1;if(l&&r.parent)break;if(o=FS.lookupNode(o,n[u]),a=PATH.join2(a,n[u]),FS.isMountpoint(o)&&(!l||l&&r.follow_mount)&&(o=o.mounted.root),!l||r.follow)for(var s=0;FS.isLink(o.mode);){var f=FS.readlink(a);a=PATH.resolve(PATH.dirname(a),f);var c=FS.lookupPath(a,{recurse_count:r.recurse_count});if(o=c.node,s++>40)throw new FS.ErrnoError(ERRNO_CODES.ELOOP)}}return{path:a,node:o}},getPath:function(e){for(var r;;){if(FS.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var t=0,i=0;i<r.length;i++)t=(t<<5)-t+r.charCodeAt(i)|0;return(e+t>>>0)%FS.nameTable.length},hashAddNode:function(e){var r=FS.hashName(e.parent.id,e.name);e.name_next=FS.nameTable[r],FS.nameTable[r]=e},hashRemoveNode:function(e){var r=FS.hashName(e.parent.id,e.name);if(FS.nameTable[r]===e)FS.nameTable[r]=e.name_next;else for(var t=FS.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,r){var t=FS.mayLookup(e);if(t)throw new FS.ErrnoError(t);for(var i=FS.hashName(e.id,r),n=FS.nameTable[i];n;n=n.name_next){var o=n.name;if(n.parent.id===e.id&&o===r)return n}return FS.lookup(e,r)},createNode:function(e,r,t,i){if(!FS.FSNode){FS.FSNode=function(e,r,t,i){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=FS.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=i},FS.FSNode.prototype={};var n=365,o=146;Object.defineProperties(FS.FSNode.prototype,{read:{get:function(){return(this.mode&n)===n},set:function(e){e?this.mode|=n:this.mode&=~n}},write:{get:function(){return(this.mode&o)===o},set:function(e){e?this.mode|=o:this.mode&=~o}},isFolder:{get:function(){return FS.isDir(this.mode)}},isDevice:{get:function(){return FS.isChrdev(this.mode)}}})}var a=new FS.FSNode(e,r,t,i);return FS.hashAddNode(a),a},destroyNode:function(e){FS.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768===(61440&e)},isDir:function(e){return 16384===(61440&e)},isLink:function(e){return 40960===(61440&e)},isChrdev:function(e){return 8192===(61440&e)},isBlkdev:function(e){return 24576===(61440&e)},isFIFO:function(e){return 4096===(61440&e)},isSocket:function(e){return 49152===(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var r=FS.flagModes[e];if("undefined"==typeof r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=2097155&e,t=["r","w","rw"][r];return 512&e&&(t+="w"),t},nodePermissions:function(e,r){return FS.ignorePermissions?0:(-1===r.indexOf("r")||292&e.mode)&&(-1===r.indexOf("w")||146&e.mode)&&(-1===r.indexOf("x")||73&e.mode)?0:ERRNO_CODES.EACCES},mayLookup:function(e){return FS.nodePermissions(e,"x")},mayCreate:function(e,r){try{FS.lookupNode(e,r);return ERRNO_CODES.EEXIST}catch(t){}return FS.nodePermissions(e,"wx")},mayDelete:function(e,r,t){var i;try{i=FS.lookupNode(e,r)}catch(n){return n.errno}var o=FS.nodePermissions(e,"wx");if(o)return o;if(t){if(!FS.isDir(i.mode))return ERRNO_CODES.ENOTDIR;if(FS.isRoot(i)||FS.getPath(i)===FS.cwd())return ERRNO_CODES.EBUSY}else if(FS.isDir(i.mode))return ERRNO_CODES.EISDIR;return 0},mayOpen:function(e,r){return e?FS.isLink(e.mode)?ERRNO_CODES.ELOOP:FS.isDir(e.mode)&&(0!==(2097155&r)||512&r)?ERRNO_CODES.EISDIR:FS.nodePermissions(e,FS.flagsToPermissionString(r)):ERRNO_CODES.ENOENT},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||FS.MAX_OPEN_FDS;for(var t=e;r>=t;t++)if(!FS.streams[t])return t;throw new FS.ErrnoError(ERRNO_CODES.EMFILE)},getStream:function(e){return FS.streams[e]},createStream:function(e,r,t){FS.FSStream||(FS.FSStream=function(){},FS.FSStream.prototype={},Object.defineProperties(FS.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var i=new FS.FSStream;for(var n in e)i[n]=e[n];e=i;var o=FS.nextfd(r,t);return e.fd=o,FS.streams[o]=e,e},closeStream:function(e){FS.streams[e]=null},getStreamFromPtr:function(e){return FS.streams[e-1]},getPtrForStream:function(e){return e?e.fd+1:0},chrdev_stream_ops:{open:function(e){var r=FS.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new FS.ErrnoError(ERRNO_CODES.ESPIPE)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){FS.devices[e]={stream_ops:r}},getDevice:function(e){return FS.devices[e]},getMounts:function(e){for(var r=[],t=[e];t.length;){var i=t.pop();r.push(i),t.push.apply(t,i.mounts)}return r},syncfs:function(e,r){function t(e){if(e){if(!t.errored)return t.errored=!0,r(e)}else++n>=i.length&&r(null)}"function"==typeof e&&(r=e,e=!1);var i=FS.getMounts(FS.root.mount),n=0;i.forEach(function(r){return r.type.syncfs?void r.type.syncfs(r,e,t):t(null)})},mount:function(e,r,t){var i,n="/"===t,o=!t;if(n&&FS.root)throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!n&&!o){var a=FS.lookupPath(t,{follow_mount:!1});if(t=a.path,i=a.node,FS.isMountpoint(i))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(!FS.isDir(i.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR)}var u={type:e,opts:r,mountpoint:t,mounts:[]},l=e.mount(u);return l.mount=u,u.root=l,n?FS.root=l:i&&(i.mounted=u,i.mount&&i.mount.mounts.push(u)),l},unmount:function(e){var r=FS.lookupPath(e,{follow_mount:!1});if(!FS.isMountpoint(r.node))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var t=r.node,i=t.mounted,n=FS.getMounts(i);Object.keys(FS.nameTable).forEach(function(e){for(var r=FS.nameTable[e];r;){var t=r.name_next;-1!==n.indexOf(r.mount)&&FS.destroyNode(r),r=t}}),t.mounted=null;var o=t.mount.mounts.indexOf(i);assert(-1!==o),t.mount.mounts.splice(o,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,t){var i=FS.lookupPath(e,{parent:!0}),n=i.node,o=PATH.basename(e),a=FS.mayCreate(n,o);if(a)throw new FS.ErrnoError(a);if(!n.node_ops.mknod)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return n.node_ops.mknod(n,o,r,t)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,FS.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,FS.mknod(e,r,0)},mkdev:function(e,r,t){return"undefined"==typeof t&&(t=r,r=438),r|=8192,FS.mknod(e,r,t)},symlink:function(e,r){var t=FS.lookupPath(r,{parent:!0}),i=t.node,n=PATH.basename(r),o=FS.mayCreate(i,n);if(o)throw new FS.ErrnoError(o);if(!i.node_ops.symlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.symlink(i,n,e)},rename:function(e,r){var t,i,n,o=PATH.dirname(e),a=PATH.dirname(r),u=PATH.basename(e),l=PATH.basename(r);try{t=FS.lookupPath(e,{parent:!0}),i=t.node,t=FS.lookupPath(r,{parent:!0}),n=t.node}catch(s){throw new FS.ErrnoError(ERRNO_CODES.EBUSY)}if(i.mount!==n.mount)throw new FS.ErrnoError(ERRNO_CODES.EXDEV);var f=FS.lookupNode(i,u),c=PATH.relative(e,a);if("."!==c.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(c=PATH.relative(r,o),"."!==c.charAt(0))throw new FS.ErrnoError(ERRNO_CODES.ENOTEMPTY);var d;try{d=FS.lookupNode(n,l)}catch(s){}if(f!==d){var b=FS.isDir(f.mode),h=FS.mayDelete(i,u,b);if(h)throw new FS.ErrnoError(h);if(h=d?FS.mayDelete(n,l,b):FS.mayCreate(n,l))throw new FS.ErrnoError(h);if(!i.node_ops.rename)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(f)||d&&FS.isMountpoint(d))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);if(n!==i&&(h=FS.nodePermissions(i,"w")))throw new FS.ErrnoError(h);try{FS.trackingDelegate.willMovePath&&FS.trackingDelegate.willMovePath(e,r)}catch(s){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+r+"') threw an exception: "+s.message)}FS.hashRemoveNode(f);try{i.node_ops.rename(f,n,l)}catch(s){throw s}finally{FS.hashAddNode(f)}try{FS.trackingDelegate.onMovePath&&FS.trackingDelegate.onMovePath(e,r)}catch(s){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+r+"') threw an exception: "+s.message)}}},rmdir:function(e){var r=FS.lookupPath(e,{parent:!0}),t=r.node,i=PATH.basename(e),n=FS.lookupNode(t,i),o=FS.mayDelete(t,i,!0);if(o)throw new FS.ErrnoError(o);if(!t.node_ops.rmdir)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(n))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(a){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+a.message)}t.node_ops.rmdir(t,i),FS.destroyNode(n);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(a){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+a.message)}},readdir:function(e){var r=FS.lookupPath(e,{follow:!0}),t=r.node;if(!t.node_ops.readdir)throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);return t.node_ops.readdir(t)},unlink:function(e){var r=FS.lookupPath(e,{parent:!0}),t=r.node,i=PATH.basename(e),n=FS.lookupNode(t,i),o=FS.mayDelete(t,i,!1);if(o)throw o===ERRNO_CODES.EISDIR&&(o=ERRNO_CODES.EPERM),new FS.ErrnoError(o);if(!t.node_ops.unlink)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isMountpoint(n))throw new FS.ErrnoError(ERRNO_CODES.EBUSY);try{FS.trackingDelegate.willDeletePath&&FS.trackingDelegate.willDeletePath(e)}catch(a){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+a.message)}t.node_ops.unlink(t,i),FS.destroyNode(n);try{FS.trackingDelegate.onDeletePath&&FS.trackingDelegate.onDeletePath(e)}catch(a){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+a.message)}},readlink:function(e){var r=FS.lookupPath(e),t=r.node;if(!t.node_ops.readlink)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);return t.node_ops.readlink(t)},stat:function(e,r){var t=FS.lookupPath(e,{follow:!r}),i=t.node;if(!i.node_ops.getattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);return i.node_ops.getattr(i)},lstat:function(e){return FS.stat(e,!0)},chmod:function(e,r,t){var i;if("string"==typeof e){var n=FS.lookupPath(e,{follow:!t});i=n.node}else i=e;if(!i.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);i.node_ops.setattr(i,{mode:4095&r|-4096&i.mode,timestamp:Date.now()})},lchmod:function(e,r){FS.chmod(e,r,!0)},fchmod:function(e,r){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chmod(t.node,r)},chown:function(e,r,t,i){var n;if("string"==typeof e){var o=FS.lookupPath(e,{follow:!i});n=o.node}else n=e;if(!n.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);n.node_ops.setattr(n,{timestamp:Date.now()})},lchown:function(e,r,t){FS.chown(e,r,t,!0)},fchown:function(e,r,t){var i=FS.getStream(e);if(!i)throw new FS.ErrnoError(ERRNO_CODES.EBADF);FS.chown(i.node,r,t)},truncate:function(e,r){if(0>r)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var t;
if("string"==typeof e){var i=FS.lookupPath(e,{follow:!0});t=i.node}else t=e;if(!t.node_ops.setattr)throw new FS.ErrnoError(ERRNO_CODES.EPERM);if(FS.isDir(t.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!FS.isFile(t.mode))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var n=FS.nodePermissions(t,"w");if(n)throw new FS.ErrnoError(n);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var t=FS.getStream(e);if(!t)throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(0===(2097155&t.flags))throw new FS.ErrnoError(ERRNO_CODES.EINVAL);FS.truncate(t.node,r)},utime:function(e,r,t){var i=FS.lookupPath(e,{follow:!0}),n=i.node;n.node_ops.setattr(n,{timestamp:Math.max(r,t)})},open:function(e,r,t,i,n){r="string"==typeof r?FS.modeStringToFlags(r):r,t="undefined"==typeof t?438:t,t=64&r?4095&t|32768:0;var o;if("object"==typeof e)o=e;else{e=PATH.normalize(e);try{var a=FS.lookupPath(e,{follow:!(131072&r)});o=a.node}catch(u){}}if(64&r)if(o){if(128&r)throw new FS.ErrnoError(ERRNO_CODES.EEXIST)}else o=FS.mknod(e,t,0);if(!o)throw new FS.ErrnoError(ERRNO_CODES.ENOENT);FS.isChrdev(o.mode)&&(r&=-513);var l=FS.mayOpen(o,r);if(l)throw new FS.ErrnoError(l);512&r&&FS.truncate(o,0),r&=-641;var s=FS.createStream({node:o,path:FS.getPath(o),flags:r,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},i,n);s.stream_ops.open&&s.stream_ops.open(s),!Module.logReadFiles||1&r||(FS.readFiles||(FS.readFiles={}),e in FS.readFiles||(FS.readFiles[e]=1,Module.printErr("read file: "+e)));try{if(FS.trackingDelegate.onOpenFile){var f=0;1!==(2097155&r)&&(f|=FS.tracking.openFlags.READ),0!==(2097155&r)&&(f|=FS.tracking.openFlags.WRITE),FS.trackingDelegate.onOpenFile(e,f)}}catch(u){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+u.message)}return s},close:function(e){try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{FS.closeStream(e.fd)}},llseek:function(e,r,t){if(!e.seekable||!e.stream_ops.llseek)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);return e.stream_ops.llseek(e,r,t)},read:function(e,r,t,i,n){if(0>i||0>n)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(1===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.read)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);var o=!0;if("undefined"==typeof n)n=e.position,o=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var a=e.stream_ops.read(e,r,t,i,n);return o||(e.position+=a),a},write:function(e,r,t,i,n,o){if(0>i||0>n)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(FS.isDir(e.node.mode))throw new FS.ErrnoError(ERRNO_CODES.EISDIR);if(!e.stream_ops.write)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);1024&e.flags&&FS.llseek(e,0,2);var a=!0;if("undefined"==typeof n)n=e.position,a=!1;else if(!e.seekable)throw new FS.ErrnoError(ERRNO_CODES.ESPIPE);var u=e.stream_ops.write(e,r,t,i,n,o);a||(e.position+=u);try{e.path&&FS.trackingDelegate.onWriteToFile&&FS.trackingDelegate.onWriteToFile(e.path)}catch(l){console.log("FS.trackingDelegate['onWriteToFile']('"+path+"') threw an exception: "+l.message)}return u},allocate:function(e,r,t){if(0>r||0>=t)throw new FS.ErrnoError(ERRNO_CODES.EINVAL);if(0===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EBADF);if(!FS.isFile(e.node.mode)&&!FS.isDir(node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENODEV);if(!e.stream_ops.allocate)throw new FS.ErrnoError(ERRNO_CODES.EOPNOTSUPP);e.stream_ops.allocate(e,r,t)},mmap:function(e,r,t,i,n,o,a){if(1===(2097155&e.flags))throw new FS.ErrnoError(ERRNO_CODES.EACCES);if(!e.stream_ops.mmap)throw new FS.ErrnoError(ERRNO_CODES.ENODEV);return e.stream_ops.mmap(e,r,t,i,n,o,a)},ioctl:function(e,r,t){if(!e.stream_ops.ioctl)throw new FS.ErrnoError(ERRNO_CODES.ENOTTY);return e.stream_ops.ioctl(e,r,t)},readFile:function(e,r){if(r=r||{},r.flags=r.flags||"r",r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var t,i=FS.open(e,r.flags),n=FS.stat(e),o=n.size,a=new Uint8Array(o);if(FS.read(i,a,0,o,0),"utf8"===r.encoding){t="";for(var u=new Runtime.UTF8Processor,l=0;o>l;l++)t+=u.processCChar(a[l])}else"binary"===r.encoding&&(t=a);return FS.close(i),t},writeFile:function(e,r,t){if(t=t||{},t.flags=t.flags||"w",t.encoding=t.encoding||"utf8","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var i=FS.open(e,t.flags,t.mode);if("utf8"===t.encoding){var n=new Runtime.UTF8Processor,o=new Uint8Array(n.processJSString(r));FS.write(i,o,0,o.length,0,t.canOwn)}else"binary"===t.encoding&&FS.write(i,r,0,r.length,0,t.canOwn);FS.close(i)},cwd:function(){return FS.currentPath},chdir:function(e){var r=FS.lookupPath(e,{follow:!0});if(!FS.isDir(r.node.mode))throw new FS.ErrnoError(ERRNO_CODES.ENOTDIR);var t=FS.nodePermissions(r.node,"x");if(t)throw new FS.ErrnoError(t);FS.currentPath=r.path},createDefaultDirectories:function(){FS.mkdir("/tmp")},createDefaultDevices:function(){FS.mkdir("/dev"),FS.registerDevice(FS.makedev(1,3),{read:function(){return 0},write:function(){return 0}}),FS.mkdev("/dev/null",FS.makedev(1,3)),TTY.register(FS.makedev(5,0),TTY.default_tty_ops),TTY.register(FS.makedev(6,0),TTY.default_tty1_ops),FS.mkdev("/dev/tty",FS.makedev(5,0)),FS.mkdev("/dev/tty1",FS.makedev(6,0)),FS.mkdir("/dev/shm"),FS.mkdir("/dev/shm/tmp")},createStandardStreams:function(){Module.stdin?FS.createDevice("/dev","stdin",Module.stdin):FS.symlink("/dev/tty","/dev/stdin"),Module.stdout?FS.createDevice("/dev","stdout",null,Module.stdout):FS.symlink("/dev/tty","/dev/stdout"),Module.stderr?FS.createDevice("/dev","stderr",null,Module.stderr):FS.symlink("/dev/tty1","/dev/stderr");var e=FS.open("/dev/stdin","r");HEAP32[_stdin>>2]=FS.getPtrForStream(e),assert(0===e.fd,"invalid handle for stdin ("+e.fd+")");var r=FS.open("/dev/stdout","w");HEAP32[_stdout>>2]=FS.getPtrForStream(r),assert(1===r.fd,"invalid handle for stdout ("+r.fd+")");var t=FS.open("/dev/stderr","w");HEAP32[_stderr>>2]=FS.getPtrForStream(t),assert(2===t.fd,"invalid handle for stderr ("+t.fd+")")},ensureErrnoError:function(){FS.ErrnoError||(FS.ErrnoError=function(e){this.errno=e;for(var r in ERRNO_CODES)if(ERRNO_CODES[r]===e){this.code=r;break}this.message=ERRNO_MESSAGES[e]},FS.ErrnoError.prototype=new Error,FS.ErrnoError.prototype.constructor=FS.ErrnoError,[ERRNO_CODES.ENOENT].forEach(function(e){FS.genericErrors[e]=new FS.ErrnoError(e),FS.genericErrors[e].stack="<generic error, no stack>"}))},staticInit:function(){FS.ensureErrnoError(),FS.nameTable=new Array(4096),FS.mount(MEMFS,{},"/"),FS.createDefaultDirectories(),FS.createDefaultDevices()},init:function(e,r,t){assert(!FS.init.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),FS.init.initialized=!0,FS.ensureErrnoError(),Module.stdin=e||Module.stdin,Module.stdout=r||Module.stdout,Module.stderr=t||Module.stderr,FS.createStandardStreams()},quit:function(){FS.init.initialized=!1;for(var e=0;e<FS.streams.length;e++){var r=FS.streams[e];r&&FS.close(r)}},getMode:function(e,r){var t=0;return e&&(t|=365),r&&(t|=146),t},joinPath:function(e,r){var t=PATH.join.apply(null,e);return r&&"/"==t[0]&&(t=t.substr(1)),t},absolutePath:function(e,r){return PATH.resolve(r,e)},standardizePath:function(e){return PATH.normalize(e)},findObject:function(e,r){var t=FS.analyzePath(e,r);return t.exists?t.object:(___setErrNo(t.error),null)},analyzePath:function(e,r){try{var t=FS.lookupPath(e,{follow:!r});e=t.path}catch(i){}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=FS.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=PATH.basename(e),t=FS.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot="/"===t.path}catch(i){n.error=i.errno}return n},createFolder:function(e,r,t,i){var n=PATH.join2("string"==typeof e?e:FS.getPath(e),r),o=FS.getMode(t,i);return FS.mkdir(n,o)},createPath:function(e,r,t,i){e="string"==typeof e?e:FS.getPath(e);for(var n=r.split("/").reverse();n.length;){var o=n.pop();if(o){var a=PATH.join2(e,o);try{FS.mkdir(a)}catch(u){}e=a}}return a},createFile:function(e,r,t,i,n){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),r),a=FS.getMode(i,n);return FS.create(o,a)},createDataFile:function(e,r,t,i,n,o){var a=r?PATH.join2("string"==typeof e?e:FS.getPath(e),r):e,u=FS.getMode(i,n),l=FS.create(a,u);if(t){if("string"==typeof t){for(var s=new Array(t.length),f=0,c=t.length;c>f;++f)s[f]=t.charCodeAt(f);t=s}FS.chmod(l,146|u);var d=FS.open(l,"w");FS.write(d,t,0,t.length,0,o),FS.close(d),FS.chmod(l,u)}return l},createDevice:function(e,r,t,i){var n=PATH.join2("string"==typeof e?e:FS.getPath(e),r),o=FS.getMode(!!t,!!i);FS.createDevice.major||(FS.createDevice.major=64);var a=FS.makedev(FS.createDevice.major++,0);return FS.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){i&&i.buffer&&i.buffer.length&&i(10)},read:function(e,r,i,n,o){for(var a=0,u=0;n>u;u++){var l;try{l=t()}catch(s){throw new FS.ErrnoError(ERRNO_CODES.EIO)}if(void 0===l&&0===a)throw new FS.ErrnoError(ERRNO_CODES.EAGAIN);if(null===l||void 0===l)break;a++,r[i+u]=l}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,t,n,o){for(var a=0;n>a;a++)try{i(r[t+a])}catch(u){throw new FS.ErrnoError(ERRNO_CODES.EIO)}return n&&(e.node.timestamp=Date.now()),a}}),FS.mkdev(n,o,a)},createLink:function(e,r,t,i,n){var o=PATH.join2("string"==typeof e?e:FS.getPath(e),r);return FS.symlink(t,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var r=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!Module.read)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=intArrayFromString(Module.read(e.url),!0),e.usedBytes=e.contents.length}catch(t){r=!1}return r||___setErrNo(ERRNO_CODES.EIO),r},createLazyFile:function(e,r,t,i,n){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||0>e)){var r=e%this.chunkSize,t=Math.floor(e/this.chunkSize);return this.getter(t)[r]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",t,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+t+". Status: "+e.status);var r,i=Number(e.getResponseHeader("Content-length")),n=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,o=1048576;n||(o=i);var a=function(e,r){if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>i-1)throw new Error("only "+i+" bytes available! programmer error!");var n=new XMLHttpRequest;if(n.open("GET",t,!1),i!==o&&n.setRequestHeader("Range","bytes="+e+"-"+r),"undefined"!=typeof Uint8Array&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.send(null),!(n.status>=200&&n.status<300||304===n.status))throw new Error("Couldn't load "+t+". Status: "+n.status);return void 0!==n.response?new Uint8Array(n.response||[]):intArrayFromString(n.responseText||"",!0)},u=this;u.setDataGetter(function(e){var r=e*o,t=(e+1)*o-1;if(t=Math.min(t,i-1),"undefined"==typeof u.chunks[e]&&(u.chunks[e]=a(r,t)),"undefined"==typeof u.chunks[e])throw new Error("doXHR failed!");return u.chunks[e]}),this._length=i,this._chunkSize=o,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperty(a,"length",{get:function(){return this.lengthKnown||this.cacheLength(),this._length}}),Object.defineProperty(a,"chunkSize",{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}});var u={isDevice:!1,contents:a}}else var u={isDevice:!1,url:t};var l=FS.createFile(e,r,u,i,n);u.contents?l.contents=u.contents:u.url&&(l.contents=null,l.url=u.url),Object.defineProperty(l,"usedBytes",{get:function(){return this.contents.length}});var s={},f=Object.keys(l.stream_ops);return f.forEach(function(e){var r=l.stream_ops[e];s[e]=function(){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);return r.apply(null,arguments)}}),s.read=function(e,r,t,i,n){if(!FS.forceLoadFile(l))throw new FS.ErrnoError(ERRNO_CODES.EIO);var o=e.node.contents;if(n>=o.length)return 0;var a=Math.min(o.length-n,i);if(assert(a>=0),o.slice)for(var u=0;a>u;u++)r[t+u]=o[n+u];else for(var u=0;a>u;u++)r[t+u]=o.get(n+u);return a},l.stream_ops=s,l},createPreloadedFile:function(e,r,t,i,n,o,a,u,l){function s(t){function s(t){u||FS.createDataFile(e,r,t,i,n,l),o&&o(),removeRunDependency("cp "+f)}var c=!1;Module.preloadPlugins.forEach(function(e){c||e.canHandle(f)&&(e.handle(t,f,s,function(){a&&a(),removeRunDependency("cp "+f)}),c=!0)}),c||s(t)}Browser.init();var f=r?PATH.resolve(PATH.join2(e,r)):e;addRunDependency("cp "+f),"string"==typeof t?Browser.asyncLoad(t,function(e){s(e)},a):s(t)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,t){r=r||function(){},t=t||function(){};var i=FS.indexedDB();try{var n=i.open(FS.DB_NAME(),FS.DB_VERSION)}catch(o){return t(o)}n.onupgradeneeded=function(){console.log("creating db");var e=n.result;e.createObjectStore(FS.DB_STORE_NAME)},n.onsuccess=function(){function i(){0==s?r():t()}var o=n.result,a=o.transaction([FS.DB_STORE_NAME],"readwrite"),u=a.objectStore(FS.DB_STORE_NAME),l=0,s=0,f=e.length;e.forEach(function(e){var r=u.put(FS.analyzePath(e).object.contents,e);r.onsuccess=function(){l++,l+s==f&&i()},r.onerror=function(){s++,l+s==f&&i()}}),a.onerror=t},n.onerror=t},loadFilesFromDB:function(e,r,t){r=r||function(){},t=t||function(){};var i=FS.indexedDB();try{var n=i.open(FS.DB_NAME(),FS.DB_VERSION)}catch(o){return t(o)}n.onupgradeneeded=t,n.onsuccess=function(){function i(){0==f?r():t()}var o=n.result;try{var a=o.transaction([FS.DB_STORE_NAME],"readonly")}catch(u){return void t(u)}var l=a.objectStore(FS.DB_STORE_NAME),s=0,f=0,c=e.length;e.forEach(function(e){var r=l.get(e);r.onsuccess=function(){FS.analyzePath(e).exists&&FS.unlink(e),FS.createDataFile(PATH.dirname(e),PATH.basename(e),r.result,!0,!0,!0),s++,s+f==c&&i()},r.onerror=function(){f++,s+f==c&&i()}}),a.onerror=t},n.onerror=t}},PATH={splitPath:function(e){var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),t++):t&&(e.splice(i,1),t--)}if(r)for(;t--;t)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),t="/"===e.substr(-1);return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=PATH.splitPath(e),t=r[0],i=r[1];return t||i?(i&&(i=i.substr(0,i.length-1)),t+i):"."},basename:function(e){if("/"===e)return"/";var r=e.lastIndexOf("/");return-1===r?e:e.substr(r+1)},extname:function(e){return PATH.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return PATH.normalize(e.join("/"))},join2:function(e,r){return PATH.normalize(e+"/"+r)},resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var i=t>=0?arguments[t]:FS.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,r="/"===i.charAt(0))}return e=PATH.normalizeArray(e.split("/").filter(function(e){return!!e}),!r).join("/"),(r?"/":"")+e||"."},relative:function(e,r){function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)}e=PATH.resolve(e).substr(1),r=PATH.resolve(r).substr(1);for(var i=t(e.split("/")),n=t(r.split("/")),o=Math.min(i.length,n.length),a=o,u=0;o>u;u++)if(i[u]!==n[u]){a=u;break}for(var l=[],u=a;u<i.length;u++)l.push("..");return l=l.concat(n.slice(a)),l.join("/")}},Browser={mainLoop:{scheduler:null,method:"",shouldPause:!1,paused:!1,queue:[],pause:function(){Browser.mainLoop.shouldPause=!0},resume:function(){Browser.mainLoop.paused&&(Browser.mainLoop.paused=!1,Browser.mainLoop.scheduler()),Browser.mainLoop.shouldPause=!1},updateStatus:function(){if(Module.setStatus){var e=Module.statusMessage||"Please wait...",r=Browser.mainLoop.remainingBlockers,t=Browser.mainLoop.expectedBlockers;r?t>r?Module.setStatus(e+" ("+(t-r)+"/"+t+")"):Module.setStatus(e):Module.setStatus("")}}},isFullScreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){function e(){Browser.pointerLock=document.pointerLockElement===n||document.mozPointerLockElement===n||document.webkitPointerLockElement===n||document.msPointerLockElement===n}if(Module.preloadPlugins||(Module.preloadPlugins=[]),!Browser.initted&&!ENVIRONMENT_IS_WORKER){Browser.initted=!0;try{new Blob,Browser.hasBlobConstructor=!0}catch(r){Browser.hasBlobConstructor=!1,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}Browser.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Browser.hasBlobConstructor?null:console.log("warning: no BlobBuilder"),Browser.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,Module.noImageDecoding||"undefined"!=typeof Browser.URLObject||(console.log("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),Module.noImageDecoding=!0);var t={};t.canHandle=function(e){return!Module.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(e)},t.handle=function(e,r,t,i){var n=null;if(Browser.hasBlobConstructor)try{n=new Blob([e],{type:Browser.getMimetype(r)}),n.size!==e.length&&(n=new Blob([new Uint8Array(e).buffer],{type:Browser.getMimetype(r)}))}catch(o){Runtime.warnOnce("Blob constructor present but fails: "+o+"; falling back to blob builder")}if(!n){var a=new Browser.BlobBuilder;a.append(new Uint8Array(e).buffer),n=a.getBlob()}var u=Browser.URLObject.createObjectURL(n),l=new Image;l.onload=function(){assert(l.complete,"Image "+r+" could not be decoded");var i=document.createElement("canvas");i.width=l.width,i.height=l.height;var n=i.getContext("2d");n.drawImage(l,0,0),Module.preloadedImages[r]=i,Browser.URLObject.revokeObjectURL(u),t&&t(e)},l.onerror=function(e){console.log("Image "+u+" could not be decoded"),i&&i()},l.src=u},Module.preloadPlugins.push(t);var i={};i.canHandle=function(e){return!Module.noAudioDecoding&&e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},i.handle=function(e,r,t,i){function n(i){a||(a=!0,Module.preloadedAudios[r]=i,t&&t(e))}function o(){a||(a=!0,Module.preloadedAudios[r]=new Audio,i&&i())}var a=!1;if(!Browser.hasBlobConstructor)return o();try{var u=new Blob([e],{type:Browser.getMimetype(r)})}catch(l){return o()}var s=Browser.URLObject.createObjectURL(u),f=new Audio;f.addEventListener("canplaythrough",function(){n(f)},!1),f.onerror=function(t){function i(e){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="=",i="",n=0,o=0,a=0;a<e.length;a++)for(n=n<<8|e[a],o+=8;o>=6;){var u=n>>o-6&63;o-=6,i+=r[u]}return 2==o?(i+=r[(3&n)<<4],i+=t+t):4==o&&(i+=r[(15&n)<<2],i+=t),i}a||(console.log("warning: browser could not fully decode audio "+r+", trying slower base64 approach"),f.src="data:audio/x-"+r.substr(-3)+";base64,"+i(e),n(f))},f.src=s,Browser.safeSetTimeout(function(){n(f)},1e4)},Module.preloadPlugins.push(i);var n=Module.canvas;n&&(n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock||n.msRequestPointerLock||function(){},n.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||function(){},n.exitPointerLock=n.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",e,!1),document.addEventListener("mozpointerlockchange",e,!1),document.addEventListener("webkitpointerlockchange",e,!1),document.addEventListener("mspointerlockchange",e,!1),Module.elementPointerLock&&n.addEventListener("click",function(e){!Browser.pointerLock&&n.requestPointerLock&&(n.requestPointerLock(),e.preventDefault())},!1))}},createContext:function(e,r,t,i){function n(e){a=e.statusMessage||a}var o,a="?";try{if(r){var u={antialias:!1,alpha:!1};if(i)for(var l in i)u[l]=i[l];e.addEventListener("webglcontextcreationerror",n,!1);try{["experimental-webgl","webgl"].some(function(r){return o=e.getContext(r,u)})}finally{e.removeEventListener("webglcontextcreationerror",n,!1)}}else o=e.getContext("2d");if(!o)throw":("}catch(s){return Module.print("Could not create canvas: "+[a,s]),null}return r&&(e.style.backgroundColor="black"),t&&(GLctx=Module.ctx=o,Module.useWebGL=r,Browser.moduleContextCreatedCallbacks.forEach(function(e){e()}),Browser.init()),o},destroyContext:function(e,r,t){},fullScreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullScreen:function(e,r){function t(){Browser.isFullScreen=!1;var e=i.parentNode;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e?(i.cancelFullScreen=document.cancelFullScreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||document.exitFullscreen||function(){},i.cancelFullScreen=i.cancelFullScreen.bind(document),Browser.lockPointer&&i.requestPointerLock(),Browser.isFullScreen=!0,Browser.resizeCanvas&&Browser.setFullScreenCanvasSize()):(e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),Browser.resizeCanvas&&Browser.setWindowedCanvasSize()),Module.onFullScreen&&Module.onFullScreen(Browser.isFullScreen),Browser.updateCanvasDimensions(i)}Browser.lockPointer=e,Browser.resizeCanvas=r,"undefined"==typeof Browser.lockPointer&&(Browser.lockPointer=!0),"undefined"==typeof Browser.resizeCanvas&&(Browser.resizeCanvas=!1);var i=Module.canvas;Browser.fullScreenHandlersInstalled||(Browser.fullScreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",t,!1),document.addEventListener("mozfullscreenchange",t,!1),document.addEventListener("webkitfullscreenchange",t,!1),document.addEventListener("MSFullscreenChange",t,!1));var n=document.createElement("div");i.parentNode.insertBefore(n,i),n.appendChild(i),n.requestFullScreen=n.requestFullScreen||n.mozRequestFullScreen||n.msRequestFullscreen||(n.webkitRequestFullScreen?function(){n.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:null),n.requestFullScreen()},requestAnimationFrame:function(e){"undefined"==typeof window?setTimeout(e,1e3/60):(window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||window.setTimeout),window.requestAnimationFrame(e))},safeCallback:function(e){return function(){return ABORT?void 0:e.apply(null,arguments)}},safeRequestAnimationFrame:function(e){return Browser.requestAnimationFrame(function(){ABORT||e()})},safeSetTimeout:function(e,r){return Module.noExitRuntime=!0,setTimeout(function(){ABORT||e()},r)},safeSetInterval:function(e,r){return Module.noExitRuntime=!0,setInterval(function(){ABORT||e()},r)},getMimetype:function(e){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(e.lastIndexOf(".")+1)]},getUserMedia:function(e){window.getUserMedia||(window.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia),window.getUserMedia(e)},getMovementX:function(e){return e.movementX||e.mozMovementX||e.webkitMovementX||0},getMovementY:function(e){return e.movementY||e.mozMovementY||e.webkitMovementY||0},getMouseWheelDelta:function(e){var r=0;switch(e.type){case"DOMMouseScroll":r=e.detail;break;case"mousewheel":r=-e.wheelDelta;break;case"wheel":r=e.deltaY;break;default:throw"unrecognized mouse wheel event: "+e.type}return Math.max(-1,Math.min(1,r))},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(e){if(Browser.pointerLock)"mousemove"!=e.type&&"mozMovementX"in e?Browser.mouseMovementX=Browser.mouseMovementY=0:(Browser.mouseMovementX=Browser.getMovementX(e),Browser.mouseMovementY=Browser.getMovementY(e)),"undefined"!=typeof SDL?(Browser.mouseX=SDL.mouseX+Browser.mouseMovementX,Browser.mouseY=SDL.mouseY+Browser.mouseMovementY):(Browser.mouseX+=Browser.mouseMovementX,Browser.mouseY+=Browser.mouseMovementY);else{var r=Module.canvas.getBoundingClientRect(),t=Module.canvas.width,i=Module.canvas.height,n="undefined"!=typeof window.scrollX?window.scrollX:window.pageXOffset,o="undefined"!=typeof window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===e.type||"touchend"===e.type||"touchmove"===e.type){var a=e.touch;if(void 0===a)return;var u=a.pageX-(n+r.left),l=a.pageY-(o+r.top);u*=t/r.width,l*=i/r.height;var s={x:u,y:l};return void("touchstart"===e.type?(Browser.lastTouches[a.identifier]=s,Browser.touches[a.identifier]=s):("touchend"===e.type||"touchmove"===e.type)&&(Browser.lastTouches[a.identifier]=Browser.touches[a.identifier],Browser.touches[a.identifier]={x:u,y:l}))}var f=e.pageX-(n+r.left),c=e.pageY-(o+r.top);f*=t/r.width,c*=i/r.height,Browser.mouseMovementX=f-Browser.mouseX,Browser.mouseMovementY=c-Browser.mouseY,Browser.mouseX=f,Browser.mouseY=c}},xhrLoad:function(e,r,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="arraybuffer",i.onload=function(){200==i.status||0==i.status&&i.response?r(i.response):t()},i.onerror=t,i.send(null)},asyncLoad:function(e,r,t,i){Browser.xhrLoad(e,function(t){assert(t,'Loading data file "'+e+'" failed (no arrayBuffer).'),r(new Uint8Array(t)),i||removeRunDependency("al "+e)},function(r){if(!t)throw'Loading data file "'+e+'" failed.';t()}),i||addRunDependency("al "+e)},resizeListeners:[],updateResizeListeners:function(){var e=Module.canvas;Browser.resizeListeners.forEach(function(r){r(e.width,e.height)})},setCanvasSize:function(e,r,t){var i=Module.canvas;Browser.updateCanvasDimensions(i,e,r),t||Browser.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullScreenCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e=8388608|e,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var e=HEAPU32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2];e=-8388609&e,HEAP32[SDL.screen+0*Runtime.QUANTUM_SIZE>>2]=e}Browser.updateResizeListeners()},updateCanvasDimensions:function(e,r,t){r&&t?(e.widthNative=r,e.heightNative=t):(r=e.widthNative,t=e.heightNative);var i=r,n=t;if(Module.forcedAspectRatio&&Module.forcedAspectRatio>0&&(i/n<Module.forcedAspectRatio?i=Math.round(n*Module.forcedAspectRatio):n=Math.round(i/Module.forcedAspectRatio)),(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement||document.msFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement)===e.parentNode&&"undefined"!=typeof screen){var o=Math.min(screen.width/i,screen.height/n);i=Math.round(i*o),n=Math.round(n*o)}Browser.resizeCanvas?(e.width!=i&&(e.width=i),e.height!=n&&(e.height=n),"undefined"!=typeof e.style&&(e.style.removeProperty("width"),e.style.removeProperty("height"))):(e.width!=r&&(e.width=r),e.height!=t&&(e.height=t),"undefined"!=typeof e.style&&(i!=r||n!=t?(e.style.setProperty("width",i+"px","important"),e.style.setProperty("height",n+"px","important")):(e.style.removeProperty("width"),e.style.removeProperty("height"))))}};Module._malloc=_malloc;var __ZTISt9exception=allocate([allocate([1,0,0,0,0,0,0],"i8",ALLOC_STATIC)+8,0],"i32",ALLOC_STATIC);if(___errno_state=Runtime.staticAlloc(4),HEAP32[___errno_state>>2]=0,Module.requestFullScreen=function(e,r){Browser.requestFullScreen(e,r)},Module.requestAnimationFrame=function(e){Browser.requestAnimationFrame(e)},Module.setCanvasSize=function(e,r,t){Browser.setCanvasSize(e,r,t)},Module.pauseMainLoop=function(){Browser.mainLoop.pause()},Module.resumeMainLoop=function(){Browser.mainLoop.resume()},Module.getUserMedia=function(){Browser.getUserMedia()},FS.staticInit(),__ATINIT__.unshift({func:function(){Module.noFSInit||FS.init.initialized||FS.init()}}),__ATMAIN__.push({func:function(){FS.ignorePermissions=!1}}),__ATEXIT__.push({func:function(){FS.quit()}}),Module.FS_createFolder=FS.createFolder,Module.FS_createPath=FS.createPath,Module.FS_createDataFile=FS.createDataFile,Module.FS_createPreloadedFile=FS.createPreloadedFile,Module.FS_createLazyFile=FS.createLazyFile,Module.FS_createLink=FS.createLink,Module.FS_createDevice=FS.createDevice,__ATINIT__.unshift({func:function(){TTY.init()}}),__ATEXIT__.push({func:function(){TTY.shutdown()}}),TTY.utf8=new Runtime.UTF8Processor,ENVIRONMENT_IS_NODE){var fs=require("fs");NODEFS.staticInit()}STACK_BASE=STACKTOP=Runtime.alignMemory(STATICTOP),staticSealed=!0,STACK_MAX=STACK_BASE+5242880,DYNAMIC_BASE=DYNAMICTOP=Runtime.alignMemory(STACK_MAX),assert(TOTAL_MEMORY>DYNAMIC_BASE,"TOTAL_MEMORY not big enough for stack");var ctlz_i8=allocate([8,7,6,6,5,5,5,5,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"i8",ALLOC_DYNAMIC),cttz_i8=allocate([8,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,7,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,6,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,5,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0,4,0,1,0,2,0,1,0,3,0,1,0,2,0,1,0],"i8",ALLOC_DYNAMIC),Math_min=Math.min,asm=function(e,r,t){"use asm";var i=new e.Int8Array(t);var n=new e.Int16Array(t);var o=new e.Int32Array(t);var a=new e.Uint8Array(t);var u=new e.Uint16Array(t);var l=new e.Uint32Array(t);var s=new e.Float32Array(t);var f=new e.Float64Array(t);var c=r.STACKTOP|0;var d=r.STACK_MAX|0;var b=r.tempDoublePtr|0;var h=r.ABORT|0;var _=r.cttz_i8|0;var m=r.ctlz_i8|0;var p=r.__ZTISt9exception|0;var y=0;var w=0;var v=0;var S=0;var E=+r.NaN,g=+r.Infinity;var k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0;var T=0;var O=0;var x=0;var L=0;var N=0;var I=0;var J=0;var G=0;var W=0;var V=0;var z=e.Math.floor;var H=e.Math.abs;var U=e.Math.sqrt;var q=e.Math.pow;var j=e.Math.cos;var Y=e.Math.sin;var Z=e.Math.tan;var X=e.Math.acos;var K=e.Math.asin;var Q=e.Math.atan;var $=e.Math.atan2;var ee=e.Math.exp;var re=e.Math.log;var te=e.Math.ceil;var ie=e.Math.imul;var ne=r.abort;var oe=r.assert;var ae=r.asmPrintInt;var ue=r.asmPrintFloat;var le=r.min;var se=r.invoke_diiiiid;var fe=r.invoke_ii;
var ce=r.invoke_viiiii;var de=r.invoke_did;var be=r.invoke_vi;var he=r.invoke_diiiid;var _e=r.invoke_vii;var me=r.invoke_iiii;var pe=r.invoke_viii;var ye=r.invoke_v;var we=r.invoke_viid;var ve=r.invoke_iiiii;var Se=r.invoke_viiiiii;var Ee=r.invoke_iii;var ge=r.invoke_iiiiii;var ke=r.invoke_viiii;var Me=r._cosf;var Pe=r.__ZSt9terminatev;var Ae=r._b2WorldPreSolve;var Fe=r.___cxa_is_number_type;var Ce=r.___cxa_allocate_exception;var De=r.___cxa_find_matching_catch;var Be=r._fflush;var Re=r._time;var Te=r.__exit;var Oe=r.___setErrNo;var xe=r._sbrk;var Le=r.___cxa_begin_catch;var Ne=r._sinf;var Ie=r.___resumeException;var Je=r.__ZSt18uncaught_exceptionv;var Ge=r._b2WorldRayCastCallback;var We=r._emscripten_memcpy_big;var Ve=r._floorf;var ze=r._sqrtf;var He=r._b2WorldBeginContactBody;var Ue=r.___errno_location;var qe=r.__ZNSt9exceptionD2Ev;var je=r.___cxa_throw;var Ye=r._sysconf;var Ze=r._abort;var Xe=r.___cxa_does_inherit;var Ke=r._b2WorldEndContactBody;var Qe=r._b2WorldQueryAABB;var $e=r._b2WorldPostSolve;var er=r._exit;var rr=r.___cxa_pure_virtual;var tr=0;function ir(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0;t=c;c=c+64|0;i=t;n=t+16|0;s[i>>2]=3.4028234663852886E38;s[i+4>>2]=3.4028234663852886E38;a=i+8|0;s[a>>2]=-3.4028234663852886E38;s[i+12>>2]=-3.4028234663852886E38;u=o[e+44>>2]|0;if((u|0)>0){l=o[e+104>>2]|0;f=o[e+96>>2]|0;d=+s[r>>2];b=3.4028234663852886E38;h=3.4028234663852886E38;_=-3.4028234663852886E38;m=-3.4028234663852886E38;p=0;do{y=l+(p<<3)|0;w=+s[y>>2];v=+s[y+4>>2];y=f+(p<<3)|0;S=+s[y>>2];E=+s[y+4>>2];g=S+w*d;w=v*d+E;v=S<g?S:g;k=E<w?E:w;b=b<v?b:v;h=h<k?h:k;k=+b;v=+h;y=i;s[y>>2]=k;s[y+4>>2]=v;v=S>g?S:g;g=E>w?E:w;_=_>v?_:v;m=m>g?m:g;g=+_;v=+m;y=a;s[y>>2]=g;s[y+4>>2]=v;p=p+1|0}while((p|0)<(u|0))}o[n+4>>2]=e;o[n>>2]=6872;u=n+8|0;o[u+0>>2]=o[r+0>>2];o[u+4>>2]=o[r+4>>2];o[u+8>>2]=o[r+8>>2];o[u+12>>2]=o[r+12>>2];o[u+16>>2]=o[r+16>>2];o[u+20>>2]=o[r+20>>2];o[u+24>>2]=o[r+24>>2];pt(o[e+400>>2]|0,n,i);c=t;return}function nr(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0;t=c;c=c+48|0;n=t;a=t+16|0;u=e+44|0;l=o[u>>2]|0;if((l|0)>0){f=o[e+88>>2]|0;d=e+104|0;b=0;do{if((o[f+(b<<2)>>2]&1028|0)==1028){h=o[d>>2]|0;s[h+(b<<3)>>2]=0;s[h+(b<<3)+4>>2]=0}b=b+1|0}while((b|0)<(l|0))}_=+s[r>>2]*2.5;l=e+252|0;if((o[l>>2]|0)<=0){c=t;return}b=e+248|0;d=e+96|0;f=n+8|0;h=e+144|0;m=e+104|0;p=a+16|0;y=a+20|0;w=a+4|0;v=e+32|0;S=e+320|0;E=r+4|0;r=e+88|0;g=e+21|0;k=e+112|0;M=0;do{P=o[b>>2]|0;e:do if((o[P+(M*20|0)+8>>2]&1024|0)!=0){A=o[P+(M*20|0)>>2]|0;F=o[P+(M*20|0)+4>>2]|0;C=o[d>>2]|0;D=C+(A<<3)|0;B=+s[D>>2];R=+s[D+4>>2];D=C+(F<<3)|0;T=+s[D>>2];O=+s[D+4>>2];x=+(B<T?B:T);L=+(R<O?R:O);D=n;s[D>>2]=x;s[D+4>>2]=L;L=+(B>T?B:T);x=+(R>O?R:O);D=f;s[D>>2]=L;s[D+4>>2]=x;D=o[h>>2]|0;C=o[D+(A<<2)>>2]|0;N=o[D+(F<<2)>>2]|0;if((C|0)!=0?(o[C+12>>2]&2|0)!=0:0){ri(C);x=+s[C+56>>2];I=+s[C+48>>2]-x*(R-+s[C+44>>2]);J=x*(B-+s[C+40>>2])+ +s[C+52>>2]}else{D=(o[m>>2]|0)+(A<<3)|0;x=+s[D>>2];I=x;J=+s[D+4>>2]}if((N|0)!=0?(o[N+12>>2]&2|0)!=0:0){ri(N);x=+s[N+56>>2];G=+s[N+48>>2]-x*(O-+s[N+44>>2]);W=x*(T-+s[N+40>>2])+ +s[N+52>>2]}else{D=(o[m>>2]|0)+(F<<3)|0;x=+s[D>>2];G=x;W=+s[D+4>>2]}x=T-B;T=O-R;O=G-I;L=W-J;Ai(a,e,n);D=o[p>>2]|0;F=o[y>>2]|0;if(D>>>0<F>>>0){A=o[a>>2]|0;V=o[w>>2]|0;z=D;while(1){D=o[z+4>>2]&1048575;H=z;z=z+8|0;o[p>>2]=z;if(D>>>0<A>>>0|D>>>0>V>>>0)if(z>>>0<F>>>0){z=z;continue}else break;D=o[H>>2]|0;if(!((D|0)>-1))break e;H=(o[d>>2]|0)+(D<<3)|0;q=+s[H>>2];j=+s[H+4>>2];H=o[(o[h>>2]|0)+(D<<2)>>2]|0;r:do if(!((C|0)==(H|0)|(N|0)==(H|0))){Y=(H|0)==0;if(!Y?(o[H+12>>2]&2|0)!=0:0){ri(H);Z=+s[H+56>>2];X=+s[H+48>>2]-Z*(j-+s[H+44>>2]);K=Z*(q-+s[H+40>>2])+ +s[H+52>>2]}else{Q=(o[m>>2]|0)+(D<<3)|0;Z=+s[Q>>2];X=Z;K=+s[Q+4>>2]}Z=q-B;$=j-R;ee=X-I;re=K-J;te=O*re-L*ee;ie=x*re-T*ee-(L*Z-O*$);ne=x*$-T*Z;do if(te==0){if(ie==0)break r;oe=-ne/ie;if(!(oe>=0&oe<_))break r;ae=x+O*oe;ue=T+L*oe;le=(ae*(Z+ee*oe)+ue*($+re*oe))/(ae*ae+ue*ue);if(le>=0&le<=1)se=le;else break r}else{le=ie*ie-ne*4*te;if(le<0)break r;ue=+U(+le);le=te*2;ae=(-ie-ue)/le;oe=(ue-ie)/le;Q=ae>oe;le=Q?oe:ae;ue=Q?ae:oe;oe=x+O*le;ae=T+L*le;fe=(oe*(Z+ee*le)+ae*($+re*le))/(oe*oe+ae*ae);if(le>=0&le<_?fe>=0&fe<=1:0){se=fe;break}if(!(ue>=0&ue<_))break r;fe=x+O*ue;le=T+L*ue;ae=(fe*(Z+ee*ue)+le*($+re*ue))/(fe*fe+le*le);if(ae>=0&ae<=1)se=ae;else break r}while(0);re=I+O*se-X;$=J+L*se-K;ee=+s[v>>2]*.75;Z=ee*+s[S>>2]*ee;ee=re*Z;ie=$*Z;if(!Y?(o[H+12>>2]&2|0)!=0:0){ri(H);Z=+s[H+32>>2];ri(H);te=+s[H+36>>2];if(Z>0){ne=1/Z;Q=H+48|0;s[Q>>2]=ee*ne+ +s[Q>>2];Q=H+52|0;s[Q>>2]=ie*ne+ +s[Q>>2]}if(te>0){ri(H);Q=H+40|0;ne=+s[Q>>2];ce=H+56|0;s[ce>>2]=(ie*(q-ne)-ee*(j-+s[Q+4>>2]))/te+ +s[ce>>2]}}else{ce=o[m>>2]|0;Q=ce+(D<<3)|0;s[Q>>2]=re+ +s[Q>>2];Q=ce+(D<<3)+4|0;s[Q>>2]=$+ +s[Q>>2]}$=-+s[E>>2];re=ee*$;ee=ie*$;if(re!=0|ee!=0?(o[(o[r>>2]|0)+(D<<2)>>2]&4|0)==0:0){if((i[g>>0]|0)==0){cb(o[k>>2]|0,0,o[u>>2]<<3|0)|0;i[g>>0]=1}Q=o[k>>2]|0;ce=Q+(D<<3)|0;s[ce>>2]=re+ +s[ce>>2];ce=Q+(D<<3)+4|0;s[ce>>2]=ee+ +s[ce>>2]}}while(0);if(!(z>>>0<F>>>0))break}}}while(0);M=M+1|0}while((M|0)<(o[l>>2]|0));c=t;return}function or(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,ie=0,ne=0,oe=0;t=c;c=c+48|0;n=t+32|0;a=t+28|0;u=t;l=e+44|0;f=o[l>>2]|0;if((f|0)==0){c=t;return}d=o[e+280>>2]|0;e:do if((d|0)!=0){b=e+296|0;h=b;_=+s[r>>2]/+s[e+396>>2]*4294967296;m=bb(~~_>>>0|0,(+H(_)>=1?_>0?(le(+z(_/4294967296),4294967295)|0)>>>0:~~+te((_-+(~~_>>>0))/4294967296)>>>0:0)|0,o[h>>2]|0,o[h+4>>2]|0)|0;h=T;p=b;o[p>>2]=m;o[p+4>>2]=h;p=o[e+288>>2]|0;m=e+304|0;if((i[m>>0]|0)!=0){o[a>>2]=d;Er(p,p+(f<<2)|0,a);i[m>>0]=0}if((f|0)>0){m=e+88|0;b=f;do{b=b+-1|0;y=o[p+(b<<2)>>2]|0;w=o[d+(y<<2)>>2]|0;if((h|0)<(w|0)|(w|0)<1)break e;hi(e,y,o[(o[m>>2]|0)+(y<<2)>>2]|2)}while((b|0)>0)}}while(0);d=e+8|0;if((o[d>>2]&2|0)!=0)ci(e);f=e+12|0;if((i[f>>0]|0)!=0){o[d>>2]=0;a=o[l>>2]|0;if((a|0)>0){b=o[e+88>>2]|0;m=0;h=0;do{m=o[b+(h<<2)>>2]|m;o[d>>2]=m;h=h+1|0}while((h|0)!=(a|0))}i[f>>0]=0}f=e+20|0;if((i[f>>0]|0)!=0){a=e+16|0;o[a>>2]=0;h=o[e+312>>2]|0;if((h|0)!=0){m=0;b=h;do{m=o[b+12>>2]|m;o[a>>2]=m;b=o[b+24>>2]|0}while((b|0)!=0)}i[f>>0]=0}if((i[e>>0]|0)!=0){c=t;return}f=e+24|0;o[f>>2]=0;b=r+20|0;if((o[b>>2]|0)<=0){c=t;return}m=e+4|0;a=u+4|0;h=e+116|0;p=e+236|0;y=e+232|0;w=e+220|0;v=e+216|0;S=e+16|0;E=e+21|0;g=e+324|0;k=e+400|0;M=e+104|0;P=e+32|0;A=e+88|0;F=e+96|0;C=e+372|0;D=e+144|0;B=e+132|0;R=e+368|0;O=e+364|0;x=e+36|0;L=e+28|0;N=e+112|0;I=n+4|0;do{o[m>>2]=(o[m>>2]|0)+1;o[u+0>>2]=o[r+0>>2];o[u+4>>2]=o[r+4>>2];o[u+8>>2]=o[r+8>>2];o[u+12>>2]=o[r+12>>2];o[u+16>>2]=o[r+16>>2];o[u+20>>2]=o[r+20>>2];o[u+24>>2]=o[r+24>>2];_=+(o[b>>2]|0);J=+s[u>>2]/_;s[u>>2]=J;G=+s[a>>2]*_;s[a>>2]=G;vi(e,0);Ii(e);cb(o[h>>2]|0,0,o[l>>2]<<2|0)|0;W=o[p>>2]|0;if((W|0)>0){V=o[y>>2]|0;q=o[h>>2]|0;j=0;do{Y=q+(o[V+(j*28|0)>>2]<<2)|0;s[Y>>2]=+s[V+(j*28|0)+12>>2]+ +s[Y>>2];j=j+1|0}while((j|0)!=(W|0))}W=o[w>>2]|0;if((W|0)>0){j=o[v>>2]|0;V=o[h>>2]|0;q=0;do{Y=o[j+(q*24|0)+4>>2]|0;_=+s[j+(q*24|0)+8>>2];Z=V+(o[j+(q*24|0)>>2]<<2)|0;s[Z>>2]=_+ +s[Z>>2];Z=V+(Y<<2)|0;s[Z>>2]=_+ +s[Z>>2];q=q+1|0}while((q|0)!=(W|0))}if((o[S>>2]&16|0)!=0)Pi(e);W=o[d>>2]|0;if((W&4096|0)==0)X=W;else{W=o[A>>2]|0;o[n>>2]=7360;o[I>>2]=W;Si(e,0,o[l>>2]|0,n);if((o[l>>2]|0)>0){W=o[A>>2]|0;q=0;do{V=W+(q<<2)|0;o[V>>2]=o[V>>2]&-4097;q=q+1|0}while((q|0)<(o[l>>2]|0))}q=o[d>>2]&-4097;o[d>>2]=q;X=q}if((i[E>>0]|0)!=0){_=+s[x>>2]*1.3333333730697632;K=J*_*+s[L>>2]*_;q=o[l>>2]|0;if((q|0)>0){W=o[M>>2]|0;V=o[N>>2]|0;j=0;do{_=K*+s[V+(j<<3)+4>>2];Z=W+(j<<3)|0;s[Z>>2]=K*+s[V+(j<<3)>>2]+ +s[Z>>2];Z=W+(j<<3)+4|0;s[Z>>2]=_+ +s[Z>>2];j=j+1|0}while((j|0)!=(q|0))}i[E>>0]=0}if((X&32|0)==0)Q=X;else{ar(e);Q=o[d>>2]|0}if((Q&8192|0)!=0?(K=+s[O>>2]*+s[P>>2]*G,q=o[w>>2]|0,(q|0)>0):0){j=o[v>>2]|0;W=0;do{do if((o[j+(W*24|0)+20>>2]&8192|0)!=0){V=o[j+(W*24|0)>>2]|0;Z=o[j+(W*24|0)+4>>2]|0;Y=o[D>>2]|0;if((o[Y+(V<<2)>>2]|0)==(o[Y+(Z<<2)>>2]|0))break;Y=j+(W*24|0)+12|0;J=+s[Y>>2];_=K*+s[j+(W*24|0)+8>>2];$=_*J;J=_*+s[Y+4>>2];Y=o[M>>2]|0;ee=Y+(V<<3)|0;s[ee>>2]=+s[ee>>2]-$;ee=Y+(V<<3)+4|0;s[ee>>2]=+s[ee>>2]-J;ee=Y+(Z<<3)|0;s[ee>>2]=$+ +s[ee>>2];ee=Y+(Z<<3)+4|0;s[ee>>2]=J+ +s[ee>>2]}while(0);W=W+1|0}while((W|0)!=(q|0))}if((Q&64|0)!=0?(K=+s[R>>2]*+s[P>>2]*G,q=o[w>>2]|0,(q|0)>0):0){W=o[v>>2]|0;j=0;do{do if((o[W+(j*24|0)+20>>2]&64|0)!=0){J=+s[W+(j*24|0)+8>>2];if(!(J>.25))break;ee=o[W+(j*24|0)>>2]|0;Z=o[W+(j*24|0)+4>>2]|0;Y=W+(j*24|0)+12|0;$=+s[Y>>2];_=K*(J+-.25);J=_*$;$=_*+s[Y+4>>2];Y=o[M>>2]|0;V=Y+(ee<<3)|0;s[V>>2]=+s[V>>2]-J;V=Y+(ee<<3)+4|0;s[V>>2]=+s[V>>2]-$;V=Y+(Z<<3)|0;s[V>>2]=J+ +s[V>>2];V=Y+(Z<<3)+4|0;s[V>>2]=$+ +s[V>>2]}while(0);j=j+1|0}while((j|0)!=(q|0))}if((Q&128|0)!=0)ur(e,u);if((o[S>>2]&1|0)!=0?(K=+s[a>>2]*+s[C>>2],q=o[w>>2]|0,(q|0)>0):0){j=o[v>>2]|0;W=o[D>>2]|0;V=0;do{Z=o[j+(V*24|0)>>2]|0;Y=o[j+(V*24|0)+4>>2]|0;if((o[W+(Z<<2)>>2]|0)!=(o[W+(Y<<2)>>2]|0)){ee=j+(V*24|0)+12|0;G=+s[ee>>2];re=o[B>>2]|0;$=+s[j+(V*24|0)+8>>2]*K*(+s[re+(Z<<2)>>2]+ +s[re+(Y<<2)>>2]);J=G*$;G=+s[ee+4>>2]*$;ee=o[M>>2]|0;re=ee+(Z<<3)|0;s[re>>2]=+s[re>>2]-J;re=ee+(Z<<3)+4|0;s[re>>2]=+s[re>>2]-G;re=ee+(Y<<3)|0;s[re>>2]=J+ +s[re>>2];re=ee+(Y<<3)+4|0;s[re>>2]=G+ +s[re>>2]}V=V+1|0}while((V|0)!=(q|0))}if((o[d>>2]&256|0)!=0)lr(e);K=+s[u>>2]*+s[g>>2];q=(o[k>>2]|0)+102980|0;G=+s[q>>2];J=K*G;G=K*+s[q+4>>2];q=o[l>>2]|0;if((q|0)>0){V=o[M>>2]|0;j=0;do{W=V+(j<<3)|0;s[W>>2]=J+ +s[W>>2];W=V+(j<<3)+4|0;s[W>>2]=G+ +s[W>>2];j=j+1|0}while((j|0)!=(q|0))}if((o[d>>2]&2048|0)!=0)sr(e,u);fr(e,u);cr(e,u);q=o[d>>2]|0;if((q&2048|0)==0)ie=q;else{dr(e);ie=o[d>>2]|0}if((ie&16|0)==0)ne=ie;else{br(e,u);ne=o[d>>2]|0}if((ne&8|0)!=0)hr(e,u);G=+s[P>>2]*+s[a>>2];J=G*G;q=o[l>>2]|0;if((q|0)>0){j=o[M>>2]|0;V=0;do{W=j+(V<<3)|0;G=+s[W>>2];re=j+(V<<3)+4|0;K=+s[re>>2];$=G*G+K*K;if($>J){_=+U(+(J/$));s[W>>2]=G*_;s[re>>2]=K*_}V=V+1|0}while((V|0)!=(q|0))}if((o[S>>2]&2|0)!=0)_r(e);if((o[d>>2]&1024|0)!=0)nr(e,u);ir(e,u);if((o[S>>2]&2|0)!=0)mr(e,u);q=o[l>>2]|0;do if((o[d>>2]&4|0)==0)oe=95;else{if((q|0)<=0)break;V=o[A>>2]|0;j=0;do{if((o[V+(j<<2)>>2]&4|0)!=0){re=o[M>>2]|0;s[re+(j<<3)>>2]=0;s[re+(j<<3)+4>>2]=0}j=j+1|0}while((j|0)!=(q|0));oe=95}while(0);do if((oe|0)==95){oe=0;if((q|0)<=0)break;j=o[F>>2]|0;J=+s[u>>2];V=o[M>>2]|0;re=0;do{_=J*+s[V+(re<<3)+4>>2];W=j+(re<<3)|0;s[W>>2]=J*+s[V+(re<<3)>>2]+ +s[W>>2];W=j+(re<<3)+4|0;s[W>>2]=_+ +s[W>>2];re=re+1|0}while((re|0)<(q|0))}while(0);q=(o[f>>2]|0)+1|0;o[f>>2]=q}while((q|0)<(o[b>>2]|0));c=t;return}function ar(e){e=e|0;var r=0,t=0,i=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0;r=c;t=+s[e+352>>2];i=o[e+236>>2]|0;if((i|0)>0){a=e+96|0;u=e+104|0;l=e+36|0;f=e+28|0;d=o[e+232>>2]|0;b=o[e+88>>2]|0;h=0;do{_=o[d+(h*28|0)>>2]|0;if((o[b+(_<<2)>>2]&32|0)!=0?(m=o[d+(h*28|0)+4>>2]|0,p=(o[a>>2]|0)+(_<<3)|0,y=+s[p>>2],w=+s[p+4>>2],p=m+88|0,v=+s[p>>2],S=m+60|0,E=m+64|0,g=m+80|0,k=m+84|0,M=o[u>>2]|0,P=M+(_<<3)|0,A=+s[P>>2],F=M+(_<<3)+4|0,C=+s[F>>2],D=+s[d+(h*28|0)+12>>2]*t*+s[d+(h*28|0)+24>>2],B=D*(+s[g>>2]-v*(w-+s[E>>2])-A),R=D*(v*(y-+s[S>>2])+ +s[k>>2]-C),v=+s[l>>2]*1.3333333730697632,D=v*+s[f>>2]*v,s[P>>2]=A+B*D,s[F>>2]=C+R*D,D=-B,B=-R,(o[m>>2]|0)==2):0){F=m+4|0;P=n[F>>1]|0;if((P&2)==0?(_=P&65535,(_&2|0)==0):0){M=(_|2)&65535;n[F>>1]=M;s[m+160>>2]=0;T=M}else T=P;if(!((T&2)==0)){R=+s[m+136>>2];s[g>>2]=R*D+ +s[g>>2];s[k>>2]=R*B+ +s[k>>2];s[p>>2]=+s[p>>2]+ +s[m+144>>2]*((y-+s[S>>2])*B-(w-+s[E>>2])*D)}}h=h+1|0}while((h|0)<(i|0))}i=o[e+220>>2]|0;if((i|0)<=0){c=r;return}h=o[e+216>>2]|0;T=e+104|0;e=0;do{if((o[h+(e*24|0)+20>>2]&32|0)!=0){f=o[h+(e*24|0)>>2]|0;l=o[h+(e*24|0)+4>>2]|0;d=o[T>>2]|0;u=d+(l<<3)|0;a=d+(f<<3)|0;D=+s[a>>2];b=d+(l<<3)+4|0;l=d+(f<<3)+4|0;w=+s[l>>2];B=t*+s[h+(e*24|0)+8>>2];y=B*(+s[u>>2]-D);R=B*(+s[b>>2]-w);s[a>>2]=D+y;s[l>>2]=w+R;s[u>>2]=+s[u>>2]-y;s[b>>2]=+s[b>>2]-R}e=e+1|0}while((e|0)<(i|0));c=r;return}function ur(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0;t=c;i=e+44|0;if((o[i>>2]|0)>0){n=e+128|0;a=0;do{u=8784;l=o[u+4>>2]|0;f=(o[n>>2]|0)+(a<<3)|0;o[f>>2]=o[u>>2];o[f+4>>2]=l;a=a+1|0}while((a|0)<(o[i>>2]|0))}i=e+216|0;a=o[e+220>>2]|0;n=(a|0)>0;if(n){l=e+128|0;f=o[i>>2]|0;u=0;do{if((o[f+(u*24|0)+20>>2]&128|0)!=0){d=o[f+(u*24|0)>>2]|0;b=o[f+(u*24|0)+4>>2]|0;h=+s[f+(u*24|0)+8>>2];_=f+(u*24|0)+12|0;m=+s[_>>2];p=h*(1-h);h=p*m;m=p*+s[_+4>>2];_=o[l>>2]|0;y=_+(d<<3)|0;s[y>>2]=+s[y>>2]-h;y=_+(d<<3)+4|0;s[y>>2]=+s[y>>2]-m;y=_+(b<<3)|0;s[y>>2]=h+ +s[y>>2];y=_+(b<<3)+4|0;s[y>>2]=m+ +s[y>>2]}u=u+1|0}while((u|0)<(a|0))}m=+s[e+32>>2]*+s[r+4>>2];h=+s[e+356>>2]*m;p=m*+s[e+360>>2];w=m*.5;if(!n){c=t;return}n=e+116|0;r=e+128|0;u=e+104|0;e=o[i>>2]|0;i=0;do{if((o[e+(i*24|0)+20>>2]&128|0)!=0){l=o[e+(i*24|0)>>2]|0;f=o[e+(i*24|0)+4>>2]|0;y=e+(i*24|0)+12|0;m=+s[y>>2];v=+s[y+4>>2];y=o[n>>2]|0;b=o[r>>2]|0;S=h*(+s[y+(l<<2)>>2]+ +s[y+(f<<2)>>2]+-2)+p*(m*(+s[b+(f<<3)>>2]-+s[b+(l<<3)>>2])+v*(+s[b+(f<<3)+4>>2]-+s[b+(l<<3)+4>>2]));E=+s[e+(i*24|0)+8>>2]*(S<w?S:w);S=m*E;m=v*E;b=o[u>>2]|0;y=b+(l<<3)|0;s[y>>2]=+s[y>>2]-S;y=b+(l<<3)+4|0;s[y>>2]=+s[y>>2]-m;y=b+(f<<3)|0;s[y>>2]=+s[y>>2]+S;y=b+(f<<3)+4|0;s[y>>2]=+s[y>>2]+m}i=i+1|0}while((i|0)<(a|0));c=t;return}function lr(e){e=e|0;var r=0,t=0,n=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0;r=c;t=~~(+s[e+388>>2]*128);if((t|0)==0){c=r;return}n=e+220|0;u=o[n>>2]|0;if((u|0)<=0){c=r;return}l=e+216|0;f=e+88|0;d=e+136|0;e=a[8064]|0;b=u;u=0;while(1){h=o[l>>2]|0;_=o[h+(u*24|0)>>2]|0;m=o[h+(u*24|0)+4>>2]|0;h=o[f>>2]|0;if((o[h+(_<<2)>>2]&256&o[h+(m<<2)>>2]|0)==0)p=b;else{h=o[d>>2]|0;y=h+(m<<2)|0;w=h+(_<<2)|0;v=a[w>>0]|0;S=(ie((a[y>>0]|0)-v|0,t)|0)>>e;E=h+(m<<2)+1|0;g=h+(_<<2)+1|0;k=a[g>>0]|0;M=(ie((a[E>>0]|0)-k|0,t)|0)>>e;P=h+(m<<2)+2|0;A=h+(_<<2)+2|0;F=a[A>>0]|0;C=(ie((a[P>>0]|0)-F|0,t)|0)>>e;D=h+(m<<2)+3|0;m=h+(_<<2)+3|0;_=a[m>>0]|0;h=(ie((a[D>>0]|0)-_|0,t)|0)>>e;i[w>>0]=S+v;i[g>>0]=M+k;i[A>>0]=C+F;i[m>>0]=h+_;i[y>>0]=(a[y>>0]|0)-S;i[E>>0]=(a[E>>0]|0)-M;i[P>>0]=(a[P>>0]|0)-C;i[D>>0]=(a[D>>0]|0)-h;p=o[n>>2]|0}u=u+1|0;if((u|0)>=(p|0))break;else b=p}c=r;return}function sr(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0;t=c;i=e+120|0;n=o[i>>2]|0;if((n|0)==0){a=e+48|0;u=o[a>>2]|0;if((u|0)==0){si(e,256);l=o[a>>2]|0}else l=u;u=wd(o[e+400>>2]|0,l<<2)|0;cb(u|0,0,o[a>>2]<<2|0)|0;f=u}else f=n;o[i>>2]=f;d=+s[e+32>>2]*+s[r+4>>2];b=+s[e+320>>2]*d*d;d=+s[e+376>>2]*b;h=b*.25;b=+s[e+380>>2];r=e+384|0;if((o[r>>2]|0)<=0){c=t;return}f=e+124|0;n=e+44|0;u=e+220|0;a=e+116|0;l=e+88|0;_=e+216|0;e=o[n>>2]|0;m=1;while(1){cb(o[f>>2]|0,0,e<<2|0)|0;p=o[u>>2]|0;if((p|0)>0){y=o[_>>2]|0;w=0;do{if((o[y+(w*24|0)+20>>2]&2048|0)!=0){v=o[y+(w*24|0)>>2]|0;S=o[y+(w*24|0)+4>>2]|0;E=+s[y+(w*24|0)+8>>2];g=o[i>>2]|0;k=o[f>>2]|0;M=k+(v<<2)|0;s[M>>2]=E*+s[g+(S<<2)>>2]+ +s[M>>2];M=k+(S<<2)|0;s[M>>2]=E*+s[g+(v<<2)>>2]+ +s[M>>2]}w=w+1|0}while((w|0)<(p|0))}p=o[n>>2]|0;if((p|0)>0){w=o[a>>2]|0;y=o[l>>2]|0;M=0;do{E=+s[w+(M<<2)>>2];if((o[y+(M<<2)>>2]&2048|0)==0)s[(o[i>>2]|0)+(M<<2)>>2]=0;else{P=(d*(E+-1)+ +s[(o[f>>2]|0)+(M<<2)>>2])/(b+E);E=P<h?P:h;s[(o[i>>2]|0)+(M<<2)>>2]=E<0?0:E}M=M+1|0}while((M|0)<(p|0))}if((m|0)>=(o[r>>2]|0))break;e=p;m=m+1|0}c=t;return}function fr(e,r){e=e|0;r=r|0;var t=0,i=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0;t=c;i=e+320|0;a=e+32|0;u=+s[a>>2]*+s[r+4>>2];l=+s[i>>2]*u*u;u=+s[e+336>>2]*l;f=l*.25;d=o[e+44>>2]|0;b=(d|0)>0;if(b){h=o[e+116>>2]|0;_=o[e+124>>2]|0;m=0;do{l=+s[h+(m<<2)>>2]+-1;p=u*(l<0?0:l);s[_+(m<<2)>>2]=p<f?p:f;m=m+1|0}while((m|0)<(d|0))}m=o[e+8>>2]|0;if(!((m&192|0)==0|b^1)){_=o[e+88>>2]|0;h=e+124|0;y=0;do{if((o[_+(y<<2)>>2]&192|0)!=0)s[(o[h>>2]|0)+(y<<2)>>2]=0;y=y+1|0}while((y|0)<(d|0))}if(!((m&2048|0)==0|b^1)){b=o[e+88>>2]|0;m=e+120|0;y=e+124|0;h=0;do{if((o[b+(h<<2)>>2]&2048|0)!=0){_=(o[y>>2]|0)+(h<<2)|0;s[_>>2]=+s[(o[m>>2]|0)+(h<<2)>>2]+ +s[_>>2]}h=h+1|0}while((h|0)<(d|0))}f=+s[r>>2]/(+s[i>>2]*+s[a>>2]);a=o[e+236>>2]|0;if((a|0)>0){i=e+36|0;r=e+28|0;d=o[e+232>>2]|0;h=o[e+96>>2]|0;m=o[e+124>>2]|0;y=o[e+104>>2]|0;b=0;do{_=o[d+(b*28|0)>>2]|0;w=o[d+(b*28|0)+4>>2]|0;p=+s[d+(b*28|0)+12>>2];v=d+(b*28|0)+16|0;l=+s[v>>2];S=+s[v+4>>2];v=h+(_<<3)|0;E=+s[v>>2];g=+s[v+4>>2];k=f*p*+s[d+(b*28|0)+24>>2]*(u*p+ +s[m+(_<<2)>>2]);p=l*k;l=S*k;k=+s[i>>2]*1.3333333730697632;S=k*+s[r>>2]*k;v=y+(_<<3)|0;s[v>>2]=+s[v>>2]-p*S;v=y+(_<<3)+4|0;s[v>>2]=+s[v>>2]-l*S;if((o[w>>2]|0)==2){v=w+4|0;_=n[v>>1]|0;if((_&2)==0?(M=_&65535,(M&2|0)==0):0){P=(M|2)&65535;n[v>>1]=P;s[w+160>>2]=0;A=P}else A=_;if(!((A&2)==0)){S=+s[w+136>>2];_=w+80|0;s[_>>2]=p*S+ +s[_>>2];_=w+84|0;s[_>>2]=l*S+ +s[_>>2];_=w+88|0;s[_>>2]=+s[_>>2]+ +s[w+144>>2]*(l*(E-+s[w+60>>2])-p*(g-+s[w+64>>2]))}}b=b+1|0}while((b|0)<(a|0))}a=o[e+220>>2]|0;if((a|0)<=0){c=t;return}b=o[e+216>>2]|0;A=o[e+124>>2]|0;y=o[e+104>>2]|0;e=0;do{r=o[b+(e*24|0)>>2]|0;i=o[b+(e*24|0)+4>>2]|0;m=b+(e*24|0)+12|0;u=+s[m>>2];g=f*+s[b+(e*24|0)+8>>2]*(+s[A+(r<<2)>>2]+ +s[A+(i<<2)>>2]);p=u*g;u=+s[m+4>>2]*g;m=y+(r<<3)|0;s[m>>2]=+s[m>>2]-p;m=y+(r<<3)+4|0;s[m>>2]=+s[m>>2]-u;m=y+(i<<3)|0;s[m>>2]=p+ +s[m>>2];m=y+(i<<3)+4|0;s[m>>2]=u+ +s[m>>2];e=e+1|0}while((e|0)<(a|0));c=t;return}function cr(e,r){e=e|0;r=r|0;var t=0,i=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0;t=c;i=+s[e+340>>2];a=1/(+s[e+32>>2]*+s[r+4>>2]);r=o[e+236>>2]|0;if((r|0)>0){u=e+36|0;l=e+28|0;f=o[e+232>>2]|0;d=o[e+96>>2]|0;b=o[e+104>>2]|0;h=0;do{_=o[f+(h*28|0)>>2]|0;m=o[f+(h*28|0)+4>>2]|0;p=f+(h*28|0)+16|0;y=+s[p>>2];w=+s[p+4>>2];p=d+(_<<3)|0;v=+s[p>>2];S=+s[p+4>>2];p=m+88|0;E=+s[p>>2];g=m+60|0;k=m+64|0;M=m+80|0;P=m+84|0;A=b+(_<<3)|0;F=+s[A>>2];C=b+(_<<3)+4|0;D=+s[C>>2];B=y*(+s[M>>2]-E*(S-+s[k>>2])-F)+w*(E*(v-+s[g>>2])+ +s[P>>2]-D);if(B<0?(E=i*+s[f+(h*28|0)+12>>2],R=a*B,T=R>-.5?-R:.5,R=B*+s[f+(h*28|0)+24>>2]*(E>T?E:T),T=y*R,y=w*R,R=+s[u>>2]*1.3333333730697632,w=R*+s[l>>2]*R,s[A>>2]=F+w*T,s[C>>2]=D+w*y,w=-T,T=-y,(o[m>>2]|0)==2):0){C=m+4|0;A=n[C>>1]|0;if((A&2)==0?(_=A&65535,(_&2|0)==0):0){O=(_|2)&65535;n[C>>1]=O;s[m+160>>2]=0;x=O}else x=A;if(!((x&2)==0)){y=+s[m+136>>2];s[M>>2]=y*w+ +s[M>>2];s[P>>2]=y*T+ +s[P>>2];s[p>>2]=+s[p>>2]+ +s[m+144>>2]*((v-+s[g>>2])*T-(S-+s[k>>2])*w)}}h=h+1|0}while((h|0)<(r|0))}r=o[e+220>>2]|0;if((r|0)<=0){c=t;return}h=o[e+216>>2]|0;x=o[e+104>>2]|0;e=0;do{l=o[h+(e*24|0)>>2]|0;u=o[h+(e*24|0)+4>>2]|0;f=h+(e*24|0)+12|0;w=+s[f>>2];S=+s[f+4>>2];f=x+(u<<3)|0;b=x+(l<<3)|0;T=+s[b>>2];d=x+(u<<3)+4|0;u=x+(l<<3)+4|0;v=+s[u>>2];y=w*(+s[f>>2]-T)+S*(+s[d>>2]-v);if(y<0){D=i*+s[h+(e*24|0)+8>>2];F=a*y;R=F>-.5?-F:.5;F=y*(D>R?D:R);R=w*F;w=S*F;s[b>>2]=T+R;s[u>>2]=v+w;s[f>>2]=+s[f>>2]-R;s[d>>2]=+s[d>>2]-w}e=e+1|0}while((e|0)<(r|0));c=t;return}function dr(e){e=e|0;var r=0,t=0,i=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0;r=c;t=o[e+236>>2]|0;if((t|0)<=0){c=r;return}i=e+96|0;a=e+104|0;u=e+36|0;l=e+28|0;f=o[e+232>>2]|0;d=o[e+88>>2]|0;e=0;do{b=o[f+(e*28|0)>>2]|0;if(((o[d+(b<<2)>>2]&2048|0)!=0?(h=o[f+(e*28|0)+4>>2]|0,_=f+(e*28|0)+16|0,m=+s[_>>2],p=+s[_+4>>2],_=(o[i>>2]|0)+(b<<3)|0,y=+s[_>>2],w=+s[_+4>>2],_=h+88|0,v=+s[_>>2],S=h+60|0,E=h+64|0,g=h+80|0,k=h+84|0,M=o[a>>2]|0,P=M+(b<<3)|0,A=+s[P>>2],F=M+(b<<3)+4|0,C=+s[F>>2],D=m*(+s[g>>2]-v*(w-+s[E>>2])-A)+p*(v*(y-+s[S>>2])+ +s[k>>2]-C),D<0):0)?(v=D*+s[f+(e*28|0)+24>>2]*.5,D=m*v,m=p*v,v=+s[u>>2]*1.3333333730697632,p=v*+s[l>>2]*v,s[P>>2]=A+D*p,s[F>>2]=C+m*p,p=-D,D=-m,(o[h>>2]|0)==2):0){F=h+4|0;P=n[F>>1]|0;if((P&2)==0?(b=P&65535,(b&2|0)==0):0){M=(b|2)&65535;n[F>>1]=M;s[h+160>>2]=0;B=M}else B=P;if(!((B&2)==0)){m=+s[h+136>>2];s[g>>2]=m*p+ +s[g>>2];s[k>>2]=m*D+ +s[k>>2];s[_>>2]=+s[_>>2]+ +s[h+144>>2]*((y-+s[S>>2])*D-(w-+s[E>>2])*p)}}e=e+1|0}while((e|0)<(t|0));c=r;return}function br(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0;t=c;i=+s[r+4>>2]*+s[e+344>>2];n=e+268|0;a=o[n>>2]|0;if((a|0)<=0){c=t;return}u=e+264|0;l=e+96|0;f=e+104|0;e=a;a=0;while(1){d=o[u>>2]|0;if((o[d+(a*60|0)+12>>2]&16|0)==0)h=e;else{_=o[d+(a*60|0)>>2]|0;m=o[d+(a*60|0)+4>>2]|0;p=o[d+(a*60|0)+8>>2]|0;y=o[l>>2]|0;w=y+(_<<3)|0;v=+s[w>>2];S=+s[w+4>>2];w=y+(m<<3)|0;E=+s[w>>2];g=+s[w+4>>2];w=y+(p<<3)|0;k=+s[w>>2];y=o[f>>2]|0;M=+s[r>>2];P=y+(_<<3)|0;A=+s[P>>2];F=y+(_<<3)+4|0;C=+s[F>>2];D=v+M*A;v=S+M*C;_=y+(m<<3)|0;B=y+(m<<3)+4|0;S=E+M*+s[_>>2];E=g+M*+s[B>>2];m=y+(p<<3)|0;R=y+(p<<3)+4|0;g=k+M*+s[m>>2];k=+s[w+4>>2]+M*+s[R>>2];M=(D+S+g)*.3333333432674408;T=(v+E+k)*.3333333432674408;O=D-M;D=v-T;v=S-M;S=E-T;E=g-M;M=k-T;T=+s[d+(a*60|0)+20>>2];k=+s[d+(a*60|0)+24>>2];w=d+(a*60|0)+28|0;g=+s[w>>2];p=d+(a*60|0)+32|0;x=+s[p>>2];y=d+(a*60|0)+36|0;L=+s[y>>2];N=d+(a*60|0)+40|0;I=+s[N>>2];J=T*D-k*O+(g*S-x*v)+(L*M-E*I);G=T*O+k*D+(g*v+x*S)+(E*L+M*I);I=J*J+G*G;L=(o[b>>2]=1597463007-((s[b>>2]=I,o[b>>2]|0)>>1),+s[b>>2]);x=L*(1.5-L*I*.5*L);L=J*x;J=G*x;x=i*+s[d+(a*60|0)+16>>2];s[P>>2]=A+x*(T*J-k*L-O);s[F>>2]=C+x*(T*L+k*J-D);D=+s[w>>2];k=+s[p>>2];s[_>>2]=+s[_>>2]+x*(D*J-k*L-v);s[B>>2]=+s[B>>2]+x*(D*L+k*J-S);S=+s[y>>2];k=+s[N>>2];s[m>>2]=+s[m>>2]+x*(S*J-k*L-E);s[R>>2]=+s[R>>2]+x*(S*L+k*J-M);h=o[n>>2]|0}a=a+1|0;if((a|0)>=(h|0))break;else e=h}c=t;return}function hr(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0;t=c;i=+s[r+4>>2]*+s[e+348>>2];n=o[e+252>>2]|0;if((n|0)<=0){c=t;return}a=e+96|0;u=e+104|0;l=o[e+248>>2]|0;e=0;do{if((o[l+(e*20|0)+8>>2]&8|0)!=0){f=o[l+(e*20|0)>>2]|0;d=o[l+(e*20|0)+4>>2]|0;b=o[a>>2]|0;h=b+(f<<3)|0;_=+s[h>>2];m=+s[h+4>>2];h=b+(d<<3)|0;p=+s[h>>2];b=o[u>>2]|0;y=+s[r>>2];w=b+(f<<3)|0;v=+s[w>>2];S=b+(f<<3)+4|0;E=+s[S>>2];f=b+(d<<3)|0;g=b+(d<<3)+4|0;k=p+y*+s[f>>2]-(_+y*v);_=+s[h+4>>2]+y*+s[g>>2]-(m+y*E);y=+U(+(k*k+_*_));m=(+s[l+(e*20|0)+16>>2]-y)*i*+s[l+(e*20|0)+12>>2]/y;y=k*m;k=_*m;s[w>>2]=v-y;s[S>>2]=E-k;s[f>>2]=y+ +s[f>>2];s[g>>2]=k+ +s[g>>2]}e=e+1|0}while((e|0)<(n|0));c=t;return}function _r(e){e=e|0;var r=0,t=0,i=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0;r=c;t=+s[e+340>>2];i=e+236|0;if((o[i>>2]|0)>0){a=e+232|0;u=e+144|0;l=e+96|0;f=0;do{d=o[a>>2]|0;b=o[d+(f*28|0)>>2]|0;h=o[(o[u>>2]|0)+(b<<2)>>2]|0;if(((h|0)!=0?(o[h+12>>2]&2|0)!=0:0)?(_=o[d+(f*28|0)+4>>2]|0,m=d+(f*28|0)+16|0,p=+s[m>>2],y=+s[m+4>>2],w=+s[d+(f*28|0)+12>>2],d=(o[l>>2]|0)+(b<<3)|0,v=+s[d>>2],S=+s[d+4>>2],d=_+88|0,E=+s[d>>2],b=_+60|0,m=_+64|0,g=_+80|0,k=+s[g>>2]-E*(S-+s[m>>2]),M=_+84|0,P=E*(v-+s[b>>2])+ +s[M>>2],ri(h),A=h+56|0,E=+s[A>>2],F=h+48|0,C=h+52|0,D=p*(k-(+s[F>>2]-E*(S-+s[h+44>>2])))+y*(P-(E*(v-+s[h+40>>2])+ +s[C>>2])),D<0):0){ri(h);E=+s[h+32>>2];ri(h);P=+s[h+36>>2];ri(h);B=h+40|0;k=+s[B>>2];if(E>0)R=1/E;else R=0;if(P>0)T=1/P;else T=0;P=y*(v-k)-p*(S-+s[B+4>>2]);k=+s[_+132>>2];E=+s[_+44>>2];O=+s[_+48>>2];x=k*(E*E+O*O);O=+s[_+140>>2]+x-x;if(k>0)L=1/k;else L=0;if(O>0)N=1/O;else N=0;O=y*(v-+s[b>>2])-p*(S-+s[m>>2]);k=R+P*P*T+L+O*N*O;if(k>0)I=D/k;else I=0;k=t*(w<1?w:1)*I;w=R*k;s[F>>2]=+s[F>>2]+p*w;s[C>>2]=+s[C>>2]+y*w;s[A>>2]=T*P*k+ +s[A>>2];P=-k;k=p*P;p=y*P;if((o[_>>2]|0)==2){A=_+4|0;C=n[A>>1]|0;if((C&2)==0?(F=C&65535,(F&2|0)==0):0){B=(F|2)&65535;n[A>>1]=B;s[_+160>>2]=0;J=B}else J=C;if(!((J&2)==0)){P=+s[_+136>>2];s[g>>2]=k*P+ +s[g>>2];s[M>>2]=p*P+ +s[M>>2];s[d>>2]=+s[d>>2]+ +s[_+144>>2]*(p*(v-+s[b>>2])-k*(S-+s[m>>2]))}}}f=f+1|0}while((f|0)<(o[i>>2]|0))}i=e+220|0;if((o[i>>2]|0)<=0){c=r;return}f=e+216|0;J=e+144|0;l=e+96|0;u=e+104|0;a=e+88|0;m=e+32|0;b=e+320|0;e=0;do{_=o[f>>2]|0;d=o[_+(e*24|0)>>2]|0;M=o[_+(e*24|0)+4>>2]|0;g=_+(e*24|0)+12|0;T=+s[g>>2];R=+s[g+4>>2];I=+s[_+(e*24|0)+8>>2];_=o[J>>2]|0;g=o[_+(d<<2)>>2]|0;C=o[_+(M<<2)>>2]|0;_=(g|0)==0;if(_)G=0;else G=(o[g+12>>2]&2|0)!=0;B=(C|0)==0;if(B)W=0;else W=(o[C+12>>2]&2|0)!=0;do if((g|0)!=(C|0)&(G|W)){A=o[l>>2]|0;N=(+s[A+(d<<3)>>2]+ +s[A+(M<<3)>>2])*.5;L=(+s[A+(d<<3)+4>>2]+ +s[A+(M<<3)+4>>2])*.5;if(!B?(o[C+12>>2]&2|0)!=0:0){ri(C);S=+s[C+56>>2];V=+s[C+48>>2]-S*(L-+s[C+44>>2]);z=S*(N-+s[C+40>>2])+ +s[C+52>>2]}else{A=(o[u>>2]|0)+(M<<3)|0;S=+s[A>>2];V=S;z=+s[A+4>>2]}if(!_?(o[g+12>>2]&2|0)!=0:0){ri(g);S=+s[g+56>>2];H=+s[g+48>>2]-S*(L-+s[g+44>>2]);U=S*(N-+s[g+40>>2])+ +s[g+52>>2]}else{A=(o[u>>2]|0)+(d<<3)|0;S=+s[A>>2];H=S;U=+s[A+4>>2]}S=R*(z-U)+T*(V-H);if(S<0){if(G){ri(g);k=+s[g+32>>2];ri(g);v=+s[g+36>>2];ri(g);A=g+40|0;p=+s[A>>2];if(k>0)q=1/k;else q=0;if(v>0)j=1/v;else j=0;Y=j;Z=q;X=R*(N-p)-T*(L-+s[A+4>>2])}else{if((o[(o[a>>2]|0)+(d<<2)>>2]&4|0)==0?(p=+s[m>>2]*.75,v=p*+s[b>>2]*p,v>0):0)K=1/v;else K=0;Y=0;Z=K;X=R*(N-N)-T*(L-L)}if(W){ri(C);v=+s[C+32>>2];ri(C);p=+s[C+36>>2];ri(C);A=C+40|0;k=+s[A>>2];if(v>0)Q=1/v;else Q=0;if(p>0)$=1/p;else $=0;ee=Q;re=$;te=R*(N-k)-T*(L-+s[A+4>>2])}else{if((o[(o[a>>2]|0)+(M<<2)>>2]&4|0)==0?(k=+s[m>>2]*.75,p=k*+s[b>>2]*k,p>0):0)ie=1/p;else ie=0;ee=ie;re=0;te=R*(N-N)-T*(L-L)}L=Z+X*Y*X+ee+te*re*te;if(L>0)ne=S/L;else ne=0;L=t*I*ne;if(G){S=Z*L;A=g+48|0;s[A>>2]=T*S+ +s[A>>2];A=g+52|0;s[A>>2]=R*S+ +s[A>>2];A=g+56|0;s[A>>2]=Y*X*L+ +s[A>>2]}else{A=o[u>>2]|0;S=Z*L;F=A+(d<<3)|0;s[F>>2]=T*S+ +s[F>>2];F=A+(d<<3)+4|0;s[F>>2]=R*S+ +s[F>>2]}S=-L;if(W){L=ee*S;F=C+48|0;s[F>>2]=T*L+ +s[F>>2];F=C+52|0;s[F>>2]=R*L+ +s[F>>2];F=C+56|0;s[F>>2]=re*te*S+ +s[F>>2];break}else{F=o[u>>2]|0;L=ee*S;A=F+(M<<3)|0;s[A>>2]=T*L+ +s[A>>2];A=F+(M<<3)+4|0;s[A>>2]=R*L+ +s[A>>2];break}}}while(0);e=e+1|0}while((e|0)<(o[i>>2]|0));c=r;return}function mr(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0;t=c;i=o[e+312>>2]|0;if((i|0)==0){c=t;return}n=r+4|0;a=e+104|0;u=e+96|0;e=i;do{if((o[e+12>>2]&2|0)!=0?(ri(e),l=+s[r>>2],f=l*+s[e+56>>2],d=+Y(+f),b=+j(+f),f=+s[e+40>>2],h=+s[e+44>>2],_=l*+s[e+48>>2]+f-(b*f-d*h),m=l*+s[e+52>>2]+h-(d*f+b*h),i=e+60|0,h=+s[e+72>>2],f=+s[e+68>>2],l=+(d*h+b*f),p=+(b*h-d*f),f=+s[i>>2],h=+s[e+64>>2],y=+(_+(b*f-d*h)),w=+(m+(d*f+b*h)),v=i,s[v>>2]=y,s[v+4>>2]=w,v=e+68|0,s[v>>2]=l,s[v+4>>2]=p,p=+s[n>>2],l=_*p,_=m*p,m=d*p,d=(b+-1)*p,v=o[e+4>>2]|0,i=e+8|0,(v|0)<(o[i>>2]|0)):0){S=v;do{v=o[u>>2]|0;p=+s[v+(S<<3)>>2];b=+s[v+(S<<3)+4>>2];w=+(l+(d*p-m*b));y=+(_+(m*p+d*b));v=(o[a>>2]|0)+(S<<3)|0;s[v>>2]=w;s[v+4>>2]=y;S=S+1|0}while((S|0)<(o[i>>2]|0))}e=o[e+24>>2]|0}while((e|0)!=0);c=t;return}function pr(e,r,t,n){e=e|0;r=r|0;t=t|0;n=n|0;var a=0,u=0,l=0,f=0;a=c;u=+(t-r|0);l=+s[n>>2]/u;f=+s[n+4>>2]/u;if(!(l!=0|f!=0)){c=a;return}n=e+21|0;if((i[n>>0]|0)==0){cb(o[e+112>>2]|0,0,o[e+44>>2]<<3|0)|0;i[n>>0]=1}if((r|0)>=(t|0)){c=a;return}n=o[e+112>>2]|0;e=r;do{r=n+(e<<3)|0;s[r>>2]=l+ +s[r>>2];r=n+(e<<3)+4|0;s[r>>2]=f+ +s[r>>2];e=e+1|0}while((e|0)!=(t|0));c=a;return}function yr(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0;n=c;a=+s[e+32>>2]*.75;u=+(t-r|0)*a*+s[e+320>>2]*a;a=+s[i>>2]/u;l=+s[i+4>>2]/u;if((r|0)>=(t|0)){c=n;return}i=o[e+104>>2]|0;e=r;do{r=i+(e<<3)|0;s[r>>2]=a+ +s[r>>2];r=i+(e<<3)+4|0;s[r>>2]=l+ +s[r>>2];e=e+1|0}while((e|0)!=(t|0));c=n;return}function wr(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0;i=c;n=o[e+204>>2]|0;if((n|0)==0){c=i;return}a=o[e+200>>2]|0;u=+s[e+36>>2];l=+s[t>>2];f=t+4|0;d=(~~(u*+s[f>>2]+2048)>>>0<<20)+(~~(u*l*256+524288)>>>0)|0;b=a;h=n<<3>>3;e:while(1){_=h;while(1){if((_|0)==0)break e;m=(_|0)/2|0;if((o[b+(m<<3)+4>>2]|0)>>>0<d>>>0)break;else _=m}b=b+(m+1<<3)|0;h=_+-1-m|0}m=t+8|0;h=t+12|0;d=(~~(u*+s[h>>2]+2048)>>>0<<20)+(~~(u*+s[m>>2]*256+524288)>>>0)|0;p=b;y=a+(n<<3)-b>>3;e:while(1){n=y;while(1){if((n|0)==0)break e;w=(n|0)/2|0;if((o[p+(w<<3)+4>>2]|0)>>>0>d>>>0)n=w;else break}p=p+(w+1<<3)|0;y=n+-1-w|0}if(!(b>>>0<p>>>0)){c=i;return}w=e+96|0;u=l;y=b;while(1){b=o[y>>2]|0;d=o[w>>2]|0;l=+s[d+(b<<3)>>2];if((((u<l?l<+s[m>>2]:0)?(l=+s[d+(b<<3)+4>>2],+s[f>>2]<l):0)?l<+s[h>>2]:0)?!(_h[o[(o[r>>2]|0)+12>>2]&15](r,e,b)|0):0){v=21;break}b=y+8|0;if(!(b>>>0<p>>>0)){v=21;break}u=+s[t>>2];y=b}if((v|0)==21){c=i;return}}function vr(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0;n=c;c=c+64|0;a=n;u=n+32|0;l=n+24|0;f=n+16|0;if((o[e+204>>2]|0)==0){c=n;return}d=+s[t>>2];b=+s[i>>2];h=t+4|0;_=+s[h>>2];m=+s[i+4>>2];p=+(d<b?d:b);y=+(_<m?_:m);i=a;s[i>>2]=p;s[i+4>>2]=y;y=+(d>b?d:b);p=+(_>m?_:m);i=a+8|0;s[i>>2]=y;s[i+4>>2]=p;p=b-d;d=m-_;_=p*p+d*d;Ai(u,e,a);a=u+16|0;i=o[u+20>>2]|0;w=u+4|0;v=e+96|0;S=e+40|0;E=l+4|0;g=f+4|0;k=o[a>>2]|0;m=1;e:while(1){if(!(k>>>0<i>>>0)){M=16;break}P=o[u>>2]|0;A=o[w>>2]|0;F=k;while(1){C=o[F+4>>2]&1048575;D=F;F=F+8|0;o[a>>2]=F;if(C>>>0<P>>>0|C>>>0>A>>>0)if(F>>>0<i>>>0){F=F;continue}else{M=16;break e}B=o[D>>2]|0;if(!((B|0)>-1)){M=16;break e}D=o[v>>2]|0;R=+s[t>>2];T=R-+s[D+(B<<3)>>2];O=+s[h>>2];x=O-+s[D+(B<<3)+4>>2];b=p*T+d*x;y=b*b-_*(T*T+x*x-+s[S>>2]);if(y>=0?(L=+U(+y),y=(-b-L)/_,!(y>m)):0){if(!(y<0)){N=y;break}y=(L-b)/_;if(!(y<0|y>m)){N=y;break}}if(!(F>>>0<i>>>0)){M=16;break e}}y=p*N;b=d*N;L=T+y;I=x+b;s[l>>2]=L;s[E>>2]=I;J=+U(+(L*L+I*I));if(!(J<1.1920928955078125E-7)){G=1/J;s[l>>2]=L*G;s[E>>2]=I*G}A=o[(o[r>>2]|0)+12>>2]|0;s[f>>2]=y+R;s[g>>2]=b+O;b=+lh[A&1](r,e,B,f,l,N);m=m<b?m:b;if(m<=0){M=16;break}else k=F}if((M|0)==16){c=n;return}}function Sr(e,r,t){e=e|0;r=r|0;t=t|0;var n=0,o=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0;n=c;o=((t+-4+(0-r)|0)>>>2)+1|0;u=e;l=r;s=r;while(1){r=a[u>>0]|a[u+1>>0]<<8|a[u+2>>0]<<16|a[u+3>>0]<<24;f=s+1|0;d=i[f>>0]|0;b=s+2|0;h=i[b>>0]|0;_=s+3|0;m=i[_>>0]|0;i[u>>0]=i[s>>0]|0;i[u+1>>0]=d;i[u+2>>0]=h;i[u+3>>0]=m;i[s>>0]=r;i[f>>0]=r>>>8;i[b>>0]=r>>>16;i[_>>0]=r>>>24;r=u+4|0;_=s+4|0;p=(r|0)==(l|0);if((_|0)==(t|0))break;u=r;l=p?_:l;s=_}s=e+(o<<2)|0;if(p){c=n;return s|0}else{y=s;w=l;v=l}e:while(1){l=y;p=v;while(1){o=a[l>>0]|a[l+1>>0]<<8|a[l+2>>0]<<16|a[l+3>>0]<<24;e=p+1|0;u=i[e>>0]|0;_=p+2|0;r=i[_>>0]|0;b=p+3|0;f=i[b>>0]|0;i[l>>0]=i[p>>0]|0;i[l+1>>0]=u;i[l+2>>0]=r;i[l+3>>0]=f;i[p>>0]=o;i[e>>0]=o>>>8;i[_>>0]=o>>>16;i[b>>0]=o>>>24;l=l+4|0;S=p+4|0;E=(l|0)==(w|0);if((S|0)!=(t|0))break;if(E)break e;else p=w}y=l;w=E?S:w;v=S}c=n;return s|0}function Er(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0;i=c;n=e;e=r;e:while(1){r=e;a=e+-4|0;u=n;r:while(1){l=u;s=r-l|0;f=s>>2;switch(f|0){case 2:d=4;break e;break;case 3:d=6;break e;break;case 5:d=8;break e;break;case 4:d=7;break e;break;case 1:case 0:d=51;break e;break;default:}if((s|0)<124){d=10;break e}b=(f|0)/2|0;h=u+(b<<2)|0;if((s|0)>3996){s=(f|0)/4|0;_=Mr(u,u+(s<<2)|0,h,u+(s+b<<2)|0,a,t)|0}else _=gr(u,h,a,o[t>>2]|0)|0;b=o[u>>2]|0;s=o[t>>2]|0;f=o[s+(b<<2)>>2]|0;m=o[s+(o[h>>2]<<2)>>2]|0;p=+(f|0)<=0;y=+(m|0)<=0;do if(p^y?p:(f|0)>(m|0)){w=a;v=_}else{S=a;while(1){S=S+-4|0;if((u|0)==(S|0))break;E=o[S>>2]|0;g=o[s+(E<<2)>>2]|0;k=+(g|0)<=0;if(k^y?k:(g|0)>(m|0)){d=34;break}}if((d|0)==34){d=0;o[u>>2]=E;o[S>>2]=b;w=S;v=_+1|0;break}g=u+4|0;k=o[a>>2]|0;M=o[s+(k<<2)>>2]|0;if(p^+(M|0)<=0?p:(f|0)>(M|0))P=g;else{if((g|0)==(a|0)){d=51;break e}else A=g;while(1){F=o[A>>2]|0;g=o[s+(F<<2)>>2]|0;C=A+4|0;if(p^+(g|0)<=0?p:(f|0)>(g|0))break;if((C|0)==(a|0)){d=51;break e}else A=C}o[A>>2]=k;o[a>>2]=F;P=C}if((P|0)==(a|0)){d=51;break e}else{D=P;B=a}while(1){S=o[s+(o[u>>2]<<2)>>2]|0;g=+(S|0)<=0;M=D;while(1){R=o[M>>2]|0;T=o[s+(R<<2)>>2]|0;O=M+4|0;if(g^+(T|0)<=0?g:(S|0)>(T|0)){x=B;break}else M=O}do{x=x+-4|0;L=o[x>>2]|0;T=o[s+(L<<2)>>2]|0}while(g^+(T|0)<=0?g:(S|0)>(T|0));if(!(M>>>0<x>>>0)){u=M;continue r}o[M>>2]=L;o[x>>2]=R;D=O;B=x}}while(0);f=u+4|0;t:do if(f>>>0<w>>>0){p=f;b=w;m=h;y=v;while(1){k=o[s+(o[m>>2]<<2)>>2]|0;S=+(k|0)<=0;g=p;while(1){N=o[g>>2]|0;T=o[s+(N<<2)>>2]|0;I=+(T|0)<=0;J=g+4|0;if(I^S?I:(T|0)>(k|0))g=J;else{G=b;break}}do{G=G+-4|0;W=o[G>>2]|0;M=o[s+(W<<2)>>2]|0;T=+(M|0)<=0}while(!(T^S?T:(M|0)>(k|0)));if(g>>>0>G>>>0){V=g;z=m;H=y;break t}o[g>>2]=W;o[G>>2]=N;p=J;b=G;m=(m|0)==(g|0)?G:m;y=y+1|0}}else{V=f;z=h;H=v}while(0);if((V|0)!=(z|0)?(h=o[z>>2]|0,f=o[V>>2]|0,y=o[s+(h<<2)>>2]|0,m=o[s+(f<<2)>>2]|0,b=+(y|0)<=0,b^+(m|0)<=0?b:(y|0)>(m|0)):0){o[V>>2]=h;o[z>>2]=f;
U=H+1|0}else U=H;if((U|0)==0){q=Pr(u,V,t)|0;f=V+4|0;if(Pr(f,e,t)|0){d=46;break}if(q){u=f;continue}}f=V;if((f-l|0)>=(r-f|0)){d=50;break}Er(u,V,t);u=V+4|0}if((d|0)==46){d=0;if(q){d=51;break}else{n=u;e=V;continue}}else if((d|0)==50){d=0;Er(V+4|0,e,t);n=u;e=V;continue}}if((d|0)==4){V=o[a>>2]|0;n=o[u>>2]|0;q=o[t>>2]|0;U=o[q+(V<<2)>>2]|0;H=o[q+(n<<2)>>2]|0;q=+(U|0)<=0;if(!(q^+(H|0)<=0?q:(U|0)>(H|0))){c=i;return}o[u>>2]=V;o[a>>2]=n;c=i;return}else if((d|0)==6){gr(u,u+4|0,a,o[t>>2]|0)|0;c=i;return}else if((d|0)==7){kr(u,u+4|0,u+8|0,a,t)|0;c=i;return}else if((d|0)==8){Mr(u,u+4|0,u+8|0,u+12|0,a,t)|0;c=i;return}else if((d|0)==10){a=u+8|0;gr(u,u+4|0,a,o[t>>2]|0)|0;n=u+12|0;if((n|0)==(e|0)){c=i;return}V=o[t>>2]|0;t=n;n=a;while(1){a=o[t>>2]|0;H=o[n>>2]|0;U=V+(a<<2)|0;q=o[U>>2]|0;z=o[V+(H<<2)>>2]|0;v=+(q|0)<=0;if(v^+(z|0)<=0?v:(q|0)>(z|0)){z=H;H=t;q=n;while(1){o[H>>2]=z;if((q|0)==(u|0)){j=u;break}v=q+-4|0;z=o[v>>2]|0;G=o[U>>2]|0;J=o[V+(z<<2)>>2]|0;N=+(G|0)<=0;if(!(N^+(J|0)<=0?N:(G|0)>(J|0))){j=q;break}else{J=q;q=v;H=J}}o[j>>2]=a}H=t+4|0;if((H|0)==(e|0))break;else{q=t;t=H;n=q}}c=i;return}else if((d|0)==51){c=i;return}}function gr(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0;n=c;a=o[r>>2]|0;u=o[e>>2]|0;l=o[i+(a<<2)>>2]|0;s=i+(u<<2)|0;f=o[s>>2]|0;d=+(l|0)<=0;b=o[t>>2]|0;h=o[i+(b<<2)>>2]|0;_=+(h|0)<=0;m=_^d?_:(h|0)>(l|0);if(!(d^+(f|0)<=0?d:(l|0)>(f|0))){if(!m){p=0;c=n;return p|0}o[r>>2]=b;o[t>>2]=a;f=o[r>>2]|0;l=o[e>>2]|0;d=o[i+(f<<2)>>2]|0;h=o[i+(l<<2)>>2]|0;_=+(d|0)<=0;if(!(_^+(h|0)<=0?_:(d|0)>(h|0))){p=1;c=n;return p|0}o[e>>2]=f;o[r>>2]=l;p=2;c=n;return p|0}if(m){o[e>>2]=b;o[t>>2]=u;p=1;c=n;return p|0}o[e>>2]=a;o[r>>2]=u;a=o[t>>2]|0;e=o[i+(a<<2)>>2]|0;i=o[s>>2]|0;s=+(e|0)<=0;if(!(s^+(i|0)<=0?s:(e|0)>(i|0))){p=1;c=n;return p|0}o[r>>2]=a;o[t>>2]=u;p=2;c=n;return p|0}function kr(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0;a=c;u=gr(e,r,t,o[n>>2]|0)|0;l=o[i>>2]|0;s=o[t>>2]|0;f=o[n>>2]|0;n=o[f+(l<<2)>>2]|0;d=o[f+(s<<2)>>2]|0;b=+(n|0)<=0;if(!(b^+(d|0)<=0?b:(n|0)>(d|0))){h=u;c=a;return h|0}o[t>>2]=l;o[i>>2]=s;s=o[t>>2]|0;i=o[r>>2]|0;l=o[f+(s<<2)>>2]|0;d=o[f+(i<<2)>>2]|0;n=+(l|0)<=0;if(!(n^+(d|0)<=0?n:(l|0)>(d|0))){h=u+1|0;c=a;return h|0}o[r>>2]=s;o[t>>2]=i;i=o[r>>2]|0;t=o[e>>2]|0;s=o[f+(i<<2)>>2]|0;d=o[f+(t<<2)>>2]|0;f=+(s|0)<=0;if(!(f^+(d|0)<=0?f:(s|0)>(d|0))){h=u+2|0;c=a;return h|0}o[e>>2]=i;o[r>>2]=t;h=u+3|0;c=a;return h|0}function Mr(e,r,t,i,n,a){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;var u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0;u=c;l=kr(e,r,t,i,a)|0;s=o[n>>2]|0;f=o[i>>2]|0;d=o[a>>2]|0;a=o[d+(s<<2)>>2]|0;b=o[d+(f<<2)>>2]|0;h=+(a|0)<=0;if(!(h^+(b|0)<=0?h:(a|0)>(b|0))){_=l;c=u;return _|0}o[i>>2]=s;o[n>>2]=f;f=o[i>>2]|0;n=o[t>>2]|0;s=o[d+(f<<2)>>2]|0;b=o[d+(n<<2)>>2]|0;a=+(s|0)<=0;if(!(a^+(b|0)<=0?a:(s|0)>(b|0))){_=l+1|0;c=u;return _|0}o[t>>2]=f;o[i>>2]=n;n=o[t>>2]|0;i=o[r>>2]|0;f=o[d+(n<<2)>>2]|0;b=o[d+(i<<2)>>2]|0;s=+(f|0)<=0;if(!(s^+(b|0)<=0?s:(f|0)>(b|0))){_=l+2|0;c=u;return _|0}o[r>>2]=n;o[t>>2]=i;i=o[r>>2]|0;t=o[e>>2]|0;n=o[d+(i<<2)>>2]|0;b=o[d+(t<<2)>>2]|0;d=+(n|0)<=0;if(!(d^+(b|0)<=0?d:(n|0)>(b|0))){_=l+3|0;c=u;return _|0}o[e>>2]=i;o[r>>2]=t;_=l+4|0;c=u;return _|0}function Pr(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0;i=c;switch(r-e>>2|0){case 3:gr(e,e+4|0,r+-4|0,o[t>>2]|0)|0;n=1;c=i;return n|0;case 2:a=r+-4|0;u=o[a>>2]|0;l=o[e>>2]|0;s=o[t>>2]|0;f=o[s+(u<<2)>>2]|0;d=o[s+(l<<2)>>2]|0;s=+(f|0)<=0;if(!(s^+(d|0)<=0?s:(f|0)>(d|0))){n=1;c=i;return n|0}o[e>>2]=u;o[a>>2]=l;n=1;c=i;return n|0;case 4:kr(e,e+4|0,e+8|0,r+-4|0,t)|0;n=1;c=i;return n|0;case 1:case 0:n=1;c=i;return n|0;case 5:Mr(e,e+4|0,e+8|0,e+12|0,r+-4|0,t)|0;n=1;c=i;return n|0;default:l=e+8|0;gr(e,e+4|0,l,o[t>>2]|0)|0;a=e+12|0;if((a|0)==(r|0)){n=1;c=i;return n|0}u=o[t>>2]|0;t=0;d=a;a=l;while(1){l=o[d>>2]|0;f=o[a>>2]|0;s=u+(l<<2)|0;b=o[s>>2]|0;h=o[u+(f<<2)>>2]|0;_=+(b|0)<=0;if(_^+(h|0)<=0?_:(b|0)>(h|0)){h=f;f=d;b=a;while(1){o[f>>2]=h;if((b|0)==(e|0)){m=e;break}_=b+-4|0;h=o[_>>2]|0;p=o[s>>2]|0;y=o[u+(h<<2)>>2]|0;w=+(p|0)<=0;if(!(w^+(y|0)<=0?w:(p|0)>(y|0))){m=b;break}else{y=b;b=_;f=y}}o[m>>2]=l;f=t+1|0;if((f|0)==8)break;else v=f}else v=t;f=d+4|0;if((f|0)==(r|0)){n=1;S=15;break}else{b=d;t=v;d=f;a=b}}if((S|0)==15){c=i;return n|0}n=(d+4|0)==(r|0);c=i;return n|0}return 0}function Ar(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0;t=c;c=c+32|0;i=t+16|0;n=t+8|0;a=t;u=e+4|0;l=e+8|0;if((o[r>>2]|0)==(o[u>>2]|0)){f=o[l>>2]|0;o[e+8>>2]=f+1;if((f|0)>3){f=o[e+12>>2]|0;o[f>>2]=(o[f>>2]|0)+1;d=1;c=t;return d|0}}else{o[l>>2]=0;o[u>>2]=o[r>>2];o[e+8>>2]=1}u=r+16|0;b=+s[u>>2];l=o[e>>2]|0;h=+s[l+32>>2]*(1-+s[r+12>>2]);f=o[r>>2]|0;_=o[l+96>>2]|0;m=+s[u+4>>2]*h+ +s[_+(f<<3)+4>>2];s[i>>2]=+s[_+(f<<3)>>2]+b*h;s[i+4>>2]=m;f=r+8|0;r=o[f>>2]|0;_=o[r+12>>2]|0;if(_h[o[(o[_>>2]|0)+16>>2]&15](_,(o[r+8>>2]|0)+12|0,i)|0){d=0;c=t;return d|0}r=o[(o[f>>2]|0)+12>>2]|0;_=sh[o[(o[r>>2]|0)+12>>2]&7](r)|0;e:do if((_|0)>0){r=0;while(1){u=o[f>>2]|0;l=o[u+12>>2]|0;vh[o[(o[l>>2]|0)+20>>2]&7](l,(o[u+8>>2]|0)+12|0,i,n,a,r);r=r+1|0;if(+s[n>>2]<.004999999888241291){d=0;break}if((r|0)>=(_|0))break e}c=t;return d|0}while(0);_=o[e+12>>2]|0;o[_>>2]=(o[_>>2]|0)+1;d=1;c=t;return d|0}function Fr(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0;i=c;c=c+32|0;n=i;a=e;e=r;e:while(1){r=e;u=e+-28|0;l=a;r:while(1){s=l;f=r-s|0;switch((f|0)/28|0|0){case 4:d=14;break e;break;case 3:d=6;break e;break;case 5:d=15;break e;break;case 1:case 0:d=67;break e;break;case 2:d=4;break e;break;default:}if((f|0)<868){d=21;break e}b=(f|0)/56|0;h=l+(b*28|0)|0;do if((f|0)>27972){_=(f|0)/112|0;m=l+(_*28|0)|0;p=l+((_+b|0)*28|0)|0;_=Cr(l,m,h,p,t)|0;if(Sh[o[t>>2]&31](u,p)|0){o[n+0>>2]=o[p+0>>2];o[n+4>>2]=o[p+4>>2];o[n+8>>2]=o[p+8>>2];o[n+12>>2]=o[p+12>>2];o[n+16>>2]=o[p+16>>2];o[n+20>>2]=o[p+20>>2];o[n+24>>2]=o[p+24>>2];o[p+0>>2]=o[u+0>>2];o[p+4>>2]=o[u+4>>2];o[p+8>>2]=o[u+8>>2];o[p+12>>2]=o[u+12>>2];o[p+16>>2]=o[u+16>>2];o[p+20>>2]=o[u+20>>2];o[p+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];y=_+1|0;if(Sh[o[t>>2]&31](p,h)|0){o[n+0>>2]=o[h+0>>2];o[n+4>>2]=o[h+4>>2];o[n+8>>2]=o[h+8>>2];o[n+12>>2]=o[h+12>>2];o[n+16>>2]=o[h+16>>2];o[n+20>>2]=o[h+20>>2];o[n+24>>2]=o[h+24>>2];o[h+0>>2]=o[p+0>>2];o[h+4>>2]=o[p+4>>2];o[h+8>>2]=o[p+8>>2];o[h+12>>2]=o[p+12>>2];o[h+16>>2]=o[p+16>>2];o[h+20>>2]=o[p+20>>2];o[h+24>>2]=o[p+24>>2];o[p+0>>2]=o[n+0>>2];o[p+4>>2]=o[n+4>>2];o[p+8>>2]=o[n+8>>2];o[p+12>>2]=o[n+12>>2];o[p+16>>2]=o[n+16>>2];o[p+20>>2]=o[n+20>>2];o[p+24>>2]=o[n+24>>2];p=_+2|0;if(Sh[o[t>>2]&31](h,m)|0){o[n+0>>2]=o[m+0>>2];o[n+4>>2]=o[m+4>>2];o[n+8>>2]=o[m+8>>2];o[n+12>>2]=o[m+12>>2];o[n+16>>2]=o[m+16>>2];o[n+20>>2]=o[m+20>>2];o[n+24>>2]=o[m+24>>2];o[m+0>>2]=o[h+0>>2];o[m+4>>2]=o[h+4>>2];o[m+8>>2]=o[h+8>>2];o[m+12>>2]=o[h+12>>2];o[m+16>>2]=o[h+16>>2];o[m+20>>2]=o[h+20>>2];o[m+24>>2]=o[h+24>>2];o[h+0>>2]=o[n+0>>2];o[h+4>>2]=o[n+4>>2];o[h+8>>2]=o[n+8>>2];o[h+12>>2]=o[n+12>>2];o[h+16>>2]=o[n+16>>2];o[h+20>>2]=o[n+20>>2];o[h+24>>2]=o[n+24>>2];if(Sh[o[t>>2]&31](m,l)|0){o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[m+0>>2];o[l+4>>2]=o[m+4>>2];o[l+8>>2]=o[m+8>>2];o[l+12>>2]=o[m+12>>2];o[l+16>>2]=o[m+16>>2];o[l+20>>2]=o[m+20>>2];o[l+24>>2]=o[m+24>>2];o[m+0>>2]=o[n+0>>2];o[m+4>>2]=o[n+4>>2];o[m+8>>2]=o[n+8>>2];o[m+12>>2]=o[n+12>>2];o[m+16>>2]=o[n+16>>2];o[m+20>>2]=o[n+20>>2];o[m+24>>2]=o[n+24>>2];w=_+4|0}else w=_+3|0}else w=p}else w=y}else w=_}else{_=Sh[o[t>>2]&31](h,l)|0;y=Sh[o[t>>2]&31](u,h)|0;if(!_){if(!y){w=0;break}o[n+0>>2]=o[h+0>>2];o[n+4>>2]=o[h+4>>2];o[n+8>>2]=o[h+8>>2];o[n+12>>2]=o[h+12>>2];o[n+16>>2]=o[h+16>>2];o[n+20>>2]=o[h+20>>2];o[n+24>>2]=o[h+24>>2];o[h+0>>2]=o[u+0>>2];o[h+4>>2]=o[u+4>>2];o[h+8>>2]=o[u+8>>2];o[h+12>>2]=o[u+12>>2];o[h+16>>2]=o[u+16>>2];o[h+20>>2]=o[u+20>>2];o[h+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];if(!(Sh[o[t>>2]&31](h,l)|0)){w=1;break}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[h+0>>2];o[l+4>>2]=o[h+4>>2];o[l+8>>2]=o[h+8>>2];o[l+12>>2]=o[h+12>>2];o[l+16>>2]=o[h+16>>2];o[l+20>>2]=o[h+20>>2];o[l+24>>2]=o[h+24>>2];o[h+0>>2]=o[n+0>>2];o[h+4>>2]=o[n+4>>2];o[h+8>>2]=o[n+8>>2];o[h+12>>2]=o[n+12>>2];o[h+16>>2]=o[n+16>>2];o[h+20>>2]=o[n+20>>2];o[h+24>>2]=o[n+24>>2];w=2;break}if(y){o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[u+0>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];o[l+16>>2]=o[u+16>>2];o[l+20>>2]=o[u+20>>2];o[l+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];w=1;break}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[h+0>>2];o[l+4>>2]=o[h+4>>2];o[l+8>>2]=o[h+8>>2];o[l+12>>2]=o[h+12>>2];o[l+16>>2]=o[h+16>>2];o[l+20>>2]=o[h+20>>2];o[l+24>>2]=o[h+24>>2];o[h+0>>2]=o[n+0>>2];o[h+4>>2]=o[n+4>>2];o[h+8>>2]=o[n+8>>2];o[h+12>>2]=o[n+12>>2];o[h+16>>2]=o[n+16>>2];o[h+20>>2]=o[n+20>>2];o[h+24>>2]=o[n+24>>2];if(Sh[o[t>>2]&31](u,h)|0){o[n+0>>2]=o[h+0>>2];o[n+4>>2]=o[h+4>>2];o[n+8>>2]=o[h+8>>2];o[n+12>>2]=o[h+12>>2];o[n+16>>2]=o[h+16>>2];o[n+20>>2]=o[h+20>>2];o[n+24>>2]=o[h+24>>2];o[h+0>>2]=o[u+0>>2];o[h+4>>2]=o[u+4>>2];o[h+8>>2]=o[u+8>>2];o[h+12>>2]=o[u+12>>2];o[h+16>>2]=o[u+16>>2];o[h+20>>2]=o[u+20>>2];o[h+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];w=2}else w=1}while(0);do if(Sh[o[t>>2]&31](l,h)|0){v=u;S=w}else{b=u;while(1){b=b+-28|0;if((l|0)==(b|0))break;if(Sh[o[t>>2]&31](b,h)|0){d=50;break}}if((d|0)==50){d=0;o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[b+0>>2];o[l+4>>2]=o[b+4>>2];o[l+8>>2]=o[b+8>>2];o[l+12>>2]=o[b+12>>2];o[l+16>>2]=o[b+16>>2];o[l+20>>2]=o[b+20>>2];o[l+24>>2]=o[b+24>>2];o[b+0>>2]=o[n+0>>2];o[b+4>>2]=o[n+4>>2];o[b+8>>2]=o[n+8>>2];o[b+12>>2]=o[n+12>>2];o[b+16>>2]=o[n+16>>2];o[b+20>>2]=o[n+20>>2];o[b+24>>2]=o[n+24>>2];v=b;S=w+1|0;break}f=l+28|0;if(Sh[o[t>>2]&31](l,u)|0)E=f;else{if((f|0)==(u|0)){d=67;break e}else g=f;while(1){k=g+28|0;if(Sh[o[t>>2]&31](l,g)|0)break;if((k|0)==(u|0)){d=67;break e}else g=k}o[n+0>>2]=o[g+0>>2];o[n+4>>2]=o[g+4>>2];o[n+8>>2]=o[g+8>>2];o[n+12>>2]=o[g+12>>2];o[n+16>>2]=o[g+16>>2];o[n+20>>2]=o[g+20>>2];o[n+24>>2]=o[g+24>>2];o[g+0>>2]=o[u+0>>2];o[g+4>>2]=o[u+4>>2];o[g+8>>2]=o[u+8>>2];o[g+12>>2]=o[u+12>>2];o[g+16>>2]=o[u+16>>2];o[g+20>>2]=o[u+20>>2];o[g+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];E=k}if((E|0)==(u|0)){d=67;break e}else{M=E;P=u}while(1){b=M;while(1){A=b+28|0;if(Sh[o[t>>2]&31](l,b)|0){F=P;break}else b=A}do F=F+-28|0;while(Sh[o[t>>2]&31](l,F)|0);if(!(b>>>0<F>>>0)){l=b;continue r}o[n+0>>2]=o[b+0>>2];o[n+4>>2]=o[b+4>>2];o[n+8>>2]=o[b+8>>2];o[n+12>>2]=o[b+12>>2];o[n+16>>2]=o[b+16>>2];o[n+20>>2]=o[b+20>>2];o[n+24>>2]=o[b+24>>2];o[b+0>>2]=o[F+0>>2];o[b+4>>2]=o[F+4>>2];o[b+8>>2]=o[F+8>>2];o[b+12>>2]=o[F+12>>2];o[b+16>>2]=o[F+16>>2];o[b+20>>2]=o[F+20>>2];o[b+24>>2]=o[F+24>>2];o[F+0>>2]=o[n+0>>2];o[F+4>>2]=o[n+4>>2];o[F+8>>2]=o[n+8>>2];o[F+12>>2]=o[n+12>>2];o[F+16>>2]=o[n+16>>2];o[F+20>>2]=o[n+20>>2];o[F+24>>2]=o[n+24>>2];M=A;P=F}}while(0);f=l+28|0;t:do if(f>>>0<v>>>0){y=f;_=v;p=h;m=S;while(1){C=y;while(1){D=C+28|0;if(Sh[o[t>>2]&31](C,p)|0)C=D;else{B=_;break}}do B=B+-28|0;while(!(Sh[o[t>>2]&31](B,p)|0));if(C>>>0>B>>>0){R=C;T=p;O=m;break t}o[n+0>>2]=o[C+0>>2];o[n+4>>2]=o[C+4>>2];o[n+8>>2]=o[C+8>>2];o[n+12>>2]=o[C+12>>2];o[n+16>>2]=o[C+16>>2];o[n+20>>2]=o[C+20>>2];o[n+24>>2]=o[C+24>>2];o[C+0>>2]=o[B+0>>2];o[C+4>>2]=o[B+4>>2];o[C+8>>2]=o[B+8>>2];o[C+12>>2]=o[B+12>>2];o[C+16>>2]=o[B+16>>2];o[C+20>>2]=o[B+20>>2];o[C+24>>2]=o[B+24>>2];o[B+0>>2]=o[n+0>>2];o[B+4>>2]=o[n+4>>2];o[B+8>>2]=o[n+8>>2];o[B+12>>2]=o[n+12>>2];o[B+16>>2]=o[n+16>>2];o[B+20>>2]=o[n+20>>2];o[B+24>>2]=o[n+24>>2];y=D;_=B;p=(p|0)==(C|0)?B:p;m=m+1|0}}else{R=f;T=h;O=S}while(0);if((R|0)!=(T|0)?Sh[o[t>>2]&31](T,R)|0:0){o[n+0>>2]=o[R+0>>2];o[n+4>>2]=o[R+4>>2];o[n+8>>2]=o[R+8>>2];o[n+12>>2]=o[R+12>>2];o[n+16>>2]=o[R+16>>2];o[n+20>>2]=o[R+20>>2];o[n+24>>2]=o[R+24>>2];o[R+0>>2]=o[T+0>>2];o[R+4>>2]=o[T+4>>2];o[R+8>>2]=o[T+8>>2];o[R+12>>2]=o[T+12>>2];o[R+16>>2]=o[T+16>>2];o[R+20>>2]=o[T+20>>2];o[R+24>>2]=o[T+24>>2];o[T+0>>2]=o[n+0>>2];o[T+4>>2]=o[n+4>>2];o[T+8>>2]=o[n+8>>2];o[T+12>>2]=o[n+12>>2];o[T+16>>2]=o[n+16>>2];o[T+20>>2]=o[n+20>>2];o[T+24>>2]=o[n+24>>2];x=O+1|0}else x=O;if((x|0)==0){L=Br(l,R,t)|0;h=R+28|0;if(Br(h,e,t)|0){d=62;break}if(L){l=h;continue}}h=R;if((h-s|0)>=(r-h|0)){d=66;break}Fr(l,R,t);l=R+28|0}if((d|0)==62){d=0;if(L){d=67;break}else{a=l;e=R;continue}}else if((d|0)==66){d=0;Fr(R+28|0,e,t);a=l;e=R;continue}}if((d|0)==4){if(!(Sh[o[t>>2]&31](u,l)|0)){c=i;return}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[u+0>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];o[l+16>>2]=o[u+16>>2];o[l+20>>2]=o[u+20>>2];o[l+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];c=i;return}else if((d|0)==6){R=l+28|0;a=Sh[o[t>>2]&31](R,l)|0;L=Sh[o[t>>2]&31](u,R)|0;if(!a){if(!L){c=i;return}o[n+0>>2]=o[R+0>>2];o[n+4>>2]=o[R+4>>2];o[n+8>>2]=o[R+8>>2];o[n+12>>2]=o[R+12>>2];o[n+16>>2]=o[R+16>>2];o[n+20>>2]=o[R+20>>2];o[n+24>>2]=o[R+24>>2];o[R+0>>2]=o[u+0>>2];o[R+4>>2]=o[u+4>>2];o[R+8>>2]=o[u+8>>2];o[R+12>>2]=o[u+12>>2];o[R+16>>2]=o[u+16>>2];o[R+20>>2]=o[u+20>>2];o[R+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];if(!(Sh[o[t>>2]&31](R,l)|0)){c=i;return}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[R+0>>2];o[l+4>>2]=o[R+4>>2];o[l+8>>2]=o[R+8>>2];o[l+12>>2]=o[R+12>>2];o[l+16>>2]=o[R+16>>2];o[l+20>>2]=o[R+20>>2];o[l+24>>2]=o[R+24>>2];o[R+0>>2]=o[n+0>>2];o[R+4>>2]=o[n+4>>2];o[R+8>>2]=o[n+8>>2];o[R+12>>2]=o[n+12>>2];o[R+16>>2]=o[n+16>>2];o[R+20>>2]=o[n+20>>2];o[R+24>>2]=o[n+24>>2];c=i;return}if(L){o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[u+0>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];o[l+16>>2]=o[u+16>>2];o[l+20>>2]=o[u+20>>2];o[l+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];c=i;return}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[R+0>>2];o[l+4>>2]=o[R+4>>2];o[l+8>>2]=o[R+8>>2];o[l+12>>2]=o[R+12>>2];o[l+16>>2]=o[R+16>>2];o[l+20>>2]=o[R+20>>2];o[l+24>>2]=o[R+24>>2];o[R+0>>2]=o[n+0>>2];o[R+4>>2]=o[n+4>>2];o[R+8>>2]=o[n+8>>2];o[R+12>>2]=o[n+12>>2];o[R+16>>2]=o[n+16>>2];o[R+20>>2]=o[n+20>>2];o[R+24>>2]=o[n+24>>2];if(!(Sh[o[t>>2]&31](u,R)|0)){c=i;return}o[n+0>>2]=o[R+0>>2];o[n+4>>2]=o[R+4>>2];o[n+8>>2]=o[R+8>>2];o[n+12>>2]=o[R+12>>2];o[n+16>>2]=o[R+16>>2];o[n+20>>2]=o[R+20>>2];o[n+24>>2]=o[R+24>>2];o[R+0>>2]=o[u+0>>2];o[R+4>>2]=o[u+4>>2];o[R+8>>2]=o[u+8>>2];o[R+12>>2]=o[u+12>>2];o[R+16>>2]=o[u+16>>2];o[R+20>>2]=o[u+20>>2];o[R+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];c=i;return}else if((d|0)==14){Cr(l,l+28|0,l+56|0,u,t)|0;c=i;return}else if((d|0)==15){R=l+28|0;L=l+56|0;a=l+84|0;Cr(l,R,L,a,t)|0;if(!(Sh[o[t>>2]&31](u,a)|0)){c=i;return}o[n+0>>2]=o[a+0>>2];o[n+4>>2]=o[a+4>>2];o[n+8>>2]=o[a+8>>2];o[n+12>>2]=o[a+12>>2];o[n+16>>2]=o[a+16>>2];o[n+20>>2]=o[a+20>>2];o[n+24>>2]=o[a+24>>2];o[a+0>>2]=o[u+0>>2];o[a+4>>2]=o[u+4>>2];o[a+8>>2]=o[u+8>>2];o[a+12>>2]=o[u+12>>2];o[a+16>>2]=o[u+16>>2];o[a+20>>2]=o[u+20>>2];o[a+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];if(!(Sh[o[t>>2]&31](a,L)|0)){c=i;return}o[n+0>>2]=o[L+0>>2];o[n+4>>2]=o[L+4>>2];o[n+8>>2]=o[L+8>>2];o[n+12>>2]=o[L+12>>2];o[n+16>>2]=o[L+16>>2];o[n+20>>2]=o[L+20>>2];o[n+24>>2]=o[L+24>>2];o[L+0>>2]=o[a+0>>2];o[L+4>>2]=o[a+4>>2];o[L+8>>2]=o[a+8>>2];o[L+12>>2]=o[a+12>>2];o[L+16>>2]=o[a+16>>2];o[L+20>>2]=o[a+20>>2];o[L+24>>2]=o[a+24>>2];o[a+0>>2]=o[n+0>>2];o[a+4>>2]=o[n+4>>2];o[a+8>>2]=o[n+8>>2];o[a+12>>2]=o[n+12>>2];o[a+16>>2]=o[n+16>>2];o[a+20>>2]=o[n+20>>2];o[a+24>>2]=o[n+24>>2];if(!(Sh[o[t>>2]&31](L,R)|0)){c=i;return}o[n+0>>2]=o[R+0>>2];o[n+4>>2]=o[R+4>>2];o[n+8>>2]=o[R+8>>2];o[n+12>>2]=o[R+12>>2];o[n+16>>2]=o[R+16>>2];o[n+20>>2]=o[R+20>>2];o[n+24>>2]=o[R+24>>2];o[R+0>>2]=o[L+0>>2];o[R+4>>2]=o[L+4>>2];o[R+8>>2]=o[L+8>>2];o[R+12>>2]=o[L+12>>2];o[R+16>>2]=o[L+16>>2];o[R+20>>2]=o[L+20>>2];o[R+24>>2]=o[L+24>>2];o[L+0>>2]=o[n+0>>2];o[L+4>>2]=o[n+4>>2];o[L+8>>2]=o[n+8>>2];o[L+12>>2]=o[n+12>>2];o[L+16>>2]=o[n+16>>2];o[L+20>>2]=o[n+20>>2];o[L+24>>2]=o[n+24>>2];if(!(Sh[o[t>>2]&31](R,l)|0)){c=i;return}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[R+0>>2];o[l+4>>2]=o[R+4>>2];o[l+8>>2]=o[R+8>>2];o[l+12>>2]=o[R+12>>2];o[l+16>>2]=o[R+16>>2];o[l+20>>2]=o[R+20>>2];o[l+24>>2]=o[R+24>>2];o[R+0>>2]=o[n+0>>2];o[R+4>>2]=o[n+4>>2];o[R+8>>2]=o[n+8>>2];o[R+12>>2]=o[n+12>>2];o[R+16>>2]=o[n+16>>2];o[R+20>>2]=o[n+20>>2];o[R+24>>2]=o[n+24>>2];c=i;return}else if((d|0)==21){Dr(l,e,t);c=i;return}else if((d|0)==67){c=i;return}}function Cr(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,s=0,f=0,d=0;a=c;c=c+32|0;u=a;l=Sh[o[n>>2]&31](r,e)|0;s=Sh[o[n>>2]&31](t,r)|0;do if(l){if(s){o[u+0>>2]=o[e+0>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];o[u+16>>2]=o[e+16>>2];o[u+20>>2]=o[e+20>>2];o[u+24>>2]=o[e+24>>2];o[e+0>>2]=o[t+0>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];o[t+0>>2]=o[u+0>>2];o[t+4>>2]=o[u+4>>2];o[t+8>>2]=o[u+8>>2];o[t+12>>2]=o[u+12>>2];o[t+16>>2]=o[u+16>>2];o[t+20>>2]=o[u+20>>2];o[t+24>>2]=o[u+24>>2];f=1;break}o[u+0>>2]=o[e+0>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];o[u+16>>2]=o[e+16>>2];o[u+20>>2]=o[e+20>>2];o[u+24>>2]=o[e+24>>2];o[e+0>>2]=o[r+0>>2];o[e+4>>2]=o[r+4>>2];o[e+8>>2]=o[r+8>>2];o[e+12>>2]=o[r+12>>2];o[e+16>>2]=o[r+16>>2];o[e+20>>2]=o[r+20>>2];o[e+24>>2]=o[r+24>>2];o[r+0>>2]=o[u+0>>2];o[r+4>>2]=o[u+4>>2];o[r+8>>2]=o[u+8>>2];o[r+12>>2]=o[u+12>>2];o[r+16>>2]=o[u+16>>2];o[r+20>>2]=o[u+20>>2];o[r+24>>2]=o[u+24>>2];if(Sh[o[n>>2]&31](t,r)|0){o[u+0>>2]=o[r+0>>2];o[u+4>>2]=o[r+4>>2];o[u+8>>2]=o[r+8>>2];o[u+12>>2]=o[r+12>>2];o[u+16>>2]=o[r+16>>2];o[u+20>>2]=o[r+20>>2];o[u+24>>2]=o[r+24>>2];o[r+0>>2]=o[t+0>>2];o[r+4>>2]=o[t+4>>2];o[r+8>>2]=o[t+8>>2];o[r+12>>2]=o[t+12>>2];o[r+16>>2]=o[t+16>>2];o[r+20>>2]=o[t+20>>2];o[r+24>>2]=o[t+24>>2];o[t+0>>2]=o[u+0>>2];o[t+4>>2]=o[u+4>>2];o[t+8>>2]=o[u+8>>2];o[t+12>>2]=o[u+12>>2];o[t+16>>2]=o[u+16>>2];o[t+20>>2]=o[u+20>>2];o[t+24>>2]=o[u+24>>2];f=2}else f=1}else if(s){o[u+0>>2]=o[r+0>>2];o[u+4>>2]=o[r+4>>2];o[u+8>>2]=o[r+8>>2];o[u+12>>2]=o[r+12>>2];o[u+16>>2]=o[r+16>>2];o[u+20>>2]=o[r+20>>2];o[u+24>>2]=o[r+24>>2];o[r+0>>2]=o[t+0>>2];o[r+4>>2]=o[t+4>>2];o[r+8>>2]=o[t+8>>2];o[r+12>>2]=o[t+12>>2];o[r+16>>2]=o[t+16>>2];o[r+20>>2]=o[t+20>>2];o[r+24>>2]=o[t+24>>2];o[t+0>>2]=o[u+0>>2];o[t+4>>2]=o[u+4>>2];o[t+8>>2]=o[u+8>>2];o[t+12>>2]=o[u+12>>2];o[t+16>>2]=o[u+16>>2];o[t+20>>2]=o[u+20>>2];o[t+24>>2]=o[u+24>>2];if(Sh[o[n>>2]&31](r,e)|0){o[u+0>>2]=o[e+0>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];o[u+16>>2]=o[e+16>>2];o[u+20>>2]=o[e+20>>2];o[u+24>>2]=o[e+24>>2];o[e+0>>2]=o[r+0>>2];o[e+4>>2]=o[r+4>>2];o[e+8>>2]=o[r+8>>2];o[e+12>>2]=o[r+12>>2];o[e+16>>2]=o[r+16>>2];o[e+20>>2]=o[r+20>>2];o[e+24>>2]=o[r+24>>2];o[r+0>>2]=o[u+0>>2];o[r+4>>2]=o[u+4>>2];o[r+8>>2]=o[u+8>>2];o[r+12>>2]=o[u+12>>2];o[r+16>>2]=o[u+16>>2];o[r+20>>2]=o[u+20>>2];o[r+24>>2]=o[u+24>>2];f=2}else f=1}else f=0;while(0);if(!(Sh[o[n>>2]&31](i,t)|0)){d=f;c=a;return d|0}o[u+0>>2]=o[t+0>>2];o[u+4>>2]=o[t+4>>2];o[u+8>>2]=o[t+8>>2];o[u+12>>2]=o[t+12>>2];o[u+16>>2]=o[t+16>>2];o[u+20>>2]=o[t+20>>2];o[u+24>>2]=o[t+24>>2];o[t+0>>2]=o[i+0>>2];o[t+4>>2]=o[i+4>>2];o[t+8>>2]=o[i+8>>2];o[t+12>>2]=o[i+12>>2];o[t+16>>2]=o[i+16>>2];o[t+20>>2]=o[i+20>>2];o[t+24>>2]=o[i+24>>2];o[i+0>>2]=o[u+0>>2];o[i+4>>2]=o[u+4>>2];o[i+8>>2]=o[u+8>>2];o[i+12>>2]=o[u+12>>2];o[i+16>>2]=o[u+16>>2];o[i+20>>2]=o[u+20>>2];o[i+24>>2]=o[u+24>>2];if(!(Sh[o[n>>2]&31](t,r)|0)){d=f+1|0;c=a;return d|0}o[u+0>>2]=o[r+0>>2];o[u+4>>2]=o[r+4>>2];o[u+8>>2]=o[r+8>>2];o[u+12>>2]=o[r+12>>2];o[u+16>>2]=o[r+16>>2];o[u+20>>2]=o[r+20>>2];o[u+24>>2]=o[r+24>>2];o[r+0>>2]=o[t+0>>2];o[r+4>>2]=o[t+4>>2];o[r+8>>2]=o[t+8>>2];o[r+12>>2]=o[t+12>>2];o[r+16>>2]=o[t+16>>2];o[r+20>>2]=o[t+20>>2];o[r+24>>2]=o[t+24>>2];o[t+0>>2]=o[u+0>>2];o[t+4>>2]=o[u+4>>2];o[t+8>>2]=o[u+8>>2];o[t+12>>2]=o[u+12>>2];o[t+16>>2]=o[u+16>>2];o[t+20>>2]=o[u+20>>2];o[t+24>>2]=o[u+24>>2];if(!(Sh[o[n>>2]&31](r,e)|0)){d=f+2|0;c=a;return d|0}o[u+0>>2]=o[e+0>>2];o[u+4>>2]=o[e+4>>2];o[u+8>>2]=o[e+8>>2];o[u+12>>2]=o[e+12>>2];o[u+16>>2]=o[e+16>>2];o[u+20>>2]=o[e+20>>2];o[u+24>>2]=o[e+24>>2];o[e+0>>2]=o[r+0>>2];o[e+4>>2]=o[r+4>>2];o[e+8>>2]=o[r+8>>2];o[e+12>>2]=o[r+12>>2];o[e+16>>2]=o[r+16>>2];o[e+20>>2]=o[r+20>>2];o[e+24>>2]=o[r+24>>2];o[r+0>>2]=o[u+0>>2];o[r+4>>2]=o[u+4>>2];o[r+8>>2]=o[u+8>>2];o[r+12>>2]=o[u+12>>2];o[r+16>>2]=o[u+16>>2];o[r+20>>2]=o[u+20>>2];o[r+24>>2]=o[u+24>>2];d=f+3|0;c=a;return d|0}function Dr(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0;i=c;c=c+64|0;n=i+28|0;a=i;u=e+56|0;l=e+28|0;s=Sh[o[t>>2]&31](l,e)|0;f=Sh[o[t>>2]&31](u,l)|0;do if(s){if(f){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[u+0>>2];o[e+4>>2]=o[u+4>>2];o[e+8>>2]=o[u+8>>2];o[e+12>>2]=o[u+12>>2];o[e+16>>2]=o[u+16>>2];o[e+20>>2]=o[u+20>>2];o[e+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];break}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[l+0>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];if(Sh[o[t>>2]&31](u,l)|0){o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[u+0>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];o[l+16>>2]=o[u+16>>2];o[l+20>>2]=o[u+20>>2];o[l+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2]}}else if(f){o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[u+0>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];o[l+16>>2]=o[u+16>>2];o[l+20>>2]=o[u+20>>2];o[l+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];if(Sh[o[t>>2]&31](l,e)|0){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[l+0>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2]}}while(0);n=e+84|0;if((n|0)==(r|0)){c=i;return}l=n;n=u;while(1){if(Sh[o[t>>2]&31](l,n)|0){o[a+0>>2]=o[l+0>>2];o[a+4>>2]=o[l+4>>2];o[a+8>>2]=o[l+8>>2];o[a+12>>2]=o[l+12>>2];o[a+16>>2]=o[l+16>>2];o[a+20>>2]=o[l+20>>2];o[a+24>>2]=o[l+24>>2];u=l;f=n;while(1){o[u+0>>2]=o[f+0>>2];o[u+4>>2]=o[f+4>>2];o[u+8>>2]=o[f+8>>2];o[u+12>>2]=o[f+12>>2];o[u+16>>2]=o[f+16>>2];o[u+20>>2]=o[f+20>>2];o[u+24>>2]=o[f+24>>2];if((f|0)==(e|0))break;s=f+-28|0;if(Sh[o[t>>2]&31](a,s)|0){d=f;f=s;u=d}else break}o[f+0>>2]=o[a+0>>2];o[f+4>>2]=o[a+4>>2];o[f+8>>2]=o[a+8>>2];o[f+12>>2]=o[a+12>>2];o[f+16>>2]=o[a+16>>2];o[f+20>>2]=o[a+20>>2];o[f+24>>2]=o[a+24>>2]}u=l+28|0;if((u|0)==(r|0))break;else{d=l;l=u;n=d}}c=i;return}function Br(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0;i=c;c=c+64|0;n=i+28|0;a=i;switch((r-e|0)/28|0|0){case 5:u=e+28|0;l=e+56|0;s=e+84|0;f=r+-28|0;Cr(e,u,l,s,t)|0;if(!(Sh[o[t>>2]&31](f,s)|0)){d=1;c=i;return d|0}o[n+0>>2]=o[s+0>>2];o[n+4>>2]=o[s+4>>2];o[n+8>>2]=o[s+8>>2];o[n+12>>2]=o[s+12>>2];o[n+16>>2]=o[s+16>>2];o[n+20>>2]=o[s+20>>2];o[n+24>>2]=o[s+24>>2];o[s+0>>2]=o[f+0>>2];o[s+4>>2]=o[f+4>>2];o[s+8>>2]=o[f+8>>2];o[s+12>>2]=o[f+12>>2];o[s+16>>2]=o[f+16>>2];o[s+20>>2]=o[f+20>>2];o[s+24>>2]=o[f+24>>2];o[f+0>>2]=o[n+0>>2];o[f+4>>2]=o[n+4>>2];o[f+8>>2]=o[n+8>>2];o[f+12>>2]=o[n+12>>2];o[f+16>>2]=o[n+16>>2];o[f+20>>2]=o[n+20>>2];o[f+24>>2]=o[n+24>>2];if(!(Sh[o[t>>2]&31](s,l)|0)){d=1;c=i;return d|0}o[n+0>>2]=o[l+0>>2];o[n+4>>2]=o[l+4>>2];o[n+8>>2]=o[l+8>>2];o[n+12>>2]=o[l+12>>2];o[n+16>>2]=o[l+16>>2];o[n+20>>2]=o[l+20>>2];o[n+24>>2]=o[l+24>>2];o[l+0>>2]=o[s+0>>2];o[l+4>>2]=o[s+4>>2];o[l+8>>2]=o[s+8>>2];o[l+12>>2]=o[s+12>>2];o[l+16>>2]=o[s+16>>2];o[l+20>>2]=o[s+20>>2];o[l+24>>2]=o[s+24>>2];o[s+0>>2]=o[n+0>>2];o[s+4>>2]=o[n+4>>2];o[s+8>>2]=o[n+8>>2];o[s+12>>2]=o[n+12>>2];o[s+16>>2]=o[n+16>>2];o[s+20>>2]=o[n+20>>2];o[s+24>>2]=o[n+24>>2];if(!(Sh[o[t>>2]&31](l,u)|0)){d=1;c=i;return d|0}o[n+0>>2]=o[u+0>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u+0>>2]=o[l+0>>2];o[u+4>>2]=o[l+4>>2];o[u+8>>2]=o[l+8>>2];o[u+12>>2]=o[l+12>>2];o[u+16>>2]=o[l+16>>2];o[u+20>>2]=o[l+20>>2];o[u+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];if(!(Sh[o[t>>2]&31](u,e)|0)){d=1;c=i;return d|0}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[u+0>>2];o[e+4>>2]=o[u+4>>2];o[e+8>>2]=o[u+8>>2];o[e+12>>2]=o[u+12>>2];o[e+16>>2]=o[u+16>>2];o[e+20>>2]=o[u+20>>2];o[e+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];d=1;c=i;return d|0;case 3:u=e+28|0;l=r+-28|0;s=Sh[o[t>>2]&31](u,e)|0;f=Sh[o[t>>2]&31](l,u)|0;if(!s){if(!f){d=1;c=i;return d|0}o[n+0>>2]=o[u+0>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u+0>>2]=o[l+0>>2];o[u+4>>2]=o[l+4>>2];o[u+8>>2]=o[l+8>>2];o[u+12>>2]=o[l+12>>2];o[u+16>>2]=o[l+16>>2];o[u+20>>2]=o[l+20>>2];o[u+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];if(!(Sh[o[t>>2]&31](u,e)|0)){d=1;c=i;return d|0}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[u+0>>2];o[e+4>>2]=o[u+4>>2];o[e+8>>2]=o[u+8>>2];o[e+12>>2]=o[u+12>>2];o[e+16>>2]=o[u+16>>2];o[e+20>>2]=o[u+20>>2];o[e+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];d=1;c=i;return d|0}if(f){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[l+0>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];d=1;c=i;return d|0}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[u+0>>2];o[e+4>>2]=o[u+4>>2];o[e+8>>2]=o[u+8>>2];o[e+12>>2]=o[u+12>>2];o[e+16>>2]=o[u+16>>2];o[e+20>>2]=o[u+20>>2];o[e+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];if(!(Sh[o[t>>2]&31](l,u)|0)){d=1;c=i;return d|0}o[n+0>>2]=o[u+0>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u+0>>2]=o[l+0>>2];o[u+4>>2]=o[l+4>>2];o[u+8>>2]=o[l+8>>2];o[u+12>>2]=o[l+12>>2];o[u+16>>2]=o[l+16>>2];o[u+20>>2]=o[l+20>>2];o[u+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];d=1;c=i;return d|0;case 1:case 0:d=1;c=i;return d|0;case 4:Cr(e,e+28|0,e+56|0,r+-28|0,t)|0;d=1;c=i;return d|0;case 2:l=r+-28|0;if(!(Sh[o[t>>2]&31](l,e)|0)){d=1;c=i;return d|0}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[l+0>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];d=1;c=i;return d|0;default:l=e+56|0;u=e+28|0;f=Sh[o[t>>2]&31](u,e)|0;s=Sh[o[t>>2]&31](l,u)|0;do if(f){if(s){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[l+0>>2];o[e+4>>2]=o[l+4>>2];o[e+8>>2]=o[l+8>>2];o[e+12>>2]=o[l+12>>2];o[e+16>>2]=o[l+16>>2];o[e+20>>2]=o[l+20>>2];o[e+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];break}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[u+0>>2];o[e+4>>2]=o[u+4>>2];o[e+8>>2]=o[u+8>>2];o[e+12>>2]=o[u+12>>2];o[e+16>>2]=o[u+16>>2];o[e+20>>2]=o[u+20>>2];o[e+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2];if(Sh[o[t>>2]&31](l,u)|0){o[n+0>>2]=o[u+0>>2];
o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u+0>>2]=o[l+0>>2];o[u+4>>2]=o[l+4>>2];o[u+8>>2]=o[l+8>>2];o[u+12>>2]=o[l+12>>2];o[u+16>>2]=o[l+16>>2];o[u+20>>2]=o[l+20>>2];o[u+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2]}}else if(s){o[n+0>>2]=o[u+0>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2];o[n+20>>2]=o[u+20>>2];o[n+24>>2]=o[u+24>>2];o[u+0>>2]=o[l+0>>2];o[u+4>>2]=o[l+4>>2];o[u+8>>2]=o[l+8>>2];o[u+12>>2]=o[l+12>>2];o[u+16>>2]=o[l+16>>2];o[u+20>>2]=o[l+20>>2];o[u+24>>2]=o[l+24>>2];o[l+0>>2]=o[n+0>>2];o[l+4>>2]=o[n+4>>2];o[l+8>>2]=o[n+8>>2];o[l+12>>2]=o[n+12>>2];o[l+16>>2]=o[n+16>>2];o[l+20>>2]=o[n+20>>2];o[l+24>>2]=o[n+24>>2];if(Sh[o[t>>2]&31](u,e)|0){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];o[n+20>>2]=o[e+20>>2];o[n+24>>2]=o[e+24>>2];o[e+0>>2]=o[u+0>>2];o[e+4>>2]=o[u+4>>2];o[e+8>>2]=o[u+8>>2];o[e+12>>2]=o[u+12>>2];o[e+16>>2]=o[u+16>>2];o[e+20>>2]=o[u+20>>2];o[e+24>>2]=o[u+24>>2];o[u+0>>2]=o[n+0>>2];o[u+4>>2]=o[n+4>>2];o[u+8>>2]=o[n+8>>2];o[u+12>>2]=o[n+12>>2];o[u+16>>2]=o[n+16>>2];o[u+20>>2]=o[n+20>>2];o[u+24>>2]=o[n+24>>2]}}while(0);n=e+84|0;if((n|0)==(r|0)){d=1;c=i;return d|0}u=0;s=n;n=l;while(1){if(Sh[o[t>>2]&31](s,n)|0){o[a+0>>2]=o[s+0>>2];o[a+4>>2]=o[s+4>>2];o[a+8>>2]=o[s+8>>2];o[a+12>>2]=o[s+12>>2];o[a+16>>2]=o[s+16>>2];o[a+20>>2]=o[s+20>>2];o[a+24>>2]=o[s+24>>2];l=s;f=n;while(1){o[l+0>>2]=o[f+0>>2];o[l+4>>2]=o[f+4>>2];o[l+8>>2]=o[f+8>>2];o[l+12>>2]=o[f+12>>2];o[l+16>>2]=o[f+16>>2];o[l+20>>2]=o[f+20>>2];o[l+24>>2]=o[f+24>>2];if((f|0)==(e|0))break;b=f+-28|0;if(Sh[o[t>>2]&31](a,b)|0){h=f;f=b;l=h}else break}o[f+0>>2]=o[a+0>>2];o[f+4>>2]=o[a+4>>2];o[f+8>>2]=o[a+8>>2];o[f+12>>2]=o[a+12>>2];o[f+16>>2]=o[a+16>>2];o[f+20>>2]=o[a+20>>2];o[f+24>>2]=o[a+24>>2];l=u+1|0;if((l|0)==8)break;else _=l}else _=u;l=s+28|0;if((l|0)==(r|0)){d=1;m=35;break}else{h=s;u=_;s=l;n=h}}if((m|0)==35){c=i;return d|0}d=(s+28|0)==(r|0);c=i;return d|0}return 0}function Rr(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0;i=c;c=c+16|0;n=i;a=e;e=r;e:while(1){r=e;u=e+-8|0;l=a;r:while(1){s=l;f=r-s|0;d=f>>3;switch(d|0){case 2:b=4;break e;break;case 3:b=6;break e;break;case 4:b=14;break e;break;case 5:b=26;break e;break;case 1:case 0:b=84;break e;break;default:}if((f|0)<248){b=28;break e}h=(d|0)/2|0;_=l+(h<<3)|0;do if((f|0)<=7992){m=Sh[o[t>>2]&31](_,l)|0;p=Sh[o[t>>2]&31](u,_)|0;if(!m){if(!p){y=0;break}m=_;w=o[m>>2]|0;v=o[m+4>>2]|0;m=u;S=o[m+4>>2]|0;E=_;o[E>>2]=o[m>>2];o[E+4>>2]=S;S=u;o[S>>2]=w;o[S+4>>2]=v;if(!(Sh[o[t>>2]&31](_,l)|0)){y=1;break}v=l;S=o[v>>2]|0;w=o[v+4>>2]|0;v=_;E=o[v+4>>2]|0;m=l;o[m>>2]=o[v>>2];o[m+4>>2]=E;E=_;o[E>>2]=S;o[E+4>>2]=w;y=2;break}w=l;E=o[w>>2]|0;S=o[w+4>>2]|0;if(p){p=u;w=o[p+4>>2]|0;m=l;o[m>>2]=o[p>>2];o[m+4>>2]=w;w=u;o[w>>2]=E;o[w+4>>2]=S;y=1;break}w=_;m=o[w+4>>2]|0;p=l;o[p>>2]=o[w>>2];o[p+4>>2]=m;m=_;o[m>>2]=E;o[m+4>>2]=S;if(Sh[o[t>>2]&31](u,_)|0){S=_;m=o[S>>2]|0;E=o[S+4>>2]|0;S=u;p=o[S+4>>2]|0;w=_;o[w>>2]=o[S>>2];o[w+4>>2]=p;p=u;o[p>>2]=m;o[p+4>>2]=E;y=2}else y=1}else{E=(d|0)/4|0;y=Tr(l,l+(E<<3)|0,_,l+(E+h<<3)|0,u,t)|0}while(0);do if(Sh[o[t>>2]&31](l,_)|0){g=u;k=y}else{h=u;while(1){h=h+-8|0;if((l|0)==(h|0))break;if(Sh[o[t>>2]&31](h,_)|0){b=67;break}}if((b|0)==67){b=0;d=l;f=o[d>>2]|0;E=o[d+4>>2]|0;d=h;p=o[d+4>>2]|0;m=l;o[m>>2]=o[d>>2];o[m+4>>2]=p;p=h;o[p>>2]=f;o[p+4>>2]=E;g=h;k=y+1|0;break}E=l+8|0;if(Sh[o[t>>2]&31](l,u)|0)M=E;else{if((E|0)==(u|0)){b=84;break e}else P=E;while(1){A=P+8|0;if(Sh[o[t>>2]&31](l,P)|0)break;if((A|0)==(u|0)){b=84;break e}else P=A}h=P;E=o[h>>2]|0;p=o[h+4>>2]|0;h=u;f=o[h+4>>2]|0;m=P;o[m>>2]=o[h>>2];o[m+4>>2]=f;f=u;o[f>>2]=E;o[f+4>>2]=p;M=A}if((M|0)==(u|0)){b=84;break e}else{F=M;C=u}while(1){p=F;while(1){D=p+8|0;if(Sh[o[t>>2]&31](l,p)|0){B=C;break}else p=D}do B=B+-8|0;while(Sh[o[t>>2]&31](l,B)|0);if(!(p>>>0<B>>>0)){l=p;continue r}f=p;E=o[f>>2]|0;m=o[f+4>>2]|0;f=B;h=o[f+4>>2]|0;d=p;o[d>>2]=o[f>>2];o[d+4>>2]=h;h=B;o[h>>2]=E;o[h+4>>2]=m;F=D;C=B}}while(0);m=l+8|0;t:do if(m>>>0<g>>>0){h=m;E=g;d=_;f=k;while(1){w=h;while(1){R=w+8|0;if(Sh[o[t>>2]&31](w,d)|0)w=R;else{T=E;break}}do T=T+-8|0;while(!(Sh[o[t>>2]&31](T,d)|0));if(w>>>0>T>>>0){O=w;x=d;L=f;break t}p=w;S=o[p>>2]|0;v=o[p+4>>2]|0;p=T;N=o[p+4>>2]|0;I=w;o[I>>2]=o[p>>2];o[I+4>>2]=N;N=T;o[N>>2]=S;o[N+4>>2]=v;h=R;E=T;d=(d|0)==(w|0)?T:d;f=f+1|0}}else{O=m;x=_;L=k}while(0);if((O|0)!=(x|0)?Sh[o[t>>2]&31](x,O)|0:0){_=O;m=o[_>>2]|0;f=o[_+4>>2]|0;_=x;d=o[_+4>>2]|0;E=O;o[E>>2]=o[_>>2];o[E+4>>2]=d;d=x;o[d>>2]=m;o[d+4>>2]=f;J=L+1|0}else J=L;if((J|0)==0){G=Or(l,O,t)|0;f=O+8|0;if(Or(f,e,t)|0){b=79;break}if(G){l=f;continue}}f=O;if((f-s|0)>=(r-f|0)){b=83;break}Rr(l,O,t);l=O+8|0}if((b|0)==79){b=0;if(G){b=84;break}else{a=l;e=O;continue}}else if((b|0)==83){b=0;Rr(O+8|0,e,t);a=l;e=O;continue}}if((b|0)==4){if(!(Sh[o[t>>2]&31](u,l)|0)){c=i;return}O=l;a=o[O>>2]|0;G=o[O+4>>2]|0;O=u;J=o[O+4>>2]|0;L=l;o[L>>2]=o[O>>2];o[L+4>>2]=J;J=u;o[J>>2]=a;o[J+4>>2]=G;c=i;return}else if((b|0)==6){G=l+8|0;J=Sh[o[t>>2]&31](G,l)|0;a=Sh[o[t>>2]&31](u,G)|0;if(!J){if(!a){c=i;return}J=G;L=o[J>>2]|0;O=o[J+4>>2]|0;J=u;x=o[J+4>>2]|0;k=G;o[k>>2]=o[J>>2];o[k+4>>2]=x;x=u;o[x>>2]=L;o[x+4>>2]=O;if(!(Sh[o[t>>2]&31](G,l)|0)){c=i;return}O=l;x=o[O>>2]|0;L=o[O+4>>2]|0;O=G;k=o[O+4>>2]|0;J=l;o[J>>2]=o[O>>2];o[J+4>>2]=k;k=G;o[k>>2]=x;o[k+4>>2]=L;c=i;return}L=l;k=o[L>>2]|0;x=o[L+4>>2]|0;if(a){a=u;L=o[a+4>>2]|0;J=l;o[J>>2]=o[a>>2];o[J+4>>2]=L;L=u;o[L>>2]=k;o[L+4>>2]=x;c=i;return}L=G;J=o[L+4>>2]|0;a=l;o[a>>2]=o[L>>2];o[a+4>>2]=J;J=G;o[J>>2]=k;o[J+4>>2]=x;if(!(Sh[o[t>>2]&31](u,G)|0)){c=i;return}x=G;J=o[x>>2]|0;k=o[x+4>>2]|0;x=u;a=o[x+4>>2]|0;L=G;o[L>>2]=o[x>>2];o[L+4>>2]=a;a=u;o[a>>2]=J;o[a+4>>2]=k;c=i;return}else if((b|0)==14){k=l+8|0;a=l+16|0;J=Sh[o[t>>2]&31](k,l)|0;L=Sh[o[t>>2]&31](a,k)|0;do if(J){x=l;G=o[x>>2]|0;O=o[x+4>>2]|0;if(L){x=a;T=o[x+4>>2]|0;R=l;o[R>>2]=o[x>>2];o[R+4>>2]=T;T=a;o[T>>2]=G;o[T+4>>2]=O;break}T=k;R=o[T+4>>2]|0;x=l;o[x>>2]=o[T>>2];o[x+4>>2]=R;R=k;o[R>>2]=G;o[R+4>>2]=O;if(Sh[o[t>>2]&31](a,k)|0){O=k;R=o[O>>2]|0;G=o[O+4>>2]|0;O=a;x=o[O+4>>2]|0;T=k;o[T>>2]=o[O>>2];o[T+4>>2]=x;x=a;o[x>>2]=R;o[x+4>>2]=G}}else if(L?(G=k,x=o[G>>2]|0,R=o[G+4>>2]|0,G=a,T=o[G+4>>2]|0,O=k,o[O>>2]=o[G>>2],o[O+4>>2]=T,T=a,o[T>>2]=x,o[T+4>>2]=R,Sh[o[t>>2]&31](k,l)|0):0){R=l;T=o[R>>2]|0;x=o[R+4>>2]|0;R=k;O=o[R+4>>2]|0;G=l;o[G>>2]=o[R>>2];o[G+4>>2]=O;O=k;o[O>>2]=T;o[O+4>>2]=x}while(0);if(!(Sh[o[t>>2]&31](u,a)|0)){c=i;return}L=a;J=o[L>>2]|0;x=o[L+4>>2]|0;L=u;O=o[L+4>>2]|0;T=a;o[T>>2]=o[L>>2];o[T+4>>2]=O;O=u;o[O>>2]=J;o[O+4>>2]=x;if(!(Sh[o[t>>2]&31](a,k)|0)){c=i;return}x=k;O=o[x>>2]|0;J=o[x+4>>2]|0;x=a;T=o[x+4>>2]|0;L=k;o[L>>2]=o[x>>2];o[L+4>>2]=T;T=a;o[T>>2]=O;o[T+4>>2]=J;if(!(Sh[o[t>>2]&31](k,l)|0)){c=i;return}J=l;T=o[J>>2]|0;O=o[J+4>>2]|0;J=k;a=o[J+4>>2]|0;L=l;o[L>>2]=o[J>>2];o[L+4>>2]=a;a=k;o[a>>2]=T;o[a+4>>2]=O;c=i;return}else if((b|0)==26){Tr(l,l+8|0,l+16|0,l+24|0,u,t)|0;c=i;return}else if((b|0)==28){u=l+16|0;O=l+8|0;a=Sh[o[t>>2]&31](O,l)|0;T=Sh[o[t>>2]&31](u,O)|0;do if(a){k=l;L=o[k>>2]|0;J=o[k+4>>2]|0;if(T){k=u;x=o[k+4>>2]|0;G=l;o[G>>2]=o[k>>2];o[G+4>>2]=x;x=u;o[x>>2]=L;o[x+4>>2]=J;break}x=O;G=o[x+4>>2]|0;k=l;o[k>>2]=o[x>>2];o[k+4>>2]=G;G=O;o[G>>2]=L;o[G+4>>2]=J;if(Sh[o[t>>2]&31](u,O)|0){J=O;G=o[J>>2]|0;L=o[J+4>>2]|0;J=u;k=o[J+4>>2]|0;x=O;o[x>>2]=o[J>>2];o[x+4>>2]=k;k=u;o[k>>2]=G;o[k+4>>2]=L}}else if(T?(L=O,k=o[L>>2]|0,G=o[L+4>>2]|0,L=u,x=o[L+4>>2]|0,J=O,o[J>>2]=o[L>>2],o[J+4>>2]=x,x=u,o[x>>2]=k,o[x+4>>2]=G,Sh[o[t>>2]&31](O,l)|0):0){G=l;x=o[G>>2]|0;k=o[G+4>>2]|0;G=O;J=o[G+4>>2]|0;L=l;o[L>>2]=o[G>>2];o[L+4>>2]=J;J=O;o[J>>2]=x;o[J+4>>2]=k}while(0);O=l+24|0;if((O|0)==(e|0)){c=i;return}else{W=O;V=u}while(1){if(Sh[o[t>>2]&31](W,V)|0){u=W;O=o[u+4>>2]|0;T=n;o[T>>2]=o[u>>2];o[T+4>>2]=O;O=W;T=V;while(1){u=T;a=o[u+4>>2]|0;k=O;o[k>>2]=o[u>>2];o[k+4>>2]=a;if((T|0)==(l|0))break;a=T+-8|0;if(Sh[o[t>>2]&31](n,a)|0){k=T;T=a;O=k}else break}O=n;k=o[O+4>>2]|0;a=T;o[a>>2]=o[O>>2];o[a+4>>2]=k}k=W+8|0;if((k|0)==(e|0))break;else{a=W;W=k;V=a}}c=i;return}else if((b|0)==84){c=i;return}}function Tr(e,r,t,i,n,a){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;var u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0;u=c;l=Sh[o[a>>2]&31](r,e)|0;s=Sh[o[a>>2]&31](t,r)|0;do if(l){f=e;d=o[f>>2]|0;b=o[f+4>>2]|0;if(s){f=t;h=o[f+4>>2]|0;_=e;o[_>>2]=o[f>>2];o[_+4>>2]=h;h=t;o[h>>2]=d;o[h+4>>2]=b;m=1;break}h=r;_=o[h+4>>2]|0;f=e;o[f>>2]=o[h>>2];o[f+4>>2]=_;_=r;o[_>>2]=d;o[_+4>>2]=b;if(Sh[o[a>>2]&31](t,r)|0){b=r;_=o[b>>2]|0;d=o[b+4>>2]|0;b=t;f=o[b+4>>2]|0;h=r;o[h>>2]=o[b>>2];o[h+4>>2]=f;f=t;o[f>>2]=_;o[f+4>>2]=d;m=2}else m=1}else if(s){d=r;f=o[d>>2]|0;_=o[d+4>>2]|0;d=t;h=o[d+4>>2]|0;b=r;o[b>>2]=o[d>>2];o[b+4>>2]=h;h=t;o[h>>2]=f;o[h+4>>2]=_;if(Sh[o[a>>2]&31](r,e)|0){_=e;h=o[_>>2]|0;f=o[_+4>>2]|0;_=r;b=o[_+4>>2]|0;d=e;o[d>>2]=o[_>>2];o[d+4>>2]=b;b=r;o[b>>2]=h;o[b+4>>2]=f;m=2}else m=1}else m=0;while(0);if(Sh[o[a>>2]&31](i,t)|0){s=t;l=o[s>>2]|0;f=o[s+4>>2]|0;s=i;b=o[s+4>>2]|0;h=t;o[h>>2]=o[s>>2];o[h+4>>2]=b;b=i;o[b>>2]=l;o[b+4>>2]=f;f=m+1|0;if(Sh[o[a>>2]&31](t,r)|0){b=r;l=o[b>>2]|0;h=o[b+4>>2]|0;b=t;s=o[b+4>>2]|0;d=r;o[d>>2]=o[b>>2];o[d+4>>2]=s;s=t;o[s>>2]=l;o[s+4>>2]=h;if(Sh[o[a>>2]&31](r,e)|0){h=e;s=o[h>>2]|0;l=o[h+4>>2]|0;h=r;d=o[h+4>>2]|0;b=e;o[b>>2]=o[h>>2];o[b+4>>2]=d;d=r;o[d>>2]=s;o[d+4>>2]=l;p=m+3|0}else p=m+2|0}else p=f}else p=m;if(!(Sh[o[a>>2]&31](n,i)|0)){y=p;c=u;return y|0}m=i;f=o[m>>2]|0;l=o[m+4>>2]|0;m=n;d=o[m+4>>2]|0;s=i;o[s>>2]=o[m>>2];o[s+4>>2]=d;d=n;o[d>>2]=f;o[d+4>>2]=l;if(!(Sh[o[a>>2]&31](i,t)|0)){y=p+1|0;c=u;return y|0}l=t;d=o[l>>2]|0;f=o[l+4>>2]|0;l=i;n=o[l+4>>2]|0;s=t;o[s>>2]=o[l>>2];o[s+4>>2]=n;n=i;o[n>>2]=d;o[n+4>>2]=f;if(!(Sh[o[a>>2]&31](t,r)|0)){y=p+2|0;c=u;return y|0}f=r;n=o[f>>2]|0;d=o[f+4>>2]|0;f=t;i=o[f+4>>2]|0;s=r;o[s>>2]=o[f>>2];o[s+4>>2]=i;i=t;o[i>>2]=n;o[i+4>>2]=d;if(!(Sh[o[a>>2]&31](r,e)|0)){y=p+3|0;c=u;return y|0}a=e;d=o[a>>2]|0;i=o[a+4>>2]|0;a=r;n=o[a+4>>2]|0;t=e;o[t>>2]=o[a>>2];o[t+4>>2]=n;n=r;o[n>>2]=d;o[n+4>>2]=i;y=p+4|0;c=u;return y|0}function Or(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0;i=c;c=c+16|0;n=i;switch(r-e>>3|0){case 2:a=r+-8|0;if(!(Sh[o[t>>2]&31](a,e)|0)){u=1;c=i;return u|0}l=e;s=o[l>>2]|0;f=o[l+4>>2]|0;l=a;d=o[l+4>>2]|0;b=e;o[b>>2]=o[l>>2];o[b+4>>2]=d;d=a;o[d>>2]=s;o[d+4>>2]=f;u=1;c=i;return u|0;case 5:Tr(e,e+8|0,e+16|0,e+24|0,r+-8|0,t)|0;u=1;c=i;return u|0;case 1:case 0:u=1;c=i;return u|0;case 4:f=e+8|0;d=e+16|0;s=r+-8|0;a=Sh[o[t>>2]&31](f,e)|0;b=Sh[o[t>>2]&31](d,f)|0;do if(a){l=e;h=o[l>>2]|0;_=o[l+4>>2]|0;if(b){l=d;m=o[l+4>>2]|0;p=e;o[p>>2]=o[l>>2];o[p+4>>2]=m;m=d;o[m>>2]=h;o[m+4>>2]=_;break}m=f;p=o[m+4>>2]|0;l=e;o[l>>2]=o[m>>2];o[l+4>>2]=p;p=f;o[p>>2]=h;o[p+4>>2]=_;if(Sh[o[t>>2]&31](d,f)|0){_=f;p=o[_>>2]|0;h=o[_+4>>2]|0;_=d;l=o[_+4>>2]|0;m=f;o[m>>2]=o[_>>2];o[m+4>>2]=l;l=d;o[l>>2]=p;o[l+4>>2]=h}}else if(b?(h=f,l=o[h>>2]|0,p=o[h+4>>2]|0,h=d,m=o[h+4>>2]|0,_=f,o[_>>2]=o[h>>2],o[_+4>>2]=m,m=d,o[m>>2]=l,o[m+4>>2]=p,Sh[o[t>>2]&31](f,e)|0):0){p=e;m=o[p>>2]|0;l=o[p+4>>2]|0;p=f;_=o[p+4>>2]|0;h=e;o[h>>2]=o[p>>2];o[h+4>>2]=_;_=f;o[_>>2]=m;o[_+4>>2]=l}while(0);if(!(Sh[o[t>>2]&31](s,d)|0)){u=1;c=i;return u|0}b=d;a=o[b>>2]|0;l=o[b+4>>2]|0;b=s;_=o[b+4>>2]|0;m=d;o[m>>2]=o[b>>2];o[m+4>>2]=_;_=s;o[_>>2]=a;o[_+4>>2]=l;if(!(Sh[o[t>>2]&31](d,f)|0)){u=1;c=i;return u|0}l=f;_=o[l>>2]|0;a=o[l+4>>2]|0;l=d;s=o[l+4>>2]|0;m=f;o[m>>2]=o[l>>2];o[m+4>>2]=s;s=d;o[s>>2]=_;o[s+4>>2]=a;if(!(Sh[o[t>>2]&31](f,e)|0)){u=1;c=i;return u|0}a=e;s=o[a>>2]|0;_=o[a+4>>2]|0;a=f;d=o[a+4>>2]|0;m=e;o[m>>2]=o[a>>2];o[m+4>>2]=d;d=f;o[d>>2]=s;o[d+4>>2]=_;u=1;c=i;return u|0;case 3:_=e+8|0;d=r+-8|0;s=Sh[o[t>>2]&31](_,e)|0;f=Sh[o[t>>2]&31](d,_)|0;if(!s){if(!f){u=1;c=i;return u|0}s=_;m=o[s>>2]|0;a=o[s+4>>2]|0;s=d;l=o[s+4>>2]|0;b=_;o[b>>2]=o[s>>2];o[b+4>>2]=l;l=d;o[l>>2]=m;o[l+4>>2]=a;if(!(Sh[o[t>>2]&31](_,e)|0)){u=1;c=i;return u|0}a=e;l=o[a>>2]|0;m=o[a+4>>2]|0;a=_;b=o[a+4>>2]|0;s=e;o[s>>2]=o[a>>2];o[s+4>>2]=b;b=_;o[b>>2]=l;o[b+4>>2]=m;u=1;c=i;return u|0}m=e;b=o[m>>2]|0;l=o[m+4>>2]|0;if(f){f=d;m=o[f+4>>2]|0;s=e;o[s>>2]=o[f>>2];o[s+4>>2]=m;m=d;o[m>>2]=b;o[m+4>>2]=l;u=1;c=i;return u|0}m=_;s=o[m+4>>2]|0;f=e;o[f>>2]=o[m>>2];o[f+4>>2]=s;s=_;o[s>>2]=b;o[s+4>>2]=l;if(!(Sh[o[t>>2]&31](d,_)|0)){u=1;c=i;return u|0}l=_;s=o[l>>2]|0;b=o[l+4>>2]|0;l=d;f=o[l+4>>2]|0;m=_;o[m>>2]=o[l>>2];o[m+4>>2]=f;f=d;o[f>>2]=s;o[f+4>>2]=b;u=1;c=i;return u|0;default:b=e+16|0;f=e+8|0;s=Sh[o[t>>2]&31](f,e)|0;d=Sh[o[t>>2]&31](b,f)|0;do if(s){m=e;l=o[m>>2]|0;_=o[m+4>>2]|0;if(d){m=b;a=o[m+4>>2]|0;h=e;o[h>>2]=o[m>>2];o[h+4>>2]=a;a=b;o[a>>2]=l;o[a+4>>2]=_;break}a=f;h=o[a+4>>2]|0;m=e;o[m>>2]=o[a>>2];o[m+4>>2]=h;h=f;o[h>>2]=l;o[h+4>>2]=_;if(Sh[o[t>>2]&31](b,f)|0){_=f;h=o[_>>2]|0;l=o[_+4>>2]|0;_=b;m=o[_+4>>2]|0;a=f;o[a>>2]=o[_>>2];o[a+4>>2]=m;m=b;o[m>>2]=h;o[m+4>>2]=l}}else if(d?(l=f,m=o[l>>2]|0,h=o[l+4>>2]|0,l=b,a=o[l+4>>2]|0,_=f,o[_>>2]=o[l>>2],o[_+4>>2]=a,a=b,o[a>>2]=m,o[a+4>>2]=h,Sh[o[t>>2]&31](f,e)|0):0){h=e;a=o[h>>2]|0;m=o[h+4>>2]|0;h=f;_=o[h+4>>2]|0;l=e;o[l>>2]=o[h>>2];o[l+4>>2]=_;_=f;o[_>>2]=a;o[_+4>>2]=m}while(0);f=e+24|0;if((f|0)==(r|0)){u=1;c=i;return u|0}else{y=0;w=f;v=b}while(1){if(Sh[o[t>>2]&31](w,v)|0){b=w;f=o[b+4>>2]|0;d=n;o[d>>2]=o[b>>2];o[d+4>>2]=f;f=w;d=v;while(1){b=d;s=o[b+4>>2]|0;m=f;o[m>>2]=o[b>>2];o[m+4>>2]=s;if((d|0)==(e|0))break;s=d+-8|0;if(Sh[o[t>>2]&31](n,s)|0){m=d;d=s;f=m}else break}f=n;m=o[f+4>>2]|0;s=d;o[s>>2]=o[f>>2];o[s+4>>2]=m;m=y+1|0;if((m|0)==8)break;else S=m}else S=y;m=w+8|0;if((m|0)==(r|0)){u=1;E=41;break}else{s=w;y=S;w=m;v=s}}if((E|0)==41){c=i;return u|0}u=(w+8|0)==(r|0);c=i;return u|0}return 0}function xr(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0;i=c;c=c+16|0;n=i;a=e;e=r;e:while(1){r=e;u=e+-8|0;l=a;r:while(1){s=l;f=r-s|0;d=f>>3;switch(d|0){case 2:b=4;break e;break;case 4:b=14;break e;break;case 5:b=26;break e;break;case 3:b=6;break e;break;case 1:case 0:b=84;break e;break;default:}if((f|0)<248){b=28;break e}h=(d|0)/2|0;_=l+(h<<3)|0;do if((f|0)<=7992){m=Sh[o[t>>2]&31](_,l)|0;p=Sh[o[t>>2]&31](u,_)|0;if(!m){if(!p){y=0;break}m=_;w=o[m>>2]|0;v=o[m+4>>2]|0;m=u;S=o[m+4>>2]|0;E=_;o[E>>2]=o[m>>2];o[E+4>>2]=S;S=u;o[S>>2]=w;o[S+4>>2]=v;if(!(Sh[o[t>>2]&31](_,l)|0)){y=1;break}v=l;S=o[v>>2]|0;w=o[v+4>>2]|0;v=_;E=o[v+4>>2]|0;m=l;o[m>>2]=o[v>>2];o[m+4>>2]=E;E=_;o[E>>2]=S;o[E+4>>2]=w;y=2;break}w=l;E=o[w>>2]|0;S=o[w+4>>2]|0;if(p){p=u;w=o[p+4>>2]|0;m=l;o[m>>2]=o[p>>2];o[m+4>>2]=w;w=u;o[w>>2]=E;o[w+4>>2]=S;y=1;break}w=_;m=o[w+4>>2]|0;p=l;o[p>>2]=o[w>>2];o[p+4>>2]=m;m=_;o[m>>2]=E;o[m+4>>2]=S;if(Sh[o[t>>2]&31](u,_)|0){S=_;m=o[S>>2]|0;E=o[S+4>>2]|0;S=u;p=o[S+4>>2]|0;w=_;o[w>>2]=o[S>>2];o[w+4>>2]=p;p=u;o[p>>2]=m;o[p+4>>2]=E;y=2}else y=1}else{E=(d|0)/4|0;y=Lr(l,l+(E<<3)|0,_,l+(E+h<<3)|0,u,t)|0}while(0);do if(Sh[o[t>>2]&31](l,_)|0){g=u;k=y}else{h=u;while(1){h=h+-8|0;if((l|0)==(h|0))break;if(Sh[o[t>>2]&31](h,_)|0){b=67;break}}if((b|0)==67){b=0;d=l;f=o[d>>2]|0;E=o[d+4>>2]|0;d=h;p=o[d+4>>2]|0;m=l;o[m>>2]=o[d>>2];o[m+4>>2]=p;p=h;o[p>>2]=f;o[p+4>>2]=E;g=h;k=y+1|0;break}E=l+8|0;if(Sh[o[t>>2]&31](l,u)|0)M=E;else{if((E|0)==(u|0)){b=84;break e}else P=E;while(1){A=P+8|0;if(Sh[o[t>>2]&31](l,P)|0)break;if((A|0)==(u|0)){b=84;break e}else P=A}h=P;E=o[h>>2]|0;p=o[h+4>>2]|0;h=u;f=o[h+4>>2]|0;m=P;o[m>>2]=o[h>>2];o[m+4>>2]=f;f=u;o[f>>2]=E;o[f+4>>2]=p;M=A}if((M|0)==(u|0)){b=84;break e}else{F=M;C=u}while(1){p=F;while(1){D=p+8|0;if(Sh[o[t>>2]&31](l,p)|0){B=C;break}else p=D}do B=B+-8|0;while(Sh[o[t>>2]&31](l,B)|0);if(!(p>>>0<B>>>0)){l=p;continue r}f=p;E=o[f>>2]|0;m=o[f+4>>2]|0;f=B;h=o[f+4>>2]|0;d=p;o[d>>2]=o[f>>2];o[d+4>>2]=h;h=B;o[h>>2]=E;o[h+4>>2]=m;F=D;C=B}}while(0);m=l+8|0;t:do if(m>>>0<g>>>0){h=m;E=g;d=_;f=k;while(1){w=h;while(1){R=w+8|0;if(Sh[o[t>>2]&31](w,d)|0)w=R;else{T=E;break}}do T=T+-8|0;while(!(Sh[o[t>>2]&31](T,d)|0));if(w>>>0>T>>>0){O=w;x=d;L=f;break t}p=w;S=o[p>>2]|0;v=o[p+4>>2]|0;p=T;N=o[p+4>>2]|0;I=w;o[I>>2]=o[p>>2];o[I+4>>2]=N;N=T;o[N>>2]=S;o[N+4>>2]=v;h=R;E=T;d=(d|0)==(w|0)?T:d;f=f+1|0}}else{O=m;x=_;L=k}while(0);if((O|0)!=(x|0)?Sh[o[t>>2]&31](x,O)|0:0){_=O;m=o[_>>2]|0;f=o[_+4>>2]|0;_=x;d=o[_+4>>2]|0;E=O;o[E>>2]=o[_>>2];o[E+4>>2]=d;d=x;o[d>>2]=m;o[d+4>>2]=f;J=L+1|0}else J=L;if((J|0)==0){G=Nr(l,O,t)|0;f=O+8|0;if(Nr(f,e,t)|0){b=79;break}if(G){l=f;continue}}f=O;if((f-s|0)>=(r-f|0)){b=83;break}xr(l,O,t);l=O+8|0}if((b|0)==79){b=0;if(G){b=84;break}else{a=l;e=O;continue}}else if((b|0)==83){b=0;xr(O+8|0,e,t);a=l;e=O;continue}}if((b|0)==4){if(!(Sh[o[t>>2]&31](u,l)|0)){c=i;return}O=l;a=o[O>>2]|0;G=o[O+4>>2]|0;O=u;J=o[O+4>>2]|0;L=l;o[L>>2]=o[O>>2];o[L+4>>2]=J;J=u;o[J>>2]=a;o[J+4>>2]=G;c=i;return}else if((b|0)==6){G=l+8|0;J=Sh[o[t>>2]&31](G,l)|0;a=Sh[o[t>>2]&31](u,G)|0;if(!J){if(!a){c=i;return}J=G;L=o[J>>2]|0;O=o[J+4>>2]|0;J=u;x=o[J+4>>2]|0;k=G;o[k>>2]=o[J>>2];o[k+4>>2]=x;x=u;o[x>>2]=L;o[x+4>>2]=O;if(!(Sh[o[t>>2]&31](G,l)|0)){c=i;return}O=l;x=o[O>>2]|0;L=o[O+4>>2]|0;O=G;k=o[O+4>>2]|0;J=l;o[J>>2]=o[O>>2];o[J+4>>2]=k;k=G;o[k>>2]=x;o[k+4>>2]=L;c=i;return}L=l;k=o[L>>2]|0;x=o[L+4>>2]|0;if(a){a=u;L=o[a+4>>2]|0;J=l;o[J>>2]=o[a>>2];o[J+4>>2]=L;L=u;o[L>>2]=k;o[L+4>>2]=x;c=i;return}L=G;J=o[L+4>>2]|0;a=l;o[a>>2]=o[L>>2];o[a+4>>2]=J;J=G;o[J>>2]=k;o[J+4>>2]=x;if(!(Sh[o[t>>2]&31](u,G)|0)){c=i;return}x=G;J=o[x>>2]|0;k=o[x+4>>2]|0;x=u;a=o[x+4>>2]|0;L=G;o[L>>2]=o[x>>2];o[L+4>>2]=a;a=u;o[a>>2]=J;o[a+4>>2]=k;c=i;return}else if((b|0)==14){k=l+8|0;a=l+16|0;J=Sh[o[t>>2]&31](k,l)|0;L=Sh[o[t>>2]&31](a,k)|0;do if(J){x=l;G=o[x>>2]|0;O=o[x+4>>2]|0;if(L){x=a;T=o[x+4>>2]|0;R=l;o[R>>2]=o[x>>2];o[R+4>>2]=T;T=a;o[T>>2]=G;o[T+4>>2]=O;break}T=k;R=o[T+4>>2]|0;x=l;o[x>>2]=o[T>>2];o[x+4>>2]=R;R=k;o[R>>2]=G;o[R+4>>2]=O;if(Sh[o[t>>2]&31](a,k)|0){O=k;R=o[O>>2]|0;G=o[O+4>>2]|0;O=a;x=o[O+4>>2]|0;T=k;o[T>>2]=o[O>>2];o[T+4>>2]=x;x=a;o[x>>2]=R;o[x+4>>2]=G}}else if(L?(G=k,x=o[G>>2]|0,R=o[G+4>>2]|0,G=a,T=o[G+4>>2]|0,O=k,o[O>>2]=o[G>>2],o[O+4>>2]=T,T=a,o[T>>2]=x,o[T+4>>2]=R,Sh[o[t>>2]&31](k,l)|0):0){R=l;T=o[R>>2]|0;x=o[R+4>>2]|0;R=k;O=o[R+4>>2]|0;G=l;o[G>>2]=o[R>>2];o[G+4>>2]=O;O=k;o[O>>2]=T;o[O+4>>2]=x}while(0);if(!(Sh[o[t>>2]&31](u,a)|0)){c=i;return}L=a;J=o[L>>2]|0;x=o[L+4>>2]|0;L=u;O=o[L+4>>2]|0;T=a;o[T>>2]=o[L>>2];o[T+4>>2]=O;O=u;o[O>>2]=J;o[O+4>>2]=x;if(!(Sh[o[t>>2]&31](a,k)|0)){c=i;return}x=k;O=o[x>>2]|0;J=o[x+4>>2]|0;x=a;T=o[x+4>>2]|0;L=k;o[L>>2]=o[x>>2];o[L+4>>2]=T;T=a;o[T>>2]=O;o[T+4>>2]=J;if(!(Sh[o[t>>2]&31](k,l)|0)){c=i;return}J=l;T=o[J>>2]|0;O=o[J+4>>2]|0;J=k;a=o[J+4>>2]|0;L=l;o[L>>2]=o[J>>2];o[L+4>>2]=a;a=k;o[a>>2]=T;o[a+4>>2]=O;c=i;return}else if((b|0)==26){Lr(l,l+8|0,l+16|0,l+24|0,u,t)|0;c=i;return}else if((b|0)==28){u=l+16|0;O=l+8|0;a=Sh[o[t>>2]&31](O,l)|0;T=Sh[o[t>>2]&31](u,O)|0;do if(a){k=l;L=o[k>>2]|0;J=o[k+4>>2]|0;if(T){k=u;x=o[k+4>>2]|0;G=l;o[G>>2]=o[k>>2];o[G+4>>2]=x;x=u;o[x>>2]=L;o[x+4>>2]=J;break}x=O;G=o[x+4>>2]|0;k=l;o[k>>2]=o[x>>2];o[k+4>>2]=G;G=O;o[G>>2]=L;o[G+4>>2]=J;if(Sh[o[t>>2]&31](u,O)|0){J=O;G=o[J>>2]|0;L=o[J+4>>2]|0;J=u;k=o[J+4>>2]|0;x=O;o[x>>2]=o[J>>2];o[x+4>>2]=k;k=u;o[k>>2]=G;o[k+4>>2]=L}}else if(T?(L=O,k=o[L>>2]|0,G=o[L+4>>2]|0,L=u,x=o[L+4>>2]|0,J=O,o[J>>2]=o[L>>2],o[J+4>>2]=x,x=u,o[x>>2]=k,o[x+4>>2]=G,Sh[o[t>>2]&31](O,l)|0):0){G=l;x=o[G>>2]|0;k=o[G+4>>2]|0;G=O;J=o[G+4>>2]|0;L=l;o[L>>2]=o[G>>2];o[L+4>>2]=J;J=O;o[J>>2]=x;o[J+4>>2]=k}while(0);O=l+24|0;if((O|0)==(e|0)){c=i;return}else{W=O;V=u}while(1){if(Sh[o[t>>2]&31](W,V)|0){u=W;O=o[u+4>>2]|0;T=n;o[T>>2]=o[u>>2];o[T+4>>2]=O;O=W;T=V;while(1){u=T;a=o[u+4>>2]|0;k=O;o[k>>2]=o[u>>2];o[k+4>>2]=a;if((T|0)==(l|0))break;a=T+-8|0;if(Sh[o[t>>2]&31](n,a)|0){k=T;T=a;O=k}else break}O=n;k=o[O+4>>2]|0;a=T;o[a>>2]=o[O>>2];o[a+4>>2]=k}k=W+8|0;if((k|0)==(e|0))break;else{a=W;W=k;V=a}}c=i;return}else if((b|0)==84){c=i;return}}function Lr(e,r,t,i,n,a){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;var u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0;u=c;l=Sh[o[a>>2]&31](r,e)|0;s=Sh[o[a>>2]&31](t,r)|0;do if(l){f=e;d=o[f>>2]|0;b=o[f+4>>2]|0;if(s){f=t;h=o[f+4>>2]|0;_=e;o[_>>2]=o[f>>2];o[_+4>>2]=h;h=t;o[h>>2]=d;o[h+4>>2]=b;m=1;break}h=r;_=o[h+4>>2]|0;f=e;o[f>>2]=o[h>>2];o[f+4>>2]=_;_=r;o[_>>2]=d;o[_+4>>2]=b;if(Sh[o[a>>2]&31](t,r)|0){b=r;_=o[b>>2]|0;d=o[b+4>>2]|0;b=t;f=o[b+4>>2]|0;h=r;o[h>>2]=o[b>>2];o[h+4>>2]=f;f=t;o[f>>2]=_;o[f+4>>2]=d;m=2}else m=1}else if(s){d=r;f=o[d>>2]|0;_=o[d+4>>2]|0;d=t;h=o[d+4>>2]|0;b=r;o[b>>2]=o[d>>2];o[b+4>>2]=h;h=t;o[h>>2]=f;o[h+4>>2]=_;if(Sh[o[a>>2]&31](r,e)|0){_=e;h=o[_>>2]|0;f=o[_+4>>2]|0;_=r;b=o[_+4>>2]|0;d=e;o[d>>2]=o[_>>2];o[d+4>>2]=b;b=r;o[b>>2]=h;o[b+4>>2]=f;m=2}else m=1}else m=0;while(0);if(Sh[o[a>>2]&31](i,t)|0){s=t;l=o[s>>2]|0;f=o[s+4>>2]|0;s=i;b=o[s+4>>2]|0;h=t;o[h>>2]=o[s>>2];o[h+4>>2]=b;b=i;o[b>>2]=l;o[b+4>>2]=f;f=m+1|0;if(Sh[o[a>>2]&31](t,r)|0){b=r;l=o[b>>2]|0;h=o[b+4>>2]|0;b=t;s=o[b+4>>2]|0;d=r;o[d>>2]=o[b>>2];o[d+4>>2]=s;s=t;o[s>>2]=l;o[s+4>>2]=h;if(Sh[o[a>>2]&31](r,e)|0){h=e;s=o[h>>2]|0;l=o[h+4>>2]|0;h=r;d=o[h+4>>2]|0;b=e;o[b>>2]=o[h>>2];o[b+4>>2]=d;d=r;o[d>>2]=s;o[d+4>>2]=l;p=m+3|0}else p=m+2|0}else p=f}else p=m;if(!(Sh[o[a>>2]&31](n,i)|0)){y=p;c=u;return y|0}m=i;f=o[m>>2]|0;l=o[m+4>>2]|0;m=n;d=o[m+4>>2]|0;s=i;o[s>>2]=o[m>>2];o[s+4>>2]=d;d=n;o[d>>2]=f;o[d+4>>2]=l;if(!(Sh[o[a>>2]&31](i,t)|0)){y=p+1|0;c=u;return y|0}l=t;d=o[l>>2]|0;f=o[l+4>>2]|0;l=i;n=o[l+4>>2]|0;s=t;o[s>>2]=o[l>>2];o[s+4>>2]=n;n=i;o[n>>2]=d;o[n+4>>2]=f;if(!(Sh[o[a>>2]&31](t,r)|0)){y=p+2|0;c=u;return y|0}f=r;n=o[f>>2]|0;d=o[f+4>>2]|0;f=t;i=o[f+4>>2]|0;s=r;o[s>>2]=o[f>>2];o[s+4>>2]=i;i=t;o[i>>2]=n;o[i+4>>2]=d;if(!(Sh[o[a>>2]&31](r,e)|0)){y=p+3|0;c=u;return y|0}a=e;d=o[a>>2]|0;i=o[a+4>>2]|0;a=r;n=o[a+4>>2]|0;t=e;o[t>>2]=o[a>>2];o[t+4>>2]=n;n=r;o[n>>2]=d;o[n+4>>2]=i;y=p+4|0;c=u;return y|0}function Nr(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0;i=c;c=c+16|0;n=i;switch(r-e>>3|0){case 3:a=e+8|0;u=r+-8|0;l=Sh[o[t>>2]&31](a,e)|0;s=Sh[o[t>>2]&31](u,a)|0;if(!l){if(!s){f=1;c=i;return f|0}l=a;d=o[l>>2]|0;b=o[l+4>>2]|0;l=u;h=o[l+4>>2]|0;_=a;o[_>>2]=o[l>>2];o[_+4>>2]=h;h=u;o[h>>2]=d;o[h+4>>2]=b;if(!(Sh[o[t>>2]&31](a,e)|0)){f=1;c=i;return f|0}b=e;h=o[b>>2]|0;d=o[b+4>>2]|0;b=a;_=o[b+4>>2]|0;l=e;o[l>>2]=o[b>>2];o[l+4>>2]=_;_=a;o[_>>2]=h;o[_+4>>2]=d;f=1;c=i;return f|0}d=e;_=o[d>>2]|0;h=o[d+4>>2]|0;if(s){s=u;d=o[s+4>>2]|0;l=e;o[l>>2]=o[s>>2];o[l+4>>2]=d;d=u;o[d>>2]=_;o[d+4>>2]=h;f=1;c=i;return f|0}d=a;l=o[d+4>>2]|0;s=e;o[s>>2]=o[d>>2];o[s+4>>2]=l;l=a;o[l>>2]=_;o[l+4>>2]=h;if(!(Sh[o[t>>2]&31](u,a)|0)){f=1;c=i;return f|0}h=a;l=o[h>>2]|0;_=o[h+4>>2]|0;h=u;s=o[h+4>>2]|0;d=a;o[d>>2]=o[h>>2];o[d+4>>2]=s;s=u;o[s>>2]=l;o[s+4>>2]=_;f=1;c=i;return f|0;case 4:_=e+8|0;s=e+16|0;l=r+-8|0;u=Sh[o[t>>2]&31](_,e)|0;d=Sh[o[t>>2]&31](s,_)|0;do if(u){h=e;a=o[h>>2]|0;b=o[h+4>>2]|0;if(d){h=s;m=o[h+4>>2]|0;p=e;o[p>>2]=o[h>>2];o[p+4>>2]=m;m=s;o[m>>2]=a;o[m+4>>2]=b;break}m=_;p=o[m+4>>2]|0;h=e;o[h>>2]=o[m>>2];o[h+4>>2]=p;p=_;o[p>>2]=a;o[p+4>>2]=b;if(Sh[o[t>>2]&31](s,_)|0){b=_;p=o[b>>2]|0;a=o[b+4>>2]|0;b=s;h=o[b+4>>2]|0;m=_;o[m>>2]=o[b>>2];o[m+4>>2]=h;h=s;o[h>>2]=p;o[h+4>>2]=a}}else if(d?(a=_,h=o[a>>2]|0,p=o[a+4>>2]|0,a=s,m=o[a+4>>2]|0,b=_,o[b>>2]=o[a>>2],o[b+4>>2]=m,m=s,o[m>>2]=h,o[m+4>>2]=p,Sh[o[t>>2]&31](_,e)|0):0){p=e;m=o[p>>2]|0;h=o[p+4>>2]|0;p=_;b=o[p+4>>2]|0;a=e;o[a>>2]=o[p>>2];o[a+4>>2]=b;b=_;o[b>>2]=m;o[b+4>>2]=h}while(0);if(!(Sh[o[t>>2]&31](l,s)|0)){f=1;c=i;return f|0}d=s;u=o[d>>2]|0;h=o[d+4>>2]|0;d=l;b=o[d+4>>2]|0;m=s;o[m>>2]=o[d>>2];o[m+4>>2]=b;b=l;o[b>>2]=u;o[b+4>>2]=h;if(!(Sh[o[t>>2]&31](s,_)|0)){f=1;c=i;return f|0}h=_;b=o[h>>2]|0;u=o[h+4>>2]|0;h=s;l=o[h+4>>2]|0;m=_;o[m>>2]=o[h>>2];o[m+4>>2]=l;l=s;o[l>>2]=b;o[l+4>>2]=u;if(!(Sh[o[t>>2]&31](_,e)|0)){f=1;c=i;return f|0}u=e;l=o[u>>2]|0;b=o[u+4>>2]|0;u=_;s=o[u+4>>2]|0;m=e;o[m>>2]=o[u>>2];o[m+4>>2]=s;s=_;o[s>>2]=l;o[s+4>>2]=b;f=1;c=i;return f|0;case 1:case 0:f=1;c=i;return f|0;case 5:Lr(e,e+8|0,e+16|0,e+24|0,r+-8|0,t)|0;f=1;c=i;return f|0;case 2:b=r+-8|0;if(!(Sh[o[t>>2]&31](b,e)|0)){f=1;c=i;return f|0}s=e;l=o[s>>2]|0;_=o[s+4>>2]|0;s=b;m=o[s+4>>2]|0;u=e;o[u>>2]=o[s>>2];o[u+4>>2]=m;m=b;o[m>>2]=l;o[m+4>>2]=_;f=1;c=i;return f|0;default:_=e+16|0;m=e+8|0;l=Sh[o[t>>2]&31](m,e)|0;b=Sh[o[t>>2]&31](_,m)|0;do if(l){u=e;s=o[u>>2]|0;h=o[u+4>>2]|0;if(b){u=_;d=o[u+4>>2]|0;a=e;o[a>>2]=o[u>>2];o[a+4>>2]=d;d=_;o[d>>2]=s;o[d+4>>2]=h;break}d=m;a=o[d+4>>2]|0;u=e;o[u>>2]=o[d>>2];o[u+4>>2]=a;a=m;o[a>>2]=s;o[a+4>>2]=h;if(Sh[o[t>>2]&31](_,m)|0){h=m;a=o[h>>2]|0;s=o[h+4>>2]|0;h=_;u=o[h+4>>2]|0;d=m;o[d>>2]=o[h>>2];o[d+4>>2]=u;u=_;o[u>>2]=a;o[u+4>>2]=s}}else if(b?(s=m,u=o[s>>2]|0,a=o[s+4>>2]|0,s=_,d=o[s+4>>2]|0,h=m,o[h>>2]=o[s>>2],o[h+4>>2]=d,d=_,o[d>>2]=u,o[d+4>>2]=a,Sh[o[t>>2]&31](m,e)|0):0){a=e;d=o[a>>2]|0;u=o[a+4>>2]|0;a=m;h=o[a+4>>2]|0;s=e;o[s>>2]=o[a>>2];o[s+4>>2]=h;h=m;o[h>>2]=d;o[h+4>>2]=u}while(0);m=e+24|0;if((m|0)==(r|0)){f=1;c=i;return f|0}else{y=0;w=m;v=_}while(1){if(Sh[o[t>>2]&31](w,v)|0){_=w;m=o[_+4>>2]|0;b=n;o[b>>2]=o[_>>2];o[b+4>>2]=m;m=w;b=v;while(1){_=b;l=o[_+4>>2]|0;u=m;o[u>>2]=o[_>>2];o[u+4>>2]=l;if((b|0)==(e|0))break;l=b+-8|0;if(Sh[o[t>>2]&31](n,l)|0){u=b;b=l;m=u}else break}m=n;u=o[m+4>>2]|0;l=b;o[l>>2]=o[m>>2];o[l+4>>2]=u;u=y+1|0;if((u|0)==8)break;else S=u}else S=y;u=w+8|0;if((u|0)==(r|0)){f=1;E=41;break}else{l=w;y=S;w=u;v=l}}if((E|0)==41){c=i;return f|0}f=(w+8|0)==(r|0);c=i;return f|0}return 0}function Ir(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0;i=c;n=e;e=r;e:while(1){r=e;a=e+-8|0;u=e+-4|0;l=n;r:while(1){s=l;f=r-s|0;d=f>>3;switch(d|0){case 2:b=4;break e;break;case 4:b=14;break e;break;case 3:b=6;break e;break;case 5:b=15;break e;break;case 1:case 0:b=85;break e;break;default:}if((f|0)<248){b=21;break e}h=(d|0)/2|0;_=l+(h<<3)|0;do if((f|0)>7992){m=(d|0)/4|0;p=l+(m<<3)|0;y=m+h|0;w=l+(y<<3)|0;v=Jr(l,p,_,w,0)|0;S=l+(y<<3)+4|0;if(!((o[u>>2]|0)>>>0<(o[S>>2]|0)>>>0)){E=l+(h<<3)+4|0;g=v;break}y=w;k=o[y>>2]|0;M=o[y+4>>2]|0;y=a;P=o[y+4>>2]|0;A=w;o[A>>2]=o[y>>2];o[A+4>>2]=P;P=a;o[P>>2]=k;o[P+4>>2]=M;M=l+(h<<3)+4|0;if(!((o[S>>2]|0)>>>0<(o[M>>2]|0)>>>0)){E=M;g=v+1|0;break}S=_;P=o[S>>2]|0;k=o[S+4>>2]|0;S=w;A=o[S+4>>2]|0;y=_;o[y>>2]=o[S>>2];o[y+4>>2]=A;A=w;o[A>>2]=P;o[A+4>>2]=k;k=l+(m<<3)+4|0;if(!((o[M>>2]|0)>>>0<(o[k>>2]|0)>>>0)){E=M;g=v+2|0;break}m=p;A=o[m>>2]|0;P=o[m+4>>2]|0;m=_;w=o[m+4>>2]|0;y=p;o[y>>2]=o[m>>2];o[y+4>>2]=w;w=_;o[w>>2]=A;o[w+4>>2]=P;if((o[k>>2]|0)>>>0<(o[l+4>>2]|0)>>>0){k=l;P=o[k>>2]|0;w=o[k+4>>2]|0;k=p;A=o[k+4>>2]|0;y=l;o[y>>2]=o[k>>2];o[y+4>>2]=A;A=p;o[A>>2]=P;o[A+4>>2]=w;E=M;g=v+4|0;break}else{E=M;g=v+3|0;break}}else{v=l+(h<<3)+4|0;M=o[v>>2]|0;w=l+4|0;A=(o[u>>2]|0)>>>0<M>>>0;if(!(M>>>0<(o[w>>2]|0)>>>0)){if(!A){E=v;g=0;break}M=_;P=o[M>>2]|0;p=o[M+4>>2]|0;M=a;y=o[M+4>>2]|0;k=_;o[k>>2]=o[M>>2];o[k+4>>2]=y;y=a;o[y>>2]=P;o[y+4>>2]=p;if(!((o[v>>2]|0)>>>0<(o[w>>2]|0)>>>0)){E=v;g=1;break}w=l;p=o[w>>2]|0;y=o[w+4>>2]|0;w=_;P=o[w+4>>2]|0;k=l;o[k>>2]=o[w>>2];o[k+4>>2]=P;P=_;o[P>>2]=p;o[P+4>>2]=y;E=v;g=2;break}y=l;P=o[y>>2]|0;p=o[y+4>>2]|0;if(A){A=a;y=o[A+4>>2]|0;k=l;o[k>>2]=o[A>>2];o[k+4>>2]=y;y=a;o[y>>2]=P;o[y+4>>2]=p;E=v;g=1;break}y=_;k=o[y+4>>2]|0;A=l;o[A>>2]=o[y>>2];o[A+4>>2]=k;k=_;o[k>>2]=P;o[k+4>>2]=p;if((o[u>>2]|0)>>>0<p>>>0){k=a;A=o[k+4>>2]|0;y=_;o[y>>2]=o[k>>2];o[y+4>>2]=A;A=a;o[A>>2]=P;o[A+4>>2]=p;E=v;g=2}else{E=v;g=1}}while(0);h=l+4|0;d=o[h>>2]|0;f=o[E>>2]|0;do if(d>>>0<f>>>0){F=a;C=g}else{v=a;while(1){p=v;v=v+-8|0;if((l|0)==(v|0))break;if((o[p+-4>>2]|0)>>>0<f>>>0){b=68;break}}if((b|0)==68){b=0;p=l;A=o[p>>2]|0;P=o[p+4>>2]|0;p=v;y=o[p+4>>2]|0;k=l;o[k>>2]=o[p>>2];o[k+4>>2]=y;y=v;o[y>>2]=A;o[y+4>>2]=P;F=v;C=g+1|0;break}P=l+8|0;if(d>>>0<(o[u>>2]|0)>>>0)D=P;else{if((P|0)==(a|0)){b=85;break e}else B=P;while(1){R=B+8|0;if(d>>>0<(o[B+4>>2]|0)>>>0)break;if((R|0)==(a|0)){b=85;break e}else B=R}v=B;P=o[v>>2]|0;y=o[v+4>>2]|0;v=a;A=o[v+4>>2]|0;k=B;o[k>>2]=o[v>>2];o[k+4>>2]=A;A=a;o[A>>2]=P;o[A+4>>2]=y;D=R}if((D|0)==(a|0)){b=85;break e}else{T=D;O=a}while(1){y=o[h>>2]|0;A=T;while(1){x=A+8|0;if(y>>>0<(o[A+4>>2]|0)>>>0){L=O;break}else A=x}do{P=L;L=L+-8|0}while(y>>>0<(o[P+-4>>2]|0)>>>0);if(!(A>>>0<L>>>0)){l=A;continue r}y=A;P=o[y>>2]|0;k=o[y+4>>2]|0;y=L;v=o[y+4>>2]|0;p=A;o[p>>2]=o[y>>2];o[p+4>>2]=v;v=L;o[v>>2]=P;o[v+4>>2]=k;T=x;O=L}}while(0);h=l+8|0;t:do if(h>>>0<F>>>0){d=h;f=F;k=_;v=C;while(1){P=o[k+4>>2]|0;p=d;while(1){N=p+8|0;if((o[p+4>>2]|0)>>>0<P>>>0)p=N;else{I=f;break}}do{A=I;I=I+-8|0}while(!((o[A+-4>>2]|0)>>>0<P>>>0));if(p>>>0>I>>>0){J=p;G=k;W=v;break t}P=p;A=o[P>>2]|0;y=o[P+4>>2]|0;P=I;w=o[P+4>>2]|0;M=p;o[M>>2]=o[P>>2];o[M+4>>2]=w;w=I;o[w>>2]=A;o[w+4>>2]=y;d=N;f=I;k=(k|0)==(p|0)?I:k;v=v+1|0}}else{J=h;G=_;W=C}while(0);if((J|0)!=(G|0)?(o[G+4>>2]|0)>>>0<(o[J+4>>2]|0)>>>0:0){_=J;h=o[_>>2]|0;v=o[_+4>>2]|0;_=G;k=o[_+4>>2]|0;f=J;o[f>>2]=o[_>>2];o[f+4>>2]=k;k=G;o[k>>2]=h;o[k+4>>2]=v;V=W+1|0}else V=W;if((V|0)==0){z=Gr(l,J,0)|0;v=J+8|0;if(Gr(v,e,0)|0){b=80;break}if(z){l=v;continue}}v=J;if((v-s|0)>=(r-v|0)){b=84;break}Ir(l,J,t);l=J+8|0}if((b|0)==80){b=0;if(z){b=85;break}else{n=l;e=J;continue}}else if((b|0)==84){b=0;Ir(J+8|0,e,t);n=l;e=J;continue}}if((b|0)==4){if(!((o[u>>2]|0)>>>0<(o[l+4>>2]|0)>>>0)){c=i;return}J=l;n=o[J>>2]|0;t=o[J+4>>2]|0;J=a;z=o[J+4>>2]|0;V=l;o[V>>2]=o[J>>2];o[V+4>>2]=z;z=a;o[z>>2]=n;o[z+4>>2]=t;c=i;return}else if((b|0)==6){t=l+8|0;z=l+12|0;n=o[z>>2]|0;V=l+4|0;J=(o[u>>2]|0)>>>0<n>>>0;if(!(n>>>0<(o[V>>2]|0)>>>0)){if(!J){c=i;return}n=t;W=o[n>>2]|0;G=o[n+4>>2]|0;n=a;C=o[n+4>>2]|0;I=t;o[I>>2]=o[n>>2];o[I+4>>2]=C;C=a;o[C>>2]=W;o[C+4>>2]=G;if(!((o[z>>2]|0)>>>0<(o[V>>2]|0)>>>0)){c=i;return}V=l;z=o[V>>2]|0;G=o[V+4>>2]|0;V=t;C=o[V+4>>2]|0;W=l;o[W>>2]=o[V>>2];o[W+4>>2]=C;C=t;o[C>>2]=z;o[C+4>>2]=G;c=i;return}G=l;C=o[G>>2]|0;z=o[G+4>>2]|0;if(J){J=a;G=o[J+4>>2]|0;W=l;o[W>>2]=o[J>>2];o[W+4>>2]=G;G=a;o[G>>2]=C;o[G+4>>2]=z;c=i;return}G=t;W=o[G+4>>2]|0;J=l;o[J>>2]=o[G>>2];o[J+4>>2]=W;W=t;o[W>>2]=C;o[W+4>>2]=z;if(!((o[u>>2]|0)>>>0<z>>>0)){c=i;return}W=a;J=o[W+4>>2]|0;G=t;o[G>>2]=o[W>>2];o[G+4>>2]=J;J=a;o[J>>2]=C;o[J+4>>2]=z;c=i;return}else if((b|0)==14){Jr(l,l+8|0,l+16|0,a,0)|0;c=i;return}else if((b|0)==15){z=l+8|0;J=l+16|0;C=l+24|0;Jr(l,z,J,C,0)|0;G=l+28|0;if(!((o[u>>2]|0)>>>0<(o[G>>2]|0)>>>0)){c=i;return}u=C;W=o[u>>2]|0;t=o[u+4>>2]|0;u=a;V=o[u+4>>2]|0;I=C;o[I>>2]=o[u>>2];o[I+4>>2]=V;V=a;o[V>>2]=W;o[V+4>>2]=t;if(!((o[G>>2]|0)>>>0<(o[l+20>>2]|0)>>>0)){c=i;return}G=J;t=o[G>>2]|0;V=o[G+4>>2]|0;G=C;W=o[G>>2]|0;a=o[G+4>>2]|0;G=J;o[G>>2]=W;o[G+4>>2]=a;G=C;o[G>>2]=t;o[G+4>>2]=V;if(!(a>>>0<(o[l+12>>2]|0)>>>0)){c=i;return}V=z;G=o[V>>2]|0;t=o[V+4>>2]|0;V=z;o[V>>2]=W;o[V+4>>2]=a;V=J;o[V>>2]=G;o[V+4>>2]=t;if(!(a>>>0<(o[l+4>>2]|0)>>>0)){c=i;return}t=l;V=o[t>>2]|0;G=o[t+4>>2]|0;t=l;o[t>>2]=W;o[t+4>>2]=a;a=z;o[a>>2]=V;o[a+4>>2]=G;c=i;return}else if((b|0)==21){G=l+16|0;a=l+8|0;V=o[l+12>>2]|0;z=o[l+4>>2]|0;t=o[l+20>>2]|0;W=t>>>0<V>>>0;do if(V>>>0<z>>>0){J=l;C=o[J>>2]|0;I=o[J+4>>2]|0;if(W){J=G;u=o[J+4>>2]|0;n=l;o[n>>2]=o[J>>2];o[n+4>>2]=u;u=G;o[u>>2]=C;o[u+4>>2]=I;break}u=a;n=o[u+4>>2]|0;J=l;o[J>>2]=o[u>>2];o[J+4>>2]=n;n=a;o[n>>2]=C;o[n+4>>2]=I;if(t>>>0<I>>>0){n=G;J=o[n+4>>2]|0;u=a;o[u>>2]=o[n>>2];o[u+4>>2]=J;J=G;o[J>>2]=C;o[J+4>>2]=I}}else if(W?(I=a,J=o[I>>2]|0,C=o[I+4>>2]|0,I=G,u=o[I>>2]|0,n=o[I+4>>2]|0,I=a,o[I>>2]=u,o[I+4>>2]=n,I=G,o[I>>2]=J,o[I+4>>2]=C,n>>>0<z>>>0):0){C=l;I=o[C>>2]|0;J=o[C+4>>2]|0;C=l;o[C>>2]=u;o[C+4>>2]=n;n=a;o[n>>2]=I;o[n+4>>2]=J}while(0);a=l+24|0;if((a|0)==(e|0)){c=i;return}else{H=a;U=G}while(1){if((o[H+4>>2]|0)>>>0<(o[U+4>>2]|0)>>>0){G=H;a=o[G>>2]|0;z=o[G+4>>2]|0;G=H;W=U;while(1){t=W;V=o[t+4>>2]|0;J=G;o[J>>2]=o[t>>2];o[J+4>>2]=V;if((W|0)==(l|0))break;if(z>>>0<(o[W+-4>>2]|0)>>>0){V=W;W=W+-8|0;G=V}else break}G=W;o[G>>2]=a;o[G+4>>2]=z}G=H+8|0;if((G|0)==(e|0))break;else{V=H;H=G;U=V}}c=i;return}else if((b|0)==85){c=i;return}}function Jr(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0;n=c;a=r+4|0;u=o[a>>2]|0;l=e+4|0;s=t+4|0;f=o[s>>2]|0;d=f>>>0<u>>>0;do if(u>>>0<(o[l>>2]|0)>>>0){b=e;h=o[b>>2]|0;_=o[b+4>>2]|0;if(d){b=t;m=o[b+4>>2]|0;p=e;o[p>>2]=o[b>>2];o[p+4>>2]=m;m=t;o[m>>2]=h;o[m+4>>2]=_;y=1;w=_;break}m=r;p=o[m+4>>2]|0;b=e;o[b>>2]=o[m>>2];o[b+4>>2]=p;p=r;o[p>>2]=h;o[p+4>>2]=_;p=o[s>>2]|0;if(p>>>0<_>>>0){b=t;m=o[b+4>>2]|0;
v=r;o[v>>2]=o[b>>2];o[v+4>>2]=m;m=t;o[m>>2]=h;o[m+4>>2]=_;y=2;w=_}else{y=1;w=p}}else if(d){p=r;_=o[p>>2]|0;m=o[p+4>>2]|0;p=t;h=o[p+4>>2]|0;v=r;o[v>>2]=o[p>>2];o[v+4>>2]=h;h=t;o[h>>2]=_;o[h+4>>2]=m;if((o[a>>2]|0)>>>0<(o[l>>2]|0)>>>0){h=e;_=o[h>>2]|0;v=o[h+4>>2]|0;h=r;p=o[h+4>>2]|0;b=e;o[b>>2]=o[h>>2];o[b+4>>2]=p;p=r;o[p>>2]=_;o[p+4>>2]=v;y=2;w=o[s>>2]|0}else{y=1;w=m}}else{y=0;w=f}while(0);if(!((o[i+4>>2]|0)>>>0<w>>>0)){S=y;c=n;return S|0}w=t;f=o[w>>2]|0;d=o[w+4>>2]|0;w=i;u=o[w+4>>2]|0;m=t;o[m>>2]=o[w>>2];o[m+4>>2]=u;u=i;o[u>>2]=f;o[u+4>>2]=d;if(!((o[s>>2]|0)>>>0<(o[a>>2]|0)>>>0)){S=y+1|0;c=n;return S|0}s=r;d=o[s>>2]|0;u=o[s+4>>2]|0;s=t;f=o[s+4>>2]|0;i=r;o[i>>2]=o[s>>2];o[i+4>>2]=f;f=t;o[f>>2]=d;o[f+4>>2]=u;if(!((o[a>>2]|0)>>>0<(o[l>>2]|0)>>>0)){S=y+2|0;c=n;return S|0}l=e;a=o[l>>2]|0;u=o[l+4>>2]|0;l=r;f=o[l+4>>2]|0;d=e;o[d>>2]=o[l>>2];o[d+4>>2]=f;f=r;o[f>>2]=a;o[f+4>>2]=u;S=y+3|0;c=n;return S|0}function Gr(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0;t=c;switch(r-e>>3|0){case 5:i=e+8|0;n=e+16|0;a=e+24|0;Jr(e,i,n,a,0)|0;u=e+28|0;if(!((o[r+-4>>2]|0)>>>0<(o[u>>2]|0)>>>0)){l=1;c=t;return l|0}s=r+-8|0;f=a;d=o[f>>2]|0;b=o[f+4>>2]|0;f=s;h=o[f+4>>2]|0;_=a;o[_>>2]=o[f>>2];o[_+4>>2]=h;h=s;o[h>>2]=d;o[h+4>>2]=b;if(!((o[u>>2]|0)>>>0<(o[e+20>>2]|0)>>>0)){l=1;c=t;return l|0}u=n;b=o[u>>2]|0;h=o[u+4>>2]|0;u=a;d=o[u>>2]|0;s=o[u+4>>2]|0;u=n;o[u>>2]=d;o[u+4>>2]=s;u=a;o[u>>2]=b;o[u+4>>2]=h;if(!(s>>>0<(o[e+12>>2]|0)>>>0)){l=1;c=t;return l|0}h=i;u=o[h>>2]|0;b=o[h+4>>2]|0;h=i;o[h>>2]=d;o[h+4>>2]=s;h=n;o[h>>2]=u;o[h+4>>2]=b;if(!(s>>>0<(o[e+4>>2]|0)>>>0)){l=1;c=t;return l|0}b=e;h=o[b>>2]|0;u=o[b+4>>2]|0;b=e;o[b>>2]=d;o[b+4>>2]=s;s=i;o[s>>2]=h;o[s+4>>2]=u;l=1;c=t;return l|0;case 4:Jr(e,e+8|0,e+16|0,r+-8|0,0)|0;l=1;c=t;return l|0;case 1:case 0:l=1;c=t;return l|0;case 3:u=e+8|0;s=r+-8|0;h=e+12|0;i=o[h>>2]|0;b=e+4|0;d=r+-4|0;n=(o[d>>2]|0)>>>0<i>>>0;if(!(i>>>0<(o[b>>2]|0)>>>0)){if(!n){l=1;c=t;return l|0}i=u;a=o[i>>2]|0;_=o[i+4>>2]|0;i=s;f=o[i+4>>2]|0;m=u;o[m>>2]=o[i>>2];o[m+4>>2]=f;f=s;o[f>>2]=a;o[f+4>>2]=_;if(!((o[h>>2]|0)>>>0<(o[b>>2]|0)>>>0)){l=1;c=t;return l|0}b=e;h=o[b>>2]|0;_=o[b+4>>2]|0;b=u;f=o[b+4>>2]|0;a=e;o[a>>2]=o[b>>2];o[a+4>>2]=f;f=u;o[f>>2]=h;o[f+4>>2]=_;l=1;c=t;return l|0}_=e;f=o[_>>2]|0;h=o[_+4>>2]|0;if(n){n=s;_=o[n+4>>2]|0;a=e;o[a>>2]=o[n>>2];o[a+4>>2]=_;_=s;o[_>>2]=f;o[_+4>>2]=h;l=1;c=t;return l|0}_=u;a=o[_+4>>2]|0;n=e;o[n>>2]=o[_>>2];o[n+4>>2]=a;a=u;o[a>>2]=f;o[a+4>>2]=h;if(!((o[d>>2]|0)>>>0<h>>>0)){l=1;c=t;return l|0}d=s;a=o[d+4>>2]|0;n=u;o[n>>2]=o[d>>2];o[n+4>>2]=a;a=s;o[a>>2]=f;o[a+4>>2]=h;l=1;c=t;return l|0;case 2:if(!((o[r+-4>>2]|0)>>>0<(o[e+4>>2]|0)>>>0)){l=1;c=t;return l|0}h=r+-8|0;a=e;f=o[a>>2]|0;s=o[a+4>>2]|0;a=h;n=o[a+4>>2]|0;d=e;o[d>>2]=o[a>>2];o[d+4>>2]=n;n=h;o[n>>2]=f;o[n+4>>2]=s;l=1;c=t;return l|0;default:s=e+16|0;n=e+8|0;f=o[e+12>>2]|0;h=o[e+4>>2]|0;d=o[e+20>>2]|0;a=d>>>0<f>>>0;do if(f>>>0<h>>>0){u=e;_=o[u>>2]|0;b=o[u+4>>2]|0;if(a){u=s;m=o[u+4>>2]|0;i=e;o[i>>2]=o[u>>2];o[i+4>>2]=m;m=s;o[m>>2]=_;o[m+4>>2]=b;break}m=n;i=o[m+4>>2]|0;u=e;o[u>>2]=o[m>>2];o[u+4>>2]=i;i=n;o[i>>2]=_;o[i+4>>2]=b;if(d>>>0<b>>>0){i=s;u=o[i+4>>2]|0;m=n;o[m>>2]=o[i>>2];o[m+4>>2]=u;u=s;o[u>>2]=_;o[u+4>>2]=b}}else if(a?(b=n,u=o[b>>2]|0,_=o[b+4>>2]|0,b=s,m=o[b>>2]|0,i=o[b+4>>2]|0,b=n,o[b>>2]=m,o[b+4>>2]=i,b=s,o[b>>2]=u,o[b+4>>2]=_,i>>>0<h>>>0):0){_=e;b=o[_>>2]|0;u=o[_+4>>2]|0;_=e;o[_>>2]=m;o[_+4>>2]=i;i=n;o[i>>2]=b;o[i+4>>2]=u}while(0);n=e+24|0;if((n|0)==(r|0)){l=1;c=t;return l|0}else{p=0;y=n;w=s}while(1){if((o[y+4>>2]|0)>>>0<(o[w+4>>2]|0)>>>0){s=y;n=o[s>>2]|0;h=o[s+4>>2]|0;s=y;a=w;while(1){d=a;f=o[d+4>>2]|0;u=s;o[u>>2]=o[d>>2];o[u+4>>2]=f;if((a|0)==(e|0))break;if(h>>>0<(o[a+-4>>2]|0)>>>0){f=a;a=a+-8|0;s=f}else break}s=a;o[s>>2]=n;o[s+4>>2]=h;s=p+1|0;if((s|0)==8)break;else v=s}else v=p;s=y+8|0;if((s|0)==(r|0)){l=1;S=34;break}else{f=y;p=v;y=s;w=f}}if((S|0)==34){c=t;return l|0}l=(y+8|0)==(r|0);c=t;return l|0}return 0}function Wr(e,r,t,i,n,a){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;var u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0;u=c;c=c+64|0;l=u;if((i|0)==2){s=r+-60|0;if(!(Sh[o[t>>2]&31](s,e)|0)){c=u;return}f=l+0|0;d=e+0|0;b=f+60|0;do{o[f>>2]=o[d>>2];f=f+4|0;d=d+4|0}while((f|0)<(b|0));f=e+0|0;d=s+0|0;b=f+60|0;do{o[f>>2]=o[d>>2];f=f+4|0;d=d+4|0}while((f|0)<(b|0));f=s+0|0;d=l+0|0;b=f+60|0;do{o[f>>2]=o[d>>2];f=f+4|0;d=d+4|0}while((f|0)<(b|0));c=u;return}else if((i|0)==1|(i|0)==0){c=u;return}else{if((i|0)<129){if((e|0)==(r|0)){c=u;return}s=e+60|0;if((s|0)==(r|0)){c=u;return}h=s;do{f=l+0|0;d=h+0|0;b=f+60|0;do{o[f>>2]=o[d>>2];f=f+4|0;d=d+4|0}while((f|0)<(b|0));e:do if((h|0)==(e|0))_=e;else{s=h;while(1){m=s;s=s+-60|0;if(!(Sh[o[t>>2]&31](l,s)|0)){_=m;break e}f=m+0|0;d=s+0|0;b=f+60|0;do{o[f>>2]=o[d>>2];f=f+4|0;d=d+4|0}while((f|0)<(b|0));if((s|0)==(e|0)){_=e;break}}}while(0);f=_+0|0;d=l+0|0;b=f+60|0;do{o[f>>2]=o[d>>2];f=f+4|0;d=d+4|0}while((f|0)<(b|0));h=h+60|0}while((h|0)!=(r|0));c=u;return}h=(i|0)/2|0;l=e+(h*60|0)|0;if((i|0)>(a|0)){Wr(e,l,t,h,n,a);_=i-h|0;Wr(l,r,t,_,n,a);zr(e,l,r,t,h,_,n,a);c=u;return}Vr(e,l,t,h,n);a=n+(h*60|0)|0;Vr(l,r,t,i-h|0,a);h=n+(i*60|0)|0;e:do if((i+1|0)>>>0<3){p=e;y=a}else{r=e;l=n;_=a;while(1){if((_|0)==(h|0))break;if(Sh[o[t>>2]&31](_,l)|0){f=r+0|0;d=_+0|0;b=f+60|0;do{o[f>>2]=o[d>>2];f=f+4|0;d=d+4|0}while((f|0)<(b|0));w=_+60|0;v=l}else{f=r+0|0;d=l+0|0;b=f+60|0;do{o[f>>2]=o[d>>2];f=f+4|0;d=d+4|0}while((f|0)<(b|0));w=_;v=l+60|0}s=r+60|0;if((v|0)==(a|0)){p=s;y=w;break e}else{r=s;l=v;_=w}}if((l|0)==(a|0)){c=u;return}else{S=l;E=r}while(1){f=E+0|0;d=S+0|0;b=f+60|0;do{o[f>>2]=o[d>>2];f=f+4|0;d=d+4|0}while((f|0)<(b|0));S=S+60|0;if((S|0)==(a|0))break;else E=E+60|0}c=u;return}while(0);if((y|0)==(h|0)){c=u;return}else{g=p;k=y}while(1){f=g+0|0;d=k+0|0;b=f+60|0;do{o[f>>2]=o[d>>2];f=f+4|0;d=d+4|0}while((f|0)<(b|0));k=k+60|0;if((k|0)==(h|0))break;else g=g+60|0}c=u;return}}function Vr(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0;a=c;if((i|0)==1){if((n|0)==0){c=a;return}u=n+0|0;l=e+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0));c=a;return}else if((i|0)==2){f=r+-60|0;d=(n|0)==0;if(Sh[o[t>>2]&31](f,e)|0){if(!d){u=n+0|0;l=f+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0))}u=n+60|0;l=e+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0));c=a;return}else{if(!d){u=n+0|0;l=e+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0))}u=n+60|0;l=f+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0));c=a;return}}else if((i|0)==0){c=a;return}else{if((i|0)<9){if((e|0)==(r|0)){c=a;return}if((n|0)==0)b=0;else{u=n+0|0;l=e+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0));b=n}f=e+60|0;if((f|0)==(r|0)){c=a;return}else{h=f;_=b}do{b=_;_=_+60|0;if(Sh[o[t>>2]&31](h,b)|0){u=_+0|0;l=b+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0));e:do if((b|0)==(n|0))m=n;else{f=b;while(1){d=f;f=f+-60|0;if(!(Sh[o[t>>2]&31](h,f)|0)){m=d;break e}u=d+0|0;l=f+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0));if((f|0)==(n|0)){m=n;break}}}while(0);u=m+0|0;l=h+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0))}else{u=_+0|0;l=h+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0))}h=h+60|0}while((h|0)!=(r|0));c=a;return}h=(i|0)/2|0;_=e+(h*60|0)|0;Wr(e,_,t,h,n,h);m=i-h|0;Wr(_,r,t,m,n+(h*60|0)|0,m);e:do if((i+1|0)>>>0<3){p=_;y=n}else{m=_;h=e;b=n;while(1){if((m|0)==(r|0))break;f=(b|0)==0;if(Sh[o[t>>2]&31](m,h)|0){if(!f){u=b+0|0;l=m+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0))}w=h;v=m+60|0}else{if(!f){u=b+0|0;l=h+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0))}w=h+60|0;v=m}f=b+60|0;if((w|0)==(_|0)){p=v;y=f;break e}else{m=v;h=w;b=f}}if((h|0)==(_|0)){c=a;return}else{S=h;E=b}while(1){if((E|0)!=0){u=E+0|0;l=S+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0))}S=S+60|0;if((S|0)==(_|0))break;else E=E+60|0}c=a;return}while(0);if((p|0)==(r|0)){c=a;return}else{g=p;k=y}while(1){if((k|0)!=0){u=k+0|0;l=g+0|0;s=u+60|0;do{o[u>>2]=o[l>>2];u=u+4|0;l=l+4|0}while((u|0)<(s|0))}g=g+60|0;if((g|0)==(r|0))break;else k=k+60|0}c=a;return}}function zr(e,r,t,i,n,a,u,l){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;u=u|0;l=l|0;var s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0;s=c;c=c+64|0;f=s;if((a|0)==0){c=s;return}d=e;e=r;r=t;t=n;n=a;e:while(1){a=r;b=e;h=t;_=d;m=n;while(1){if((h|0)==0){p=45;break e}else{y=_;w=h}while(1){if(Sh[o[i>>2]&31](b,y)|0)break;v=w+-1|0;if((v|0)==0){p=45;break e}else{y=y+60|0;w=v}}if(!((w|0)>(l|0)&(m|0)>(l|0))){p=8;break e}if((w|0)<(m|0)){v=(m|0)/2|0;S=b+(v*60|0)|0;E=y;g=y;k=(b-E|0)/60|0;r:while(1){M=k;while(1){if((M|0)==0)break r;P=(M|0)/2|0;if(Sh[o[i>>2]&31](S,g+(P*60|0)|0)|0)M=P;else break}g=g+((P+1|0)*60|0)|0;k=M+-1-P|0}A=g;F=S;C=(g-E|0)/60|0;D=v}else{if((w|0)==1){p=17;break e}k=(w|0)/2|0;B=y+(k*60|0)|0;R=b;T=b;O=(a-R|0)/60|0;r:while(1){x=O;while(1){if((x|0)==0)break r;L=(x|0)/2|0;if(Sh[o[i>>2]&31](T+(L*60|0)|0,B)|0)break;else x=L}T=T+((L+1|0)*60|0)|0;O=x+-1-L|0}A=B;F=T;C=k;D=(T-R|0)/60|0}h=w-C|0;N=m-D|0;r:do if((A|0)!=(b|0))if((b|0)==(F|0))I=A;else{if((A+60|0)==(b|0)){J=f+0|0;G=A+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));x=F-b|0;_b(A|0,b|0,x|0)|0;O=A+(((x|0)/60|0)*60|0)|0;J=O+0|0;G=f+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));I=O;break}if((b+60|0)==(F|0)){x=F+-60|0;J=f+0|0;G=x+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));O=x-A|0;v=F+(((O|0)/-60|0)*60|0)|0;_b(v|0,A|0,O|0)|0;J=A+0|0;G=f+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));I=v;break}x=b;O=(x-A|0)/60|0;E=F;g=(E-x|0)/60|0;if((O|0)==(g|0)){x=A;S=b;while(1){J=f+0|0;G=x+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));J=x+0|0;G=S+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));J=S+0|0;G=f+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));x=x+60|0;if((x|0)==(b|0)){I=b;break r}else S=S+60|0}}else{V=O;z=g}while(1){S=(V|0)%(z|0)|0;if((S|0)==0)break;else{x=z;z=S;V=x}}if((z|0)!=0){x=O+-1|0;S=A+(z*60|0)|0;do{v=S;S=S+-60|0;J=f+0|0;G=S+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));M=S;H=v+(x*60|0)|0;while(1){J=M+0|0;G=H+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));U=(E-H|0)/60|0;if((O|0)<(U|0))q=H+(O*60|0)|0;else q=A+((O-U|0)*60|0)|0;if((q|0)==(S|0))break;else{U=H;H=q;M=U}}J=H+0|0;G=f+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0))}while((S|0)!=(A|0))}I=A+(g*60|0)|0}else I=F;while(0);if((D+C|0)>=(N+h|0))break;zr(y,A,I,i,C,D,u,l);if((m|0)==(D|0)){p=45;break e}else{b=F;_=I;m=N}}zr(I,F,r,i,h,N,u,l);if((D|0)==0){p=45;break}else{d=y;e=A;r=I;t=C;n=D}}if((p|0)==8){Hr(y,b,r,i,w,m,u);c=s;return}else if((p|0)==17){J=f+0|0;G=y+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));J=y+0|0;G=b+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));J=b+0|0;G=f+0|0;W=J+60|0;do{o[J>>2]=o[G>>2];J=J+4|0;G=G+4|0}while((J|0)<(W|0));c=s;return}else if((p|0)==45){c=s;return}}function Hr(e,r,t,i,n,a,u){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;u=u|0;var l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0;l=c;s=e;f=r;if((n|0)<=(a|0)){e:do if((e|0)!=(r|0)){a=(((r+-60+(0-s)|0)>>>0)/60|0)+1|0;n=e;d=u;while(1){if((d|0)!=0){b=d+0|0;h=n+0|0;_=b+60|0;do{o[b>>2]=o[h>>2];b=b+4|0;h=h+4|0}while((b|0)<(_|0))}n=n+60|0;if((n|0)==(r|0))break;else d=d+60|0}d=u+(a*60|0)|0;if((d|0)!=(u|0)){n=e;m=r;p=u;while(1){if((m|0)==(t|0))break;if(Sh[o[i>>2]&31](m,p)|0){b=n+0|0;h=m+0|0;_=b+60|0;do{o[b>>2]=o[h>>2];b=b+4|0;h=h+4|0}while((b|0)<(_|0));y=p;w=m+60|0}else{b=n+0|0;h=p+0|0;_=b+60|0;do{o[b>>2]=o[h>>2];b=b+4|0;h=h+4|0}while((b|0)<(_|0));y=p+60|0;w=m}v=n+60|0;if((y|0)==(d|0)){S=v;E=w;break e}else{n=v;m=w;p=y}}_b(n|0,p|0,d-p|0)|0;c=l;return}else{S=e;E=r}}else{S=e;E=r}while(0);_b(S|0,E|0,t-E|0)|0;c=l;return}if((r|0)==(t|0))g=u;else{E=(((t+-60+(0-f)|0)>>>0)/60|0)+1|0;f=r;S=u;while(1){if((S|0)!=0){b=S+0|0;h=f+0|0;_=b+60|0;do{o[b>>2]=o[h>>2];b=b+4|0;h=h+4|0}while((b|0)<(_|0))}f=f+60|0;if((f|0)==(t|0))break;else S=S+60|0}g=u+(E*60|0)|0}E=g;e:do if((r|0)==(e|0)){k=E;M=t}else{S=E;f=r;p=g;d=t;while(1){if((S|0)==(u|0))break;n=p+-60|0;y=f+-60|0;w=d+-60|0;if(Sh[o[i>>2]&31](n,y)|0){b=w+0|0;h=y+0|0;_=b+60|0;do{o[b>>2]=o[h>>2];b=b+4|0;h=h+4|0}while((b|0)<(_|0));P=y;A=p}else{b=w+0|0;h=n+0|0;_=b+60|0;do{o[b>>2]=o[h>>2];b=b+4|0;h=h+4|0}while((b|0)<(_|0));P=f;A=n}y=A;if((P|0)==(e|0)){k=y;M=w;break e}else{S=y;f=P;p=A;d=w}}if((f|0)==(e|0)){c=l;return}else{F=d;C=f}do{F=F+-60|0;C=C+-60|0;b=F+0|0;h=C+0|0;_=b+60|0;do{o[b>>2]=o[h>>2];b=b+4|0;h=h+4|0}while((b|0)<(_|0))}while((C|0)!=(e|0));c=l;return}while(0);e=k;if((e|0)==(u|0)){c=l;return}else{D=M;B=e}do{D=D+-60|0;B=B+-60|0;b=D+0|0;h=B+0|0;_=b+60|0;do{o[b>>2]=o[h>>2];b=b+4|0;h=h+4|0}while((b|0)<(_|0))}while((B|0)!=(u|0));c=l;return}function Ur(e,r,t,i,n,a){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;var u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0;u=c;c=c+32|0;l=u;if((i|0)==2){s=r+-20|0;if(!(Sh[o[t>>2]&31](s,e)|0)){c=u;return}o[l+0>>2]=o[e+0>>2];o[l+4>>2]=o[e+4>>2];o[l+8>>2]=o[e+8>>2];o[l+12>>2]=o[e+12>>2];o[l+16>>2]=o[e+16>>2];o[e+0>>2]=o[s+0>>2];o[e+4>>2]=o[s+4>>2];o[e+8>>2]=o[s+8>>2];o[e+12>>2]=o[s+12>>2];o[e+16>>2]=o[s+16>>2];o[s+0>>2]=o[l+0>>2];o[s+4>>2]=o[l+4>>2];o[s+8>>2]=o[l+8>>2];o[s+12>>2]=o[l+12>>2];o[s+16>>2]=o[l+16>>2];c=u;return}else if((i|0)==1|(i|0)==0){c=u;return}else{if((i|0)<129){if((e|0)==(r|0)){c=u;return}s=e+20|0;if((s|0)==(r|0)){c=u;return}else f=s;do{o[l+0>>2]=o[f+0>>2];o[l+4>>2]=o[f+4>>2];o[l+8>>2]=o[f+8>>2];o[l+12>>2]=o[f+12>>2];o[l+16>>2]=o[f+16>>2];e:do if((f|0)==(e|0))d=e;else{s=f;while(1){b=s;s=s+-20|0;if(!(Sh[o[t>>2]&31](l,s)|0)){d=b;break e}o[b+0>>2]=o[s+0>>2];o[b+4>>2]=o[s+4>>2];o[b+8>>2]=o[s+8>>2];o[b+12>>2]=o[s+12>>2];o[b+16>>2]=o[s+16>>2];if((s|0)==(e|0)){d=e;break}}}while(0);o[d+0>>2]=o[l+0>>2];o[d+4>>2]=o[l+4>>2];o[d+8>>2]=o[l+8>>2];o[d+12>>2]=o[l+12>>2];o[d+16>>2]=o[l+16>>2];f=f+20|0}while((f|0)!=(r|0));c=u;return}f=(i|0)/2|0;l=e+(f*20|0)|0;if((i|0)>(a|0)){Ur(e,l,t,f,n,a);d=i-f|0;Ur(l,r,t,d,n,a);jr(e,l,r,t,f,d,n,a);c=u;return}qr(e,l,t,f,n);a=n+(f*20|0)|0;qr(l,r,t,i-f|0,a);f=n+(i*20|0)|0;e:do if((i+1|0)>>>0<3){h=e;_=a}else{r=e;l=n;d=a;while(1){if((d|0)==(f|0))break;if(Sh[o[t>>2]&31](d,l)|0){o[r+0>>2]=o[d+0>>2];o[r+4>>2]=o[d+4>>2];o[r+8>>2]=o[d+8>>2];o[r+12>>2]=o[d+12>>2];o[r+16>>2]=o[d+16>>2];m=d+20|0;p=l}else{o[r+0>>2]=o[l+0>>2];o[r+4>>2]=o[l+4>>2];o[r+8>>2]=o[l+8>>2];o[r+12>>2]=o[l+12>>2];o[r+16>>2]=o[l+16>>2];m=d;p=l+20|0}s=r+20|0;if((p|0)==(a|0)){h=s;_=m;break e}else{r=s;l=p;d=m}}if((l|0)==(a|0)){c=u;return}else{y=l;w=r}while(1){o[w+0>>2]=o[y+0>>2];o[w+4>>2]=o[y+4>>2];o[w+8>>2]=o[y+8>>2];o[w+12>>2]=o[y+12>>2];o[w+16>>2]=o[y+16>>2];y=y+20|0;if((y|0)==(a|0))break;else w=w+20|0}c=u;return}while(0);if((_|0)==(f|0)){c=u;return}else{v=h;S=_}while(1){o[v+0>>2]=o[S+0>>2];o[v+4>>2]=o[S+4>>2];o[v+8>>2]=o[S+8>>2];o[v+12>>2]=o[S+12>>2];o[v+16>>2]=o[S+16>>2];S=S+20|0;if((S|0)==(f|0))break;else v=v+20|0}c=u;return}}function qr(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0;a=c;if((i|0)==1){if((n|0)==0){c=a;return}o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];c=a;return}else if((i|0)==0){c=a;return}else if((i|0)==2){u=r+-20|0;l=(n|0)==0;if(Sh[o[t>>2]&31](u,e)|0){if(!l){o[n+0>>2]=o[u+0>>2];o[n+4>>2]=o[u+4>>2];o[n+8>>2]=o[u+8>>2];o[n+12>>2]=o[u+12>>2];o[n+16>>2]=o[u+16>>2]}s=n+20|0;o[s+0>>2]=o[e+0>>2];o[s+4>>2]=o[e+4>>2];o[s+8>>2]=o[e+8>>2];o[s+12>>2]=o[e+12>>2];o[s+16>>2]=o[e+16>>2];c=a;return}else{if(!l){o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2]}l=n+20|0;o[l+0>>2]=o[u+0>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];o[l+16>>2]=o[u+16>>2];c=a;return}}else{if((i|0)<9){if((e|0)==(r|0)){c=a;return}if((n|0)==0)f=0;else{o[n+0>>2]=o[e+0>>2];o[n+4>>2]=o[e+4>>2];o[n+8>>2]=o[e+8>>2];o[n+12>>2]=o[e+12>>2];o[n+16>>2]=o[e+16>>2];f=n}u=e+20|0;if((u|0)==(r|0)){c=a;return}else{d=u;b=f}do{f=b;b=b+20|0;if(Sh[o[t>>2]&31](d,f)|0){o[b+0>>2]=o[f+0>>2];o[b+4>>2]=o[f+4>>2];o[b+8>>2]=o[f+8>>2];o[b+12>>2]=o[f+12>>2];o[b+16>>2]=o[f+16>>2];e:do if((f|0)==(n|0))h=n;else{u=f;while(1){l=u;u=u+-20|0;if(!(Sh[o[t>>2]&31](d,u)|0)){h=l;break e}o[l+0>>2]=o[u+0>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];o[l+16>>2]=o[u+16>>2];if((u|0)==(n|0)){h=n;break}}}while(0);o[h+0>>2]=o[d+0>>2];o[h+4>>2]=o[d+4>>2];o[h+8>>2]=o[d+8>>2];o[h+12>>2]=o[d+12>>2];o[h+16>>2]=o[d+16>>2]}else{o[b+0>>2]=o[d+0>>2];o[b+4>>2]=o[d+4>>2];o[b+8>>2]=o[d+8>>2];o[b+12>>2]=o[d+12>>2];o[b+16>>2]=o[d+16>>2]}d=d+20|0}while((d|0)!=(r|0));c=a;return}d=(i|0)/2|0;b=e+(d*20|0)|0;Ur(e,b,t,d,n,d);h=i-d|0;Ur(b,r,t,h,n+(d*20|0)|0,h);e:do if((i+1|0)>>>0<3){_=b;m=n}else{h=b;d=e;f=n;while(1){if((h|0)==(r|0))break;u=(f|0)==0;if(Sh[o[t>>2]&31](h,d)|0){if(!u){o[f+0>>2]=o[h+0>>2];o[f+4>>2]=o[h+4>>2];o[f+8>>2]=o[h+8>>2];o[f+12>>2]=o[h+12>>2];o[f+16>>2]=o[h+16>>2]}p=d;y=h+20|0}else{if(!u){o[f+0>>2]=o[d+0>>2];o[f+4>>2]=o[d+4>>2];o[f+8>>2]=o[d+8>>2];o[f+12>>2]=o[d+12>>2];o[f+16>>2]=o[d+16>>2]}p=d+20|0;y=h}u=f+20|0;if((p|0)==(b|0)){_=y;m=u;break e}else{h=y;d=p;f=u}}if((d|0)==(b|0)){c=a;return}else{w=d;v=f}while(1){if((v|0)!=0){o[v+0>>2]=o[w+0>>2];o[v+4>>2]=o[w+4>>2];o[v+8>>2]=o[w+8>>2];o[v+12>>2]=o[w+12>>2];o[v+16>>2]=o[w+16>>2]}w=w+20|0;if((w|0)==(b|0))break;else v=v+20|0}c=a;return}while(0);if((_|0)==(r|0)){c=a;return}else{S=_;E=m}while(1){if((E|0)!=0){o[E+0>>2]=o[S+0>>2];o[E+4>>2]=o[S+4>>2];o[E+8>>2]=o[S+8>>2];o[E+12>>2]=o[S+12>>2];o[E+16>>2]=o[S+16>>2]}S=S+20|0;if((S|0)==(r|0))break;else E=E+20|0}c=a;return}}function jr(e,r,t,i,n,a,u,l){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;u=u|0;l=l|0;var s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0;s=c;c=c+48|0;f=s+20|0;d=s;if((a|0)==0){c=s;return}b=e;e=r;r=t;t=n;n=a;e:while(1){a=r;h=e;_=t;m=b;p=n;while(1){if((_|0)==0){y=45;break e}else{w=m;v=_}while(1){if(Sh[o[i>>2]&31](h,w)|0)break;S=v+-1|0;if((S|0)==0){y=45;break e}else{w=w+20|0;v=S}}if(!((v|0)>(l|0)&(p|0)>(l|0))){y=8;break e}if((v|0)<(p|0)){S=(p|0)/2|0;E=h+(S*20|0)|0;g=w;k=w;M=(h-g|0)/20|0;r:while(1){P=M;while(1){if((P|0)==0)break r;A=(P|0)/2|0;if(Sh[o[i>>2]&31](E,k+(A*20|0)|0)|0)P=A;else break}k=k+((A+1|0)*20|0)|0;M=P+-1-A|0}F=k;C=E;D=(k-g|0)/20|0;B=S}else{if((v|0)==1){y=17;break e}M=(v|0)/2|0;R=w+(M*20|0)|0;T=h;O=h;x=(a-T|0)/20|0;r:while(1){L=x;while(1){if((L|0)==0)break r;N=(L|0)/2|0;if(Sh[o[i>>2]&31](O+(N*20|0)|0,R)|0)break;else L=N}O=O+((N+1|0)*20|0)|0;x=L+-1-N|0}F=R;C=O;D=M;B=(O-T|0)/20|0}_=v-D|0;I=p-B|0;r:do if((F|0)!=(h|0))if((h|0)==(C|0))J=F;else{if((F+20|0)==(h|0)){o[f+0>>2]=o[F+0>>2];o[f+4>>2]=o[F+4>>2];o[f+8>>2]=o[F+8>>2];o[f+12>>2]=o[F+12>>2];o[f+16>>2]=o[F+16>>2];x=C-h|0;_b(F|0,h|0,x|0)|0;S=F+(((x|0)/20|0)*20|0)|0;o[S+0>>2]=o[f+0>>2];o[S+4>>2]=o[f+4>>2];o[S+8>>2]=o[f+8>>2];o[S+12>>2]=o[f+12>>2];o[S+16>>2]=o[f+16>>2];J=S;break}if((h+20|0)==(C|0)){S=C+-20|0;o[f+0>>2]=o[S+0>>2];o[f+4>>2]=o[S+4>>2];o[f+8>>2]=o[S+8>>2];o[f+12>>2]=o[S+12>>2];o[f+16>>2]=o[S+16>>2];x=S-F|0;S=C+(((x|0)/-20|0)*20|0)|0;_b(S|0,F|0,x|0)|0;o[F+0>>2]=o[f+0>>2];o[F+4>>2]=o[f+4>>2];o[F+8>>2]=o[f+8>>2];o[F+12>>2]=o[f+12>>2];o[F+16>>2]=o[f+16>>2];J=S;break}S=h;x=(S-F|0)/20|0;g=C;k=(g-S|0)/20|0;if((x|0)==(k|0)){S=F;E=h;while(1){o[f+0>>2]=o[S+0>>2];o[f+4>>2]=o[S+4>>2];o[f+8>>2]=o[S+8>>2];o[f+12>>2]=o[S+12>>2];o[f+16>>2]=o[S+16>>2];o[S+0>>2]=o[E+0>>2];o[S+4>>2]=o[E+4>>2];o[S+8>>2]=o[E+8>>2];o[S+12>>2]=o[E+12>>2];o[S+16>>2]=o[E+16>>2];o[E+0>>2]=o[f+0>>2];o[E+4>>2]=o[f+4>>2];o[E+8>>2]=o[f+8>>2];o[E+12>>2]=o[f+12>>2];o[E+16>>2]=o[f+16>>2];S=S+20|0;if((S|0)==(h|0)){J=h;break r}else E=E+20|0}}else{G=x;W=k}while(1){E=(G|0)%(W|0)|0;if((E|0)==0)break;else{S=W;W=E;G=S}}if((W|0)!=0){S=x+-1|0;E=F+(W*20|0)|0;do{L=E;E=E+-20|0;o[d+0>>2]=o[E+0>>2];o[d+4>>2]=o[E+4>>2];o[d+8>>2]=o[E+8>>2];o[d+12>>2]=o[E+12>>2];o[d+16>>2]=o[E+16>>2];P=E;V=L+(S*20|0)|0;while(1){o[P+0>>2]=o[V+0>>2];o[P+4>>2]=o[V+4>>2];o[P+8>>2]=o[V+8>>2];o[P+12>>2]=o[V+12>>2];o[P+16>>2]=o[V+16>>2];L=(g-V|0)/20|0;if((x|0)<(L|0))z=V+(x*20|0)|0;else z=F+((x-L|0)*20|0)|0;if((z|0)==(E|0))break;else{L=V;V=z;P=L}}o[V+0>>2]=o[d+0>>2];o[V+4>>2]=o[d+4>>2];o[V+8>>2]=o[d+8>>2];o[V+12>>2]=o[d+12>>2];o[V+16>>2]=o[d+16>>2]}while((E|0)!=(F|0))}J=F+(k*20|0)|0}else J=C;while(0);if((B+D|0)>=(I+_|0))break;jr(w,F,J,i,D,B,u,l);if((p|0)==(B|0)){y=45;break e}else{h=C;m=J;p=I}}jr(J,C,r,i,_,I,u,l);if((B|0)==0){y=45;break}else{b=w;e=F;r=J;t=D;n=B}}if((y|0)==8){Yr(w,h,r,i,v,p,u);c=s;return}else if((y|0)==17){o[f+0>>2]=o[w+0>>2];o[f+4>>2]=o[w+4>>2];o[f+8>>2]=o[w+8>>2];o[f+12>>2]=o[w+12>>2];o[f+16>>2]=o[w+16>>2];o[w+0>>2]=o[h+0>>2];o[w+4>>2]=o[h+4>>2];o[w+8>>2]=o[h+8>>2];o[w+12>>2]=o[h+12>>2];o[w+16>>2]=o[h+16>>2];o[h+0>>2]=o[f+0>>2];o[h+4>>2]=o[f+4>>2];o[h+8>>2]=o[f+8>>2];o[h+12>>2]=o[f+12>>2];o[h+16>>2]=o[f+16>>2];c=s;return}else if((y|0)==45){c=s;return}}function Yr(e,r,t,i,n,a,u){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;u=u|0;var l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0;l=c;s=e;f=r;if((n|0)<=(a|0)){e:do if((e|0)!=(r|0)){a=(((r+-20+(0-s)|0)>>>0)/20|0)+1|0;n=e;d=u;while(1){if((d|0)!=0){o[d+0>>2]=o[n+0>>2];o[d+4>>2]=o[n+4>>2];o[d+8>>2]=o[n+8>>2];o[d+12>>2]=o[n+12>>2];o[d+16>>2]=o[n+16>>2]}n=n+20|0;if((n|0)==(r|0))break;else d=d+20|0}d=u+(a*20|0)|0;if((d|0)!=(u|0)){n=e;b=r;h=u;while(1){if((b|0)==(t|0))break;if(Sh[o[i>>2]&31](b,h)|0){o[n+0>>2]=o[b+0>>2];o[n+4>>2]=o[b+4>>2];o[n+8>>2]=o[b+8>>2];o[n+12>>2]=o[b+12>>2];o[n+16>>2]=o[b+16>>2];_=h;m=b+20|0}else{o[n+0>>2]=o[h+0>>2];o[n+4>>2]=o[h+4>>2];o[n+8>>2]=o[h+8>>2];o[n+12>>2]=o[h+12>>2];o[n+16>>2]=o[h+16>>2];_=h+20|0;m=b}p=n+20|0;if((_|0)==(d|0)){y=p;w=m;break e}else{n=p;b=m;h=_}}_b(n|0,h|0,d-h|0)|0;c=l;return}else{y=e;w=r}}else{y=e;w=r}while(0);_b(y|0,w|0,t-w|0)|0;c=l;return}if((r|0)==(t|0))v=u;else{w=(((t+-20+(0-f)|0)>>>0)/20|0)+1|0;f=r;y=u;while(1){if((y|0)!=0){o[y+0>>2]=o[f+0>>2];o[y+4>>2]=o[f+4>>2];o[y+8>>2]=o[f+8>>2];o[y+12>>2]=o[f+12>>2];o[y+16>>2]=o[f+16>>2]}f=f+20|0;if((f|0)==(t|0))break;else y=y+20|0}v=u+(w*20|0)|0}w=v;e:do if((r|0)==(e|0)){S=w;E=t}else{y=w;f=r;_=v;m=t;while(1){if((y|0)==(u|0))break;s=_+-20|0;b=f+-20|0;a=m+-20|0;if(Sh[o[i>>2]&31](s,b)|0){o[a+0>>2]=o[b+0>>2];o[a+4>>2]=o[b+4>>2];o[a+8>>2]=o[b+8>>2];o[a+12>>2]=o[b+12>>2];o[a+16>>2]=o[b+16>>2];g=b;k=_}else{o[a+0>>2]=o[s+0>>2];o[a+4>>2]=o[s+4>>2];o[a+8>>2]=o[s+8>>2];o[a+12>>2]=o[s+12>>2];o[a+16>>2]=o[s+16>>2];g=f;k=s}s=k;if((g|0)==(e|0)){S=s;E=a;break e}else{y=s;f=g;_=k;m=a}}if((f|0)==(e|0)){c=l;return}else{M=m;P=f}do{M=M+-20|0;P=P+-20|0;o[M+0>>2]=o[P+0>>2];o[M+4>>2]=o[P+4>>2];o[M+8>>2]=o[P+8>>2];o[M+12>>2]=o[P+12>>2];o[M+16>>2]=o[P+16>>2]}while((P|0)!=(e|0));c=l;return}while(0);e=S;if((e|0)==(u|0)){c=l;return}else{A=E;F=e}do{A=A+-20|0;F=F+-20|0;o[A+0>>2]=o[F+0>>2];o[A+4>>2]=o[F+4>>2];o[A+8>>2]=o[F+8>>2];o[A+12>>2]=o[F+12>>2];o[A+16>>2]=o[F+16>>2]}while((F|0)!=(u|0));c=l;return}function Zr(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,s=0;r=c;t=e+4|0;i=o[t>>2]|0;if((i|0)!=(e|0)){n=i;do{i=Td(n)|0;a=o[i>>2]|0;if((a|0)!=0){u=0;l=i+32|0;while(1){s=l+4|0;o[(o[l>>2]|0)+4>>2]=o[s>>2];o[o[s>>2]>>2]=o[l>>2];o[s>>2]=l;o[l>>2]=l;u=u+1|0;if((u|0)==(a|0))break;else l=l+12|0}}xd(e,i);n=o[t>>2]|0}while((n|0)!=(e|0))}n=e+12|0;l=e+20|0;a=e+24|0;o[(o[l>>2]|0)+4>>2]=o[a>>2];o[o[a>>2]>>2]=o[l>>2];o[a>>2]=l;o[l>>2]=l;l=e+16|0;o[(o[n>>2]|0)+4>>2]=o[l>>2];o[o[l>>2]>>2]=o[n>>2];o[l>>2]=n;o[n>>2]=n;Ld(e);o[(o[e>>2]|0)+4>>2]=o[t>>2];o[o[t>>2]>>2]=o[e>>2];o[t>>2]=e;o[e>>2]=e;c=r;return}function Xr(e){e=e|0;return}function Kr(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Qr(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0;t=c;c=c+48|0;n=t+24|0;a=t;if((i[r+38>>0]|0)!=0){c=t;return 1}u=o[r+12>>2]|0;l=sh[o[(o[u>>2]|0)+12>>2]&7](u)|0;if((l|0)<=0){c=t;return 1}u=r+24|0;s=e+4|0;f=a+16|0;d=a+20|0;b=a+4|0;h=0;do{_=(o[u>>2]|0)+(h*28|0)|0;o[n+0>>2]=o[_+0>>2];o[n+4>>2]=o[_+4>>2];o[n+8>>2]=o[_+8>>2];o[n+12>>2]=o[_+12>>2];Ai(a,o[s>>2]|0,n);_=o[f>>2]|0;m=o[d>>2]|0;e:do if(_>>>0<m>>>0){p=o[a>>2]|0;y=o[b>>2]|0;w=_;while(1){v=o[w+4>>2]&1048575;S=w;w=w+8|0;o[f>>2]=w;if(v>>>0<p>>>0|v>>>0>y>>>0)if(w>>>0<m>>>0){w=w;continue}else break;v=o[S>>2]|0;if(!((v|0)>-1))break e;gh[o[(o[e>>2]|0)+20>>2]&31](e,r,h,v);if(!(w>>>0<m>>>0))break}}while(0);h=h+1|0}while((h|0)!=(l|0));c=t;return 1}function $r(e,r){e=e|0;r=r|0;return 0}function et(e,r,t,n){e=e|0;r=r|0;t=t|0;n=n|0;var a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0;a=c;c=c+48|0;u=a+24|0;l=a;f=o[r+8>>2]|0;d=e+4|0;h=o[d>>2]|0;_=(o[h+96>>2]|0)+(n<<3)|0;m=o[_>>2]|0;p=o[_+4>>2]|0;y=(o[b>>2]=m,+s[b>>2]);w=(o[b>>2]=p,+s[b>>2]);_=(o[h+104>>2]|0)+(n<<3)|0;v=+s[_>>2];S=+s[_+4>>2];if((o[h+24>>2]|0)==0){E=y-+s[f+28>>2];g=w-+s[f+32>>2];k=+s[f+40>>2];M=+s[f+36>>2];P=E*k+g*M;A=k*g-E*M;h=o[r+12>>2]|0;if((o[h+4>>2]|0)==0){E=+s[f+44>>2];g=P-E;F=+s[f+48>>2];C=A-F;D=g*k-C*M;B=k*C+g*M;M=+s[f+24>>2];g=+s[f+20>>2];R=M;T=E+(M*D+g*B);O=g;x=F+(M*B-D*g)}else{R=+s[f+24>>2];T=P;O=+s[f+20>>2];x=A}A=+(+s[f+12>>2]+(T*R-x*O));P=+(x*R+T*O+ +s[f+16>>2]);_=l;s[_>>2]=A;s[_+4>>2]=P;L=h}else{h=l;o[h>>2]=m;o[h+4>>2]=p;L=o[r+12>>2]|0}r=l+8|0;P=+s[e+8>>2];A=+(y+v*P);O=+(w+S*P);p=r;s[p>>2]=A;s[p+4>>2]=O;s[l+16>>2]=1;if(!(Eh[o[(o[L>>2]|0)+24>>2]&15](L,u,l,f+12|0,t)|0)){c=a;return}t=u;O=+s[t>>2];A=+s[u+8>>2];P=1-A;u=e+12|0;T=+s[u>>2];R=T*(O*.004999999888241291+(+s[l>>2]*P+A*+s[r>>2])-y);y=T*(+s[t+4>>2]*.004999999888241291+(P*+s[l+4>>2]+A*+s[l+12>>2])-w);w=+R;A=+y;l=(o[(o[d>>2]|0)+104>>2]|0)+(n<<3)|0;s[l>>2]=w;s[l+4>>2]=A;l=o[d>>2]|0;A=+s[l+32>>2]*.75;w=+s[u>>2]*A*+s[l+320>>2]*A;A=(v-R)*w;R=(S-y)*w;if(!(A!=0|R!=0)){c=a;return}if((o[(o[l+88>>2]|0)+(n<<2)>>2]&4|0)!=0){c=a;return}u=l+21|0;d=l+112|0;if((i[u>>0]|0)==0){cb(o[d>>2]|0,0,o[l+44>>2]<<3|0)|0;i[u>>0]=1}u=o[d>>2]|0;d=u+(n<<3)|0;s[d>>2]=A+ +s[d>>2];d=u+(n<<3)+4|0;s[d>>2]=R+ +s[d>>2];c=a;return}function rt(e){e=e|0;return}function tt(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function it(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0;n=c;c=c+32|0;a=n;u=n+16|0;l=n+8|0;f=e+4|0;d=(o[(o[f>>2]|0)+96>>2]|0)+(i<<3)|0;b=o[d+4>>2]|0;h=a;o[h>>2]=o[d>>2];o[h+4>>2]=b;b=o[r+12>>2]|0;h=r+8|0;vh[o[(o[b>>2]|0)+20>>2]&7](b,(o[h>>2]|0)+12|0,a,u,l,t);t=o[f>>2]|0;if(!(+s[u>>2]<+s[t+32>>2])){c=n;return}b=o[e+8>>2]|0;if(((b|0)!=0?(o[(o[t+88>>2]|0)+(i<<2)>>2]&65536|0)!=0:0)?!(wh[o[(o[b>>2]|0)+12>>2]&7](b,r,t,i)|0):0){c=n;return}t=o[h>>2]|0;h=t+60|0;_=+s[h>>2];m=+s[t+132>>2];p=+s[t+44>>2];y=+s[t+48>>2];w=m*(p*p+y*y);y=+s[t+140>>2]+w-w;if(m>0)v=1/m;else v=0;if(y>0)S=1/y;else S=0;b=o[f>>2]|0;if((o[(o[b+88>>2]|0)+(i<<2)>>2]&4|0)==0){y=+s[b+36>>2]*1.3333333730697632;E=y*+s[b+28>>2]*y}else E=0;e=l+4|0;y=(+s[a>>2]-_)*+s[e>>2]-(+s[a+4>>2]-+s[h+4>>2])*+s[l>>2];_=v+E+y*S*y;h=b+232|0;a=b+236|0;d=o[a>>2]|0;g=b+240|0;k=o[g>>2]|0;if((d|0)>=(k|0)?(M=(k|0)==0?256:k<<1,(k|0)<(M|0)):0){k=b+244|0;b=wd(o[k>>2]|0,M*28|0)|0;P=o[h>>2]|0;if((P|0)!=0){hb(b|0,P|0,(o[a>>2]|0)*28|0)|0;vd(o[k>>2]|0,o[h>>2]|0,(o[g>>2]|0)*28|0)}o[g>>2]=M;o[h>>2]=b;A=o[a>>2]|0}else A=d;o[a>>2]=A+1;a=o[h>>2]|0;o[a+(A*28|0)>>2]=i;o[a+(A*28|0)+4>>2]=t;o[a+(A*28|0)+8>>2]=r;s[a+(A*28|0)+12>>2]=1-+s[u>>2]*+s[(o[f>>2]|0)+36>>2];y=+-+s[l>>2];S=+-+s[e>>2];e=a+(A*28|0)+16|0;s[e>>2]=y;s[e+4>>2]=S;if(_>0)F=1/_;else F=0;s[a+(A*28|0)+24>>2]=F;Ti(o[f>>2]|0,i);c=n;return}function nt(e){e=e|0;return}function ot(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function at(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0;r=c;t=o[e+102960>>2]|0;if((t|0)!=0){i=t;do{t=i;i=o[i+112>>2]|0;n=o[t+116>>2]|0;while(1){if((n|0)==0)break;t=o[n+4>>2]|0;o[n+28>>2]=0;Su(n,e);n=t}}while((i|0)!=0)}i=e+102968|0;n=o[i>>2]|0;if((n|0)==0){a=e+102880|0;Xf(a);u=e+76|0;Id(u);yd(e);c=r;return}t=e+102876|0;l=n;while(1){if((o[t>>2]&2|0)==0){n=l+404|0;s=o[n>>2]|0;f=l+408|0;if((s|0)!=0)o[s+408>>2]=o[f>>2];s=o[f>>2]|0;if((s|0)!=0)o[s+404>>2]=o[n>>2];if((o[i>>2]|0)==(l|0))o[i>>2]=o[f>>2];ai(l);vd(e,l,416);d=o[i>>2]|0}else d=l;if((d|0)==0)break;else l=d}a=e+102880|0;Xf(a);u=e+76|0;Id(u);yd(e);c=r;return}function ut(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;if((o[e+102876>>2]&2|0)!=0){c=t;return}i=r+404|0;n=o[i>>2]|0;a=r+408|0;if((n|0)!=0)o[n+408>>2]=o[a>>2];n=o[a>>2]|0;if((n|0)!=0)o[n+404>>2]=o[i>>2];i=e+102968|0;if((o[i>>2]|0)==(r|0))o[i>>2]=o[a>>2];ai(r);vd(e,r,416);c=t;return}function lt(e,r){e=e|0;r=r|0;o[e+102952>>2]=r;return}function st(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;if((o[e+102876>>2]&2|0)!=0){i=0;c=t;return i|0}n=wd(e,168)|0;if((n|0)==0)a=0;else{St(n,r,e);a=n}o[a+108>>2]=0;n=e+102960|0;o[a+112>>2]=o[n>>2];r=o[n>>2]|0;if((r|0)!=0)o[r+108>>2]=a;o[n>>2]=a;n=e+102972|0;o[n>>2]=(o[n>>2]|0)+1;i=a;c=t;return i|0}function ft(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0;t=c;if((o[e+102876>>2]&2|0)!=0){c=t;return}i=r+124|0;n=o[i>>2]|0;if((n|0)!=0){a=e+102992|0;u=n;do{n=u;u=o[u+12>>2]|0;l=o[a>>2]|0;if((l|0)==0)s=n+4|0;else{f=n+4|0;hh[o[(o[l>>2]|0)+8>>2]&63](l,o[f>>2]|0);s=f}ct(e,o[s>>2]|0);o[i>>2]=u}while((u|0)!=0)}o[i>>2]=0;i=r+128|0;u=o[i>>2]|0;if((u|0)!=0){s=e+102880|0;a=u;do{u=a;a=o[a+12>>2]|0;Tt(s,o[u+4>>2]|0)}while((a|0)!=0)}o[i>>2]=0;i=r+116|0;a=o[i>>2]|0;if((a|0)==0)d=r+120|0;else{s=e+102992|0;u=e+102880|0;f=r+120|0;l=a;do{a=l;l=o[l+4>>2]|0;n=o[s>>2]|0;if((n|0)!=0)hh[o[(o[n>>2]|0)+12>>2]&63](n,a);gu(a,u);Su(a,e);vd(e,a,44);o[i>>2]=l;o[f>>2]=(o[f>>2]|0)+-1}while((l|0)!=0);d=f}o[i>>2]=0;o[d>>2]=0;d=r+108|0;i=o[d>>2]|0;f=r+112|0;if((i|0)!=0)o[i+112>>2]=o[f>>2];i=o[f>>2]|0;if((i|0)!=0)o[i+108>>2]=o[d>>2];d=e+102960|0;if((o[d>>2]|0)==(r|0))o[d>>2]=o[f>>2];f=e+102972|0;o[f>>2]=(o[f>>2]|0)+-1;Et(r);vd(e,r,168);c=t;return}function ct(e,r){e=e|0;r=r|0;var t=0,a=0,l=0,f=0,d=0,b=0,h=0,_=0;t=c;if((o[e+102876>>2]&2|0)!=0){c=t;return}a=i[r+61>>0]|0;l=r+8|0;f=o[l>>2]|0;d=r+12|0;if((f|0)!=0)o[f+12>>2]=o[d>>2];f=o[d>>2]|0;if((f|0)!=0)o[f+8>>2]=o[l>>2];l=e+102964|0;if((o[l>>2]|0)==(r|0))o[l>>2]=o[d>>2];d=o[r+48>>2]|0;l=o[r+52>>2]|0;f=d+4|0;b=u[f>>1]|0;if((b&2|0)==0){n[f>>1]=b|2;s[d+160>>2]=0}b=l+4|0;f=u[b>>1]|0;if((f&2|0)==0){n[b>>1]=f|2;s[l+160>>2]=0}f=r+24|0;b=o[f>>2]|0;h=r+28|0;if((b|0)!=0)o[b+12>>2]=o[h>>2];b=o[h>>2]|0;if((b|0)!=0)o[b+8>>2]=o[f>>2];b=d+124|0;if((r+16|0)==(o[b>>2]|0))o[b>>2]=o[h>>2];o[f>>2]=0;o[h>>2]=0;h=r+40|0;f=o[h>>2]|0;b=r+44|0;if((f|0)!=0)o[f+12>>2]=o[b>>2];f=o[b>>2]|0;if((f|0)!=0)o[f+8>>2]=o[h>>2];f=l+124|0;if((r+32|0)==(o[f>>2]|0))o[f>>2]=o[b>>2];o[h>>2]=0;o[b>>2]=0;Fo(r,e);r=e+102976|0;o[r>>2]=(o[r>>2]|0)+-1;if(!(a<<24>>24==0)){c=t;return}a=o[l+128>>2]|0;if((a|0)==0){c=t;return}else _=a;do{if((o[_>>2]|0)==(d|0)){a=(o[_+4>>2]|0)+4|0;o[a>>2]=o[a>>2]|8}_=o[_+12>>2]|0}while((_|0)!=0);c=t;return}function dt(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0;t=c;if((o[e+102876>>2]&2|0)!=0){n=0;c=t;return n|0}a=Ao(r,e)|0;o[a+8>>2]=0;u=e+102964|0;o[a+12>>2]=o[u>>2];l=o[u>>2]|0;if((l|0)!=0)o[l+8>>2]=a;o[u>>2]=a;u=e+102976|0;o[u>>2]=(o[u>>2]|0)+1;u=a+16|0;o[a+20>>2]=a;e=a+52|0;o[u>>2]=o[e>>2];o[a+24>>2]=0;l=a+48|0;s=o[l>>2]|0;f=s+124|0;o[a+28>>2]=o[f>>2];d=o[f>>2]|0;if((d|0)==0)b=s;else{o[d+8>>2]=u;b=o[l>>2]|0}o[b+124>>2]=u;u=a+32|0;o[a+36>>2]=a;o[u>>2]=o[l>>2];o[a+40>>2]=0;l=o[e>>2]|0;b=l+124|0;o[a+44>>2]=o[b>>2];d=o[b>>2]|0;if((d|0)==0)h=l;else{o[d+8>>2]=u;h=o[e>>2]|0}o[h+124>>2]=u;u=o[r+8>>2]|0;if((i[r+16>>0]|0)!=0){n=a;c=t;return n|0}h=o[(o[r+12>>2]|0)+128>>2]|0;if((h|0)==0){n=a;c=t;return n|0}else _=h;do{if((o[_>>2]|0)==(u|0)){h=(o[_+4>>2]|0)+4|0;o[h>>2]=o[h>>2]|8}_=o[_+12>>2]|0}while((_|0)!=0);n=a;c=t;return n|0}function bt(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;if((o[e+102876>>2]&2|0)!=0){i=0;c=t;return i|0}n=wd(e,416)|0;if((n|0)==0)a=0;else{oi(n,r,e);a=n}o[a+404>>2]=0;n=e+102968|0;o[a+408>>2]=o[n>>2];e=o[n>>2]|0;if((e|0)!=0)o[e+404>>2]=a;o[n>>2]=a;i=a;c=t;return i|0}function ht(e,r){e=e|0;r=r|0;var t=0,a=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0,Y=0,Z=0;
t=c;c=c+96|0;a=t+40|0;l=t+8|0;f=t;d=e+102960|0;b=o[d>>2]|0;if((b|0)!=0){h=b;do{b=h+28|0;_=h+12|0;o[b+0>>2]=o[_+0>>2];o[b+4>>2]=o[_+4>>2];o[b+8>>2]=o[_+8>>2];o[b+12>>2]=o[_+12>>2];h=o[h+112>>2]|0}while((h|0)!=0)}h=e+103020|0;s[h>>2]=0;_=e+103024|0;s[_>>2]=0;b=e+103028|0;s[b>>2]=0;m=e+102972|0;p=e+102880|0;y=e+76|0;Ec(a,o[m>>2]|0,o[e+102944>>2]|0,o[e+102976>>2]|0,y,o[e+102952>>2]|0);w=o[d>>2]|0;if((w|0)!=0){v=w;do{w=v+4|0;n[w>>1]=n[w>>1]&65534;v=o[v+112>>2]|0}while((v|0)!=0)}v=o[e+102940>>2]|0;if((v|0)!=0){w=v;do{v=w+4|0;o[v>>2]=o[v>>2]&-2;w=o[w+12>>2]|0}while((w|0)!=0)}w=o[e+102964>>2]|0;if((w|0)!=0){v=w;do{i[v+60>>0]=0;v=o[v+12>>2]|0}while((v|0)!=0)}v=Jd(y,o[m>>2]<<2)|0;m=o[d>>2]|0;if((m|0)!=0){w=a+28|0;S=a+36|0;E=a+32|0;g=a+8|0;k=a+16|0;M=a+12|0;P=e+102980|0;A=e+102988|0;F=l+12|0;C=l+16|0;D=l+20|0;B=m;do{m=B+4|0;R=n[m>>1]|0;if((R&35)==34?(o[B>>2]|0)!=0:0){o[w>>2]=0;o[S>>2]=0;o[E>>2]=0;o[v>>2]=B;n[m>>1]=R&65535|1;R=0;m=1;while(1){T=m+-1|0;O=o[v+(T<<2)>>2]|0;o[O+8>>2]=R;x=o[w>>2]|0;o[(o[g>>2]|0)+(x<<2)>>2]=O;o[w>>2]=x+1;x=O+4|0;L=u[x>>1]|0;if((L&2|0)==0){n[x>>1]=L|2;s[O+160>>2]=0}if((o[O>>2]|0)!=0){L=o[O+128>>2]|0;if((L|0)==0)N=T;else{x=L;L=T;while(1){I=o[x+4>>2]|0;J=I+4|0;do if((o[J>>2]&7|0)==6?(i[(o[I+48>>2]|0)+38>>0]|0)==0:0){if((i[(o[I+52>>2]|0)+38>>0]|0)!=0){G=L;break}W=o[S>>2]|0;o[S>>2]=W+1;o[(o[M>>2]|0)+(W<<2)>>2]=I;o[J>>2]=o[J>>2]|1;W=o[x>>2]|0;V=W+4|0;z=n[V>>1]|0;if(!((z&1)==0)){G=L;break}o[v+(L<<2)>>2]=W;n[V>>1]=z&65535|1;G=L+1|0}else G=L;while(0);x=o[x+12>>2]|0;if((x|0)==0){N=G;break}else L=G}}L=o[O+124>>2]|0;if((L|0)==0)H=N;else{x=L;L=N;while(1){J=x+4|0;I=o[J>>2]|0;do if((i[I+60>>0]|0)==0?(z=o[x>>2]|0,V=z+4|0,W=n[V>>1]|0,!((W&32)==0)):0){U=o[E>>2]|0;o[E>>2]=U+1;o[(o[k>>2]|0)+(U<<2)>>2]=I;i[(o[J>>2]|0)+60>>0]=1;if(!((W&1)==0)){q=L;break}o[v+(L<<2)>>2]=z;n[V>>1]=W&65535|1;q=L+1|0}else q=L;while(0);x=o[x+12>>2]|0;if((x|0)==0){H=q;break}else L=q}}}else H=T;if((H|0)<=0)break;R=o[w>>2]|0;m=H}kc(a,l,r,P,(i[A>>0]|0)!=0);s[h>>2]=+s[F>>2]+ +s[h>>2];s[_>>2]=+s[C>>2]+ +s[_>>2];s[b>>2]=+s[D>>2]+ +s[b>>2];m=o[w>>2]|0;if((m|0)>0){R=o[g>>2]|0;L=0;do{x=o[R+(L<<2)>>2]|0;if((o[x>>2]|0)==0){O=x+4|0;n[O>>1]=n[O>>1]&65534}L=L+1|0}while((L|0)<(m|0))}}B=o[B+112>>2]|0}while((B|0)!=0)}Wd(y,v);Md(f);v=o[d>>2]|0;if((v|0)==0){xt(p);j=+Ad(f);Y=e+103032|0;s[Y>>2]=j;gc(a);c=t;return}else Z=v;do{if(!((n[Z+4>>1]&1)==0)?(o[Z>>2]|0)!=0:0)Mt(Z);Z=o[Z+112>>2]|0}while((Z|0)!=0);xt(p);j=+Ad(f);Y=e+103032|0;s[Y>>2]=j;gc(a);c=t;return}function _t(e,r){e=e|0;r=r|0;var t=0,a=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0,Pe=0,Ae=0,Fe=0,Ce=0,De=0,Be=0,Re=0,Te=0,Oe=0,xe=0,Le=0,Ne=0,Ie=0,Je=0,Ge=0,We=0,Ve=0,ze=0,He=0,Ue=0,qe=0,je=0,Ye=0,Ze=0,Xe=0,Ke=0;t=c;c=c+336|0;a=t+284|0;l=t+152|0;f=t+144|0;d=t+108|0;h=t+72|0;_=t+64|0;m=t+28|0;p=t;y=e+102880|0;w=e+102952|0;Ec(a,64,32,0,e+76|0,o[w>>2]|0);v=e+103007|0;if((i[v>>0]|0)!=0){S=o[e+102960>>2]|0;if((S|0)!=0){E=S;do{S=E+4|0;n[S>>1]=n[S>>1]&65534;s[E+76>>2]=0;E=o[E+112>>2]|0}while((E|0)!=0)}E=e+102940|0;S=o[E>>2]|0;if((S|0)==0)g=E;else{k=S;do{S=k+4|0;o[S>>2]=o[S>>2]&-34;o[k+128>>2]=0;s[k+132>>2]=1;k=o[k+12>>2]|0}while((k|0)!=0);g=E}}else g=e+102940|0;E=a+28|0;k=a+36|0;S=a+32|0;M=a+8|0;P=a+12|0;A=_+4|0;F=a+40|0;C=a+44|0;D=p+4|0;B=p+8|0;R=p+16|0;T=r+12|0;O=p+12|0;x=r+20|0;L=p+20|0;N=p+24|0;I=e+103006|0;e=l+16|0;J=l+20|0;G=l+24|0;W=l+44|0;V=l+48|0;z=l+52|0;H=l+28|0;U=l+56|0;q=l+92|0;Z=l+128|0;X=f+4|0;while(1){K=o[g>>2]|0;if((K|0)==0){Q=28;break}else{$=K;ee=1;re=0}while(1){K=$+4|0;te=o[K>>2]|0;do if((te&4|0)!=0?(o[$+128>>2]|0)<=8:0){if((te&32|0)==0){ie=o[$+48>>2]|0;ne=o[$+52>>2]|0;if((i[ie+38>>0]|0)!=0){oe=ee;ae=re;break}if((i[ne+38>>0]|0)!=0){oe=ee;ae=re;break}ue=o[ie+8>>2]|0;le=o[ne+8>>2]|0;se=o[ue>>2]|0;fe=o[le>>2]|0;ce=n[ue+4>>1]|0;de=n[le+4>>1]|0;if(!((ce&2)!=0&(se|0)!=0|(de&2)!=0&(fe|0)!=0)){oe=ee;ae=re;break}if(!((ce&8)!=0|(se|0)!=2|((de&8)!=0|(fe|0)!=2))){oe=ee;ae=re;break}fe=ue+44|0;de=ue+76|0;be=+s[de>>2];se=le+44|0;ce=le+76|0;he=+s[ce>>2];if(!(be<he))if(he<be){_e=(be-he)/(1-he);me=le+52|0;pe=+s[me>>2];ye=le+56|0;we=+s[ye>>2];ve=_e*(+s[le+64>>2]-we);s[me>>2]=pe+_e*(+s[le+60>>2]-pe);s[ye>>2]=we+ve;ye=le+68|0;ve=+s[ye>>2];s[ye>>2]=ve+_e*(+s[le+72>>2]-ve);s[ce>>2]=be;Se=be}else Se=be;else{ve=(he-be)/(1-be);ce=ue+52|0;be=+s[ce>>2];le=ue+56|0;_e=+s[le>>2];we=ve*(+s[ue+64>>2]-_e);s[ce>>2]=be+ve*(+s[ue+60>>2]-be);s[le>>2]=_e+we;le=ue+68|0;we=+s[le>>2];s[le>>2]=we+ve*(+s[ue+72>>2]-we);s[de>>2]=he;Se=he}de=o[$+56>>2]|0;ue=o[$+60>>2]|0;o[e>>2]=0;o[J>>2]=0;s[G>>2]=0;o[W>>2]=0;o[V>>2]=0;s[z>>2]=0;df(l,o[ie+12>>2]|0,de);df(H,o[ne+12>>2]|0,ue);Ee=U+0|0;ge=fe+0|0;ke=Ee+36|0;do{o[Ee>>2]=o[ge>>2];Ee=Ee+4|0;ge=ge+4|0}while((Ee|0)<(ke|0));Ee=q+0|0;ge=se+0|0;ke=Ee+36|0;do{o[Ee>>2]=o[ge>>2];Ee=Ee+4|0;ge=ge+4|0}while((Ee|0)<(ke|0));s[Z>>2]=1;lf(f,l);if((o[f>>2]|0)==3){he=Se+(1-Se)*+s[X>>2];Me=he<1?he:1}else Me=1;s[$+132>>2]=Me;o[K>>2]=o[K>>2]|32;Pe=Me}else Pe=+s[$+132>>2];if(Pe<ee){oe=Pe;ae=$}else{oe=ee;ae=re}}else{oe=ee;ae=re}while(0);$=o[$+12>>2]|0;if(($|0)==0)break;else{ee=oe;re=ae}}if((ae|0)==0|oe>.9999988079071045){Q=28;break}K=o[(o[ae+48>>2]|0)+8>>2]|0;te=o[(o[ae+52>>2]|0)+8>>2]|0;se=K+44|0;Ee=d+0|0;ge=se+0|0;ke=Ee+36|0;do{o[Ee>>2]=o[ge>>2];Ee=Ee+4|0;ge=ge+4|0}while((Ee|0)<(ke|0));fe=te+44|0;Ee=h+0|0;ge=fe+0|0;ke=Ee+36|0;do{o[Ee>>2]=o[ge>>2];Ee=Ee+4|0;ge=ge+4|0}while((Ee|0)<(ke|0));ue=K+76|0;he=+s[ue>>2];we=(oe-he)/(1-he);ne=K+60|0;de=K+52|0;he=+s[de>>2];ie=K+64|0;le=K+56|0;ve=+s[le>>2];_e=we*(+s[ie>>2]-ve);s[de>>2]=he+we*(+s[ne>>2]-he);s[le>>2]=ve+_e;le=K+72|0;de=K+68|0;_e=+s[de>>2];ve=_e+we*(+s[le>>2]-_e);s[de>>2]=ve;s[ue>>2]=oe;ue=K+52|0;de=o[ue>>2]|0;ce=o[ue+4>>2]|0;ue=K+60|0;o[ue>>2]=de;o[ue+4>>2]=ce;s[le>>2]=ve;_e=+Y(+ve);ue=K+20|0;s[ue>>2]=_e;we=+j(+ve);ye=K+24|0;s[ye>>2]=we;me=K+12|0;Ae=K+44|0;ve=+s[Ae>>2];Fe=K+48|0;he=+s[Fe>>2];be=(o[b>>2]=de,+s[b>>2])-(we*ve-_e*he);pe=(o[b>>2]=ce,+s[b>>2])-(_e*ve+we*he);he=+be;be=+pe;ce=me;s[ce>>2]=he;s[ce+4>>2]=be;ce=te+76|0;be=+s[ce>>2];he=(oe-be)/(1-be);de=te+60|0;Ce=te+52|0;be=+s[Ce>>2];De=te+64|0;Be=te+56|0;pe=+s[Be>>2];we=he*(+s[De>>2]-pe);s[Ce>>2]=be+he*(+s[de>>2]-be);s[Be>>2]=pe+we;Be=te+72|0;Ce=te+68|0;we=+s[Ce>>2];pe=we+he*(+s[Be>>2]-we);s[Ce>>2]=pe;s[ce>>2]=oe;ce=te+52|0;Ce=o[ce>>2]|0;Re=o[ce+4>>2]|0;ce=te+60|0;o[ce>>2]=Ce;o[ce+4>>2]=Re;s[Be>>2]=pe;we=+Y(+pe);ce=te+20|0;s[ce>>2]=we;he=+j(+pe);Te=te+24|0;s[Te>>2]=he;Oe=te+12|0;xe=te+44|0;pe=+s[xe>>2];Le=te+48|0;be=+s[Le>>2];ve=(o[b>>2]=Ce,+s[b>>2])-(he*pe-we*be);_e=(o[b>>2]=Re,+s[b>>2])-(we*pe+he*be);be=+ve;ve=+_e;Re=Oe;s[Re>>2]=be;s[Re+4>>2]=ve;Ba(ae,o[w>>2]|0);Re=ae+4|0;Ce=o[Re>>2]|0;o[Re>>2]=Ce&-33;Ne=ae+128|0;o[Ne>>2]=(o[Ne>>2]|0)+1;if((Ce&6|0)!=6){o[Re>>2]=Ce&-37;Ee=se+0|0;ge=d+0|0;ke=Ee+36|0;do{o[Ee>>2]=o[ge>>2];Ee=Ee+4|0;ge=ge+4|0}while((Ee|0)<(ke|0));Ee=fe+0|0;ge=h+0|0;ke=Ee+36|0;do{o[Ee>>2]=o[ge>>2];Ee=Ee+4|0;ge=ge+4|0}while((Ee|0)<(ke|0));ve=+s[le>>2];be=+Y(+ve);s[ue>>2]=be;_e=+j(+ve);s[ye>>2]=_e;ve=+s[Ae>>2];he=+s[Fe>>2];pe=+(+s[ne>>2]-(_e*ve-be*he));we=+(+s[ie>>2]-(be*ve+_e*he));fe=me;s[fe>>2]=pe;s[fe+4>>2]=we;we=+s[Be>>2];pe=+Y(+we);s[ce>>2]=pe;he=+j(+we);s[Te>>2]=he;we=+s[xe>>2];_e=+s[Le>>2];ve=+(+s[de>>2]-(he*we-pe*_e));be=+(+s[De>>2]-(pe*we+he*_e));fe=Oe;s[fe>>2]=ve;s[fe+4>>2]=be;continue}fe=K+4|0;se=n[fe>>1]|0;Ce=se&65535;if((Ce&2|0)==0){Ne=(Ce|2)&65535;n[fe>>1]=Ne;s[K+160>>2]=0;Ie=Ne}else Ie=se;se=te+4|0;Ne=u[se>>1]|0;if((Ne&2|0)==0){n[se>>1]=Ne|2;s[te+160>>2]=0;Je=n[fe>>1]|0}else Je=Ie;o[E>>2]=0;o[k>>2]=0;o[S>>2]=0;Ne=K+8|0;o[Ne>>2]=0;Ce=o[E>>2]|0;o[(o[M>>2]|0)+(Ce<<2)>>2]=K;Ge=Ce+1|0;o[E>>2]=Ge;Ce=te+8|0;o[Ce>>2]=Ge;Ge=o[E>>2]|0;o[(o[M>>2]|0)+(Ge<<2)>>2]=te;o[E>>2]=Ge+1;Ge=o[k>>2]|0;o[k>>2]=Ge+1;o[(o[P>>2]|0)+(Ge<<2)>>2]=ae;n[fe>>1]=Je&65535|1;n[se>>1]=u[se>>1]|1;o[Re>>2]=o[Re>>2]|1;o[_>>2]=K;o[A>>2]=te;se=K;fe=1;while(1){e:do if((o[se>>2]|0)==2?(Ge=o[se+128>>2]|0,(Ge|0)!=0):0){We=se+4|0;Ve=Ge;do{if((o[E>>2]|0)==(o[F>>2]|0))break e;if((o[k>>2]|0)==(o[C>>2]|0))break e;Ge=o[Ve+4>>2]|0;ze=Ge+4|0;do if((o[ze>>2]&1|0)==0){He=o[Ve>>2]|0;if(((o[He>>2]|0)==2?(n[We>>1]&8)==0:0)?(n[He+4>>1]&8)==0:0)break;if((i[(o[Ge+48>>2]|0)+38>>0]|0)==0?(i[(o[Ge+52>>2]|0)+38>>0]|0)==0:0){Ue=He+44|0;Ee=m+0|0;ge=Ue+0|0;ke=Ee+36|0;do{o[Ee>>2]=o[ge>>2];Ee=Ee+4|0;ge=ge+4|0}while((Ee|0)<(ke|0));qe=He+4|0;if((n[qe>>1]&1)==0){je=He+76|0;be=+s[je>>2];ve=(oe-be)/(1-be);Ye=He+52|0;be=+s[Ye>>2];Ze=He+56|0;_e=+s[Ze>>2];he=ve*(+s[He+64>>2]-_e);s[Ye>>2]=be+ve*(+s[He+60>>2]-be);s[Ze>>2]=_e+he;Ze=He+72|0;Ye=He+68|0;he=+s[Ye>>2];_e=he+ve*(+s[Ze>>2]-he);s[Ye>>2]=_e;s[je>>2]=oe;je=He+52|0;Ye=o[je>>2]|0;Xe=o[je+4>>2]|0;je=He+60|0;o[je>>2]=Ye;o[je+4>>2]=Xe;s[Ze>>2]=_e;he=+Y(+_e);s[He+20>>2]=he;ve=+j(+_e);s[He+24>>2]=ve;_e=+s[He+44>>2];be=+s[He+48>>2];we=(o[b>>2]=Ye,+s[b>>2])-(ve*_e-he*be);pe=(o[b>>2]=Xe,+s[b>>2])-(he*_e+ve*be);be=+we;we=+pe;Xe=He+12|0;s[Xe>>2]=be;s[Xe+4>>2]=we}Ba(Ge,o[w>>2]|0);Xe=o[ze>>2]|0;if((Xe&4|0)==0){Ee=Ue+0|0;ge=m+0|0;ke=Ee+36|0;do{o[Ee>>2]=o[ge>>2];Ee=Ee+4|0;ge=ge+4|0}while((Ee|0)<(ke|0));we=+s[He+72>>2];be=+Y(+we);s[He+20>>2]=be;pe=+j(+we);s[He+24>>2]=pe;we=+s[He+44>>2];ve=+s[He+48>>2];_e=+(+s[He+60>>2]-(pe*we-be*ve));he=+(+s[He+64>>2]-(be*we+pe*ve));Ye=He+12|0;s[Ye>>2]=_e;s[Ye+4>>2]=he;break}if((Xe&2|0)==0){Ee=Ue+0|0;ge=m+0|0;ke=Ee+36|0;do{o[Ee>>2]=o[ge>>2];Ee=Ee+4|0;ge=ge+4|0}while((Ee|0)<(ke|0));he=+s[He+72>>2];_e=+Y(+he);s[He+20>>2]=_e;ve=+j(+he);s[He+24>>2]=ve;he=+s[He+44>>2];pe=+s[He+48>>2];we=+(+s[He+60>>2]-(ve*he-_e*pe));be=+(+s[He+64>>2]-(_e*he+ve*pe));Ue=He+12|0;s[Ue>>2]=we;s[Ue+4>>2]=be;break}o[ze>>2]=Xe|1;Ue=o[k>>2]|0;o[k>>2]=Ue+1;o[(o[P>>2]|0)+(Ue<<2)>>2]=Ge;Ue=u[qe>>1]|0;if((Ue&1|0)!=0)break;n[qe>>1]=Ue|1;do if((o[He>>2]|0)!=0){if((Ue&2|0)!=0)break;n[qe>>1]=Ue|3;s[He+160>>2]=0}while(0);o[He+8>>2]=o[E>>2];Ue=o[E>>2]|0;o[(o[M>>2]|0)+(Ue<<2)>>2]=He;o[E>>2]=Ue+1}}while(0);Ve=o[Ve+12>>2]|0}while((Ve|0)!=0)}while(0);if((fe|0)>=2)break;se=o[_+(fe<<2)>>2]|0;fe=fe+1|0}be=(1-oe)*+s[r>>2];s[p>>2]=be;s[D>>2]=1/be;s[B>>2]=1;o[R>>2]=20;o[O>>2]=o[T>>2];o[L>>2]=o[x>>2];i[N>>0]=0;Mc(a,p,o[Ne>>2]|0,o[Ce>>2]|0);fe=o[E>>2]|0;if((fe|0)>0){se=fe;fe=0;while(1){K=o[(o[M>>2]|0)+(fe<<2)>>2]|0;te=K+4|0;n[te>>1]=n[te>>1]&65534;if((o[K>>2]|0)==2){Mt(K);te=o[K+128>>2]|0;if((te|0)!=0){K=te;do{te=(o[K+4>>2]|0)+4|0;o[te>>2]=o[te>>2]&-34;K=o[K+12>>2]|0}while((K|0)!=0)}Ke=o[E>>2]|0}else Ke=se;fe=fe+1|0;if((fe|0)>=(Ke|0))break;else se=Ke}}xt(y);if((i[I>>0]|0)!=0){Q=68;break}}if((Q|0)==28){i[v>>0]=1;gc(a);c=t;return}else if((Q|0)==68){i[v>>0]=0;gc(a);c=t;return}}function mt(e,r,t,n,a){e=e|0;r=+r;t=t|0;n=n|0;a=a|0;var u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0;u=c;c=c+64|0;l=u+24|0;f=u+32|0;d=u+16|0;b=u+8|0;h=u;Md(l);_=e+102876|0;m=o[_>>2]|0;if((m&1|0)==0)p=m;else{xt(e+102880|0);m=o[_>>2]&-2;o[_>>2]=m;p=m}o[_>>2]=p|2;s[f>>2]=r;o[f+12>>2]=t;o[f+16>>2]=n;o[f+20>>2]=a;if(r>0)s[f+4>>2]=1/r;else s[f+4>>2]=0;a=e+103E3|0;s[f+8>>2]=+s[a>>2]*r;i[f+24>>0]=i[e+103004>>0]|0;Md(d);Ot(e+102880|0);s[e+103012>>2]=+Ad(d);if((i[e+103007>>0]|0)!=0?+s[f>>2]>0:0){Md(b);d=o[e+102968>>2]|0;if((d|0)!=0){n=d;do{or(n,f);n=o[n+408>>2]|0}while((n|0)!=0)}ht(e,f);s[e+103016>>2]=+Ad(b)}if((i[e+103005>>0]|0)!=0){r=+s[f>>2];if(r>0){Md(h);_t(e,f);s[e+103036>>2]=+Ad(h);y=14}else w=r}else y=14;if((y|0)==14)w=+s[f>>2];if(w>0)s[a>>2]=+s[f+4>>2];f=o[_>>2]|0;if((f&4|0)==0){v=f&-3;o[_>>2]=v;S=+Ad(l);E=e+103008|0;s[E>>2]=S;c=u;return}a=o[e+102960>>2]|0;if((a|0)==0){v=f&-3;o[_>>2]=v;S=+Ad(l);E=e+103008|0;s[E>>2]=S;c=u;return}else g=a;do{s[g+92>>2]=0;s[g+96>>2]=0;s[g+100>>2]=0;g=o[g+112>>2]|0}while((g|0)!=0);v=f&-3;o[_>>2]=v;S=+Ad(l);E=e+103008|0;s[E>>2]=S;c=u;return}function pt(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0;i=c;c=c+16|0;n=i;a=e+102880|0;o[n>>2]=a;o[n+4>>2]=r;vt(a,n,t);n=o[e+102968>>2]|0;if((n|0)==0){c=i;return}e=n;do{if(Sh[o[(o[r>>2]|0)+16>>2]&31](r,e)|0)wr(e,r,t);e=o[e+408>>2]|0}while((e|0)!=0);c=i;return}function yt(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0;n=c;c=c+32|0;a=n+24|0;u=n;l=e+102880|0;o[a>>2]=l;o[a+4>>2]=r;s[u+16>>2]=1;f=t;d=o[f+4>>2]|0;b=u;o[b>>2]=o[f>>2];o[b+4>>2]=d;d=i;b=o[d+4>>2]|0;f=u+8|0;o[f>>2]=o[d>>2];o[f+4>>2]=b;wt(l,a,u);u=o[e+102968>>2]|0;if((u|0)==0){c=n;return}e=u;do{if(Sh[o[(o[r>>2]|0)+16>>2]&31](r,e)|0)vr(e,r,t,i);e=o[e+408>>2]|0}while((e|0)!=0);c=n;return}function wt(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0;i=c;c=c+1088|0;n=i+1064|0;a=i+1056|0;u=i+20|0;l=i;f=t;d=+s[f>>2];b=+s[f+4>>2];f=t+8|0;h=f;_=+s[h>>2];m=_-d;_=+s[h+4>>2]-b;p=+U(+(m*m+_*_));if(p<1.1920928955078125E-7){y=_;w=m}else{v=1/p;y=_*v;w=m*v}v=-y;p=y<-0?v:y;if(w>0)S=w;else S=-w;y=+s[t+16>>2];E=d+m*y;g=b+_*y;h=u+4|0;o[u>>2]=h;k=u+1028|0;o[k>>2]=0;M=u+1032|0;o[M>>2]=256;P=o[u>>2]|0;o[P+(o[k>>2]<<2)>>2]=o[e>>2];A=o[k>>2]|0;F=A+1|0;o[k>>2]=F;e:do if((A|0)>-1){C=e+4|0;D=l+8|0;B=l+16|0;R=n+8|0;T=l+4|0;O=l+8|0;x=l+12|0;L=a+4|0;N=r+4|0;I=F;J=b<g?b:g;G=d<E?d:E;W=b>g?b:g;V=d>E?d:E;z=P;H=y;while(1){q=I;j=z;while(1){Y=q+-1|0;o[k>>2]=Y;Z=o[j+(Y<<2)>>2]|0;if((Z|0)==-1){X=Y;K=j}else{Q=o[C>>2]|0;$=+s[Q+(Z*36|0)+8>>2];ee=+s[Q+(Z*36|0)+12>>2];re=+s[Q+(Z*36|0)>>2];te=+s[Q+(Z*36|0)+4>>2];if(G-$>0|J-ee>0|re-V>0|te-W>0){ie=J;ne=G;oe=W;ae=V;ue=H;break}le=(d-($+re)*.5)*v+w*(b-(ee+te)*.5);if(le>0)se=le;else se=-le;if(se-(p*($-re)*.5+S*(ee-te)*.5)>0){ie=J;ne=G;oe=W;ae=V;ue=H;break}fe=Q+(Z*36|0)+24|0;if((o[fe>>2]|0)==-1){ce=17;break}if((Y|0)==(o[M>>2]|0)?(o[M>>2]=Y<<1,de=Dd(Y<<3)|0,o[u>>2]=de,hb(de|0,j|0,o[k>>2]<<2|0)|0,(j|0)!=(h|0)):0)Bd(j);de=o[u>>2]|0;o[de+(o[k>>2]<<2)>>2]=o[fe>>2];fe=(o[k>>2]|0)+1|0;o[k>>2]=fe;Y=Q+(Z*36|0)+28|0;if((fe|0)==(o[M>>2]|0)?(o[M>>2]=fe<<1,Q=Dd(fe<<3)|0,o[u>>2]=Q,hb(Q|0,de|0,o[k>>2]<<2|0)|0,(de|0)!=(h|0)):0)Bd(de);de=o[u>>2]|0;o[de+(o[k>>2]<<2)>>2]=o[Y>>2];Y=(o[k>>2]|0)+1|0;o[k>>2]=Y;X=Y;K=de}if((X|0)>0){q=X;j=K}else break e}if((ce|0)==17){ce=0;o[l+0>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;j=t;q=o[j+4>>2]|0;de=l;o[de>>2]=o[j>>2];o[de+4>>2]=q;q=f;de=o[q+4>>2]|0;j=D;o[j>>2]=o[q>>2];o[j+4>>2]=de;s[B>>2]=H;de=o[(o[(o[r>>2]|0)+4>>2]|0)+(Z*36|0)+16>>2]|0;j=o[de+16>>2]|0;q=o[j+12>>2]|0;if(Eh[o[(o[q>>2]|0)+24>>2]&15](q,n,l,(o[j+8>>2]|0)+12|0,o[de+20>>2]|0)|0){te=+s[R>>2];ee=1-te;re=ee*+s[T>>2]+te*+s[x>>2];s[a>>2]=+s[l>>2]*ee+te*+s[O>>2];s[L>>2]=re;de=o[N>>2]|0;be=+bh[o[(o[de>>2]|0)+8>>2]&1](de,j,a,n,te)}else be=+s[B>>2];if(be==0)break e;if(be>0){te=d+m*be;re=b+_*be;ie=b<re?b:re;ne=d<te?d:te;oe=b>re?b:re;ae=d>te?d:te;ue=be}else{ie=J;ne=G;oe=W;ae=V;ue=H}}j=o[k>>2]|0;if((j|0)<=0)break e;I=j;J=ie;G=ne;W=oe;V=ae;z=o[u>>2]|0;H=ue}}while(0);k=o[u>>2]|0;if((k|0)==(h|0)){c=i;return}Bd(k);o[u>>2]=0;c=i;return}function vt(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0;i=c;c=c+1040|0;n=i;a=n+4|0;o[n>>2]=a;u=n+1028|0;o[u>>2]=0;l=n+1032|0;o[l>>2]=256;f=o[n>>2]|0;o[f+(o[u>>2]<<2)>>2]=o[e>>2];d=o[u>>2]|0;b=d+1|0;o[u>>2]=b;e:do if((d|0)>-1){h=e+4|0;_=t+4|0;m=t+8|0;p=t+12|0;y=r+4|0;w=b;v=f;while(1){S=w+-1|0;o[u>>2]=S;E=o[v+(S<<2)>>2]|0;do if(!((E|0)==-1)?(g=o[h>>2]|0,!((+s[t>>2]-+s[g+(E*36|0)+8>>2]>0?1:+s[_>>2]-+s[g+(E*36|0)+12>>2]>0)|+s[g+(E*36|0)>>2]-+s[m>>2]>0|+s[g+(E*36|0)+4>>2]-+s[p>>2]>0)):0){k=g+(E*36|0)+24|0;if((o[k>>2]|0)==-1){M=o[y>>2]|0;if(!(Sh[o[(o[M>>2]|0)+8>>2]&31](M,o[(o[(o[(o[r>>2]|0)+4>>2]|0)+(E*36|0)+16>>2]|0)+16>>2]|0)|0))break e;P=o[u>>2]|0;break}if((S|0)==(o[l>>2]|0)?(o[l>>2]=S<<1,M=Dd(S<<3)|0,o[n>>2]=M,hb(M|0,v|0,o[u>>2]<<2|0)|0,(v|0)!=(a|0)):0)Bd(v);M=o[n>>2]|0;o[M+(o[u>>2]<<2)>>2]=o[k>>2];k=(o[u>>2]|0)+1|0;o[u>>2]=k;A=g+(E*36|0)+28|0;if((k|0)==(o[l>>2]|0)?(o[l>>2]=k<<1,g=Dd(k<<3)|0,o[n>>2]=g,hb(g|0,M|0,o[u>>2]<<2|0)|0,(M|0)!=(a|0)):0)Bd(M);o[(o[n>>2]|0)+(o[u>>2]<<2)>>2]=o[A>>2];A=(o[u>>2]|0)+1|0;o[u>>2]=A;P=A}else P=S;while(0);if((P|0)<=0)break e;w=P;v=o[n>>2]|0}}while(0);P=o[n>>2]|0;if((P|0)==(a|0)){c=i;return}Bd(P);o[n>>2]=0;c=i;return}function St(e,r,t){e=e|0;r=r|0;t=t|0;var a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0;a=c;u=e+12|0;l=e+28|0;f=e+80|0;d=e+4|0;b=(i[r+39>>0]|0)==0?0:8;n[d>>1]=b;if((i[r+38>>0]|0)==0)h=b;else{_=(b&65535|16)&65535;n[d>>1]=_;h=_}if((i[r+36>>0]|0)==0)m=h;else{_=(h&65535|4)&65535;n[d>>1]=_;m=_}if((i[r+37>>0]|0)==0)p=m;else{_=(m&65535|2)&65535;n[d>>1]=_;p=_}if((i[r+40>>0]|0)!=0)n[d>>1]=p&65535|32;o[e+104>>2]=t;t=r+4|0;p=o[t>>2]|0;d=o[t+4>>2]|0;t=u;o[t>>2]=p;o[t+4>>2]=d;t=r+12|0;y=+s[t>>2];s[e+20>>2]=+Y(+y);s[e+24>>2]=+j(+y);o[l+0>>2]=o[u+0>>2];o[l+4>>2]=o[u+4>>2];o[l+8>>2]=o[u+8>>2];o[l+12>>2]=o[u+12>>2];s[e+44>>2]=0;s[e+48>>2]=0;u=e+52|0;o[u>>2]=p;o[u+4>>2]=d;u=e+60|0;o[u>>2]=p;o[u+4>>2]=d;s[e+68>>2]=+s[t>>2];s[e+72>>2]=+s[t>>2];s[e+76>>2]=0;o[e+124>>2]=0;o[e+128>>2]=0;o[e+108>>2]=0;o[e+112>>2]=0;t=r+16|0;d=o[t+4>>2]|0;u=f;o[u>>2]=o[t>>2];o[u+4>>2]=d;s[e+88>>2]=+s[r+24>>2];s[e+148>>2]=+s[r+28>>2];s[e+152>>2]=+s[r+32>>2];s[e+156>>2]=+s[r+48>>2];s[e+92>>2]=0;s[e+96>>2]=0;s[e+100>>2]=0;s[e+160>>2]=0;d=o[r>>2]|0;o[e>>2]=d;u=e+132|0;if((d|0)==2){s[u>>2]=1;s[e+136>>2]=1;w=e+140|0;s[w>>2]=0;v=e+144|0;s[v>>2]=0;S=r+44|0;E=o[S>>2]|0;g=e+164|0;o[g>>2]=E;k=e+116|0;o[k>>2]=0;M=e+120|0;o[M>>2]=0;c=a;return}else{s[u>>2]=0;s[e+136>>2]=0;w=e+140|0;s[w>>2]=0;v=e+144|0;s[v>>2]=0;S=r+44|0;E=o[S>>2]|0;g=e+164|0;o[g>>2]=E;k=e+116|0;o[k>>2]=0;M=e+120|0;o[M>>2]=0;c=a;return}}function Et(e){e=e|0;return}function gt(e,r){e=e|0;r=r|0;var t=0,i=0,a=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0;t=c;c=c+16|0;i=t;a=e+104|0;if((o[(o[a>>2]|0)+102876>>2]&2|0)!=0){c=t;return}if((o[e>>2]|0)==(r|0)){c=t;return}o[e>>2]=r;kt(e);if((o[e>>2]|0)==0?(s[e+80>>2]=0,s[e+84>>2]=0,s[e+88>>2]=0,l=+s[e+72>>2],s[e+68>>2]=l,r=e+60|0,f=o[r>>2]|0,d=o[r+4>>2]|0,r=e+52|0,o[r>>2]=f,o[r+4>>2]=d,h=+Y(+l),s[i+8>>2]=h,_=+j(+l),s[i+12>>2]=_,l=+s[e+44>>2],m=+s[e+48>>2],p=(o[b>>2]=f,+s[b>>2])-(_*l-h*m),y=(o[b>>2]=d,+s[b>>2])-(h*l+_*m),m=+p,p=+y,d=i,s[d>>2]=m,s[d+4>>2]=p,d=(o[a>>2]|0)+102880|0,f=o[e+116>>2]|0,(f|0)!=0):0){r=e+12|0;w=f;do{ku(w,d,i,r);w=o[w+4>>2]|0}while((w|0)!=0)}w=e+4|0;r=u[w>>1]|0;if((r&2|0)==0){n[w>>1]=r|2;s[e+160>>2]=0}s[e+92>>2]=0;s[e+96>>2]=0;s[e+100>>2]=0;r=e+128|0;w=o[r>>2]|0;if((w|0)!=0){i=w;do{w=i;i=o[i+12>>2]|0;Tt((o[a>>2]|0)+102880|0,o[w+4>>2]|0)}while((i|0)!=0)}o[r>>2]=0;r=(o[a>>2]|0)+102880|0;a=o[e+116>>2]|0;if((a|0)==0){c=t;return}else v=a;do{a=o[v+28>>2]|0;if((a|0)>0){e=v+24|0;i=0;do{ec(r,o[(o[e>>2]|0)+(i*28|0)+24>>2]|0);i=i+1|0}while((i|0)!=(a|0))}v=o[v+4>>2]|0}while((v|0)!=0);c=t;return}function kt(e){e=e|0;var r=0,t=0,i=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0;r=c;c=c+16|0;t=r;i=e+132|0;a=e+136|0;u=e+140|0;l=e+144|0;f=e+44|0;s[f>>2]=0;s[e+48>>2]=0;o[i+0>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;if((o[e>>2]|0)>>>0<2){d=e+12|0;b=o[d>>2]|0;h=o[d+4>>2]|0;d=e+52|0;o[d>>2]=b;o[d+4>>2]=h;d=e+60|0;o[d>>2]=b;o[d+4>>2]=h;s[e+68>>2]=+s[e+72>>2];c=r;return}h=8784;_=+s[h>>2];m=+s[h+4>>2];h=o[e+116>>2]|0;if((h|0)!=0){d=t+4|0;b=t+8|0;p=t+12|0;y=0;w=0;v=_;S=m;E=h;while(1){g=+s[E>>2];if(g==0){k=y;M=w;P=v;A=S}else{h=o[E+12>>2]|0;yh[o[(o[h>>2]|0)+32>>2]&31](h,t,g);g=+s[t>>2];F=g+ +s[i>>2];s[i>>2]=F;C=v+g*+s[d>>2];D=S+g*+s[b>>2];g=+s[p>>2]+ +s[u>>2];s[u>>2]=g;k=g;M=F;P=C;A=D}E=o[E+4>>2]|0;if((E|0)==0)break;else{y=k;w=M;v=P;S=A}}if(M>0){S=1/M;s[a>>2]=S;B=k;R=P*S;T=A*S;O=M}else{x=A;L=P;N=k;I=10}}else{x=m;L=_;N=0;I=10}if((I|0)==10){s[i>>2]=1;s[a>>2]=1;B=N;R=L;T=x;O=1}if(B>0?(n[e+4>>1]&16)==0:0){x=B-(T*T+R*R)*O;s[u>>2]=x;J=1/x}else{s[u>>2]=0;J=0}s[l>>2]=J;l=e+60|0;u=l;J=+s[u>>2];x=+s[u+4>>2];O=+R;B=+T;u=f;s[u>>2]=O;s[u+4>>2]=B;B=+s[e+24>>2];O=+s[e+20>>2];L=+s[e+12>>2]+(B*R-O*T);N=R*O+B*T+ +s[e+16>>2];T=+L;B=+N;u=l;s[u>>2]=T;s[u+4>>2]=B;u=e+52|0;s[u>>2]=T;s[u+4>>2]=B;B=+s[e+88>>2];u=e+80|0;s[u>>2]=+s[u>>2]-B*(N-x);u=e+84|0;s[u>>2]=B*(L-J)+ +s[u>>2];c=r;return}function Mt(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0;r=c;c=c+16|0;t=r;i=+s[e+68>>2];n=+Y(+i);s[t+8>>2]=n;a=+j(+i);s[t+12>>2]=a;i=+s[e+44>>2];u=+s[e+48>>2];l=+(+s[e+52>>2]-(a*i-n*u));f=+(+s[e+56>>2]-(i*n+a*u));d=t;s[d>>2]=l;s[d+4>>2]=f;d=(o[e+104>>2]|0)+102880|0;b=o[e+116>>2]|0;if((b|0)==0){c=r;return}h=e+12|0;e=b;do{ku(e,d,t,h);e=o[e+4>>2]|0}while((e|0)!=0);c=r;return}function Pt(e,r){e=e|0;r=r|0;var t=0,i=0,a=0,u=0,l=0,f=0;t=c;i=e+104|0;a=o[i>>2]|0;if((o[a+102876>>2]&2|0)!=0){u=0;c=t;return u|0}l=wd(a,44)|0;if((l|0)==0)f=0;else{wu(l);f=l}vu(f,a,e,r);if(!((n[e+4>>1]&32)==0))Eu(f,(o[i>>2]|0)+102880|0,e+12|0);r=e+116|0;o[f+4>>2]=o[r>>2];o[r>>2]=f;r=e+120|0;o[r>>2]=(o[r>>2]|0)+1;o[f+8>>2]=e;if(+s[f>>2]>0)kt(e);e=(o[i>>2]|0)+102876|0;o[e>>2]=o[e>>2]|1;u=f;c=t;return u|0}function At(e,r){e=e|0;r=r|0;var t=0,i=0,a=0,u=0,l=0,s=0,f=0;t=c;i=e+104|0;if((o[(o[i>>2]|0)+102876>>2]&2|0)!=0){c=t;return}a=e+116|0;u=o[a>>2]|0;e:do if((u|0)!=0){l=u;s=a;while(1){f=l+4|0;if((l|0)==(r|0))break;l=o[f>>2]|0;if((l|0)==0)break e;else s=f}o[s>>2]=o[r+4>>2]}while(0);a=o[e+128>>2]|0;if((a|0)!=0){u=a;do{a=o[u+4>>2]|0;u=o[u+12>>2]|0;if((o[a+48>>2]|0)==(r|0)?1:(o[a+52>>2]|0)==(r|0))Tt((o[i>>2]|0)+102880|0,a)}while((u|0)!=0)}u=o[i>>2]|0;if(!((n[e+4>>1]&32)==0))gu(r,u+102880|0);Su(r,u);o[r+8>>2]=0;o[r+4>>2]=0;vd(u,r,44);r=e+120|0;o[r>>2]=(o[r>>2]|0)+-1;kt(e);c=t;return}function Ft(e,r){e=e|0;r=r|0;var t=0,i=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0;t=c;if((o[(o[e+104>>2]|0)+102876>>2]&2|0)!=0){c=t;return}if((o[e>>2]|0)!=2){c=t;return}i=e+136|0;s[i>>2]=0;a=e+140|0;s[a>>2]=0;u=e+144|0;s[u>>2]=0;l=+s[r>>2];f=!(l<=0)?l:1;s[e+132>>2]=f;s[i>>2]=1/f;l=+s[r+12>>2];if(l>0?(n[e+4>>1]&16)==0:0){d=+s[r+4>>2];h=+s[r+8>>2];_=l-f*(d*d+h*h);s[a>>2]=_;s[u>>2]=1/_}u=e+60|0;a=u;_=+s[a>>2];h=+s[a+4>>2];a=r+4|0;r=o[a>>2]|0;i=o[a+4>>2]|0;a=e+44|0;o[a>>2]=r;o[a+4>>2]=i;d=+s[e+24>>2];f=(o[b>>2]=r,+s[b>>2]);l=+s[e+20>>2];m=(o[b>>2]=i,+s[b>>2]);p=+s[e+12>>2]+(d*f-l*m);y=f*l+d*m+ +s[e+16>>2];m=+p;d=+y;i=u;s[i>>2]=m;s[i+4>>2]=d;i=e+52|0;s[i>>2]=m;s[i+4>>2]=d;d=+s[e+88>>2];i=e+80|0;s[i>>2]=+s[i>>2]-d*(y-h);i=e+84|0;s[i>>2]=d*(p-_)+ +s[i>>2];c=t;return}function Ct(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0;t=c;if((o[e>>2]|0)!=2?(o[r>>2]|0)!=2:0)n=0;else a=3;e:do if((a|0)==3){u=o[e+124>>2]|0;if((u|0)==0)n=1;else{l=u;while(1){if((o[l>>2]|0)==(r|0)?(i[(o[l+4>>2]|0)+61>>0]|0)==0:0){n=0;break e}l=o[l+12>>2]|0;if((l|0)==0){n=1;break}}}}while(0);c=t;return n|0}function Dt(e,r,t){e=e|0;r=r|0;t=+t;var i=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0;i=c;n=o[e+104>>2]|0;if((o[n+102876>>2]&2|0)!=0){c=i;return}a=e+12|0;u=+Y(+t);s[e+20>>2]=u;l=+j(+t);s[e+24>>2]=l;f=r;r=o[f>>2]|0;d=o[f+4>>2]|0;f=a;o[f>>2]=r;o[f+4>>2]=d;f=e+28|0;o[f+0>>2]=o[a+0>>2];o[f+4>>2]=o[a+4>>2];o[f+8>>2]=o[a+8>>2];o[f+12>>2]=o[a+12>>2];h=+s[e+44>>2];_=+s[e+48>>2];m=(o[b>>2]=r,+s[b>>2])+(l*h-u*_);p=h*u+l*_+(o[b>>2]=d,+s[b>>2]);_=+m;m=+p;d=e+60|0;s[d>>2]=_;s[d+4>>2]=m;s[e+72>>2]=t;d=e+52|0;s[d>>2]=_;s[d+4>>2]=m;s[e+68>>2]=t;d=n+102880|0;n=o[e+116>>2]|0;if((n|0)==0){c=i;return}else y=n;do{ku(y,d,a,a);y=o[y+4>>2]|0}while((y|0)!=0);c=i;return}function Bt(e){e=e|0;return}function Rt(e){e=e|0;var r=0;r=c;Zf(e);o[e+60>>2]=0;o[e+64>>2]=0;o[e+68>>2]=6800;o[e+72>>2]=6808;o[e+76>>2]=0;c=r;return}function Tt(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0;t=c;i=o[(o[r+48>>2]|0)+8>>2]|0;n=o[(o[r+52>>2]|0)+8>>2]|0;a=o[e+72>>2]|0;if((a|0)!=0?(o[r+4>>2]&2|0)!=0:0)hh[o[(o[a>>2]|0)+12>>2]&63](a,r);a=r+8|0;u=o[a>>2]|0;l=r+12|0;if((u|0)!=0)o[u+12>>2]=o[l>>2];u=o[l>>2]|0;if((u|0)!=0)o[u+8>>2]=o[a>>2];a=e+60|0;if((o[a>>2]|0)==(r|0))o[a>>2]=o[l>>2];l=r+24|0;a=o[l>>2]|0;u=r+28|0;if((a|0)!=0)o[a+12>>2]=o[u>>2];a=o[u>>2]|0;if((a|0)!=0)o[a+8>>2]=o[l>>2];l=i+128|0;if((r+16|0)==(o[l>>2]|0))o[l>>2]=o[u>>2];u=r+40|0;l=o[u>>2]|0;i=r+44|0;if((l|0)!=0)o[l+12>>2]=o[i>>2];l=o[i>>2]|0;if((l|0)!=0)o[l+8>>2]=o[u>>2];u=n+128|0;if((r+32|0)!=(o[u>>2]|0)){s=e+76|0;f=o[s>>2]|0;Ca(r,f);d=e+64|0;b=o[d>>2]|0;h=b+-1|0;o[d>>2]=h;c=t;return}o[u>>2]=o[i>>2];s=e+76|0;f=o[s>>2]|0;Ca(r,f);d=e+64|0;b=o[d>>2]|0;h=b+-1|0;o[d>>2]=h;c=t;return}function Ot(e){e=e|0;var r=0,t=0,i=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0;r=c;t=o[e+60>>2]|0;if((t|0)==0){c=r;return}i=e+4|0;a=e+72|0;u=e+68|0;l=t;while(1){t=o[l+48>>2]|0;f=o[l+52>>2]|0;d=o[l+56>>2]|0;b=o[l+60>>2]|0;h=o[t+8>>2]|0;_=o[f+8>>2]|0;m=l+4|0;do if((o[m>>2]&8|0)==0)p=11;else{if(!(Ct(_,h)|0)){y=o[l+12>>2]|0;Tt(e,l);w=y;break}y=o[u>>2]|0;if((y|0)!=0?!(_h[o[(o[y>>2]|0)+8>>2]&15](y,t,f)|0):0){y=o[l+12>>2]|0;Tt(e,l);w=y;break}o[m>>2]=o[m>>2]&-9;p=11}while(0);do if((p|0)==11){p=0;if((n[h+4>>1]&2)==0)v=0;else v=(o[h>>2]|0)!=0;if((n[_+4>>1]&2)==0)S=0;else S=(o[_>>2]|0)!=0;if(!(v|S)){w=o[l+12>>2]|0;break}m=o[(o[t+24>>2]|0)+(d*28|0)+24>>2]|0;y=o[(o[f+24>>2]|0)+(b*28|0)+24>>2]|0;E=o[i>>2]|0;if((+s[E+(y*36|0)>>2]-+s[E+(m*36|0)+8>>2]>0?1:+s[E+(y*36|0)+4>>2]-+s[E+(m*36|0)+12>>2]>0)|+s[E+(m*36|0)>>2]-+s[E+(y*36|0)+8>>2]>0|+s[E+(m*36|0)+4>>2]-+s[E+(y*36|0)+12>>2]>0){y=o[l+12>>2]|0;Tt(e,l);w=y;break}else{Ba(l,o[a>>2]|0);w=o[l+12>>2]|0;break}}while(0);if((w|0)==0)break;else l=w}c=r;return}function xt(e){e=e|0;var r=0;r=c;Lt(e,e);c=r;return}function Lt(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0;t=c;c=c+16|0;i=t;n=e+52|0;o[n>>2]=0;a=e+40|0;u=o[a>>2]|0;if((u|0)>0){l=e+32|0;s=e+56|0;f=e+4|0;d=u;u=0;while(1){b=o[(o[l>>2]|0)+(u<<2)>>2]|0;o[s>>2]=b;if((b|0)==-1)h=d;else{It(e,e,(o[f>>2]|0)+(b*36|0)|0);h=o[a>>2]|0}u=u+1|0;if((u|0)>=(h|0))break;else d=h}_=o[n>>2]|0}else _=0;o[a>>2]=0;a=e+44|0;h=o[a>>2]|0;o[i>>2]=26;Gt(h,h+(_<<3)|0,i);if((o[n>>2]|0)<=0){c=t;return}i=e+4|0;e=0;e:while(1){_=o[a>>2]|0;h=_+(e<<3)|0;d=o[i>>2]|0;u=_+(e<<3)+4|0;Nt(r,o[d+((o[h>>2]|0)*36|0)+16>>2]|0,o[d+((o[u>>2]|0)*36|0)+16>>2]|0);d=o[n>>2]|0;_=e;while(1){f=_+1|0;if((f|0)>=(d|0))break e;s=o[a>>2]|0;if((o[s+(f<<3)>>2]|0)!=(o[h>>2]|0)){e=f;continue e}if((o[s+(f<<3)+4>>2]|0)==(o[u>>2]|0))_=f;else{e=f;continue e}}}c=t;return}function Nt(e,r,t){e=e|0;r=r|0;t=t|0;var a=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0;a=c;l=o[r+16>>2]|0;f=o[t+16>>2]|0;d=o[r+20>>2]|0;r=o[t+20>>2]|0;t=o[l+8>>2]|0;b=o[f+8>>2]|0;if((t|0)==(b|0)){c=a;return}h=o[b+128>>2]|0;e:do if((h|0)!=0){_=h;while(1){if((o[_>>2]|0)==(t|0)){m=o[_+4>>2]|0;p=o[m+48>>2]|0;y=o[m+52>>2]|0;w=o[m+56>>2]|0;v=o[m+60>>2]|0;if((p|0)==(l|0)&(y|0)==(f|0)&(w|0)==(d|0)&(v|0)==(r|0)){S=24;break}if((p|0)==(f|0)&(y|0)==(l|0)&(w|0)==(r|0)&(v|0)==(d|0)){S=24;break}}_=o[_+12>>2]|0;if((_|0)==0)break e}if((S|0)==24){c=a;return}}while(0);if(!(Ct(b,t)|0)){c=a;return}t=o[e+68>>2]|0;if((t|0)!=0?!(_h[o[(o[t>>2]|0)+8>>2]&15](t,l,f)|0):0){c=a;return}t=Fa(l,d,f,r,o[e+76>>2]|0)|0;if((t|0)==0){c=a;return}r=o[t+48>>2]|0;f=o[t+52>>2]|0;d=o[r+8>>2]|0;l=o[f+8>>2]|0;o[t+8>>2]=0;b=e+60|0;o[t+12>>2]=o[b>>2];S=o[b>>2]|0;if((S|0)!=0)o[S+8>>2]=t;o[b>>2]=t;b=t+16|0;o[t+20>>2]=t;o[b>>2]=l;o[t+24>>2]=0;S=d+128|0;o[t+28>>2]=o[S>>2];h=o[S>>2]|0;if((h|0)!=0)o[h+8>>2]=b;o[S>>2]=b;b=t+32|0;o[t+36>>2]=t;o[b>>2]=d;o[t+40>>2]=0;S=l+128|0;o[t+44>>2]=o[S>>2];t=o[S>>2]|0;if((t|0)!=0)o[t+8>>2]=b;o[S>>2]=b;if((i[r+38>>0]|0)==0?(i[f+38>>0]|0)==0:0){f=d+4|0;r=u[f>>1]|0;if((r&2|0)==0){n[f>>1]=r|2;s[d+160>>2]=0}d=l+4|0;r=u[d>>1]|0;if((r&2|0)==0){n[d>>1]=r|2;s[l+160>>2]=0}}l=e+64|0;o[l>>2]=(o[l>>2]|0)+1;c=a;return}function It(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0;i=c;c=c+1040|0;n=i;a=n+4|0;o[n>>2]=a;u=n+1028|0;o[u>>2]=0;l=n+1032|0;o[l>>2]=256;f=o[n>>2]|0;o[f+(o[u>>2]<<2)>>2]=o[e>>2];d=o[u>>2]|0;b=d+1|0;o[u>>2]=b;e:do if((d|0)>-1){h=e+4|0;_=t+4|0;m=t+8|0;p=t+12|0;y=b;w=f;while(1){v=y+-1|0;o[u>>2]=v;S=o[w+(v<<2)>>2]|0;do if(!((S|0)==-1)?(E=o[h>>2]|0,!((+s[t>>2]-+s[E+(S*36|0)+8>>2]>0?1:+s[_>>2]-+s[E+(S*36|0)+12>>2]>0)|+s[E+(S*36|0)>>2]-+s[m>>2]>0|+s[E+(S*36|0)+4>>2]-+s[p>>2]>0)):0){g=E+(S*36|0)+24|0;if((o[g>>2]|0)==-1){if(!(rc(r,S)|0))break e;k=o[u>>2]|0;break}if((v|0)==(o[l>>2]|0)?(o[l>>2]=v<<1,M=Dd(v<<3)|0,o[n>>2]=M,hb(M|0,w|0,o[u>>2]<<2|0)|0,(w|0)!=(a|0)):0)Bd(w);M=o[n>>2]|0;o[M+(o[u>>2]<<2)>>2]=o[g>>2];g=(o[u>>2]|0)+1|0;o[u>>2]=g;P=E+(S*36|0)+28|0;if((g|0)==(o[l>>2]|0)?(o[l>>2]=g<<1,E=Dd(g<<3)|0,o[n>>2]=E,hb(E|0,M|0,o[u>>2]<<2|0)|0,(M|0)!=(a|0)):0)Bd(M);o[(o[n>>2]|0)+(o[u>>2]<<2)>>2]=o[P>>2];P=(o[u>>2]|0)+1|0;o[u>>2]=P;k=P}else k=v;while(0);if((k|0)<=0)break e;y=k;w=o[n>>2]|0}}while(0);k=o[n>>2]|0;if((k|0)==(a|0)){c=i;return}Bd(k);o[n>>2]=0;c=i;return}function Jt(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;i=o[e>>2]|0;n=o[r>>2]|0;if((i|0)>=(n|0))if((i|0)==(n|0))a=(o[e+4>>2]|0)<(o[r+4>>2]|0);else a=0;else a=1;c=t;return a|0}function Gt(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0;i=c;n=e;e=r;e:while(1){r=e;a=e+-8|0;u=n;r:while(1){l=u;s=r-l|0;f=s>>3;switch(f|0){case 5:d=15;break e;break;case 2:d=4;break e;break;case 4:d=14;break e;break;case 1:case 0:d=67;break e;break;case 3:d=6;break e;break;default:}if((s|0)<248){d=21;break e}b=(f|0)/2|0;h=u+(b<<3)|0;do if((s|0)>7992){_=(f|0)/4|0;m=u+(_<<3)|0;p=u+(_+b<<3)|0;_=Wt(u,m,h,p,t)|0;if(Sh[o[t>>2]&31](a,p)|0){y=p;w=o[y>>2]|0;v=o[y+4>>2]|0;y=a;S=o[y+4>>2]|0;E=p;o[E>>2]=o[y>>2];o[E+4>>2]=S;S=a;o[S>>2]=w;o[S+4>>2]=v;v=_+1|0;if(Sh[o[t>>2]&31](p,h)|0){S=h;w=o[S>>2]|0;E=o[S+4>>2]|0;S=p;y=o[S+4>>2]|0;g=h;o[g>>2]=o[S>>2];o[g+4>>2]=y;y=p;o[y>>2]=w;o[y+4>>2]=E;E=_+2|0;if(Sh[o[t>>2]&31](h,m)|0){y=m;w=o[y>>2]|0;p=o[y+4>>2]|0;y=h;g=o[y+4>>2]|0;S=m;o[S>>2]=o[y>>2];o[S+4>>2]=g;g=h;o[g>>2]=w;o[g+4>>2]=p;if(Sh[o[t>>2]&31](m,u)|0){p=u;g=o[p>>2]|0;w=o[p+4>>2]|0;p=m;S=o[p+4>>2]|0;y=u;o[y>>2]=o[p>>2];o[y+4>>2]=S;S=m;o[S>>2]=g;o[S+4>>2]=w;k=_+4|0}else k=_+3|0}else k=E}else k=v}else k=_}else{_=Sh[o[t>>2]&31](h,u)|0;v=Sh[o[t>>2]&31](a,h)|0;if(!_){if(!v){k=0;break}_=h;E=o[_>>2]|0;w=o[_+4>>2]|0;_=a;S=o[_+4>>2]|0;g=h;o[g>>2]=o[_>>2];o[g+4>>2]=S;S=a;o[S>>2]=E;o[S+4>>2]=w;if(!(Sh[o[t>>2]&31](h,u)|0)){k=1;break}w=u;S=o[w>>2]|0;E=o[w+4>>2]|0;w=h;g=o[w+4>>2]|0;_=u;o[_>>2]=o[w>>2];o[_+4>>2]=g;g=h;o[g>>2]=S;o[g+4>>2]=E;k=2;break}E=u;g=o[E>>2]|0;S=o[E+4>>2]|0;if(v){v=a;E=o[v+4>>2]|0;_=u;o[_>>2]=o[v>>2];o[_+4>>2]=E;E=a;o[E>>2]=g;o[E+4>>2]=S;k=1;break}E=h;_=o[E+4>>2]|0;v=u;o[v>>2]=o[E>>2];o[v+4>>2]=_;_=h;o[_>>2]=g;o[_+4>>2]=S;if(Sh[o[t>>2]&31](a,h)|0){S=h;_=o[S>>2]|0;g=o[S+4>>2]|0;S=a;v=o[S+4>>2]|0;E=h;o[E>>2]=o[S>>2];o[E+4>>2]=v;v=a;o[v>>2]=_;o[v+4>>2]=g;k=2}else k=1}while(0);do if(Sh[o[t>>2]&31](u,h)|0){M=a;P=k}else{b=a;while(1){b=b+-8|0;if((u|0)==(b|0))break;if(Sh[o[t>>2]&31](b,h)|0){d=50;break}}if((d|0)==50){d=0;f=u;s=o[f>>2]|0;g=o[f+4>>2]|0;f=b;v=o[f+4>>2]|0;_=u;o[_>>2]=o[f>>2];o[_+4>>2]=v;v=b;o[v>>2]=s;o[v+4>>2]=g;M=b;P=k+1|0;break}g=u+8|0;if(Sh[o[t>>2]&31](u,a)|0)A=g;else{if((g|0)==(a|0)){d=67;break e}else F=g;while(1){C=F+8|0;if(Sh[o[t>>2]&31](u,F)|0)break;if((C|0)==(a|0)){d=67;break e}else F=C}b=F;g=o[b>>2]|0;v=o[b+4>>2]|0;b=a;s=o[b+4>>2]|0;_=F;o[_>>2]=o[b>>2];o[_+4>>2]=s;s=a;o[s>>2]=g;o[s+4>>2]=v;A=C}if((A|0)==(a|0)){d=67;break e}else{D=A;B=a}while(1){v=D;while(1){R=v+8|0;if(Sh[o[t>>2]&31](u,v)|0){T=B;break}else v=R}do T=T+-8|0;while(Sh[o[t>>2]&31](u,T)|0);if(!(v>>>0<T>>>0)){u=v;continue r}s=v;g=o[s>>2]|0;_=o[s+4>>2]|0;s=T;b=o[s+4>>2]|0;f=v;o[f>>2]=o[s>>2];o[f+4>>2]=b;b=T;o[b>>2]=g;o[b+4>>2]=_;D=R;B=T}}while(0);_=u+8|0;t:do if(_>>>0<M>>>0){b=_;g=M;f=h;s=P;while(1){E=b;while(1){O=E+8|0;if(Sh[o[t>>2]&31](E,f)|0)E=O;else{x=g;break}}do x=x+-8|0;while(!(Sh[o[t>>2]&31](x,f)|0));if(E>>>0>x>>>0){L=E;N=f;I=s;break t}v=E;S=o[v>>2]|0;w=o[v+4>>2]|0;v=x;m=o[v+4>>2]|0;y=E;o[y>>2]=o[v>>2];o[y+4>>2]=m;m=x;o[m>>2]=S;o[m+4>>2]=w;b=O;g=x;f=(f|0)==(E|0)?x:f;s=s+1|0}}else{L=_;N=h;I=P}while(0);if((L|0)!=(N|0)?Sh[o[t>>2]&31](N,L)|0:0){h=L;_=o[h>>2]|0;s=o[h+4>>2]|0;h=N;f=o[h+4>>2]|0;g=L;o[g>>2]=o[h>>2];o[g+4>>2]=f;f=N;o[f>>2]=_;o[f+4>>2]=s;J=I+1|0}else J=I;if((J|0)==0){G=zt(u,L,t)|0;s=L+8|0;if(zt(s,e,t)|0){d=62;break}if(G){u=s;continue}}s=L;if((s-l|0)>=(r-s|0)){d=66;break}Gt(u,L,t);u=L+8|0}if((d|0)==62){d=0;if(G){d=67;break}else{n=u;e=L;continue}}else if((d|0)==66){d=0;Gt(L+8|0,e,t);n=u;e=L;continue}}if((d|0)==4){
if(!(Sh[o[t>>2]&31](a,u)|0)){c=i;return}L=u;n=o[L>>2]|0;G=o[L+4>>2]|0;L=a;J=o[L+4>>2]|0;I=u;o[I>>2]=o[L>>2];o[I+4>>2]=J;J=a;o[J>>2]=n;o[J+4>>2]=G;c=i;return}else if((d|0)==6){G=u+8|0;J=Sh[o[t>>2]&31](G,u)|0;n=Sh[o[t>>2]&31](a,G)|0;if(!J){if(!n){c=i;return}J=G;I=o[J>>2]|0;L=o[J+4>>2]|0;J=a;N=o[J+4>>2]|0;P=G;o[P>>2]=o[J>>2];o[P+4>>2]=N;N=a;o[N>>2]=I;o[N+4>>2]=L;if(!(Sh[o[t>>2]&31](G,u)|0)){c=i;return}L=u;N=o[L>>2]|0;I=o[L+4>>2]|0;L=G;P=o[L+4>>2]|0;J=u;o[J>>2]=o[L>>2];o[J+4>>2]=P;P=G;o[P>>2]=N;o[P+4>>2]=I;c=i;return}I=u;P=o[I>>2]|0;N=o[I+4>>2]|0;if(n){n=a;I=o[n+4>>2]|0;J=u;o[J>>2]=o[n>>2];o[J+4>>2]=I;I=a;o[I>>2]=P;o[I+4>>2]=N;c=i;return}I=G;J=o[I+4>>2]|0;n=u;o[n>>2]=o[I>>2];o[n+4>>2]=J;J=G;o[J>>2]=P;o[J+4>>2]=N;if(!(Sh[o[t>>2]&31](a,G)|0)){c=i;return}N=G;J=o[N>>2]|0;P=o[N+4>>2]|0;N=a;n=o[N+4>>2]|0;I=G;o[I>>2]=o[N>>2];o[I+4>>2]=n;n=a;o[n>>2]=J;o[n+4>>2]=P;c=i;return}else if((d|0)==14){Wt(u,u+8|0,u+16|0,a,t)|0;c=i;return}else if((d|0)==15){P=u+8|0;n=u+16|0;J=u+24|0;Wt(u,P,n,J,t)|0;if(!(Sh[o[t>>2]&31](a,J)|0)){c=i;return}I=J;N=o[I>>2]|0;G=o[I+4>>2]|0;I=a;L=o[I+4>>2]|0;x=J;o[x>>2]=o[I>>2];o[x+4>>2]=L;L=a;o[L>>2]=N;o[L+4>>2]=G;if(!(Sh[o[t>>2]&31](J,n)|0)){c=i;return}G=n;L=o[G>>2]|0;N=o[G+4>>2]|0;G=J;a=o[G+4>>2]|0;x=n;o[x>>2]=o[G>>2];o[x+4>>2]=a;a=J;o[a>>2]=L;o[a+4>>2]=N;if(!(Sh[o[t>>2]&31](n,P)|0)){c=i;return}N=P;a=o[N>>2]|0;L=o[N+4>>2]|0;N=n;J=o[N+4>>2]|0;x=P;o[x>>2]=o[N>>2];o[x+4>>2]=J;J=n;o[J>>2]=a;o[J+4>>2]=L;if(!(Sh[o[t>>2]&31](P,u)|0)){c=i;return}L=u;J=o[L>>2]|0;a=o[L+4>>2]|0;L=P;n=o[L+4>>2]|0;x=u;o[x>>2]=o[L>>2];o[x+4>>2]=n;n=P;o[n>>2]=J;o[n+4>>2]=a;c=i;return}else if((d|0)==21){Vt(u,e,t);c=i;return}else if((d|0)==67){c=i;return}}function Wt(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0;a=c;u=Sh[o[n>>2]&31](r,e)|0;l=Sh[o[n>>2]&31](t,r)|0;do if(u){s=e;f=o[s>>2]|0;d=o[s+4>>2]|0;if(l){s=t;b=o[s+4>>2]|0;h=e;o[h>>2]=o[s>>2];o[h+4>>2]=b;b=t;o[b>>2]=f;o[b+4>>2]=d;_=1;break}b=r;h=o[b+4>>2]|0;s=e;o[s>>2]=o[b>>2];o[s+4>>2]=h;h=r;o[h>>2]=f;o[h+4>>2]=d;if(Sh[o[n>>2]&31](t,r)|0){d=r;h=o[d>>2]|0;f=o[d+4>>2]|0;d=t;s=o[d+4>>2]|0;b=r;o[b>>2]=o[d>>2];o[b+4>>2]=s;s=t;o[s>>2]=h;o[s+4>>2]=f;_=2}else _=1}else if(l){f=r;s=o[f>>2]|0;h=o[f+4>>2]|0;f=t;b=o[f+4>>2]|0;d=r;o[d>>2]=o[f>>2];o[d+4>>2]=b;b=t;o[b>>2]=s;o[b+4>>2]=h;if(Sh[o[n>>2]&31](r,e)|0){h=e;b=o[h>>2]|0;s=o[h+4>>2]|0;h=r;d=o[h+4>>2]|0;f=e;o[f>>2]=o[h>>2];o[f+4>>2]=d;d=r;o[d>>2]=b;o[d+4>>2]=s;_=2}else _=1}else _=0;while(0);if(!(Sh[o[n>>2]&31](i,t)|0)){m=_;c=a;return m|0}l=t;u=o[l>>2]|0;s=o[l+4>>2]|0;l=i;d=o[l+4>>2]|0;b=t;o[b>>2]=o[l>>2];o[b+4>>2]=d;d=i;o[d>>2]=u;o[d+4>>2]=s;if(!(Sh[o[n>>2]&31](t,r)|0)){m=_+1|0;c=a;return m|0}s=r;d=o[s>>2]|0;u=o[s+4>>2]|0;s=t;i=o[s+4>>2]|0;b=r;o[b>>2]=o[s>>2];o[b+4>>2]=i;i=t;o[i>>2]=d;o[i+4>>2]=u;if(!(Sh[o[n>>2]&31](r,e)|0)){m=_+2|0;c=a;return m|0}n=e;u=o[n>>2]|0;i=o[n+4>>2]|0;n=r;d=o[n+4>>2]|0;t=e;o[t>>2]=o[n>>2];o[t+4>>2]=d;d=r;o[d>>2]=u;o[d+4>>2]=i;m=_+3|0;c=a;return m|0}function Vt(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0;i=c;c=c+16|0;n=i;a=e+16|0;u=e+8|0;l=Sh[o[t>>2]&31](u,e)|0;s=Sh[o[t>>2]&31](a,u)|0;do if(l){f=e;d=o[f>>2]|0;b=o[f+4>>2]|0;if(s){f=a;h=o[f+4>>2]|0;_=e;o[_>>2]=o[f>>2];o[_+4>>2]=h;h=a;o[h>>2]=d;o[h+4>>2]=b;break}h=u;_=o[h+4>>2]|0;f=e;o[f>>2]=o[h>>2];o[f+4>>2]=_;_=u;o[_>>2]=d;o[_+4>>2]=b;if(Sh[o[t>>2]&31](a,u)|0){b=u;_=o[b>>2]|0;d=o[b+4>>2]|0;b=a;f=o[b+4>>2]|0;h=u;o[h>>2]=o[b>>2];o[h+4>>2]=f;f=a;o[f>>2]=_;o[f+4>>2]=d}}else if(s?(d=u,f=o[d>>2]|0,_=o[d+4>>2]|0,d=a,h=o[d+4>>2]|0,b=u,o[b>>2]=o[d>>2],o[b+4>>2]=h,h=a,o[h>>2]=f,o[h+4>>2]=_,Sh[o[t>>2]&31](u,e)|0):0){_=e;h=o[_>>2]|0;f=o[_+4>>2]|0;_=u;b=o[_+4>>2]|0;d=e;o[d>>2]=o[_>>2];o[d+4>>2]=b;b=u;o[b>>2]=h;o[b+4>>2]=f}while(0);u=e+24|0;if((u|0)==(r|0)){c=i;return}else{m=u;p=a}while(1){if(Sh[o[t>>2]&31](m,p)|0){a=m;u=o[a+4>>2]|0;s=n;o[s>>2]=o[a>>2];o[s+4>>2]=u;u=m;s=p;while(1){a=s;l=o[a+4>>2]|0;f=u;o[f>>2]=o[a>>2];o[f+4>>2]=l;if((s|0)==(e|0))break;l=s+-8|0;if(Sh[o[t>>2]&31](n,l)|0){f=s;s=l;u=f}else break}u=n;f=o[u+4>>2]|0;l=s;o[l>>2]=o[u>>2];o[l+4>>2]=f}f=m+8|0;if((f|0)==(r|0))break;else{l=m;m=f;p=l}}c=i;return}function zt(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0;i=c;c=c+16|0;n=i;switch(r-e>>3|0){case 2:a=r+-8|0;if(!(Sh[o[t>>2]&31](a,e)|0)){u=1;c=i;return u|0}l=e;s=o[l>>2]|0;f=o[l+4>>2]|0;l=a;d=o[l+4>>2]|0;b=e;o[b>>2]=o[l>>2];o[b+4>>2]=d;d=a;o[d>>2]=s;o[d+4>>2]=f;u=1;c=i;return u|0;case 4:Wt(e,e+8|0,e+16|0,r+-8|0,t)|0;u=1;c=i;return u|0;case 5:f=e+8|0;d=e+16|0;s=e+24|0;a=r+-8|0;Wt(e,f,d,s,t)|0;if(!(Sh[o[t>>2]&31](a,s)|0)){u=1;c=i;return u|0}b=s;l=o[b>>2]|0;h=o[b+4>>2]|0;b=a;_=o[b+4>>2]|0;m=s;o[m>>2]=o[b>>2];o[m+4>>2]=_;_=a;o[_>>2]=l;o[_+4>>2]=h;if(!(Sh[o[t>>2]&31](s,d)|0)){u=1;c=i;return u|0}h=d;_=o[h>>2]|0;l=o[h+4>>2]|0;h=s;a=o[h+4>>2]|0;m=d;o[m>>2]=o[h>>2];o[m+4>>2]=a;a=s;o[a>>2]=_;o[a+4>>2]=l;if(!(Sh[o[t>>2]&31](d,f)|0)){u=1;c=i;return u|0}l=f;a=o[l>>2]|0;_=o[l+4>>2]|0;l=d;s=o[l+4>>2]|0;m=f;o[m>>2]=o[l>>2];o[m+4>>2]=s;s=d;o[s>>2]=a;o[s+4>>2]=_;if(!(Sh[o[t>>2]&31](f,e)|0)){u=1;c=i;return u|0}_=e;s=o[_>>2]|0;a=o[_+4>>2]|0;_=f;d=o[_+4>>2]|0;m=e;o[m>>2]=o[_>>2];o[m+4>>2]=d;d=f;o[d>>2]=s;o[d+4>>2]=a;u=1;c=i;return u|0;case 3:a=e+8|0;d=r+-8|0;s=Sh[o[t>>2]&31](a,e)|0;f=Sh[o[t>>2]&31](d,a)|0;if(!s){if(!f){u=1;c=i;return u|0}s=a;m=o[s>>2]|0;_=o[s+4>>2]|0;s=d;l=o[s+4>>2]|0;h=a;o[h>>2]=o[s>>2];o[h+4>>2]=l;l=d;o[l>>2]=m;o[l+4>>2]=_;if(!(Sh[o[t>>2]&31](a,e)|0)){u=1;c=i;return u|0}_=e;l=o[_>>2]|0;m=o[_+4>>2]|0;_=a;h=o[_+4>>2]|0;s=e;o[s>>2]=o[_>>2];o[s+4>>2]=h;h=a;o[h>>2]=l;o[h+4>>2]=m;u=1;c=i;return u|0}m=e;h=o[m>>2]|0;l=o[m+4>>2]|0;if(f){f=d;m=o[f+4>>2]|0;s=e;o[s>>2]=o[f>>2];o[s+4>>2]=m;m=d;o[m>>2]=h;o[m+4>>2]=l;u=1;c=i;return u|0}m=a;s=o[m+4>>2]|0;f=e;o[f>>2]=o[m>>2];o[f+4>>2]=s;s=a;o[s>>2]=h;o[s+4>>2]=l;if(!(Sh[o[t>>2]&31](d,a)|0)){u=1;c=i;return u|0}l=a;s=o[l>>2]|0;h=o[l+4>>2]|0;l=d;f=o[l+4>>2]|0;m=a;o[m>>2]=o[l>>2];o[m+4>>2]=f;f=d;o[f>>2]=s;o[f+4>>2]=h;u=1;c=i;return u|0;case 1:case 0:u=1;c=i;return u|0;default:h=e+16|0;f=e+8|0;s=Sh[o[t>>2]&31](f,e)|0;d=Sh[o[t>>2]&31](h,f)|0;do if(s){m=e;l=o[m>>2]|0;a=o[m+4>>2]|0;if(d){m=h;_=o[m+4>>2]|0;b=e;o[b>>2]=o[m>>2];o[b+4>>2]=_;_=h;o[_>>2]=l;o[_+4>>2]=a;break}_=f;b=o[_+4>>2]|0;m=e;o[m>>2]=o[_>>2];o[m+4>>2]=b;b=f;o[b>>2]=l;o[b+4>>2]=a;if(Sh[o[t>>2]&31](h,f)|0){a=f;b=o[a>>2]|0;l=o[a+4>>2]|0;a=h;m=o[a+4>>2]|0;_=f;o[_>>2]=o[a>>2];o[_+4>>2]=m;m=h;o[m>>2]=b;o[m+4>>2]=l}}else if(d?(l=f,m=o[l>>2]|0,b=o[l+4>>2]|0,l=h,_=o[l+4>>2]|0,a=f,o[a>>2]=o[l>>2],o[a+4>>2]=_,_=h,o[_>>2]=m,o[_+4>>2]=b,Sh[o[t>>2]&31](f,e)|0):0){b=e;_=o[b>>2]|0;m=o[b+4>>2]|0;b=f;a=o[b+4>>2]|0;l=e;o[l>>2]=o[b>>2];o[l+4>>2]=a;a=f;o[a>>2]=_;o[a+4>>2]=m}while(0);f=e+24|0;if((f|0)==(r|0)){u=1;c=i;return u|0}else{p=0;y=f;w=h}while(1){if(Sh[o[t>>2]&31](y,w)|0){h=y;f=o[h+4>>2]|0;d=n;o[d>>2]=o[h>>2];o[d+4>>2]=f;f=y;d=w;while(1){h=d;s=o[h+4>>2]|0;m=f;o[m>>2]=o[h>>2];o[m+4>>2]=s;if((d|0)==(e|0))break;s=d+-8|0;if(Sh[o[t>>2]&31](n,s)|0){m=d;d=s;f=m}else break}f=n;m=o[f+4>>2]|0;s=d;o[s>>2]=o[f>>2];o[s+4>>2]=m;m=p+1|0;if((m|0)==8)break;else v=m}else v=p;m=y+8|0;if((m|0)==(r|0)){u=1;S=34;break}else{s=y;p=v;y=m;w=s}}if((S|0)==34){c=i;return u|0}u=(y+8|0)==(r|0);c=i;return u|0}return 0}function Ht(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Ut(e,r){e=e|0;r=r|0;return}function qt(e,r){e=e|0;r=r|0;return}function jt(e,r,t){e=e|0;r=r|0;t=t|0;return}function Yt(e,r,t){e=e|0;r=r|0;t=t|0;return}function Zt(e,r,t){e=e|0;r=r|0;t=t|0;var i=0;i=c;o[e>>2]=r;o[e+4>>2]=Jd(r,t<<4)|0;o[e+8>>2]=t;t=e+12|0;o[t+0>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;c=i;return}function Xt(e){e=e|0;var r=0,t=0;r=c;t=o[e+24>>2]|0;if((t|0)!=0)Wd(o[e>>2]|0,t);Wd(o[e>>2]|0,o[e+4>>2]|0);c=r;return}function Kt(e,r,t,n){e=e|0;r=r|0;t=t|0;n=n|0;var a=0,u=0,l=0;a=e+12|0;u=o[a>>2]|0;o[a>>2]=u+1;a=o[e+4>>2]|0;e=r;r=o[e+4>>2]|0;l=a+(u<<4)|0;o[l>>2]=o[e>>2];o[l+4>>2]=r;o[a+(u<<4)+8>>2]=t;i[a+(u<<4)+12>>0]=n&1;return}function Qt(e,r,t){e=e|0;r=+r;t=+t;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0,Pe=0,Ae=0,Fe=0,Ce=0,De=0,Be=0,Re=0,Te=0,Oe=0,xe=0,Le=0,Ne=0,Ie=0,Je=0,Ge=0,We=0,Ve=0,ze=0,He=0,Ue=0,qe=0,je=0,Ye=0,Ze=0,Xe=0,Ke=0,Qe=0,$e=0,er=0,rr=0,tr=0,ir=0,nr=0,or=0,ar=0,ur=0,lr=0,sr=0,fr=0,cr=0,dr=0,br=0,hr=0,_r=0,mr=0,pr=0,yr=0,wr=0,vr=0,Sr=0,Er=0,gr=0,kr=0,Mr=0,Pr=0,Ar=0,Fr=0,Cr=0,Dr=0,Br=0,Rr=0,Tr=0,Or=0,xr=0,Lr=0,Nr=0,Ir=0,Jr=0,Gr=0,Wr=0,Vr=0,zr=0,Hr=0,Ur=0,qr=0,jr=0,Yr=0,Zr=0,Xr=0,Kr=0,Qr=0,$r=0,et=0,rt=0,tt=0,it=0,nt=0,ot=0,at=0,ut=0,lt=0,st=0;n=c;a=1/r;u=e+12|0;l=o[u>>2]|0;if((l|0)>0){f=o[e+4>>2]|0;r=3.4028234663852886E38;d=3.4028234663852886E38;b=-3.4028234663852886E38;h=-3.4028234663852886E38;_=0;while(1){if((i[f+(_<<4)+12>>0]|0)==0){m=d;p=r;y=h;w=b}else{v=+s[f+(_<<4)>>2];S=+s[f+(_<<4)+4>>2];m=d<S?d:S;p=r<v?r:v;y=h>S?h:S;w=b>v?b:v}_=_+1|0;if((_|0)>=(l|0)){E=m;g=p;k=y;M=w;break}else{r=p;d=m;b=w;h=y}}}else{E=3.4028234663852886E38;g=3.4028234663852886E38;k=-3.4028234663852886E38;M=-3.4028234663852886E38}y=g-t;g=E-t;l=~~(a*(M+t-y))+1|0;_=e+16|0;o[_>>2]=l;f=~~(a*(k+t-g))+1|0;P=e+20|0;o[P>>2]=f;A=Jd(o[e>>2]|0,ie(f<<2,l)|0)|0;l=e+24|0;o[l>>2]=A;f=o[_>>2]|0;F=o[P>>2]|0;C=ie(F,f)|0;e:do if((C|0)>0){D=A;B=0;while(1){o[D+(B<<2)>>2]=0;R=B+1|0;if((R|0)>=(C|0))break e;D=o[l>>2]|0;B=R}}while(0);C=o[e>>2]|0;A=ie(f<<2,F)|0;F=Jd(C,A<<4)|0;if((o[u>>2]|0)>0){f=e+4|0;e=0;B=A;D=F;R=0;while(1){T=o[f>>2]|0;O=T+(R<<4)|0;x=T+(R<<4)+4|0;t=a*(+s[O>>2]-y);k=+t;M=+(a*(+s[x>>2]-g));T=O;s[T>>2]=k;s[T+4>>2]=M;T=~~t;L=~~+s[x>>2];if(((L|T|0)>-1?(x=o[_>>2]|0,(T|0)<(x|0)):0)?(L|0)<(o[P>>2]|0):0){N=(ie(x,L)|0)+T|0;if((e|0)<(B|0)){I=B;J=D}else{if((e|0)>0){x=0;do x=x+1|0;while((x|0)!=(e|0))}x=(B|0)>0?B<<1:1;I=x;J=Gd(C,D,x<<4)|0}o[J+(e<<4)>>2]=T;o[J+(e<<4)+4>>2]=L;o[J+(e<<4)+8>>2]=N;o[J+(e<<4)+12>>2]=O;G=I;W=e+1|0;V=J}else{G=B;W=e;V=D}R=R+1|0;if((R|0)>=(o[u>>2]|0)){z=G;H=W;U=0;q=V;break}else{e=W;B=G;D=V}}}else{z=A;H=0;U=0;q=F}e:while(1){F=U;do{if((F|0)==(H|0))break e;j=o[q+(F<<4)>>2]|0;Y=o[q+(F<<4)+4>>2]|0;Z=o[q+(F<<4)+8>>2]|0;X=o[q+(F<<4)+12>>2]|0;F=F+1|0;K=(o[l>>2]|0)+(Z<<2)|0}while((o[K>>2]|0)!=0);o[K>>2]=X;if((j|0)>0){O=j+-1|0;N=Z+-1|0;if((H|0)>=(z|0)){if((F|0)<(H|0)){L=F;do{T=q+(L-F<<4)|0;A=q+(L<<4)|0;o[T+0>>2]=o[A+0>>2];o[T+4>>2]=o[A+4>>2];o[T+8>>2]=o[A+8>>2];o[T+12>>2]=o[A+12>>2];L=L+1|0}while((L|0)!=(H|0))}L=H-F|0;if((L|0)<(z|0)){Q=q;$=L;ee=z;re=0}else{A=(z|0)>0?z<<1:1;Q=Gd(C,q,A<<4)|0;$=L;ee=A;re=0}}else{Q=q;$=H;ee=z;re=F}o[Q+($<<4)>>2]=O;o[Q+($<<4)+4>>2]=Y;o[Q+($<<4)+8>>2]=N;o[Q+($<<4)+12>>2]=X;te=$+1|0;ne=ee;oe=re;ae=Q}else{te=H;ne=z;oe=F;ae=q}if((Y|0)>0){A=Y+-1|0;L=Z-(o[_>>2]|0)|0;if((te|0)>=(ne|0)){if((oe|0)<(te|0)){T=oe;do{V=ae+(T-oe<<4)|0;D=ae+(T<<4)|0;o[V+0>>2]=o[D+0>>2];o[V+4>>2]=o[D+4>>2];o[V+8>>2]=o[D+8>>2];o[V+12>>2]=o[D+12>>2];T=T+1|0}while((T|0)!=(te|0))}T=te-oe|0;if((T|0)<(ne|0)){ue=ae;le=T;se=ne;fe=0}else{F=(ne|0)>0?ne<<1:1;ue=Gd(C,ae,F<<4)|0;le=T;se=F;fe=0}}else{ue=ae;le=te;se=ne;fe=oe}o[ue+(le<<4)>>2]=j;o[ue+(le<<4)+4>>2]=A;o[ue+(le<<4)+8>>2]=L;o[ue+(le<<4)+12>>2]=X;ce=le+1|0;de=se;be=fe;he=ue}else{ce=te;de=ne;be=oe;he=ae}if((j|0)<((o[_>>2]|0)+-1|0)){F=j+1|0;T=Z+1|0;if((ce|0)>=(de|0)){if((be|0)<(ce|0)){N=be;do{O=he+(N-be<<4)|0;D=he+(N<<4)|0;o[O+0>>2]=o[D+0>>2];o[O+4>>2]=o[D+4>>2];o[O+8>>2]=o[D+8>>2];o[O+12>>2]=o[D+12>>2];N=N+1|0}while((N|0)!=(ce|0))}N=ce-be|0;if((N|0)<(de|0)){_e=he;me=N;pe=de;ye=0}else{L=(de|0)>0?de<<1:1;_e=Gd(C,he,L<<4)|0;me=N;pe=L;ye=0}}else{_e=he;me=ce;pe=de;ye=be}o[_e+(me<<4)>>2]=F;o[_e+(me<<4)+4>>2]=Y;o[_e+(me<<4)+8>>2]=T;o[_e+(me<<4)+12>>2]=X;we=me+1|0;ve=pe;Se=ye;Ee=_e}else{we=ce;ve=de;Se=be;Ee=he}if((Y|0)>=((o[P>>2]|0)+-1|0)){z=ve;H=we;U=Se;q=Ee;continue}L=Y+1|0;N=(o[_>>2]|0)+Z|0;if((we|0)>=(ve|0)){if((Se|0)<(we|0)){A=Se;do{D=Ee+(A-Se<<4)|0;O=Ee+(A<<4)|0;o[D+0>>2]=o[O+0>>2];o[D+4>>2]=o[O+4>>2];o[D+8>>2]=o[O+8>>2];o[D+12>>2]=o[O+12>>2];A=A+1|0}while((A|0)!=(we|0))}A=we-Se|0;if((A|0)<(ve|0)){ge=Ee;ke=A;Me=ve;Pe=0}else{T=(ve|0)>0?ve<<1:1;ge=Gd(C,Ee,T<<4)|0;ke=A;Me=T;Pe=0}}else{ge=Ee;ke=we;Me=ve;Pe=Se}o[ge+(ke<<4)>>2]=j;o[ge+(ke<<4)+4>>2]=L;o[ge+(ke<<4)+8>>2]=N;o[ge+(ke<<4)+12>>2]=X;z=Me;H=ke+1|0;U=Pe;q=ge}ge=o[P>>2]|0;if((ge|0)>0){Pe=o[_>>2]|0;U=ge;ke=q;Me=H;X=H;j=z;Se=0;while(1){if((Pe+-1|0)>0){ve=Pe;we=X;Ee=j;Z=Me;Y=ke;he=0;while(1){be=(ie(ve,Se)|0)+he|0;de=o[l>>2]|0;ce=o[de+(be<<2)>>2]|0;_e=be+1|0;ye=o[de+(_e<<2)>>2]|0;if((ce|0)==(ye|0)){Ae=he+1|0;Fe=ve;Ce=Ee;De=we;Be=Z;Re=Y}else{if((we|0)>=(Ee|0)){if((Z|0)<(we|0)){de=Z;do{pe=Y+(de-Z<<4)|0;me=Y+(de<<4)|0;o[pe+0>>2]=o[me+0>>2];o[pe+4>>2]=o[me+4>>2];o[pe+8>>2]=o[me+8>>2];o[pe+12>>2]=o[me+12>>2];de=de+1|0}while((de|0)!=(we|0))}de=we-Z|0;if((de|0)<(Ee|0)){Te=Y;Oe=de;xe=Ee;Le=0}else{me=(Ee|0)>0?Ee<<1:1;Te=Gd(C,Y,me<<4)|0;Oe=de;xe=me;Le=0}}else{Te=Y;Oe=we;xe=Ee;Le=Z}o[Te+(Oe<<4)>>2]=he;o[Te+(Oe<<4)+4>>2]=Se;o[Te+(Oe<<4)+8>>2]=be;o[Te+(Oe<<4)+12>>2]=ye;me=Oe+1|0;de=he+1|0;if((me|0)>=(xe|0)){if((Le|0)<(me|0)){pe=Le;do{ae=Te+(pe-Le<<4)|0;oe=Te+(pe<<4)|0;o[ae+0>>2]=o[oe+0>>2];o[ae+4>>2]=o[oe+4>>2];o[ae+8>>2]=o[oe+8>>2];o[ae+12>>2]=o[oe+12>>2];pe=pe+1|0}while((pe|0)!=(me|0))}pe=me-Le|0;if((pe|0)<(xe|0)){Ne=Te;Ie=pe;Je=xe;Ge=0}else{ye=(xe|0)>0?xe<<1:1;Ne=Gd(C,Te,ye<<4)|0;Ie=pe;Je=ye;Ge=0}}else{Ne=Te;Ie=me;Je=xe;Ge=Le}o[Ne+(Ie<<4)>>2]=de;o[Ne+(Ie<<4)+4>>2]=Se;o[Ne+(Ie<<4)+8>>2]=_e;o[Ne+(Ie<<4)+12>>2]=ce;Ae=de;Fe=o[_>>2]|0;Ce=Je;De=Ie+1|0;Be=Ge;Re=Ne}if((Ae|0)<(Fe+-1|0)){ve=Fe;we=De;Ee=Ce;Z=Be;Y=Re;he=Ae}else break}We=Ce;Ve=De;ze=Be;He=Re;Ue=o[P>>2]|0;qe=Fe}else{We=j;Ve=X;ze=Me;He=ke;Ue=U;qe=Pe}Se=Se+1|0;if((Se|0)>=(Ue|0)){je=We;Ye=Ve;Ze=ze;Xe=He;Ke=Ue;break}else{Pe=qe;U=Ue;ke=He;Me=ze;X=Ve;j=We}}}else{je=z;Ye=H;Ze=H;Xe=q;Ke=ge}if((Ke+-1|0)>0){ge=o[_>>2]|0;q=Ke;Ke=Xe;H=Ze;z=Ye;We=je;j=0;while(1){Ve=j;j=j+1|0;if((ge|0)>0){X=ge;ze=z;Me=We;He=H;ke=Ke;Ue=0;while(1){U=(ie(X,Ve)|0)+Ue|0;qe=o[l>>2]|0;Pe=o[qe+(U<<2)>>2]|0;Se=o[qe+(U+X<<2)>>2]|0;if((Pe|0)==(Se|0)){Qe=X;$e=Me;er=ze;rr=He;tr=ke}else{if((ze|0)>=(Me|0)){if((He|0)<(ze|0)){qe=He;do{Fe=ke+(qe-He<<4)|0;Re=ke+(qe<<4)|0;o[Fe+0>>2]=o[Re+0>>2];o[Fe+4>>2]=o[Re+4>>2];o[Fe+8>>2]=o[Re+8>>2];o[Fe+12>>2]=o[Re+12>>2];qe=qe+1|0}while((qe|0)!=(ze|0))}qe=ze-He|0;if((qe|0)<(Me|0)){ir=ke;nr=qe;or=Me;ar=0}else{de=(Me|0)>0?Me<<1:1;ir=Gd(C,ke,de<<4)|0;nr=qe;or=de;ar=0}}else{ir=ke;nr=ze;or=Me;ar=He}o[ir+(nr<<4)>>2]=Ue;o[ir+(nr<<4)+4>>2]=Ve;o[ir+(nr<<4)+8>>2]=U;o[ir+(nr<<4)+12>>2]=Se;de=nr+1|0;qe=(o[_>>2]|0)+U|0;if((de|0)>=(or|0)){if((ar|0)<(de|0)){ce=ar;do{_e=ir+(ce-ar<<4)|0;me=ir+(ce<<4)|0;o[_e+0>>2]=o[me+0>>2];o[_e+4>>2]=o[me+4>>2];o[_e+8>>2]=o[me+8>>2];o[_e+12>>2]=o[me+12>>2];ce=ce+1|0}while((ce|0)!=(de|0))}ce=de-ar|0;if((ce|0)<(or|0)){ur=ir;lr=ce;sr=or;fr=0}else{U=(or|0)>0?or<<1:1;ur=Gd(C,ir,U<<4)|0;lr=ce;sr=U;fr=0}}else{ur=ir;lr=de;sr=or;fr=ar}o[ur+(lr<<4)>>2]=Ue;o[ur+(lr<<4)+4>>2]=j;o[ur+(lr<<4)+8>>2]=qe;o[ur+(lr<<4)+12>>2]=Pe;Qe=o[_>>2]|0;$e=sr;er=lr+1|0;rr=fr;tr=ur}Ue=Ue+1|0;if((Ue|0)>=(Qe|0))break;else{X=Qe;ze=er;Me=$e;He=rr;ke=tr}}cr=$e;dr=er;br=rr;hr=tr;_r=o[P>>2]|0;mr=Qe}else{cr=We;dr=z;br=H;hr=Ke;_r=q;mr=ge}if((j|0)>=(_r+-1|0)){pr=cr;yr=dr;wr=br;vr=hr;break}else{ge=mr;q=_r;Ke=hr;H=br;z=dr;We=cr}}}else{pr=je;yr=Ye;wr=Ze;vr=Xe}if((wr|0)==(yr|0)){Sr=vr;Wd(C,Sr);c=n;return}else{Er=pr;gr=yr;kr=wr;Mr=vr}e:while(1){vr=o[l>>2]|0;wr=kr;while(1){Pr=o[Mr+(wr<<4)>>2]|0;Ar=o[Mr+(wr<<4)+4>>2]|0;Fr=o[Mr+(wr<<4)+8>>2]|0;Cr=o[Mr+(wr<<4)+12>>2]|0;wr=wr+1|0;Dr=vr+(Fr<<2)|0;yr=o[Dr>>2]|0;if((yr|0)!=(Cr|0)?(g=+(Pr|0),a=+s[yr>>2]-g,y=+(Ar|0),t=+s[yr+4>>2]-y,M=+s[Cr>>2]-g,g=+s[Cr+4>>2]-y,a*a+t*t>M*M+g*g):0)break;if((wr|0)==(gr|0)){Sr=Mr;Br=122;break e}}o[Dr>>2]=Cr;if((Pr|0)>0){vr=Pr+-1|0;yr=Fr+-1|0;if((gr|0)>=(Er|0)){if((wr|0)<(gr|0)){pr=wr;do{Xe=Mr+(pr-wr<<4)|0;Ze=Mr+(pr<<4)|0;o[Xe+0>>2]=o[Ze+0>>2];o[Xe+4>>2]=o[Ze+4>>2];o[Xe+8>>2]=o[Ze+8>>2];o[Xe+12>>2]=o[Ze+12>>2];pr=pr+1|0}while((pr|0)!=(gr|0))}pr=gr-wr|0;if((pr|0)<(Er|0)){Rr=Mr;Tr=pr;Or=Er;xr=0}else{Ze=(Er|0)>0?Er<<1:1;Rr=Gd(C,Mr,Ze<<4)|0;Tr=pr;Or=Ze;xr=0}}else{Rr=Mr;Tr=gr;Or=Er;xr=wr}o[Rr+(Tr<<4)>>2]=vr;o[Rr+(Tr<<4)+4>>2]=Ar;o[Rr+(Tr<<4)+8>>2]=yr;o[Rr+(Tr<<4)+12>>2]=Cr;Lr=Tr+1|0;Nr=Or;Ir=xr;Jr=Rr}else{Lr=gr;Nr=Er;Ir=wr;Jr=Mr}if((Ar|0)>0){Ze=Ar+-1|0;pr=Fr-(o[_>>2]|0)|0;if((Lr|0)>=(Nr|0)){if((Ir|0)<(Lr|0)){Xe=Ir;do{Ye=Jr+(Xe-Ir<<4)|0;je=Jr+(Xe<<4)|0;o[Ye+0>>2]=o[je+0>>2];o[Ye+4>>2]=o[je+4>>2];o[Ye+8>>2]=o[je+8>>2];o[Ye+12>>2]=o[je+12>>2];Xe=Xe+1|0}while((Xe|0)!=(Lr|0))}Xe=Lr-Ir|0;if((Xe|0)<(Nr|0)){Gr=Jr;Wr=Xe;Vr=Nr;zr=0}else{wr=(Nr|0)>0?Nr<<1:1;Gr=Gd(C,Jr,wr<<4)|0;Wr=Xe;Vr=wr;zr=0}}else{Gr=Jr;Wr=Lr;Vr=Nr;zr=Ir}o[Gr+(Wr<<4)>>2]=Pr;o[Gr+(Wr<<4)+4>>2]=Ze;o[Gr+(Wr<<4)+8>>2]=pr;o[Gr+(Wr<<4)+12>>2]=Cr;Hr=Wr+1|0;Ur=Vr;qr=zr;jr=Gr}else{Hr=Lr;Ur=Nr;qr=Ir;jr=Jr}if((Pr|0)<((o[_>>2]|0)+-1|0)){wr=Pr+1|0;Xe=Fr+1|0;if((Hr|0)>=(Ur|0)){if((qr|0)<(Hr|0)){yr=qr;do{vr=jr+(yr-qr<<4)|0;je=jr+(yr<<4)|0;o[vr+0>>2]=o[je+0>>2];o[vr+4>>2]=o[je+4>>2];o[vr+8>>2]=o[je+8>>2];o[vr+12>>2]=o[je+12>>2];yr=yr+1|0}while((yr|0)!=(Hr|0))}yr=Hr-qr|0;if((yr|0)<(Ur|0)){Yr=jr;Zr=yr;Xr=Ur;Kr=0}else{pr=(Ur|0)>0?Ur<<1:1;Yr=Gd(C,jr,pr<<4)|0;Zr=yr;Xr=pr;Kr=0}}else{Yr=jr;Zr=Hr;Xr=Ur;Kr=qr}o[Yr+(Zr<<4)>>2]=wr;o[Yr+(Zr<<4)+4>>2]=Ar;o[Yr+(Zr<<4)+8>>2]=Xe;o[Yr+(Zr<<4)+12>>2]=Cr;Qr=Zr+1|0;$r=Xr;et=Kr;rt=Yr}else{Qr=Hr;$r=Ur;et=qr;rt=jr}if((Ar|0)<((o[P>>2]|0)+-1|0)){pr=Ar+1|0;yr=(o[_>>2]|0)+Fr|0;if((Qr|0)>=($r|0)){if((et|0)<(Qr|0)){Ze=et;do{je=rt+(Ze-et<<4)|0;vr=rt+(Ze<<4)|0;o[je+0>>2]=o[vr+0>>2];o[je+4>>2]=o[vr+4>>2];o[je+8>>2]=o[vr+8>>2];o[je+12>>2]=o[vr+12>>2];Ze=Ze+1|0}while((Ze|0)!=(Qr|0))}Ze=Qr-et|0;if((Ze|0)<($r|0)){tt=rt;it=Ze;nt=$r;ot=0}else{Xe=($r|0)>0?$r<<1:1;tt=Gd(C,rt,Xe<<4)|0;it=Ze;nt=Xe;ot=0}}else{tt=rt;it=Qr;nt=$r;ot=et}o[tt+(it<<4)>>2]=Pr;o[tt+(it<<4)+4>>2]=pr;o[tt+(it<<4)+8>>2]=yr;o[tt+(it<<4)+12>>2]=Cr;at=nt;ut=it+1|0;lt=ot;st=tt}else{at=$r;ut=Qr;lt=et;st=rt}if((lt|0)==(ut|0)){Sr=st;Br=122;break}else{Er=at;gr=ut;kr=lt;Mr=st}}if((Br|0)==122){Wd(C,Sr);c=n;return}}function $t(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0;t=c;n=e+20|0;a=o[n>>2]|0;if((a+-1|0)<=0){c=t;return}u=e+16|0;l=e+24|0;e=o[u>>2]|0;s=a;a=0;while(1){if((e+-1|0)>0){f=e;d=0;do{b=(ie(f,a)|0)+d|0;h=o[l>>2]|0;_=o[h+(b<<2)>>2]|0;m=b+1|0;p=o[h+(m<<2)>>2]|0;y=o[h+(b+f<<2)>>2]|0;b=o[h+(m+f<<2)>>2]|0;do if((p|0)!=(y|0)){do if(!((_|0)==(p|0)|(_|0)==(y|0))){if(((i[_+12>>0]|0)==0?(i[p+12>>0]|0)==0:0)?(i[y+12>>0]|0)==0:0)break;gh[o[(o[r>>2]|0)+8>>2]&31](r,o[_+8>>2]|0,o[p+8>>2]|0,o[y+8>>2]|0)}while(0);if(!((b|0)==(p|0)|(b|0)==(y|0))){if(((i[p+12>>0]|0)==0?(i[b+12>>0]|0)==0:0)?(i[y+12>>0]|0)==0:0)break;gh[o[(o[r>>2]|0)+8>>2]&31](r,o[p+8>>2]|0,o[b+8>>2]|0,o[y+8>>2]|0)}}while(0);d=d+1|0;f=o[u>>2]|0}while((d|0)<(f+-1|0));w=o[n>>2]|0;v=f}else{w=s;v=e}a=a+1|0;if((a|0)>=(w+-1|0))break;else{e=v;s=w}}c=t;return}function ei(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0;r=c;t=e+40|0;i=e+48|0;n=e+16|0;o[e+0>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;s[n>>2]=1;o[e+20>>2]=0;o[e+24>>2]=0;o[e+28>>2]=-1;s[e+32>>2]=0;s[e+36>>2]=0;n=8784;a=o[n+4>>2]|0;u=t;o[u>>2]=o[n>>2];o[u+4>>2]=a;a=8784;u=o[a+4>>2]|0;n=i;o[n>>2]=o[a>>2];o[n+4>>2]=u;u=e+56|0;n=e+72|0;o[u+0>>2]=0;o[u+4>>2]=0;o[u+8>>2]=0;o[u+12>>2]=0;s[n>>2]=1;o[e+76>>2]=0;c=r;return}function ri(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0;r=c;t=e+28|0;i=o[e>>2]|0;n=o[i+4>>2]|0;if((o[t>>2]|0)==(n|0)){c=r;return}a=+s[i+32>>2]*.75;u=a*+s[i+320>>2]*a;l=e+32|0;s[l>>2]=0;f=e+40|0;d=e+44|0;b=e+48|0;h=e+52|0;_=e+4|0;o[f+0>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;m=o[_>>2]|0;_=o[e+8>>2]|0;p=(m|0)<(_|0);if(p){y=o[i+96>>2]|0;w=o[i+104>>2]|0;a=0;v=0;S=0;E=0;g=0;k=m;do{a=u+a;s[l>>2]=a;M=u*+s[y+(k<<3)+4>>2];v=u*+s[y+(k<<3)>>2]+v;s[f>>2]=v;S=M+S;s[d>>2]=S;M=u*+s[w+(k<<3)+4>>2];E=u*+s[w+(k<<3)>>2]+E;s[b>>2]=E;g=M+g;s[h>>2]=g;k=k+1|0}while((k|0)<(_|0));if(a>0){M=1/a;P=M*v;s[f>>2]=P;A=M*S;s[d>>2]=A;M=1/a;a=M*E;s[b>>2]=a;F=M*g;s[h>>2]=F;C=P;D=A;B=a;R=F}else{C=v;D=S;B=E;R=g}h=e+36|0;s[h>>2]=0;b=e+56|0;s[b>>2]=0;if(p){p=o[i+96>>2]|0;d=o[i+104>>2]|0;g=0;E=0;i=m;do{S=+s[p+(i<<3)>>2]-C;v=+s[p+(i<<3)+4>>2]-D;F=+s[d+(i<<3)>>2]-B;a=+s[d+(i<<3)+4>>2]-R;g=u*(S*S+v*v)+g;s[h>>2]=g;E=E+u*(S*a-v*F);s[b>>2]=E;i=i+1|0}while((i|0)<(_|0));if(g>0)s[b>>2]=1/g*E}}else{s[e+36>>2]=0;s[e+56>>2]=0}o[t>>2]=n;c=r;return}function ti(e,r){e=e|0;r=r|0;var t=0;t=c;pr(o[e>>2]|0,o[e+4>>2]|0,o[e+8>>2]|0,r);c=t;return}function ii(e,r){e=e|0;r=r|0;var t=0;t=c;yr(o[e>>2]|0,o[e+4>>2]|0,o[e+8>>2]|0,r);c=t;return}function ni(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=c;i=o[e>>2]|0;if((o[(o[i+400>>2]|0)+102876>>2]&2|0)!=0){c=t;return}n=o[e+4>>2]|0;a=e+8|0;if((n|0)<(o[a>>2]|0)){u=i;l=n}else{c=t;return}while(1){_i(u,l,r);n=l+1|0;if((n|0)>=(o[a>>2]|0))break;u=o[e>>2]|0;l=n}c=t;return}function oi(e,r,t){e=e|0;r=r|0;t=t|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0;n=c;a=e+52|0;o[e+56>>2]=a;o[a>>2]=a;o[e+60>>2]=256;a=e+64|0;o[e+68>>2]=a;o[a>>2]=a;a=e+72|0;o[e+76>>2]=a;o[a>>2]=a;a=e+80|0;o[e+136>>2]=0;o[e+140>>2]=0;o[e+148>>2]=0;o[e+152>>2]=0;u=e+160|0;l=e+196|0;o[a+0>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;o[a+16>>2]=0;o[a+20>>2]=0;o[a+24>>2]=0;o[a+28>>2]=0;a=u+0|0;u=a+36|0;do{o[a>>2]=0;a=a+4|0}while((a|0)<(u|0));o[l>>2]=t;o[e+200>>2]=0;o[e+204>>2]=0;o[e+208>>2]=0;o[e+212>>2]=t;o[e+216>>2]=0;o[e+220>>2]=0;o[e+224>>2]=0;o[e+228>>2]=t;o[e+232>>2]=0;o[e+236>>2]=0;o[e+240>>2]=0;o[e+244>>2]=t;o[e+248>>2]=0;o[e+252>>2]=0;o[e+256>>2]=0;o[e+260>>2]=t;o[e+264>>2]=0;o[e+268>>2]=0;o[e+272>>2]=0;o[e+276>>2]=t;l=e+280|0;f=e+316|0;i[f>>0]=0;d=e+320|0;o[l+0>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;s[d>>2]=1;b=e+324|0;s[b>>2]=1;s[e+328>>2]=1;h=e+332|0;o[h>>2]=0;s[e+336>>2]=.05000000074505806;s[e+340>>2]=1;s[e+344>>2]=.25;s[e+348>>2]=.25;s[e+352>>2]=.25;s[e+356>>2]=.20000000298023224;s[e+360>>2]=.20000000298023224;s[e+364>>2]=1;s[e+368>>2]=.5;s[e+372>>2]=.5;s[e+376>>2]=.20000000298023224;s[e+380>>2]=.20000000298023224;o[e+384>>2]=8;s[e+388>>2]=.5;_=e+392|0;i[_>>0]=1;s[e+396>>2]=.01666666753590107;i[e>>0]=0;o[e+4>>2]=0;o[e+8>>2]=0;i[e+12>>0]=0;o[e+16>>2]=0;i[e+20>>0]=0;i[e+21>>0]=0;o[e+24>>2]=0;i[f>>0]=i[r>>0]|0;m=+s[r+4>>2];s[d>>2]=m;s[e+28>>2]=1/m;s[b>>2]=+s[r+8>>2];m=+s[r+12>>2]*2;s[e+32>>2]=m;s[e+40>>2]=m*m;s[e+36>>2]=1/m;o[h>>2]=o[r+16>>2];o[e+44>>2]=0;h=e+48|0;o[h>>2]=0;b=e+112|0;o[e+144>>2]=0;o[e+308>>2]=0;o[e+312>>2]=0;o[b+0>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[b+12>>2]=0;o[b+16>>2]=0;o[b+20>>2]=0;a=f+0|0;f=r+0|0;u=a+84|0;do{o[a>>2]=o[f>>2];a=a+4|0;f=f+4|0}while((a|0)<(u|0));f=e+400|0;o[f>>2]=t;o[e+156>>2]=0;t=e+296|0;o[t>>2]=0;o[t+4>>2]=0;i[e+304>>0]=0;t=i[_>>0]|0;if(t<<24>>24==0){i[_>>0]=t;c=n;return}a=o[l>>2]|0;if((a|0)==0){si(e,256);e=wd(o[f>>2]|0,o[h>>2]<<2)|0;cb(e|0,0,o[h>>2]<<2|0)|0;p=e}else p=a;o[l>>2]=p;i[_>>0]=t;c=n;return}function ai(e){e=e|0;var r=0,t=0,i=0,n=0,a=0;r=c;t=e+312|0;while(1){i=o[t>>2]|0;if((i|0)==0)break;ui(e,i)}if((o[e+84>>2]|0)==0?(t=e+80|0,i=o[t>>2]|0,(i|0)!=0):0){vd(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+92>>2]|0)==0?(t=e+88|0,i=o[t>>2]|0,(i|0)!=0):0){vd(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+164>>2]|0)==0?(t=e+160|0,i=o[t>>2]|0,(i|0)!=0):0){vd(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+172>>2]|0)==0?(t=e+168|0,i=o[t>>2]|0,(i|0)!=0):0){vd(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+180>>2]|0)==0?(t=e+176|0,i=o[t>>2]|0,(i|0)!=0):0){vd(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+100>>2]|0)==0?(t=e+96|0,i=o[t>>2]|0,(i|0)!=0):0){vd(o[e+400>>2]|0,i,o[e+48>>2]<<3);o[t>>2]=0}if((o[e+108>>2]|0)==0?(t=e+104|0,i=o[t>>2]|0,(i|0)!=0):0){vd(o[e+400>>2]|0,i,o[e+48>>2]<<3);o[t>>2]=0}if((o[e+140>>2]|0)==0?(t=e+136|0,i=o[t>>2]|0,(i|0)!=0):0){vd(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+152>>2]|0)==0?(t=e+148|0,i=o[t>>2]|0,(i|0)!=0):0){vd(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+284>>2]|0)==0?(t=e+280|0,i=o[t>>2]|0,(i|0)!=0):0){vd(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[t>>2]=0}if((o[e+292>>2]|0)==0?(t=e+288|0,i=o[t>>2]|0,(i|0)!=0):0){vd(o[e+400>>2]|0,i,o[e+48>>2]<<2);o[t>>2]=0}t=e+112|0;i=e+48|0;n=o[t>>2]|0;if((n|0)!=0){vd(o[e+400>>2]|0,n,o[i>>2]<<3);o[t>>2]=0}t=e+116|0;n=o[t>>2]|0;if((n|0)!=0){vd(o[e+400>>2]|0,n,o[i>>2]<<2);o[t>>2]=0}t=e+120|0;n=o[t>>2]|0;if((n|0)!=0){vd(o[e+400>>2]|0,n,o[i>>2]<<2);o[t>>2]=0}t=e+124|0;n=o[t>>2]|0;if((n|0)!=0){vd(o[e+400>>2]|0,n,o[i>>2]<<2);o[t>>2]=0}t=e+128|0;n=o[t>>2]|0;if((n|0)!=0){vd(o[e+400>>2]|0,n,o[i>>2]<<3);o[t>>2]=0}t=e+132|0;n=o[t>>2]|0;if((n|0)!=0){vd(o[e+400>>2]|0,n,o[i>>2]<<2);o[t>>2]=0}t=e+144|0;n=o[t>>2]|0;if((n|0)!=0){vd(o[e+400>>2]|0,n,o[i>>2]<<2);o[t>>2]=0}t=e+264|0;i=o[t>>2]|0;if((i|0)!=0){n=e+272|0;vd(o[e+276>>2]|0,i,(o[n>>2]|0)*60|0);o[t>>2]=0;o[n>>2]=0;o[e+268>>2]=0}n=e+248|0;t=o[n>>2]|0;if((t|0)!=0){i=e+256|0;vd(o[e+260>>2]|0,t,(o[i>>2]|0)*20|0);o[n>>2]=0;o[i>>2]=0;o[e+252>>2]=0}i=e+232|0;n=o[i>>2]|0;if((n|0)!=0){t=e+240|0;vd(o[e+244>>2]|0,n,(o[t>>2]|0)*28|0);o[i>>2]=0;o[t>>2]=0;o[e+236>>2]=0}t=e+216|0;i=o[t>>2]|0;if((i|0)!=0){n=e+224|0;vd(o[e+228>>2]|0,i,(o[n>>2]|0)*24|0);o[t>>2]=0;o[n>>2]=0;o[e+220>>2]=0}n=e+200|0;t=o[n>>2]|0;if((t|0)!=0){i=e+208|0;vd(o[e+212>>2]|0,t,o[i>>2]<<3);o[n>>2]=0;o[i>>2]=0;o[e+204>>2]=0}i=e+184|0;n=o[i>>2]|0;if((n|0)==0){a=e+52|0;Zr(a);c=r;return}t=e+192|0;vd(o[e+196>>2]|0,n,o[t>>2]<<2);o[i>>2]=0;o[t>>2]=0;o[e+188>>2]=0;a=e+52|0;Zr(a);c=r;return}function ui(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0;t=c;n=e+400|0;a=o[(o[n>>2]|0)+102992>>2]|0;if((a|0)!=0)hh[o[(o[a>>2]|0)+16>>2]&63](a,r);a=r+12|0;u=o[a>>2]|0;l=u<<4;s=l&16;if((((l|-17)^16)&u|0)!=0)i[e+20>>0]=1;u=e+16|0;l=o[u>>2]|0;if((s&~l|0)!=0)o[u>>2]=l|s;o[a>>2]=s;s=o[r+4>>2]|0;a=o[r+8>>2]|0;if((s|0)<(a|0)){l=e+144|0;u=s;do{o[(o[l>>2]|0)+(u<<2)>>2]=0;u=u+1|0}while((u|0)<(a|0))}a=r+20|0;u=o[a>>2]|0;l=r+24|0;if((u|0)!=0)o[u+24>>2]=o[l>>2];u=o[l>>2]|0;if((u|0)!=0)o[u+20>>2]=o[a>>2];a=e+312|0;if((o[a>>2]|0)!=(r|0)){f=e+308|0;d=o[f>>2]|0;b=d+-1|0;o[f>>2]=b;h=o[n>>2]|0;vd(h,r,80);c=t;return}o[a>>2]=o[l>>2];f=e+308|0;d=o[f>>2]|0;b=d+-1|0;o[f>>2]=b;h=o[n>>2]|0;vd(h,r,80);c=t;return}function li(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0;r=c;t=e+136|0;i=o[t>>2]|0;if((i|0)!=0){n=i;o[t>>2]=n;c=r;return n|0}i=e+48|0;a=o[i>>2]|0;if((a|0)==0){si(e,256);u=o[i>>2]|0}else u=a;a=wd(o[e+400>>2]|0,u<<2)|0;cb(a|0,0,o[i>>2]<<2|0)|0;n=a;o[t>>2]=n;c=r;return n|0}function si(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0;t=c;i=o[e+332>>2]|0;if((i|0)==0)n=r;else n=(i|0)<(r|0)?i:r;r=e+92|0;i=o[r>>2]|0;if((i|0)==0)a=n;else a=(n|0)>(i|0)?i:n;n=e+100|0;i=o[n>>2]|0;if((i|0)==0)u=a;else u=(a|0)>(i|0)?i:a;a=e+108|0;i=o[a>>2]|0;if((i|0)==0)l=u;else l=(u|0)>(i|0)?i:u;u=e+140|0;i=o[u>>2]|0;if((i|0)==0)s=l;else s=(l|0)>(i|0)?i:l;l=e+152|0;i=o[l>>2]|0;if((i|0)==0)f=s;else f=(s|0)>(i|0)?i:s;s=e+48|0;i=o[s>>2]|0;if((i|0)>=(f|0)){c=t;return}d=e+80|0;b=o[d>>2]|0;h=(b|0)==0;if((o[e+84>>2]|0)==0&(h^1)){_=e+400|0;m=wd(o[_>>2]|0,f<<2)|0;if(h)p=m;else{h=i<<2;hb(m|0,b|0,h|0)|0;vd(o[_>>2]|0,b,h);p=m}}else p=b;o[d>>2]=p;p=o[s>>2]|0;o[e+60>>2]=f-p;d=e+88|0;b=o[d>>2]|0;if((o[r>>2]|0)==0){r=e+400|0;m=wd(o[r>>2]|0,f<<2)|0;if((b|0)==0)y=m;else{h=p<<2;hb(m|0,b|0,h|0)|0;vd(o[r>>2]|0,b,h);y=m}}else y=b;o[d>>2]=y;y=(o[e+156>>2]|0)>0;d=o[s>>2]|0;b=e+160|0;m=o[b>>2]|0;h=(m|0)==0;if((o[e+164>>2]|0)==0&(h&y^1)){r=e+400|0;p=wd(o[r>>2]|0,f<<2)|0;if(h)w=p;else{h=d<<2;hb(p|0,m|0,h|0)|0;vd(o[r>>2]|0,m,h);w=p}}else w=m;o[b>>2]=w;w=o[s>>2]|0;b=e+168|0;m=o[b>>2]|0;p=(m|0)==0;if((o[e+172>>2]|0)==0&(p&y^1)){h=e+400|0;r=wd(o[h>>2]|0,f<<2)|0;if(p)v=r;else{p=w<<2;hb(r|0,m|0,p|0)|0;vd(o[h>>2]|0,m,p);v=r}}else v=m;o[b>>2]=v;v=o[s>>2]|0;b=e+176|0;m=o[b>>2]|0;r=(m|0)==0;if((o[e+180>>2]|0)==0&(r&y^1)){y=e+400|0;p=wd(o[y>>2]|0,f<<2)|0;if(r)S=p;else{r=v<<2;hb(p|0,m|0,r|0)|0;vd(o[y>>2]|0,m,r);S=p}}else S=m;o[b>>2]=S;S=o[s>>2]|0;b=e+96|0;m=o[b>>2]|0;if((o[n>>2]|0)==0){n=e+400|0;p=wd(o[n>>2]|0,f<<3)|0;if((m|0)==0)E=p;else{r=S<<3;hb(p|0,m|0,r|0)|0;vd(o[n>>2]|0,m,r);E=p}}else E=m;o[b>>2]=E;E=o[s>>2]|0;b=e+104|0;m=o[b>>2]|0;if((o[a>>2]|0)==0){a=e+400|0;p=f<<3;r=wd(o[a>>2]|0,p)|0;if((m|0)==0){g=r;k=p;M=a}else{n=E<<3;hb(r|0,m|0,n|0)|0;vd(o[a>>2]|0,m,n);g=r;k=p;M=a}}else{g=m;k=f<<3;M=e+400|0}o[b>>2]=g;g=e+112|0;b=o[g>>2]|0;m=o[s>>2]|0;a=wd(o[M>>2]|0,k)|0;if((b|0)!=0){p=m<<3;hb(a|0,b|0,p|0)|0;vd(o[M>>2]|0,b,p)}o[g>>2]=a;a=e+116|0;g=o[a>>2]|0;p=o[s>>2]|0;b=f<<2;m=wd(o[M>>2]|0,b)|0;if((g|0)!=0){r=p<<2;hb(m|0,g|0,r|0)|0;vd(o[M>>2]|0,g,r)}o[a>>2]=m;m=e+120|0;a=o[m>>2]|0;if((a|0)==0)P=0;else{r=o[s>>2]|0;g=wd(o[M>>2]|0,b)|0;p=r<<2;hb(g|0,a|0,p|0)|0;vd(o[M>>2]|0,a,p);P=g}o[m>>2]=P;P=e+124|0;m=o[P>>2]|0;g=o[s>>2]|0;p=wd(o[M>>2]|0,b)|0;if((m|0)!=0){a=g<<2;hb(p|0,m|0,a|0)|0;vd(o[M>>2]|0,m,a)}o[P>>2]=p;p=e+128|0;P=o[p>>2]|0;if((P|0)==0)A=0;else{a=o[s>>2]|0;m=wd(o[M>>2]|0,k)|0;k=a<<3;hb(m|0,P|0,k|0)|0;vd(o[M>>2]|0,P,k);A=m}o[p>>2]=A;A=e+132|0;p=o[A>>2]|0;if((p|0)==0)F=0;else{m=o[s>>2]|0;k=wd(o[M>>2]|0,b)|0;P=m<<2;hb(k|0,p|0,P|0)|0;vd(o[M>>2]|0,p,P);F=k}o[A>>2]=F;F=o[s>>2]|0;A=e+136|0;k=o[A>>2]|0;P=(k|0)==0;do if((o[u>>2]|0)==0&(P^1)){p=wd(o[M>>2]|0,b)|0;if(P){C=p;break}m=F<<2;hb(p|0,k|0,m|0)|0;vd(o[M>>2]|0,k,m);C=p}else C=k;while(0);o[A>>2]=C;C=e+144|0;A=o[C>>2]|0;k=o[s>>2]|0;F=wd(o[M>>2]|0,b)|0;if((A|0)!=0){P=k<<2;hb(F|0,A|0,P|0)|0;vd(o[M>>2]|0,A,P)}o[C>>2]=F;F=o[s>>2]|0;C=e+148|0;P=o[C>>2]|0;A=(P|0)==0;do if((o[l>>2]|0)==0&(A^1)){k=wd(o[M>>2]|0,b)|0;if(A){D=k;break}u=F<<2;hb(k|0,P|0,u|0)|0;vd(o[M>>2]|0,P,u);D=k}else D=P;while(0);o[C>>2]=D;D=o[s>>2]|0;C=e+280|0;P=o[C>>2]|0;F=(P|0)==0;do if((o[e+284>>2]|0)==0&(F^1)){A=wd(o[M>>2]|0,b)|0;if(F){B=A;break}l=D<<2;hb(A|0,P|0,l|0)|0;vd(o[M>>2]|0,P,l);B=A}else B=P;while(0);o[C>>2]=B;B=o[s>>2]|0;C=e+288|0;P=o[C>>2]|0;D=(P|0)==0;do if((o[e+292>>2]|0)==0&(D^1)){F=wd(o[M>>2]|0,b)|0;if(D){R=F;break}A=B<<2;hb(F|0,P|0,A|0)|0;vd(o[M>>2]|0,P,A);R=F}else R=P;while(0);o[C>>2]=R;o[s>>2]=f;c=t;return}function fi(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0;t=c;n=e+400|0;if((o[(o[n>>2]|0)+102876>>2]&2|0)!=0){a=0;c=t;return a|0}u=e+44|0;l=o[u>>2]|0;f=e+48|0;d=o[f>>2]|0;if((l|0)<(d|0)){b=l;h=d}else{si(e,(l|0)==0?256:l<<1);b=o[u>>2]|0;h=o[f>>2]|0}do if((b|0)>=(h|0))if((i[e+392>>0]|0)==0){a=-1;c=t;return a|0}else{l=o[e+288>>2]|0;d=o[l+(b+-1<<2)>>2]|0;_=+(o[(o[e+280>>2]|0)+(d<<2)>>2]|0)>0?d:o[l>>2]|0;l=e+88|0;hi(e,_,o[(o[l>>2]|0)+(_<<2)>>2]|2);ci(e);m=l;p=o[u>>2]|0;break}else{m=e+88|0;p=b}while(0);b=p+1|0;o[u>>2]=b;o[(o[m>>2]|0)+(p<<2)>>2]=0;m=o[e+160>>2]|0;if((m|0)!=0)o[m+(p<<2)>>2]=0;m=o[e+168>>2]|0;if((m|0)!=0)o[m+(p<<2)>>2]=0;m=o[e+176>>2]|0;if((m|0)!=0)o[m+(p<<2)>>2]=0;m=r+4|0;u=o[m+4>>2]|0;h=(o[e+96>>2]|0)+(p<<3)|0;o[h>>2]=o[m>>2];o[h+4>>2]=u;u=r+12|0;h=o[u+4>>2]|0;m=(o[e+104>>2]|0)+(p<<3)|0;o[m>>2]=o[u>>2];o[m+4>>2]=h;s[(o[e+116>>2]|0)+(p<<2)>>2]=0;h=8784;m=o[h+4>>2]|0;u=(o[e+112>>2]|0)+(p<<3)|0;o[u>>2]=o[h>>2];o[u+4>>2]=m;m=o[e+120>>2]|0;if((m|0)!=0)s[m+(p<<2)>>2]=0;m=o[e+132>>2]|0;if((m|0)!=0)s[m+(p<<2)>>2]=0;m=e+136|0;u=o[m>>2]|0;h=r+20|0;do if((u|0)==0){if((((i[h>>0]|0)==0?(i[r+21>>0]|0)==0:0)?(i[r+22>>0]|0)==0:0)?(i[r+23>>0]|0)==0:0)break;l=o[f>>2]|0;if((l|0)==0){si(e,256);y=o[f>>2]|0}else y=l;l=wd(o[n>>2]|0,y<<2)|0;cb(l|0,0,o[f>>2]<<2|0)|0;w=l;v=26}else{w=u;v=26}while(0);if((v|0)==26){o[m>>2]=w;m=i[r+21>>0]|0;u=i[r+22>>0]|0;y=i[r+23>>0]|0;i[w+(p<<2)>>0]=i[h>>0]|0;i[w+(p<<2)+1>>0]=m;i[w+(p<<2)+2>>0]=u;i[w+(p<<2)+3>>0]=y}y=e+148|0;w=o[y>>2]|0;u=r+28|0;if((w|0)==0){if((o[u>>2]|0)!=0){m=o[f>>2]|0;if((m|0)==0){si(e,256);S=o[f>>2]|0}else S=m;m=wd(o[n>>2]|0,S<<2)|0;cb(m|0,0,o[f>>2]<<2|0)|0;E=m;v=32}}else{E=w;v=32}if((v|0)==32){o[y>>2]=E;o[E+(p<<2)>>2]=o[u>>2]}u=o[e+80>>2]|0;if((u|0)!=0)o[u+(p<<2)>>2]=0;u=e+200|0;E=e+204|0;y=o[E>>2]|0;v=e+208|0;w=o[v>>2]|0;if((y|0)>=(w|0)?(m=(w|0)==0?256:w<<1,(w|0)<(m|0)):0){w=e+212|0;f=wd(o[w>>2]|0,m<<3)|0;S=o[u>>2]|0;if((S|0)!=0){hb(f|0,S|0,o[E>>2]<<3|0)|0;vd(o[w>>2]|0,o[u>>2]|0,o[v>>2]<<3)}o[v>>2]=m;o[u>>2]=f;g=o[E>>2]|0}else g=y;o[E>>2]=g+1;E=o[u>>2]|0;k=+s[r+24>>2];u=k>0;if((o[e+280>>2]|0)!=0|u){if(u)M=k;else{u=o[e+300>>2]|0;M=+s[e+396>>2]*+(((u|0)<0?0-u|0:0)-u|0)}di(e,p,M);o[(o[e+288>>2]|0)+(p<<2)>>2]=p}o[E+(g<<3)>>2]=p;g=o[r+32>>2]|0;o[(o[e+144>>2]|0)+(p<<2)>>2]=g;do if((g|0)!=0){E=g+4|0;u=o[E>>2]|0;
y=g+8|0;f=o[y>>2]|0;if((u|0)<(f|0)){bi(e,u,f,p);o[y>>2]=b;break}else{o[E>>2]=p;o[y>>2]=b;break}}while(0);hi(e,p,o[r>>2]|0);a=p;c=t;return a|0}function ci(e){e=e|0;var r=0,t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0;r=c;t=e+400|0;n=e+44|0;a=Jd((o[t>>2]|0)+76|0,o[n>>2]<<2)|0;if((o[n>>2]|0)>0){u=e+88|0;l=e+80|0;f=e+160|0;d=e+168|0;b=e+176|0;h=e+96|0;_=e+104|0;m=e+144|0;p=e+21|0;y=e+120|0;w=e+132|0;v=e+136|0;S=e+148|0;E=e+280|0;g=e+112|0;k=e+64|0;M=0;P=0;A=0;while(1){F=o[u>>2]|0;C=o[F+(P<<2)>>2]|0;if((C&2|0)==0){o[a+(P<<2)>>2]=A;if((P|0)!=(A|0)){D=o[l>>2]|0;if((D|0)==0)B=F;else{F=o[D+(P<<2)>>2]|0;if((F|0)!=0)o[F+8>>2]=A;o[D+(A<<2)>>2]=F;B=o[u>>2]|0}o[B+(A<<2)>>2]=o[B+(P<<2)>>2];F=o[f>>2]|0;if((F|0)!=0)o[F+(A<<2)>>2]=o[F+(P<<2)>>2];F=o[d>>2]|0;if((F|0)!=0)o[F+(A<<2)>>2]=o[F+(P<<2)>>2];F=o[b>>2]|0;if((F|0)!=0)o[F+(A<<2)>>2]=o[F+(P<<2)>>2];F=o[h>>2]|0;D=F+(P<<3)|0;R=o[D+4>>2]|0;T=F+(A<<3)|0;o[T>>2]=o[D>>2];o[T+4>>2]=R;R=o[_>>2]|0;T=R+(P<<3)|0;D=o[T+4>>2]|0;F=R+(A<<3)|0;o[F>>2]=o[T>>2];o[F+4>>2]=D;D=o[m>>2]|0;o[D+(A<<2)>>2]=o[D+(P<<2)>>2];if((i[p>>0]|0)!=0){D=o[g>>2]|0;F=D+(P<<3)|0;T=o[F+4>>2]|0;R=D+(A<<3)|0;o[R>>2]=o[F>>2];o[R+4>>2]=T}T=o[y>>2]|0;if((T|0)!=0)s[T+(A<<2)>>2]=+s[T+(P<<2)>>2];T=o[w>>2]|0;if((T|0)!=0)s[T+(A<<2)>>2]=+s[T+(P<<2)>>2];T=o[v>>2]|0;if((T|0)!=0){R=i[T+(P<<2)+1>>0]|0;F=i[T+(P<<2)+2>>0]|0;D=i[T+(P<<2)+3>>0]|0;i[T+(A<<2)>>0]=i[T+(P<<2)>>0]|0;i[T+(A<<2)+1>>0]=R;i[T+(A<<2)+2>>0]=F;i[T+(A<<2)+3>>0]=D}D=o[S>>2]|0;if((D|0)!=0)o[D+(A<<2)>>2]=o[D+(P<<2)>>2];D=o[E>>2]|0;if((D|0)!=0)o[D+(A<<2)>>2]=o[D+(P<<2)>>2]}O=C|M;x=A+1|0}else{D=o[(o[t>>2]|0)+102992>>2]|0;if(!((C&512|0)==0|(D|0)==0))mh[o[(o[D>>2]|0)+20>>2]&7](D,e,P);D=o[l>>2]|0;if((D|0)!=0?(C=D+(P<<2)|0,D=o[C>>2]|0,(D|0)!=0):0){o[D+8>>2]=-1;o[C>>2]=0;md(k,D)}o[a+(P<<2)>>2]=-1;O=M;x=A}P=P+1|0;if((P|0)>=(o[n>>2]|0)){L=O;N=x;break}else{M=O;A=x}}}else{L=0;N=0}x=e+204|0;A=o[x>>2]|0;O=e+200|0;M=o[O>>2]|0;if((A|0)>0){P=0;do{k=M+(P<<3)|0;o[k>>2]=o[a+(o[k>>2]<<2)>>2];P=P+1|0;k=o[x>>2]|0}while((P|0)<(k|0));I=k}else I=A;A=M+(I<<3)|0;e:do if((I|0)==0){J=M;G=40}else{P=M;while(1){if((o[P>>2]|0)<0){J=P;G=40;break e}P=P+8|0;if((P|0)==(A|0)){W=A;V=M;break}}}while(0);if((G|0)==40)if((J|0)==(A|0)){W=A;V=M}else{M=J;I=J;e:while(1){J=I;do{J=J+8|0;if((J|0)==(A|0))break e}while((o[J>>2]|0)<0);P=J;k=o[P+4>>2]|0;l=M;o[l>>2]=o[P>>2];o[l+4>>2]=k;M=M+8|0;I=J}W=M;V=o[O>>2]|0}o[x>>2]=W-V>>3;V=e+220|0;W=o[V>>2]|0;x=e+216|0;O=o[x>>2]|0;if((W|0)>0){M=0;do{I=O+(M*24|0)|0;A=O+(M*24|0)+4|0;k=o[a+(o[A>>2]<<2)>>2]|0;o[I>>2]=o[a+(o[I>>2]<<2)>>2];o[A>>2]=k;M=M+1|0;k=o[V>>2]|0}while((M|0)<(k|0));z=k}else z=W;W=O+(z*24|0)|0;e:do if((z|0)==0){H=O;G=52}else{M=O;while(1){if((o[M>>2]|0)<0){H=M;G=52;break e}if((o[M+4>>2]|0)<0){H=M;G=52;break e}M=M+24|0;if((M|0)==(W|0)){U=W;q=O;break}}}while(0);if((G|0)==52)if((H|0)==(W|0)){U=W;q=O}else{O=H+24|0;e:do if((O|0)==(W|0))j=H;else{z=H;M=O;J=H;while(1){k=M;A=J;while(1){if((o[k>>2]|0)>=0?(o[A+28>>2]|0)>=0:0)break;I=k+24|0;if((I|0)==(W|0)){j=z;break e}else{l=k;k=I;A=l}}o[z+0>>2]=o[k+0>>2];o[z+4>>2]=o[k+4>>2];o[z+8>>2]=o[k+8>>2];o[z+12>>2]=o[k+12>>2];o[z+16>>2]=o[k+16>>2];o[z+20>>2]=o[k+20>>2];A=z+24|0;M=k+24|0;if((M|0)==(W|0)){j=A;break}else{z=A;J=k}}}while(0);U=j;q=o[x>>2]|0}o[V>>2]=(U-q|0)/24|0;q=e+236|0;U=o[q>>2]|0;V=e+232|0;x=o[V>>2]|0;if((U|0)>0){j=0;do{W=x+(j*28|0)|0;o[W>>2]=o[a+(o[W>>2]<<2)>>2];j=j+1|0;W=o[q>>2]|0}while((j|0)<(W|0));Y=W}else Y=U;U=x+(Y*28|0)|0;e:do if((Y|0)==0){Z=x;G=65}else{j=x;while(1){if((o[j>>2]|0)<0){Z=j;G=65;break e}j=j+28|0;if((j|0)==(U|0)){X=U;K=x;break}}}while(0);if((G|0)==65)if((Z|0)==(U|0)){X=U;K=x}else{x=Z;Y=Z;e:while(1){Z=Y;do{Z=Z+28|0;if((Z|0)==(U|0))break e}while((o[Z>>2]|0)<0);o[x+0>>2]=o[Z+0>>2];o[x+4>>2]=o[Z+4>>2];o[x+8>>2]=o[Z+8>>2];o[x+12>>2]=o[Z+12>>2];o[x+16>>2]=o[Z+16>>2];o[x+20>>2]=o[Z+20>>2];o[x+24>>2]=o[Z+24>>2];x=x+28|0;Y=Z}X=x;K=o[V>>2]|0}o[q>>2]=(X-K|0)/28|0;K=e+252|0;X=o[K>>2]|0;q=e+248|0;V=o[q>>2]|0;if((X|0)>0){x=0;do{Y=V+(x*20|0)|0;o[Y>>2]=o[a+(o[Y>>2]<<2)>>2];Y=V+(x*20|0)+4|0;o[Y>>2]=o[a+(o[Y>>2]<<2)>>2];x=x+1|0;Y=o[K>>2]|0}while((x|0)<(Y|0));Q=Y}else Q=X;X=V+(Q*20|0)|0;e:do if((Q|0)==0){$=V;G=77}else{x=V;while(1){if((o[x>>2]|0)<0){$=x;G=77;break e}if((o[x+4>>2]|0)<0){$=x;G=77;break e}x=x+20|0;if((x|0)==(X|0)){ee=X;re=V;break}}}while(0);if((G|0)==77)if(($|0)==(X|0)){ee=X;re=V}else{V=$+20|0;e:do if((V|0)==(X|0))te=$;else{Q=$;x=V;Z=$;while(1){Y=x;U=Z;while(1){if((o[Y>>2]|0)>=0?(o[U+24>>2]|0)>=0:0)break;j=Y+20|0;if((j|0)==(X|0)){te=Q;break e}else{W=Y;Y=j;U=W}}o[Q+0>>2]=o[Y+0>>2];o[Q+4>>2]=o[Y+4>>2];o[Q+8>>2]=o[Y+8>>2];o[Q+12>>2]=o[Y+12>>2];o[Q+16>>2]=o[Y+16>>2];U=Q+20|0;x=Y+20|0;if((x|0)==(X|0)){te=U;break}else{Q=U;Z=Y}}}while(0);ee=te;re=o[q>>2]|0}o[K>>2]=(ee-re|0)/20|0;re=e+268|0;ee=o[re>>2]|0;K=e+264|0;q=o[K>>2]|0;if((ee|0)>0){te=0;do{X=q+(te*60|0)|0;o[X>>2]=o[a+(o[X>>2]<<2)>>2];X=q+(te*60|0)+4|0;o[X>>2]=o[a+(o[X>>2]<<2)>>2];X=q+(te*60|0)+8|0;o[X>>2]=o[a+(o[X>>2]<<2)>>2];te=te+1|0;X=o[re>>2]|0}while((te|0)<(X|0));ie=X}else ie=ee;ee=q+(ie*60|0)|0;e:do if((ie|0)==0){ne=q;G=92}else{te=q;while(1){if((o[te>>2]|0)<0){ne=te;G=92;break e}if((o[te+4>>2]|0)<0){ne=te;G=92;break e}if((o[te+8>>2]|0)<0){ne=te;G=92;break e}te=te+60|0;if((te|0)==(ee|0)){oe=ee;ae=q;break}}}while(0);if((G|0)==92)if((ne|0)==(ee|0)){oe=ee;ae=q}else{q=ne+60|0;e:do if((q|0)==(ee|0))ue=ne;else{G=ne;ie=q;te=ne;while(1){X=ie;$=te;while(1){if(((o[X>>2]|0)>=0?(o[$+64>>2]|0)>=0:0)?(o[$+68>>2]|0)>=0:0)break;V=X+60|0;if((V|0)==(ee|0)){ue=G;break e}else{Z=X;X=V;$=Z}}$=G+0|0;Y=X+0|0;Z=$+60|0;do{o[$>>2]=o[Y>>2];$=$+4|0;Y=Y+4|0}while(($|0)<(Z|0));Y=G+60|0;ie=X+60|0;if((ie|0)==(ee|0)){ue=Y;break}else{G=Y;te=X}}}while(0);oe=ue;ae=o[K>>2]|0}o[re>>2]=(oe-ae|0)/60|0;ae=o[e+288>>2]|0;if((ae|0)!=0?(oe=o[n>>2]|0,(oe|0)>0):0){re=oe;oe=0;K=0;while(1){ue=o[a+(o[ae+(oe<<2)>>2]<<2)>>2]|0;if((ue|0)==-1){le=re;se=K}else{o[ae+(K<<2)>>2]=ue;le=o[n>>2]|0;se=K+1|0}oe=oe+1|0;if((oe|0)>=(le|0))break;else{re=le;K=se}}}se=e+312|0;K=o[se>>2]|0;if((K|0)!=0){le=e+16|0;re=e+132|0;oe=e+48|0;ae=e+20|0;ue=K;do{K=ue+4|0;ee=o[K>>2]|0;ne=ue+8|0;q=o[ne>>2]|0;if((ee|0)<(q|0)){te=N;G=ee;ee=0;ie=0;while(1){Y=o[a+(G<<2)>>2]|0;if((Y|0)>-1){$=Y+1|0;fe=(te|0)<(Y|0)?te:Y;ce=(ee|0)>($|0)?ee:$;de=ie}else{fe=te;ce=ee;de=1}G=G+1|0;if((G|0)>=(q|0)){be=fe;he=ce;_e=de;break}else{te=fe;ee=ce;ie=de}}}else{be=N;he=0;_e=0}if((be|0)<(he|0)){o[K>>2]=be;o[ne>>2]=he;if(_e?(ie=ue+12|0,ee=o[ie>>2]|0,(ee&1|0)!=0):0){te=ee|16;ee=o[le>>2]|0;if((te&~ee|0)!=0){q=o[re>>2]|0;if((q|0)==0){G=o[oe>>2]|0;if((G|0)==0){si(e,256);me=o[oe>>2]|0}else me=G;G=wd(o[t>>2]|0,me<<2)|0;cb(G|0,0,o[oe>>2]<<2|0)|0;pe=G;ye=o[le>>2]|0}else{pe=q;ye=ee}o[re>>2]=pe;o[le>>2]=ye|te}o[ie>>2]=te}}else{o[K>>2]=0;o[ne>>2]=0;te=ue+12|0;ie=o[te>>2]|0;if((ie&4|0)==0){ee=ie|8;if(((ie&-9^-9)&ie|0)!=0)i[ae>>0]=1;q=o[le>>2]|0;if((ee&~q|0)!=0){if((ie&1|0)==0)we=q;else{ie=o[re>>2]|0;if((ie|0)==0){G=o[oe>>2]|0;if((G|0)==0){si(e,256);ve=o[oe>>2]|0}else ve=G;G=wd(o[t>>2]|0,ve<<2)|0;cb(G|0,0,o[oe>>2]<<2|0)|0;Se=G;Ee=o[le>>2]|0}else{Se=ie;Ee=q}o[re>>2]=Se;we=Ee}o[le>>2]=we|ee}o[te>>2]=ee}}ue=o[ue+24>>2]|0}while((ue|0)!=0)}o[n>>2]=N;Wd((o[t>>2]|0)+76|0,a);o[e+8>>2]=L;i[e+12>>0]=0;L=o[se>>2]|0;if((L|0)==0){c=r;return}else ge=L;do{L=ge;ge=o[ge+24>>2]|0;if((o[L+12>>2]&8|0)!=0)ui(e,L)}while((ge|0)!=0);c=r;return}function di(e,r,t){e=e|0;r=r|0;t=+t;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0;n=c;a=e+288|0;u=o[a>>2]|0;l=(u|0)==0;f=e+280|0;d=o[f>>2]|0;if((d|0)==0){b=e+48|0;h=o[b>>2]|0;if((h|0)==0){si(e,256);_=o[b>>2]|0}else _=h;h=wd(o[e+400>>2]|0,_<<2)|0;cb(h|0,0,o[b>>2]<<2|0)|0;m=h;p=o[a>>2]|0}else{m=d;p=u}o[f>>2]=m;if((p|0)==0){m=e+48|0;u=o[m>>2]|0;if((u|0)==0){si(e,256);y=o[m>>2]|0}else y=u;u=wd(o[e+400>>2]|0,y<<2)|0;cb(u|0,0,o[m>>2]<<2|0)|0;w=u}else w=p;o[a>>2]=w;if(l?(l=o[e+44>>2]|0,(l|0)>0):0){a=0;do{o[w+(a<<2)>>2]=a;a=a+1|0}while((a|0)!=(l|0))}l=~~(t/+s[e+396>>2]);if((l|0)>0)v=(o[e+300>>2]|0)+l|0;else v=l;l=(o[f>>2]|0)+(r<<2)|0;if((v|0)==(o[l>>2]|0)){c=n;return}o[l>>2]=v;i[e+304>>0]=1;c=n;return}function bi(e,r,t,n){e=e|0;r=r|0;t=t|0;n=n|0;var a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0;a=c;if((r|0)==(t|0)|(t|0)==(n|0)){c=a;return}u=o[e+88>>2]|0;l=u+(r<<2)|0;f=u+(t<<2)|0;d=u+(n<<2)|0;e:do if((r+1|0)!=(t|0)){if((t+1|0)==(n|0)){b=u+(n+-1<<2)|0;h=o[b>>2]|0;_=b-l|0;_b(u+(n-(_>>2)<<2)|0,l|0,_|0)|0;o[l>>2]=h;break}h=f;_=h-l>>2;b=d;m=b-h>>2;if((_|0)==(m|0)){h=l;p=f;while(1){y=o[h>>2]|0;o[h>>2]=o[p>>2];o[p>>2]=y;h=h+4|0;if((h|0)==(f|0))break e;else p=p+4|0}}else{w=_;v=m}while(1){p=(w|0)%(v|0)|0;if((p|0)==0)break;else{h=v;v=p;w=h}}if((v|0)!=0){m=_+-1|0;h=_+r|0;p=u+(v+r<<2)|0;do{y=p;p=p+-4|0;S=o[p>>2]|0;E=p;g=y+(m<<2)|0;while(1){o[E>>2]=o[g>>2];y=b-g>>2;if((_|0)<(y|0))k=g+(_<<2)|0;else k=u+(h-y<<2)|0;if((k|0)==(p|0))break;else{y=g;g=k;E=y}}o[g>>2]=S}while((p|0)!=(l|0))}}else{p=o[l>>2]|0;h=d-f|0;_b(l|0,f|0,h|0)|0;o[u+((h>>2)+r<<2)>>2]=p}while(0);u=o[e+160>>2]|0;e:do if((u|0)!=0){f=u+(r<<2)|0;l=u+(t<<2)|0;d=u+(n<<2)|0;if((r+1|0)==(t|0)){k=o[f>>2]|0;v=d-l|0;_b(f|0,l|0,v|0)|0;o[u+((v>>2)+r<<2)>>2]=k;break}if((t+1|0)==(n|0)){k=u+(n+-1<<2)|0;v=o[k>>2]|0;w=k-f|0;_b(u+(n-(w>>2)<<2)|0,f|0,w|0)|0;o[f>>2]=v;break}v=l;w=v-f>>2;k=d;d=k-v>>2;if((w|0)==(d|0)){v=f;p=l;while(1){h=o[v>>2]|0;o[v>>2]=o[p>>2];o[p>>2]=h;v=v+4|0;if((v|0)==(l|0))break e;else p=p+4|0}}else{M=w;P=d}while(1){p=(M|0)%(P|0)|0;if((p|0)==0)break;else{l=P;P=p;M=l}}if((P|0)!=0){d=w+-1|0;l=w+r|0;p=u+(P+r<<2)|0;do{v=p;p=p+-4|0;h=o[p>>2]|0;_=p;b=v+(d<<2)|0;while(1){o[_>>2]=o[b>>2];v=k-b>>2;if((w|0)<(v|0))A=b+(w<<2)|0;else A=u+(l-v<<2)|0;if((A|0)==(p|0))break;else{v=b;b=A;_=v}}o[b>>2]=h}while((p|0)!=(f|0))}}while(0);A=o[e+168>>2]|0;e:do if((A|0)!=0){u=A+(r<<2)|0;P=A+(t<<2)|0;M=A+(n<<2)|0;if((r+1|0)==(t|0)){f=o[u>>2]|0;p=M-P|0;_b(u|0,P|0,p|0)|0;o[A+((p>>2)+r<<2)>>2]=f;break}if((t+1|0)==(n|0)){f=A+(n+-1<<2)|0;p=o[f>>2]|0;l=f-u|0;_b(A+(n-(l>>2)<<2)|0,u|0,l|0)|0;o[u>>2]=p;break}p=P;l=p-u>>2;f=M;M=f-p>>2;if((l|0)==(M|0)){p=u;w=P;while(1){k=o[p>>2]|0;o[p>>2]=o[w>>2];o[w>>2]=k;p=p+4|0;if((p|0)==(P|0))break e;else w=w+4|0}}else{F=l;C=M}while(1){w=(F|0)%(C|0)|0;if((w|0)==0)break;else{P=C;C=w;F=P}}if((C|0)!=0){M=l+-1|0;P=l+r|0;w=A+(C+r<<2)|0;do{p=w;w=w+-4|0;k=o[w>>2]|0;d=w;_=p+(M<<2)|0;while(1){o[d>>2]=o[_>>2];p=f-_>>2;if((l|0)<(p|0))D=_+(l<<2)|0;else D=A+(P-p<<2)|0;if((D|0)==(w|0))break;else{p=_;_=D;d=p}}o[_>>2]=k}while((w|0)!=(u|0))}}while(0);D=o[e+176>>2]|0;e:do if((D|0)!=0){A=D+(r<<2)|0;C=D+(t<<2)|0;F=D+(n<<2)|0;if((r+1|0)==(t|0)){u=o[A>>2]|0;w=F-C|0;_b(A|0,C|0,w|0)|0;o[D+((w>>2)+r<<2)>>2]=u;break}if((t+1|0)==(n|0)){u=D+(n+-1<<2)|0;w=o[u>>2]|0;P=u-A|0;_b(D+(n-(P>>2)<<2)|0,A|0,P|0)|0;o[A>>2]=w;break}w=C;P=w-A>>2;u=F;F=u-w>>2;if((P|0)==(F|0)){w=A;l=C;while(1){f=o[w>>2]|0;o[w>>2]=o[l>>2];o[l>>2]=f;w=w+4|0;if((w|0)==(C|0))break e;else l=l+4|0}}else{B=P;R=F}while(1){l=(B|0)%(R|0)|0;if((l|0)==0)break;else{C=R;R=l;B=C}}if((R|0)!=0){F=P+-1|0;C=P+r|0;l=D+(R+r<<2)|0;do{w=l;l=l+-4|0;f=o[l>>2]|0;M=l;d=w+(F<<2)|0;while(1){o[M>>2]=o[d>>2];w=u-d>>2;if((P|0)<(w|0))T=d+(P<<2)|0;else T=D+(C-w<<2)|0;if((T|0)==(l|0))break;else{w=d;d=T;M=w}}o[d>>2]=f}while((l|0)!=(A|0))}}while(0);T=o[e+96>>2]|0;D=T+(r<<3)|0;R=T+(t<<3)|0;B=T+(n<<3)|0;e:do if((r+1|0)!=(t|0)){if((t+1|0)==(n|0)){A=T+(n+-1<<3)|0;l=A;C=o[l>>2]|0;P=o[l+4>>2]|0;l=A-D|0;_b(T+(n-(l>>3)<<3)|0,D|0,l|0)|0;l=D;o[l>>2]=C;o[l+4>>2]=P;break}P=R;l=P-D>>3;C=B;A=C-P>>3;if((l|0)==(A|0)){P=D;u=R;while(1){F=P;M=o[F>>2]|0;k=o[F+4>>2]|0;F=u;_=o[F+4>>2]|0;w=P;o[w>>2]=o[F>>2];o[w+4>>2]=_;_=u;o[_>>2]=M;o[_+4>>2]=k;P=P+8|0;if((P|0)==(R|0))break e;else u=u+8|0}}else{O=l;x=A}while(1){u=(O|0)%(x|0)|0;if((u|0)==0)break;else{P=x;x=u;O=P}}if((x|0)!=0){A=l+-1|0;P=l+r|0;u=T+(x+r<<3)|0;do{k=u;u=u+-8|0;_=u;M=o[_>>2]|0;w=o[_+4>>2]|0;_=u;F=k+(A<<3)|0;while(1){k=F;h=o[k+4>>2]|0;b=_;o[b>>2]=o[k>>2];o[b+4>>2]=h;h=C-F>>3;if((l|0)<(h|0))L=F+(l<<3)|0;else L=T+(P-h<<3)|0;if((L|0)==(u|0))break;else{h=F;F=L;_=h}}_=F;o[_>>2]=M;o[_+4>>2]=w}while((u|0)!=(D|0))}}else{u=D;P=o[u>>2]|0;l=o[u+4>>2]|0;u=B-R|0;_b(D|0,R|0,u|0)|0;C=T+((u>>3)+r<<3)|0;o[C>>2]=P;o[C+4>>2]=l}while(0);T=o[e+104>>2]|0;R=T+(r<<3)|0;D=T+(t<<3)|0;B=T+(n<<3)|0;e:do if((r+1|0)!=(t|0)){if((t+1|0)==(n|0)){L=T+(n+-1<<3)|0;x=L;O=o[x>>2]|0;l=o[x+4>>2]|0;x=L-R|0;_b(T+(n-(x>>3)<<3)|0,R|0,x|0)|0;x=R;o[x>>2]=O;o[x+4>>2]=l;break}l=D;x=l-R>>3;O=B;L=O-l>>3;if((x|0)==(L|0)){l=R;C=D;while(1){P=l;u=o[P>>2]|0;A=o[P+4>>2]|0;P=C;_=o[P+4>>2]|0;f=l;o[f>>2]=o[P>>2];o[f+4>>2]=_;_=C;o[_>>2]=u;o[_+4>>2]=A;l=l+8|0;if((l|0)==(D|0))break e;else C=C+8|0}}else{N=x;I=L}while(1){C=(N|0)%(I|0)|0;if((C|0)==0)break;else{l=I;I=C;N=l}}if((I|0)!=0){L=x+-1|0;l=x+r|0;C=T+(I+r<<3)|0;do{A=C;C=C+-8|0;_=C;u=o[_>>2]|0;f=o[_+4>>2]|0;_=C;P=A+(L<<3)|0;while(1){A=P;d=o[A+4>>2]|0;h=_;o[h>>2]=o[A>>2];o[h+4>>2]=d;d=O-P>>3;if((x|0)<(d|0))J=P+(x<<3)|0;else J=T+(l-d<<3)|0;if((J|0)==(C|0))break;else{d=P;P=J;_=d}}_=P;o[_>>2]=u;o[_+4>>2]=f}while((C|0)!=(R|0))}}else{C=R;l=o[C>>2]|0;x=o[C+4>>2]|0;C=B-D|0;_b(R|0,D|0,C|0)|0;O=T+((C>>3)+r<<3)|0;o[O>>2]=l;o[O+4>>2]=x}while(0);T=o[e+144>>2]|0;D=T+(r<<2)|0;R=T+(t<<2)|0;B=T+(n<<2)|0;e:do if((r+1|0)!=(t|0)){if((t+1|0)==(n|0)){J=T+(n+-1<<2)|0;I=o[J>>2]|0;N=J-D|0;_b(T+(n-(N>>2)<<2)|0,D|0,N|0)|0;o[D>>2]=I;break}I=R;N=I-D>>2;J=B;x=J-I>>2;if((N|0)==(x|0)){I=D;O=R;while(1){l=o[I>>2]|0;o[I>>2]=o[O>>2];o[O>>2]=l;I=I+4|0;if((I|0)==(R|0))break e;else O=O+4|0}}else{G=N;W=x}while(1){O=(G|0)%(W|0)|0;if((O|0)==0)break;else{I=W;W=O;G=I}}if((W|0)!=0){x=N+-1|0;I=N+r|0;O=T+(W+r<<2)|0;do{l=O;O=O+-4|0;C=o[O>>2]|0;L=O;_=l+(x<<2)|0;while(1){o[L>>2]=o[_>>2];l=J-_>>2;if((N|0)<(l|0))V=_+(N<<2)|0;else V=T+(I-l<<2)|0;if((V|0)==(O|0))break;else{l=_;_=V;L=l}}o[_>>2]=C}while((O|0)!=(D|0))}}else{O=o[D>>2]|0;I=B-R|0;_b(D|0,R|0,I|0)|0;o[T+((I>>2)+r<<2)>>2]=O}while(0);e:do if((i[e+21>>0]|0)!=0){T=o[e+112>>2]|0;R=T+(r<<3)|0;D=T+(t<<3)|0;B=T+(n<<3)|0;if((r+1|0)==(t|0)){V=R;W=o[V>>2]|0;G=o[V+4>>2]|0;V=B-D|0;_b(R|0,D|0,V|0)|0;O=T+((V>>3)+r<<3)|0;o[O>>2]=W;o[O+4>>2]=G;break}if((t+1|0)==(n|0)){G=T+(n+-1<<3)|0;O=G;W=o[O>>2]|0;V=o[O+4>>2]|0;O=G-R|0;_b(T+(n-(O>>3)<<3)|0,R|0,O|0)|0;O=R;o[O>>2]=W;o[O+4>>2]=V;break}V=D;O=V-R>>3;W=B;B=W-V>>3;if((O|0)==(B|0)){V=R;G=D;while(1){I=V;N=o[I>>2]|0;J=o[I+4>>2]|0;I=G;x=o[I+4>>2]|0;L=V;o[L>>2]=o[I>>2];o[L+4>>2]=x;x=G;o[x>>2]=N;o[x+4>>2]=J;V=V+8|0;if((V|0)==(D|0))break e;else G=G+8|0}}else{z=O;H=B}while(1){G=(z|0)%(H|0)|0;if((G|0)==0)break;else{D=H;H=G;z=D}}if((H|0)!=0){B=O+-1|0;D=O+r|0;G=T+(H+r<<3)|0;do{V=G;G=G+-8|0;J=G;x=o[J>>2]|0;N=o[J+4>>2]|0;J=G;L=V+(B<<3)|0;while(1){V=L;I=o[V+4>>2]|0;f=J;o[f>>2]=o[V>>2];o[f+4>>2]=I;I=W-L>>3;if((O|0)<(I|0))U=L+(O<<3)|0;else U=T+(D-I<<3)|0;if((U|0)==(G|0))break;else{I=L;L=U;J=I}}J=L;o[J>>2]=x;o[J+4>>2]=N}while((G|0)!=(R|0))}}while(0);U=o[e+120>>2]|0;e:do if((U|0)!=0){H=U+(r<<2)|0;z=U+(t<<2)|0;R=U+(n<<2)|0;if((r+1|0)==(t|0)){q=+s[H>>2];G=R-z|0;_b(H|0,z|0,G|0)|0;s[U+((G>>2)+r<<2)>>2]=q;break}if((t+1|0)==(n|0)){G=U+(n+-1<<2)|0;q=+s[G>>2];D=G-H|0;_b(U+(n-(D>>2)<<2)|0,H|0,D|0)|0;s[H>>2]=q;break}D=z;G=D-H>>2;T=R;R=T-D>>2;if((G|0)==(R|0)){D=H;O=z;while(1){q=+s[D>>2];s[D>>2]=+s[O>>2];s[O>>2]=q;D=D+4|0;if((D|0)==(z|0))break e;else O=O+4|0}}else{j=G;Y=R}while(1){O=(j|0)%(Y|0)|0;if((O|0)==0)break;else{z=Y;Y=O;j=z}}if((Y|0)!=0){R=G+-1|0;z=G+r|0;O=U+(Y+r<<2)|0;do{D=O;O=O+-4|0;q=+s[O>>2];W=O;B=D+(R<<2)|0;while(1){s[W>>2]=+s[B>>2];D=T-B>>2;if((G|0)<(D|0))Z=B+(G<<2)|0;else Z=U+(z-D<<2)|0;if((Z|0)==(O|0))break;else{D=B;B=Z;W=D}}s[B>>2]=q}while((O|0)!=(H|0))}}while(0);Z=o[e+132>>2]|0;e:do if((Z|0)!=0){U=Z+(r<<2)|0;Y=Z+(t<<2)|0;j=Z+(n<<2)|0;if((r+1|0)==(t|0)){X=+s[U>>2];H=j-Y|0;_b(U|0,Y|0,H|0)|0;s[Z+((H>>2)+r<<2)>>2]=X;break}if((t+1|0)==(n|0)){H=Z+(n+-1<<2)|0;X=+s[H>>2];O=H-U|0;_b(Z+(n-(O>>2)<<2)|0,U|0,O|0)|0;s[U>>2]=X;break}O=Y;H=O-U>>2;z=j;j=z-O>>2;if((H|0)==(j|0)){O=U;G=Y;while(1){X=+s[O>>2];s[O>>2]=+s[G>>2];s[G>>2]=X;O=O+4|0;if((O|0)==(Y|0))break e;else G=G+4|0}}else{K=H;Q=j}while(1){G=(K|0)%(Q|0)|0;if((G|0)==0)break;else{Y=Q;Q=G;K=Y}}if((Q|0)!=0){j=H+-1|0;Y=H+r|0;G=Z+(Q+r<<2)|0;do{O=G;G=G+-4|0;X=+s[G>>2];T=G;R=O+(j<<2)|0;while(1){s[T>>2]=+s[R>>2];O=z-R>>2;if((H|0)<(O|0))$=R+(H<<2)|0;else $=Z+(Y-O<<2)|0;if(($|0)==(G|0))break;else{O=R;R=$;T=O}}s[R>>2]=X}while((G|0)!=(U|0))}}while(0);$=o[e+136>>2]|0;if(($|0)!=0)Sr($+(r<<2)|0,$+(t<<2)|0,$+(n<<2)|0)|0;$=o[e+148>>2]|0;e:do if(($|0)!=0){Z=$+(r<<2)|0;Q=$+(t<<2)|0;K=$+(n<<2)|0;if((r+1|0)==(t|0)){U=o[Z>>2]|0;G=K-Q|0;_b(Z|0,Q|0,G|0)|0;o[$+((G>>2)+r<<2)>>2]=U;break}if((t+1|0)==(n|0)){U=$+(n+-1<<2)|0;G=o[U>>2]|0;Y=U-Z|0;_b($+(n-(Y>>2)<<2)|0,Z|0,Y|0)|0;o[Z>>2]=G;break}G=Q;Y=G-Z>>2;U=K;K=U-G>>2;if((Y|0)==(K|0)){G=Z;H=Q;while(1){z=o[G>>2]|0;o[G>>2]=o[H>>2];o[H>>2]=z;G=G+4|0;if((G|0)==(Q|0))break e;else H=H+4|0}}else{ee=Y;re=K}while(1){H=(ee|0)%(re|0)|0;if((H|0)==0)break;else{Q=re;re=H;ee=Q}}if((re|0)!=0){K=Y+-1|0;Q=Y+r|0;H=$+(re+r<<2)|0;do{G=H;H=H+-4|0;z=o[H>>2]|0;j=H;T=G+(K<<2)|0;while(1){o[j>>2]=o[T>>2];G=U-T>>2;if((Y|0)<(G|0))te=T+(Y<<2)|0;else te=$+(Q-G<<2)|0;if((te|0)==(H|0))break;else{G=T;T=te;j=G}}o[T>>2]=z}while((H|0)!=(Z|0))}}while(0);te=e+80|0;$=o[te>>2]|0;if(($|0)!=0){re=$+(r<<2)|0;ee=$+(t<<2)|0;Z=$+(n<<2)|0;e:do if((r+1|0)!=(t|0)){if((t+1|0)==(n|0)){H=$+(n+-1<<2)|0;Q=o[H>>2]|0;Y=H-re|0;_b($+(n-(Y>>2)<<2)|0,re|0,Y|0)|0;o[re>>2]=Q;break}Q=ee;Y=Q-re>>2;H=Z;U=H-Q>>2;if((Y|0)==(U|0)){Q=re;K=ee;while(1){j=o[Q>>2]|0;o[Q>>2]=o[K>>2];o[K>>2]=j;Q=Q+4|0;if((Q|0)==(ee|0))break e;else K=K+4|0}}else{ie=Y;ne=U}while(1){K=(ie|0)%(ne|0)|0;if((K|0)==0)break;else{Q=ne;ne=K;ie=Q}}if((ne|0)!=0){U=Y+-1|0;Q=Y+r|0;K=$+(ne+r<<2)|0;do{j=K;K=K+-4|0;R=o[K>>2]|0;G=K;B=j+(U<<2)|0;while(1){o[G>>2]=o[B>>2];j=H-B>>2;if((Y|0)<(j|0))oe=B+(Y<<2)|0;else oe=$+(Q-j<<2)|0;if((oe|0)==(K|0))break;else{j=B;B=oe;G=j}}o[B>>2]=R}while((K|0)!=(re|0))}}else{K=o[re>>2]|0;Q=Z-ee|0;_b(re|0,ee|0,Q|0)|0;o[$+((Q>>2)+r<<2)>>2]=K}while(0);if((r|0)<(n|0)){$=o[te>>2]|0;te=n-t|0;ee=r-t|0;re=r;do{Z=o[$+(re<<2)>>2]|0;if((Z|0)!=0){oe=Z+8|0;Z=o[oe>>2]|0;do if((Z|0)>=(r|0))if((Z|0)<(t|0)){ae=te+Z|0;break}else{ae=Z+((Z|0)<(n|0)?ee:0)|0;break}else ae=Z;while(0);o[oe>>2]=ae}re=re+1|0}while((re|0)!=(n|0))}}re=o[e+280>>2]|0;if((re|0)!=0){ae=re+(r<<2)|0;ee=re+(t<<2)|0;te=re+(n<<2)|0;e:do if((r+1|0)==(t|0)){$=o[ae>>2]|0;Z=te-ee|0;_b(ae|0,ee|0,Z|0)|0;o[re+((Z>>2)+r<<2)>>2]=$}else{if((t+1|0)==(n|0)){$=re+(n+-1<<2)|0;Z=o[$>>2]|0;ne=$-ae|0;_b(re+(n-(ne>>2)<<2)|0,ae|0,ne|0)|0;o[ae>>2]=Z;break}Z=ee;ne=Z-ae>>2;$=te;ie=$-Z>>2;if((ne|0)==(ie|0)){Z=ae;K=ee;while(1){Q=o[Z>>2]|0;o[Z>>2]=o[K>>2];o[K>>2]=Q;Z=Z+4|0;if((Z|0)==(ee|0))break e;else K=K+4|0}}else{ue=ne;le=ie}while(1){K=(ue|0)%(le|0)|0;if((K|0)==0)break;else{Z=le;le=K;ue=Z}}if((le|0)==0)break;ie=ne+-1|0;Z=ne+r|0;K=re+(le+r<<2)|0;do{oe=K;K=K+-4|0;Q=o[K>>2]|0;Y=K;H=oe+(ie<<2)|0;while(1){o[Y>>2]=o[H>>2];oe=$-H>>2;if((ne|0)<(oe|0))se=H+(ne<<2)|0;else se=re+(Z-oe<<2)|0;if((se|0)==(K|0))break;else{oe=H;H=se;Y=oe}}o[H>>2]=Q}while((K|0)!=(ae|0))}while(0);ae=o[e+44>>2]|0;se=o[e+288>>2]|0;if((ae|0)>0){re=n-t|0;le=r-t|0;ue=0;do{ee=se+(ue<<2)|0;te=o[ee>>2]|0;do if((te|0)>=(r|0))if((te|0)<(t|0)){fe=re+te|0;break}else{fe=te+((te|0)<(n|0)?le:0)|0;break}else fe=te;while(0);o[ee>>2]=fe;ue=ue+1|0}while((ue|0)!=(ae|0))}}ae=e+204|0;if((o[ae>>2]|0)>0){ue=o[e+200>>2]|0;fe=n-t|0;le=r-t|0;re=0;do{se=ue+(re<<3)|0;te=o[se>>2]|0;do if((te|0)>=(r|0))if((te|0)<(t|0)){ce=fe+te|0;break}else{ce=te+((te|0)<(n|0)?le:0)|0;break}else ce=te;while(0);o[se>>2]=ce;re=re+1|0}while((re|0)<(o[ae>>2]|0))}ae=e+220|0;if((o[ae>>2]|0)>0){re=o[e+216>>2]|0;ce=n-t|0;le=r-t|0;fe=0;do{ue=re+(fe*24|0)|0;te=o[ue>>2]|0;do if((te|0)>=(r|0))if((te|0)<(t|0)){de=ce+te|0;break}else{de=te+((te|0)<(n|0)?le:0)|0;break}else de=te;while(0);te=re+(fe*24|0)+4|0;se=o[te>>2]|0;do if((se|0)>=(r|0))if((se|0)<(t|0)){be=ce+se|0;break}else{be=se+((se|0)<(n|0)?le:0)|0;break}else be=se;while(0);o[ue>>2]=de;o[te>>2]=be;fe=fe+1|0}while((fe|0)<(o[ae>>2]|0))}ae=e+236|0;if((o[ae>>2]|0)>0){fe=o[e+232>>2]|0;be=n-t|0;de=r-t|0;le=0;do{ce=fe+(le*28|0)|0;re=o[ce>>2]|0;do if((re|0)>=(r|0))if((re|0)<(t|0)){he=be+re|0;break}else{he=re+((re|0)<(n|0)?de:0)|0;break}else he=re;while(0);o[ce>>2]=he;le=le+1|0}while((le|0)<(o[ae>>2]|0))}ae=e+252|0;if((o[ae>>2]|0)>0){le=o[e+248>>2]|0;he=n-t|0;de=r-t|0;be=0;do{fe=le+(be*20|0)|0;re=o[fe>>2]|0;do if((re|0)>=(r|0))if((re|0)<(t|0)){_e=he+re|0;break}else{_e=re+((re|0)<(n|0)?de:0)|0;break}else _e=re;while(0);o[fe>>2]=_e;re=le+(be*20|0)+4|0;ce=o[re>>2]|0;do if((ce|0)>=(r|0))if((ce|0)<(t|0)){me=he+ce|0;break}else{me=ce+((ce|0)<(n|0)?de:0)|0;break}else me=ce;while(0);o[re>>2]=me;be=be+1|0}while((be|0)<(o[ae>>2]|0))}ae=e+268|0;if((o[ae>>2]|0)>0){be=o[e+264>>2]|0;me=n-t|0;de=r-t|0;he=0;do{le=be+(he*60|0)|0;_e=o[le>>2]|0;do if((_e|0)>=(r|0))if((_e|0)<(t|0)){pe=me+_e|0;break}else{pe=_e+((_e|0)<(n|0)?de:0)|0;break}else pe=_e;while(0);o[le>>2]=pe;_e=be+(he*60|0)+4|0;re=o[_e>>2]|0;do if((re|0)>=(r|0))if((re|0)<(t|0)){ye=me+re|0;break}else{ye=re+((re|0)<(n|0)?de:0)|0;break}else ye=re;while(0);o[_e>>2]=ye;re=be+(he*60|0)+8|0;le=o[re>>2]|0;do if((le|0)>=(r|0))if((le|0)<(t|0)){we=me+le|0;break}else{we=le+((le|0)<(n|0)?de:0)|0;break}else we=le;while(0);o[re>>2]=we;he=he+1|0}while((he|0)<(o[ae>>2]|0))}ae=o[e+312>>2]|0;if((ae|0)==0){c=a;return}e=r-t|0;he=n-t|0;we=ae;do{ae=we+4|0;de=o[ae>>2]|0;do if((de|0)>=(r|0))if((de|0)<(t|0)){ve=he+de|0;break}else{ve=de+((de|0)<(n|0)?e:0)|0;break}else ve=de;while(0);o[ae>>2]=ve;de=we+8|0;re=o[de>>2]|0;me=re+-1|0;do if((re|0)>(r|0))if((re|0)>(t|0)){Se=me+((re|0)>(n|0)?0:e)|0;break}else{Se=he+me|0;break}else Se=me;while(0);o[de>>2]=Se+1;we=o[we+24>>2]|0}while((we|0)!=0);c=a;return}function hi(e,r,t){e=e|0;r=r|0;t=t|0;var n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0;n=c;a=(o[e+88>>2]|0)+(r<<2)|0;if((o[a>>2]&~t|0)!=0)i[e+12>>0]=1;r=e+8|0;if((~o[r>>2]&t|0)==0){o[a>>2]=t;c=n;return}if((t&128|0)!=0){u=e+128|0;l=o[u>>2]|0;if((l|0)==0){s=e+48|0;f=o[s>>2]|0;if((f|0)==0){si(e,256);d=o[s>>2]|0}else d=f;f=wd(o[e+400>>2]|0,d<<3)|0;cb(f|0,0,o[s>>2]<<3|0)|0;b=f}else b=l;o[u>>2]=b}if((t&256|0)!=0){b=e+136|0;u=o[b>>2]|0;if((u|0)==0){l=e+48|0;f=o[l>>2]|0;if((f|0)==0){si(e,256);h=o[l>>2]|0}else h=f;f=wd(o[e+400>>2]|0,h<<2)|0;cb(f|0,0,o[l>>2]<<2|0)|0;_=f}else _=u;o[b>>2]=_}o[r>>2]=o[r>>2]|t;o[a>>2]=t;c=n;return}function _i(e,r,t){e=e|0;r=r|0;t=t|0;var i=0;i=c;hi(e,r,o[(o[e+88>>2]|0)+(r<<2)>>2]|(t?514:2));c=i;return}function mi(e,r,t,n){e=e|0;r=r|0;t=t|0;n=n|0;var a=0,u=0,l=0,s=0,f=0,d=0;a=c;c=c+64|0;u=a+16|0;l=a;s=e+400|0;if((o[(o[s>>2]|0)+102876>>2]&2|0)!=0){f=0;c=a;return f|0}o[u>>2]=7912;d=u+12|0;o[u+4>>2]=e;o[u+8>>2]=r;o[d+0>>2]=o[t+0>>2];o[d+4>>2]=o[t+4>>2];o[d+8>>2]=o[t+8>>2];o[d+12>>2]=o[t+12>>2];i[u+28>>0]=n&1;n=u+32|0;o[n>>2]=0;gh[o[(o[r>>2]|0)+28>>2]&31](r,l,t,0);pt(o[s>>2]|0,u,l);f=o[n>>2]|0;c=a;return f|0}function pi(e,r,t,a){e=e|0;r=r|0;t=t|0;a=a|0;var u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0;u=c;c=c+96|0;l=u+48|0;f=u;d=+s[t+52>>2];if(d==0)b=+s[e+32>>2]*.75;else b=d;h=sh[o[(o[r>>2]|0)+12>>2]&7](r)|0;if((h|0)<=0){c=u;return}_=f+4|0;m=f+8|0;p=f+28|0;y=r+4|0;w=f+12|0;v=r+12|0;S=f+20|0;E=f+12|0;g=f+24|0;k=f+16|0;M=l+4|0;P=l+12|0;A=l+20|0;F=l+21|0;C=l+22|0;D=l+23|0;B=l+24|0;R=l+28|0;T=l+32|0;O=a+12|0;x=a+8|0;L=a+4|0;N=t+28|0;I=t+8|0;J=t+12|0;G=t+20|0;W=t+24|0;V=t+32|0;z=t+33|0;H=t+34|0;q=t+35|0;j=t+64|0;Y=t+68|0;Z=0;d=0;while(1){o[f>>2]=488;o[_>>2]=1;s[m>>2]=.009999999776482582;o[p+0>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;n[p+16>>1]=0;if((o[y>>2]|0)==1){X=y;K=o[X+4>>2]|0;Q=_;o[Q>>2]=o[X>>2];o[Q+4>>2]=K;o[w+0>>2]=o[v+0>>2];o[w+4>>2]=o[v+4>>2];o[w+8>>2]=o[v+8>>2];o[w+12>>2]=o[v+12>>2];o[w+16>>2]=o[v+16>>2];o[w+20>>2]=o[v+20>>2];o[w+24>>2]=o[v+24>>2];o[w+28>>2]=o[v+28>>2];n[w+32>>1]=n[v+32>>1]|0}else zf(r,f,Z);$=+s[E>>2];ee=+s[S>>2]-$;re=+s[k>>2];te=+s[g>>2]-re;ie=+U(+(ee*ee+te*te));e:do if(d<ie){ne=$;oe=re;ae=d;while(1){ue=ae/ie;le=ne+ee*ue;se=te*ue+oe;o[T>>2]=0;o[l>>2]=o[t>>2];ue=+s[O>>2];fe=+s[x>>2];ce=+s[a>>2]+(le*ue-se*fe);de=se*ue+le*fe+ +s[L>>2];fe=+ce;le=+de;K=M;s[K>>2]=fe;s[K+4>>2]=le;le=+s[N>>2];fe=+(+s[G>>2]-le*(de-+s[J>>2]));de=+(le*(ce-+s[I>>2])+ +s[W>>2]);K=P;s[K>>2]=fe;s[K+4>>2]=de;K=i[z>>0]|0;Q=i[H>>0]|0;X=i[q>>0]|0;i[A>>0]=i[V>>0]|0;i[F>>0]=K;i[C>>0]=Q;i[D>>0]=X;s[B>>2]=+s[j>>2];o[R>>2]=o[Y>>2];fi(e,l)|0;de=b+ae;if(!(de<ie)){be=de;break e}ne=+s[E>>2];oe=+s[k>>2];ae=de}}else be=d;while(0);X=Z+1|0;if((X|0)==(h|0))break;Z=X;d=be-ie}c=u;return}function yi(e,r,t,n){e=e|0;r=r|0;t=t|0;n=n|0;var a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,H=0,U=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0;a=c;c=c+80|0;u=a+40|0;l=a+24|0;f=a+8|0;d=a;b=+s[t+52>>2];if(b==0)h=+s[e+32>>2]*.75;else h=b;s[l>>2]=0;s[l+4>>2]=0;s[l+8>>2]=0;s[l+12>>2]=1;gh[o[(o[r>>2]|0)+28>>2]&31](r,f,l,0);b=h*+z(+(+s[f+4>>2]/h));_=f+12|0;m=+s[_>>2];if(!(b<m)){c=a;return}p=f+8|0;y=d+4|0;w=u+4|0;v=u+12|0;S=u+20|0;E=u+21|0;g=u+22|0;k=u+23|0;M=u+24|0;P=u+28|0;A=u+32|0;F=n+12|0;C=n+8|0;D=n+4|0;B=t+28|0;R=t+8|0;T=t+12|0;O=t+20|0;x=t+24|0;L=t+32|0;N=t+33|0;I=t+34|0;J=t+35|0;G=t+64|0;W=t+68|0;V=m;m=+s[p>>2];H=b;while(1){b=h*+z(+(+s[f>>2]/h));if(b<m){U=b;do{s[d>>2]=U;s[y>>2]=H;if(_h[o[(o[r>>2]|0)+16>>2]&15](r,l,d)|0){o[A>>2]=0;o[u>>2]=o[t>>2];b=+s[F>>2];q=+s[d>>2];j=+s[C>>2];Y=+s[y>>2];Z=+s[n>>2]+(b*q-j*Y);X=q*j+b*Y+ +s[D>>2];Y=+Z;b=+X;K=w;s[K>>2]=Y;s[K+4>>2]=b;b=+s[B>>2];Y=+(+s[O>>2]-b*(X-+s[T>>2]));X=+(b*(Z-+s[R>>2])+ +s[x>>2]);K=v;s[K>>2]=Y;s[K+4>>2]=X;K=i[N>>0]|0;Q=i[I>>0]|0;$=i[J>>0]|0;i[S>>0]=i[L>>0]|0;i[E>>0]=K;i[g>>0]=Q;i[k>>0]=$;s[M>>2]=+s[G>>2];o[P>>2]=o[W>>2];fi(e,u)|0}U=h+U;ee=+s[p>>2]}while(U<ee);re=+s[_>>2];te=ee}else{re=V;te=m}H=h+H;if(!(H<re))break;else{V=re;m=te}}c=a;return}function wi(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0;t=c;c=c+64|0;n=t+20|0;a=t;u=t+16|0;l=e+400|0;if((o[(o[l>>2]|0)+102876>>2]&2|0)!=0){f=0;c=t;return f|0}d=+s[r+16>>2];b=r+8|0;h=o[b+4>>2]|0;_=a;o[_>>2]=o[b>>2];o[_+4>>2]=h;h=a+8|0;s[h>>2]=+Y(+d);_=a+12|0;s[_>>2]=+j(+d);b=e+44|0;m=o[b>>2]|0;p=o[r+40>>2]|0;do if((p|0)!=0){y=o[p+4>>2]|0;if((y|0)==3|(y|0)==1){pi(e,p,r,a);break}else if((y|0)==0|(y|0)==2){yi(e,p,r,a);break}else break}while(0);p=o[r+44>>2]|0;if((p|0)!=0){y=o[r+48>>2]|0;o[n>>2]=7720;o[n+12>>2]=p;o[n+16>>2]=y;yi(e,n,r,a)}y=r+56|0;if((o[y>>2]|0)>0){p=r+60|0;w=n+4|0;v=n+12|0;S=n+20|0;E=n+21|0;g=n+22|0;k=n+23|0;M=n+24|0;P=n+28|0;A=n+32|0;d=+s[_>>2];F=+s[h>>2];C=+s[a>>2];D=+s[a+4>>2];h=r+28|0;_=r+8|0;B=r+12|0;R=r+20|0;T=r+24|0;O=r+32|0;x=r+33|0;L=r+34|0;N=r+35|0;I=r+64|0;J=r+68|0;G=0;do{W=(o[p>>2]|0)+(G<<3)|0;V=+s[W>>2];z=+s[W+4>>2];o[A>>2]=0;o[n>>2]=o[r>>2];H=C+(V*d-z*F);U=d*z+V*F+D;V=+H;z=+U;W=w;s[W>>2]=V;s[W+4>>2]=z;z=+s[h>>2];V=+(+s[R>>2]-z*(U-+s[B>>2]));U=+(z*(H-+s[_>>2])+ +s[T>>2]);W=v;s[W>>2]=V;s[W+4>>2]=U;W=i[x>>0]|0;q=i[L>>0]|0;Z=i[N>>0]|0;i[S>>0]=i[O>>0]|0;i[E>>0]=W;i[g>>0]=q;i[k>>0]=Z;s[M>>2]=+s[I>>2];o[P>>2]=o[J>>2];fi(e,n)|0;G=G+1|0}while((G|0)<(o[y>>2]|0))}y=o[b>>2]|0;b=wd(o[l>>2]|0,80)|0;if((b|0)==0)X=0;else{ei(b);X=b}o[X>>2]=e;o[X+4>>2]=m;o[X+8>>2]=y;s[X+16>>2]=+s[r+36>>2];o[X+76>>2]=o[r+68>>2];b=X+60|0;o[b+0>>2]=o[a+0>>2];o[b+4>>2]=o[a+4>>2];o[b+8>>2]=o[a+8>>2];o[b+12>>2]=o[a+12>>2];o[X+20>>2]=0;a=e+312|0;o[X+24>>2]=o[a>>2];b=o[a>>2]|0;if((b|0)!=0)o[b+20>>2]=X;o[a>>2]=X;a=e+308|0;o[a>>2]=(o[a>>2]|0)+1;if((m|0)<(y|0)){a=e+144|0;b=m;do{o[(o[a>>2]|0)+(b<<2)>>2]=X;b=b+1|0}while((b|0)!=(y|0))}b=o[r+4>>2]|0;a=X+12|0;G=o[a>>2]|0;n=(G^b)<<4&16|b;if((G&~n|0)!=0)i[e+20>>0]=1;G=e+16|0;J=o[G>>2]|0;if((n&~J|0)!=0){if((b&1|0)==0)K=J;else{b=e+132|0;P=o[b>>2]|0;if((P|0)==0){I=e+48|0;M=o[I>>2]|0;if((M|0)==0){si(e,256);Q=o[I>>2]|0}else Q=M;M=wd(o[l>>2]|0,Q<<2)|0;cb(M|0,0,o[I>>2]<<2|0)|0;$=M;ee=o[G>>2]|0}else{$=P;ee=J}o[b>>2]=$;K=ee}o[G>>2]=K|n}o[a>>2]=n;o[u>>2]=7544;vi(e,1);Si(e,m,y,u);u=r+72|0;r=o[u>>2]|0;if((r|0)==0){f=X;c=t;return f|0}Ei(e,r,X);f=o[u>>2]|0;c=t;return f|0}function vi(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0;t=c;c=c+32|0;i=t;n=t+8|0;a=e+204|0;u=o[a>>2]|0;l=o[e+200>>2]|0;f=l+(u<<3)|0;if((u|0)>0){d=o[e+96>>2]|0;b=+s[e+36>>2];h=l;do{_=o[h>>2]|0;o[h+4>>2]=(~~(b*+s[d+(_<<3)+4>>2]+2048)>>>0<<20)+(~~(b*+s[d+(_<<3)>>2]*256+524288)>>>0);h=h+8|0}while(h>>>0<f>>>0);m=o[a>>2]|0}else m=u;Ir(l,l+(m<<3)|0,i);i=o[e+400>>2]|0;o[n>>2]=0;o[n+4>>2]=0;m=n+8|0;o[m>>2]=0;l=n+12|0;o[l>>2]=i+76;if((o[e+8>>2]&32768|0)!=0?(o[i+102952>>2]|0)!=0:0)Bi(n,o[e+216>>2]|0,o[e+220>>2]|0,o[e+88>>2]|0);i=e+216|0;Fi(e,i);Di(e,i);Ri(e,n);if(r){r=o[i>>2]|0;u=e+220|0;e=o[u>>2]|0;a=r+(e*24|0)|0;e:do if((e|0)==0){p=r;y=12}else{f=r;while(1){if((o[f+20>>2]&2|0)!=0){p=f;y=12;break e}f=f+24|0;if((f|0)==(a|0)){w=a;v=r;break}}}while(0);if((y|0)==12)if((p|0)==(a|0)){w=a;v=r}else{r=p;y=p;e:while(1){p=y;do{e=p;p=p+24|0;if((p|0)==(a|0))break e}while((o[e+44>>2]&2|0)!=0);o[r+0>>2]=o[p+0>>2];o[r+4>>2]=o[p+4>>2];o[r+8>>2]=o[p+8>>2];o[r+12>>2]=o[p+12>>2];o[r+16>>2]=o[p+16>>2];o[r+20>>2]=o[p+20>>2];r=r+24|0;y=p}w=r;v=o[i>>2]|0}o[u>>2]=(w-v|0)/24|0}v=o[n>>2]|0;if((v|0)==0){c=t;return}Wd(o[l>>2]|0,v);o[n>>2]=0;o[m>>2]=0;c=t;return}function Si(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,q=0,j=0,Y=0,Z=0,X=0,K=0;n=c;c=c+48|0;a=n+40|0;u=n+12|0;l=n;f=(r|0)<(t|0);if(!f){c=n;return}d=o[e+88>>2]|0;b=r;h=0;do{h=o[d+(b<<2)>>2]|h;b=b+1|0}while((b|0)!=(t|0));if((h&1032|0)!=0){b=e+220|0;if((o[b>>2]|0)>0){d=e+216|0;_=e+88|0;m=e+144|0;p=e+252|0;y=e+256|0;w=e+248|0;v=e+96|0;S=e+260|0;E=0;do{g=o[d>>2]|0;k=o[g+(E*24|0)>>2]|0;M=o[g+(E*24|0)+4>>2]|0;P=o[_>>2]|0;A=o[P+(k<<2)>>2]|0;F=o[P+(M<<2)>>2]|0;P=o[m>>2]|0;C=o[P+(k<<2)>>2]|0;D=o[P+(M<<2)>>2]|0;do if((M|0)<(t|0)&(((k|0)>=(t|0)|(k|0)<(r|0)|(M|0)<(r|0))^1)?(P=F|A,!((P&2|0)!=0|(P&1032|0)==0)):0){if(!(Sh[o[(o[i>>2]|0)+8>>2]&31](i,k)|0)?!(Sh[o[(o[i>>2]|0)+8>>2]&31](i,M)|0):0)break;if((A&28|0)==0){if((C|0)==0)break;if((o[C+12>>2]&2|0)==0)break}if((F&28|0)==0){if((D|0)==0)break;if((o[D+12>>2]&2|0)==0)break}if(_h[o[(o[i>>2]|0)+12>>2]&15](i,k,M)|0){P=o[p>>2]|0;B=o[y>>2]|0;if((P|0)>=(B|0)?(R=(B|0)==0?256:B<<1,(B|0)<(R|0)):0){B=wd(o[S>>2]|0,R*20|0)|0;T=o[w>>2]|0;if((T|0)!=0){hb(B|0,T|0,(o[p>>2]|0)*20|0)|0;vd(o[S>>2]|0,o[w>>2]|0,(o[y>>2]|0)*20|0)}o[y>>2]=R;o[w>>2]=B;O=o[p>>2]|0}else O=P;o[p>>2]=O+1;P=o[w>>2]|0;o[P+(O*20|0)>>2]=k;o[P+(O*20|0)+4>>2]=M;o[P+(O*20|0)+8>>2]=o[g+(E*24|0)+20>>2];if((C|0)==0)x=1;else x=+s[C+16>>2];if((D|0)==0)L=1;else L=+s[D+16>>2];s[P+(O*20|0)+12>>2]=x<L?x:L;B=o[v>>2]|0;N=+s[B+(k<<3)>>2]-+s[B+(M<<3)>>2];I=+s[B+(k<<3)+4>>2]-+s[B+(M<<3)+4>>2];s[P+(O*20|0)+16>>2]=+U(+(N*N+I*I))}}while(0);E=E+1|0}while((E|0)<(o[b>>2]|0));J=p}else J=e+252|0;p=e+248|0;b=o[p>>2]|0;E=o[J>>2]|0;O=b+(E*20|0)|0;o[a>>2]=27;v=E*20|0;E=(v|0)/20|0;e:do if((v|0)>2560){w=E;while(1){y=ob(w*20|0,9632)|0;if((y|0)!=0){G=y;W=w;break e}if((w|0)>1)w=(w|0)/2|0;else{G=y;W=0;break}}}else{G=0;W=0}while(0);Ur(b,O,a,E,G,W);if((G|0)!=0)ab(G);G=o[p>>2]|0;W=o[J>>2]|0;E=G+(W*20|0)|0;e:do if((W|0)==0){V=G;z=40}else if((W|0)==1){H=E;q=G}else{O=G;b=G+20|0;v=o[G>>2]|0;while(1){w=v;v=o[b>>2]|0;if((w|0)==(v|0)?(o[O+4>>2]|0)==(o[O+24>>2]|0):0){V=O;z=40;break e}w=b+20|0;if((w|0)==(E|0)){H=E;q=G;break}else{y=b;b=w;O=y}}}while(0);if((z|0)==40)if((V|0)==(E|0)){H=E;q=G}else{G=V;W=V+20|0;e:while(1){V=G+4|0;O=W;do{b=O;O=O+20|0;if((O|0)==(E|0))break e;if((o[G>>2]|0)!=(o[O>>2]|0))break}while((o[V>>2]|0)==(o[b+24>>2]|0));V=G+20|0;o[V+0>>2]=o[O+0>>2];o[V+4>>2]=o[O+4>>2];o[V+8>>2]=o[O+8>>2];o[V+12>>2]=o[O+12>>2];o[V+16>>2]=o[O+16>>2];G=V;W=O}H=G+20|0;q=o[p>>2]|0}o[J>>2]=(H-q|0)/20|0}if((h&16|0)==0){c=n;return}Zt(u,(o[e+400>>2]|0)+76|0,t-r|0);
if(f){f=e+88|0;h=e+144|0;q=e+96|0;H=r;do{r=o[(o[f>>2]|0)+(H<<2)>>2]|0;do if((r&2|0)==0){J=o[(o[h>>2]|0)+(H<<2)>>2]|0;if((r&28|0)==0){if((J|0)==0)break;if((o[J+12>>2]&2|0)==0)break}J=o[q>>2]|0;Kt(u,J+(H<<3)|0,H,Sh[o[(o[i>>2]|0)+8>>2]&31](i,H)|0)}while(0);H=H+1|0}while((H|0)<(t|0))}L=+s[e+32>>2]*.75;Qt(u,L*.5,L*2);o[l>>2]=7176;o[l+4>>2]=e;o[l+8>>2]=i;$t(u,l);l=e+264|0;i=o[l>>2]|0;t=e+268|0;e=o[t>>2]|0;H=i+(e*60|0)|0;o[a>>2]=28;q=e*60|0;e=(q|0)/60|0;e:do if((q|0)>7680){h=e;while(1){f=ob(h*60|0,9632)|0;if((f|0)!=0){j=f;Y=h;break e}if((h|0)>1)h=(h|0)/2|0;else{j=f;Y=0;break}}}else{j=0;Y=0}while(0);Wr(i,H,a,e,j,Y);if((j|0)!=0)ab(j);j=o[l>>2]|0;Y=o[t>>2]|0;e=j+(Y*60|0)|0;e:do if((Y|0)==0){Z=j;z=69}else if((Y|0)==1){X=e;K=j}else{a=j;H=j+60|0;i=o[j>>2]|0;while(1){q=i;i=o[H>>2]|0;if(((q|0)==(i|0)?(o[a+4>>2]|0)==(o[a+64>>2]|0):0)?(o[a+8>>2]|0)==(o[a+68>>2]|0):0){Z=a;z=69;break e}q=H+60|0;if((q|0)==(e|0)){X=e;K=j;break}else{h=H;H=q;a=h}}}while(0);if((z|0)==69)if((Z|0)==(e|0)){X=e;K=j}else{j=Z;z=Z+60|0;e:while(1){Z=j+4|0;Y=j+8|0;a=z;do{H=a;a=a+60|0;if((a|0)==(e|0))break e;if((o[j>>2]|0)!=(o[a>>2]|0))break;if((o[Z>>2]|0)!=(o[H+64>>2]|0))break}while((o[Y>>2]|0)==(o[H+68>>2]|0));Y=j+60|0;Z=Y+0|0;H=a+0|0;i=Z+60|0;do{o[Z>>2]=o[H>>2];Z=Z+4|0;H=H+4|0}while((Z|0)<(i|0));j=Y;z=a}X=j+60|0;K=o[l>>2]|0}o[t>>2]=(X-K|0)/60|0;Xt(u);c=n;return}function Ei(e,r,t){e=e|0;r=r|0;t=t|0;var n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0;n=c;c=c+16|0;a=n;u=e+400|0;if((o[(o[u>>2]|0)+102876>>2]&2|0)!=0){c=n;return}l=t+4|0;s=t+8|0;bi(e,o[l>>2]|0,o[s>>2]|0,o[e+44>>2]|0);f=r+4|0;d=r+8|0;bi(e,o[f>>2]|0,o[d>>2]|0,o[l>>2]|0);b=o[l>>2]|0;o[a>>2]=7576;o[a+4>>2]=b;vi(e,1);Si(e,o[f>>2]|0,o[s>>2]|0,a);a=o[l>>2]|0;f=o[s>>2]|0;if((a|0)<(f|0)){b=e+144|0;h=a;do{o[(o[b>>2]|0)+(h<<2)>>2]=r;h=h+1|0}while((h|0)<(f|0))}f=r+12|0;r=o[f>>2]|0;h=o[t+12>>2]|r;b=(h^r)<<4&16|h;if((r&~b|0)!=0)i[e+20>>0]=1;r=e+16|0;a=o[r>>2]|0;if((b&~a|0)!=0){if((h&1|0)==0)_=a;else{h=e+132|0;m=o[h>>2]|0;if((m|0)==0){p=e+48|0;y=o[p>>2]|0;if((y|0)==0){si(e,256);w=o[p>>2]|0}else w=y;y=wd(o[u>>2]|0,w<<2)|0;cb(y|0,0,o[p>>2]<<2|0)|0;v=y;S=o[r>>2]|0}else{v=m;S=a}o[h>>2]=v;_=S}o[r>>2]=_|b}o[f>>2]=b;o[d>>2]=o[s>>2];o[l>>2]=o[s>>2];ui(e,t);c=n;return}function gi(e){e=e|0;return}function ki(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;i=o[e>>2]|0;n=o[r>>2]|0;if((i|0)==(n|0)){a=(o[e+4>>2]|0)<(o[r+4>>2]|0);c=t;return a|0}else{a=(i-n|0)<0;c=t;return a|0}return 0}function Mi(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;i=o[e>>2]|0;n=o[r>>2]|0;if((i|0)!=(n|0)){a=(i-n|0)<0;c=t;return a|0}n=o[e+4>>2]|0;i=o[r+4>>2]|0;if((n|0)==(i|0)){a=(o[e+8>>2]|0)<(o[r+8>>2]|0);c=t;return a|0}else{a=(n-i|0)<0;c=t;return a|0}return 0}function Pi(e){e=e|0;var r=0,t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0;r=c;t=e+400|0;n=e+220|0;a=Jd((o[t>>2]|0)+76|0,(o[n>>2]|0)*24|0)|0;u=o[n>>2]|0;if((u|0)>0){l=e+216|0;f=e+144|0;d=u;u=0;b=0;while(1){h=o[l>>2]|0;_=h+(b*24|0)|0;m=o[f>>2]|0;p=o[m+(o[_>>2]<<2)>>2]|0;if(((p|0)!=0?(p|0)==(o[m+(o[h+(b*24|0)+4>>2]<<2)>>2]|0):0)?(o[p+12>>2]&16|0)!=0:0){p=u+1|0;h=a+(u*24|0)|0;o[h+0>>2]=o[_+0>>2];o[h+4>>2]=o[_+4>>2];o[h+8>>2]=o[_+8>>2];o[h+12>>2]=o[_+12>>2];o[h+16>>2]=o[_+16>>2];o[h+20>>2]=o[_+20>>2];y=o[n>>2]|0;w=p}else{y=d;w=u}b=b+1|0;if((b|0)>=(y|0)){v=w;break}else{d=y;u=w}}}else v=0;w=Jd((o[t>>2]|0)+76|0,o[e+308>>2]<<2)|0;u=o[e+312>>2]|0;if((u|0)==0)S=0;else{y=e+16|0;d=e+124|0;b=e+132|0;n=e+48|0;f=e+20|0;l=u;u=0;while(1){p=l+12|0;_=o[p>>2]|0;if((_&16|0)!=0){h=u+1|0;o[w+(u<<2)>>2]=l;m=_&-17;if((((_|16)^-17)&_|0)!=0)i[f>>0]=1;E=o[y>>2]|0;if((m&~E|0)!=0){if((_&1|0)==0)g=E;else{_=o[b>>2]|0;if((_|0)==0){k=o[n>>2]|0;if((k|0)==0){si(e,256);M=o[n>>2]|0}else M=k;k=wd(o[t>>2]|0,M<<2)|0;cb(k|0,0,o[n>>2]<<2|0)|0;P=k;A=o[y>>2]|0}else{P=_;A=E}o[b>>2]=P;g=A}o[y>>2]=g|m}o[p>>2]=m;m=o[l+4>>2]|0;p=o[l+8>>2]|0;if((m|0)<(p|0)){E=m+1|0;cb((o[d>>2]|0)+(m<<2)|0,0,((p|0)>(E|0)?p:E)-m<<2|0)|0;F=h}else F=h}else F=u;l=o[l+24>>2]|0;if((l|0)==0){S=F;break}else u=F}}F=(v|0)>0;if(F){u=o[e+124>>2]|0;l=0;do{d=o[a+(l*24|0)+4>>2]|0;C=+s[a+(l*24|0)+8>>2];g=u+(o[a+(l*24|0)>>2]<<2)|0;s[g>>2]=C+ +s[g>>2];g=u+(d<<2)|0;s[g>>2]=C+ +s[g>>2];l=l+1|0}while((l|0)!=(v|0))}l=(S|0)>0;if(l){u=e+124|0;g=e+132|0;d=0;do{y=o[w+(d<<2)>>2]|0;A=o[y+4>>2]|0;P=o[y+8>>2]|0;if((A|0)<(P|0)){y=o[u>>2]|0;b=o[g>>2]|0;n=A;do{s[b+(n<<2)>>2]=+s[y+(n<<2)>>2]<.800000011920929?0:3.4028234663852886E38;n=n+1|0}while((n|0)<(P|0))}d=d+1|0}while((d|0)!=(S|0))}d=~~+U(+ +(o[e+44>>2]|0));if((d|0)>0?(g=e+132|0,F):0){F=0;do{u=o[g>>2]|0;P=0;n=0;while(1){C=1-+s[a+(P*24|0)+8>>2];y=u+(o[a+(P*24|0)>>2]<<2)|0;b=u+(o[a+(P*24|0)+4>>2]<<2)|0;D=+s[b>>2];B=C+D;R=+s[y>>2];T=C+R;if(R>B){s[y>>2]=B;O=+s[b>>2];x=1}else{O=D;x=n}if(O>T){s[b>>2]=T;L=1}else L=x;P=P+1|0;if((P|0)==(v|0))break;else n=L}F=F+1|0}while(L&(F|0)<(d|0))}if(!l){N=o[t>>2]|0;I=N+76|0;Wd(I,w);J=o[t>>2]|0;G=J+76|0;Wd(G,a);c=r;return}l=e+132|0;d=e+32|0;e=0;do{F=o[w+(e<<2)>>2]|0;L=o[F+4>>2]|0;v=o[F+8>>2]|0;if((L|0)<(v|0)){F=o[l>>2]|0;x=L;do{L=F+(x<<2)|0;O=+s[L>>2];if(O<3.4028234663852886E38)W=O*+s[d>>2];else W=0;s[L>>2]=W;x=x+1|0}while((x|0)<(v|0))}e=e+1|0}while((e|0)!=(S|0));N=o[t>>2]|0;I=N+76|0;Wd(I,w);J=o[t>>2]|0;G=J+76|0;Wd(G,a);c=r;return}function Ai(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0;i=c;n=+s[r+36>>2];a=(~~(n*+s[t+4>>2]+-1+2048)>>>0<<20)+(~~((n*+s[t>>2]+-1)*256+524288)>>>0)|0;u=~~(n*+s[t+12>>2]+1+2048)>>>0;l=~~((n*+s[t+8>>2]+1)*256+524288)>>>0;t=o[r+200>>2]|0;f=o[r+204>>2]|0;r=t+(f<<3)|0;d=t;t=f<<3>>3;e:while(1){f=t;while(1){if((f|0)==0)break e;b=(f|0)/2|0;if((o[d+(b<<3)+4>>2]|0)>>>0<a>>>0)break;else f=b}d=d+(b+1<<3)|0;t=f+-1-b|0}b=(u<<20)+l|0;l=d;u=r-d>>3;e:while(1){r=u;while(1){if((r|0)==0)break e;h=(r|0)/2|0;if((o[l+(h<<3)+4>>2]|0)>>>0>b>>>0)r=h;else break}l=l+(h+1<<3)|0;u=r+-1-h|0}o[e>>2]=a&1048575;o[e+4>>2]=b&1048575;o[e+8>>2]=a&-1048576;o[e+12>>2]=b&-1048576;o[e+16>>2]=d;o[e+20>>2]=l;c=i;return}function Fi(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0;t=c;i=o[e+200>>2]|0;n=o[e+204>>2]|0;a=i+(n<<3)|0;o[r+4>>2]=0;if((n|0)>0){u=i;l=i}else{c=t;return}while(1){i=u+4|0;n=(o[i>>2]|0)+256|0;s=u;u=u+8|0;f=u>>>0<a>>>0;e:do if(f){d=u;do{if(n>>>0<(o[d+4>>2]|0)>>>0)break e;Ci(e,o[s>>2]|0,o[d>>2]|0,r);d=d+8|0}while(d>>>0<a>>>0)}while(0);n=o[i>>2]|0;d=n+1048320|0;e:do if(l>>>0<a>>>0){b=l;while(1){h=b+8|0;if(!(d>>>0>(o[b+4>>2]|0)>>>0)){_=b;break e}if(h>>>0<a>>>0)b=h;else{_=h;break}}}else _=l;while(0);d=n+1048832|0;e:do if(_>>>0<a>>>0){i=_;do{if(d>>>0<(o[i+4>>2]|0)>>>0)break e;Ci(e,o[s>>2]|0,o[i>>2]|0,r);i=i+8|0}while(i>>>0<a>>>0)}while(0);if(!f)break;else l=_}c=t;return}function Ci(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0;n=c;a=o[e+96>>2]|0;u=+s[a+(t<<3)>>2]-+s[a+(r<<3)>>2];l=+s[a+(t<<3)+4>>2]-+s[a+(r<<3)+4>>2];f=u*u+l*l;if(!(f<+s[e+40>>2])){c=n;return}d=(o[b>>2]=1597463007-((s[b>>2]=f,o[b>>2]|0)>>1),+s[b>>2]);h=d*(1.5-d*f*.5*d);a=i+4|0;_=o[a>>2]|0;m=i+8|0;p=o[m>>2]|0;if((_|0)>=(p|0)?(y=(p|0)==0?256:p<<1,(p|0)<(y|0)):0){p=i+12|0;w=wd(o[p>>2]|0,y*24|0)|0;v=o[i>>2]|0;if((v|0)!=0){hb(w|0,v|0,(o[a>>2]|0)*24|0)|0;vd(o[p>>2]|0,o[i>>2]|0,(o[m>>2]|0)*24|0)}o[m>>2]=y;o[i>>2]=w;S=o[a>>2]|0}else S=_;o[a>>2]=S+1;a=o[i>>2]|0;o[a+(S*24|0)>>2]=r;o[a+(S*24|0)+4>>2]=t;i=o[e+88>>2]|0;o[a+(S*24|0)+20>>2]=o[i+(t<<2)>>2]|o[i+(r<<2)>>2];s[a+(S*24|0)+8>>2]=1-f*h*+s[e+36>>2];f=+(u*h);u=+(l*h);e=a+(S*24|0)+12|0;s[e>>2]=f;s[e+4>>2]=u;c=n;return}function Di(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0;t=c;if((o[e+8>>2]&131072|0)==0){c=t;return}i=o[(o[e+400>>2]|0)+102948>>2]|0;if((i|0)==0){c=t;return}n=o[r>>2]|0;a=r+4|0;u=o[a>>2]|0;l=n+(u*24|0)|0;e:do if((u|0)==0){s=n;f=8}else{d=n;while(1){if((o[d+20>>2]&131072|0)!=0?!(wh[o[(o[i>>2]|0)+16>>2]&7](i,e,o[d>>2]|0,o[d+4>>2]|0)|0):0){s=d;f=8;break e}d=d+24|0;if((d|0)==(l|0)){b=l;break}}}while(0);e:do if((f|0)==8)if((s|0)==(l|0))b=l;else{n=s;u=s;while(1){d=u;do{h=d;d=d+24|0;if((d|0)==(l|0)){b=n;break e}if((o[h+44>>2]&131072|0)==0)break}while(!(wh[o[(o[i>>2]|0)+16>>2]&7](i,e,o[d>>2]|0,o[h+28>>2]|0)|0));o[n+0>>2]=o[d+0>>2];o[n+4>>2]=o[d+4>>2];o[n+8>>2]=o[d+8>>2];o[n+12>>2]=o[d+12>>2];o[n+16>>2]=o[d+16>>2];o[n+20>>2]=o[d+20>>2];n=n+24|0;u=d}}while(0);o[a>>2]=(b-(o[r>>2]|0)|0)/24|0;c=t;return}function Bi(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0;n=c;c=c+16|0;a=n;u=o[e>>2]|0;if((u|0)!=0){Wd(o[e+12>>2]|0,u);o[e>>2]=0;o[e+8>>2]=0}if((t|0)==0)l=o[e+8>>2]|0;else{u=Jd(o[e+12>>2]|0,t*9|0)|0;o[e>>2]=u;s=u+(t<<3)|0;o[e+4>>2]=s;cb(s|0,1,t|0)|0;o[e+8>>2]=t;l=t}if((l|0)==0){c=n;return}l=o[e>>2]|0;if((t|0)>0){s=0;u=0;while(1){f=o[r+(s*24|0)>>2]|0;if((!((f|0)==-1)?(d=r+(s*24|0)+4|0,b=o[d>>2]|0,!((b|0)==-1)):0)?((o[i+(b<<2)>>2]|o[i+(f<<2)>>2])&32768|0)!=0:0){o[l+(s<<3)>>2]=f;o[l+(s<<3)+4>>2]=o[d>>2];h=u+1|0}else h=u;s=s+1|0;if((s|0)==(t|0)){_=h;break}else u=h}}else _=0;o[e+8>>2]=_;o[a>>2]=29;Rr(l,l+(_<<3)|0,a);c=n;return}function Ri(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0;t=c;if((o[e+8>>2]&32768|0)==0){c=t;return}n=o[(o[e+400>>2]|0)+102952>>2]|0;if((n|0)==0){c=t;return}a=o[e+220>>2]|0;u=o[e+216>>2]|0;l=u+(a*24|0)|0;s=r+8|0;if((a|0)>0){a=r+4|0;f=u;while(1){u=o[f>>2]|0;d=o[f+4>>2]|0;b=o[s>>2]|0;do if((b|0)==0)h=24;else{_=o[r>>2]|0;m=_;p=_+(b<<3)-m>>3;y=(p|0)==0;e:do if(y)w=_;else{v=_;S=p;while(1){E=S;while(1){g=(E|0)/2|0;if((o[v+(g<<3)>>2]|0)<(u|0)?(o[v+(g<<3)+4>>2]|0)<(d|0):0)break;if((E+1|0)>>>0<3){w=v;break e}else E=g}k=v+(g+1<<3)|0;M=E+-1|0;if((M|0)==(g|0)){w=k;break}else{v=k;S=M-g|0}}}while(0);if((w|0)!=0?(S=(w-m|0)>>>3,v=o[a>>2]|0,(i[v+S>>0]|0)!=0):0){P=v;A=S}else{e:do if(y)F=_;else{S=_;v=p;while(1){M=v;while(1){C=(M|0)/2|0;if((o[S+(C<<3)>>2]|0)<(d|0)?(o[S+(C<<3)+4>>2]|0)<(u|0):0)break;if((M+1|0)>>>0<3){F=S;break e}else M=C}E=S+(C+1<<3)|0;k=M+-1|0;if((k|0)==(C|0)){F=E;break}else{S=E;v=k-C|0}}}while(0);if((F|0)==0){h=24;break}p=(F-m|0)>>>3;_=o[a>>2]|0;if((i[_+p>>0]|0)==0){h=24;break}else{P=_;A=p}}i[P+A>>0]=0}while(0);if((h|0)==24){h=0;mh[o[(o[n>>2]|0)+24>>2]&7](n,e,f)}f=f+24|0;if(!(f>>>0<l>>>0)){D=r;B=a;break}}}else{D=r;B=r+4|0}r=o[s>>2]|0;s=o[D>>2]|0;D=o[B>>2]|0;if((r|0)<=0){c=t;return}B=0;do{if((i[D+B>>0]|0)!=0)gh[o[(o[n>>2]|0)+28>>2]&31](n,e,o[s+(B<<3)>>2]|0,o[s+(B<<3)+4>>2]|0);B=B+1|0}while((B|0)!=(r|0));c=t;return}function Ti(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0;t=c;i=e+156|0;if((o[i>>2]|0)<1){c=t;return}n=(o[e+176>>2]|0)+(r<<2)|0;a=(o[e+160>>2]|0)+(r<<2)|0;u=(o[e+168>>2]|0)+(r<<2)|0;l=(o[u>>2]|0)+1|0;o[u>>2]=l;if((l|0)==2?(l=o[n>>2]|0,o[n>>2]=l+1,(l|0)>=(o[i>>2]|0)):0){i=e+184|0;l=e+188|0;n=o[l>>2]|0;u=e+192|0;s=o[u>>2]|0;if((n|0)>=(s|0)?(f=(s|0)==0?256:s<<1,(s|0)<(f|0)):0){s=e+196|0;d=wd(o[s>>2]|0,f<<2)|0;b=o[i>>2]|0;if((b|0)!=0){hb(d|0,b|0,o[l>>2]<<2|0)|0;vd(o[s>>2]|0,o[i>>2]|0,o[u>>2]<<2)}o[u>>2]=f;o[i>>2]=d;h=o[l>>2]|0}else h=n;o[l>>2]=h+1;o[(o[i>>2]|0)+(h<<2)>>2]=r}o[a>>2]=o[e+4>>2];c=t;return}function Oi(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0;n=c;c=c+16|0;a=n;u=o[e>>2]|0;if((u|0)!=0){Wd(o[e+12>>2]|0,u);o[e>>2]=0;o[e+8>>2]=0}if((t|0)==0)l=o[e+8>>2]|0;else{u=Jd(o[e+12>>2]|0,t*9|0)|0;o[e>>2]=u;s=u+(t<<3)|0;o[e+4>>2]=s;cb(s|0,1,t|0)|0;o[e+8>>2]=t;l=t}if((l|0)==0){c=n;return}l=o[e>>2]|0;if((t|0)>0){s=0;u=0;while(1){f=o[r+(s*28|0)>>2]|0;if(!((f|0)==-1)?(o[i+(f<<2)>>2]&16384|0)!=0:0){o[l+(s<<3)>>2]=o[r+(s*28|0)+8>>2];o[l+(s<<3)+4>>2]=f;d=u+1|0}else d=u;s=s+1|0;if((s|0)==(t|0)){b=d;break}else u=d}}else b=0;o[e+8>>2]=b;o[a>>2]=30;xr(l,l+(b<<3)|0,a);c=n;return}function xi(e,r){e=e|0;r=r|0;var t=0,i=0;t=c;if(!((o[e>>2]|0)>>>0<(o[r>>2]|0)>>>0)){i=0;c=t;return i|0}i=(o[e+4>>2]|0)<(o[r+4>>2]|0);c=t;return i|0}function Li(e,r){e=e|0;r=r|0;var t=0,i=0;t=c;if((o[e>>2]|0)>=(o[r>>2]|0)){i=0;c=t;return i|0}i=(o[e+4>>2]|0)<(o[r+4>>2]|0);c=t;return i|0}function Ni(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0;t=c;if((o[e+8>>2]&16384|0)==0){c=t;return}n=o[(o[e+400>>2]|0)+102952>>2]|0;if((n|0)==0){c=t;return}a=e+232|0;u=e+236|0;if((o[u>>2]|0)==0){l=r;s=r+8|0;f=r+4|0}else{d=r+8|0;b=r+4|0;h=o[a>>2]|0;while(1){_=o[h+8>>2]|0;m=o[h>>2]|0;p=o[d>>2]|0;if((p|0)!=0){y=o[r>>2]|0;w=y;v=y+(p<<3)-w>>3;e:do if((v|0)==0)S=y;else{p=y;E=v;while(1){g=E;while(1){k=(g|0)/2|0;if((o[p+(k<<3)>>2]|0)>>>0<_>>>0?(o[p+(k<<3)+4>>2]|0)<(m|0):0)break;if((g+1|0)>>>0<3){S=p;break e}else g=k}M=p+(k+1<<3)|0;P=g+-1|0;if((P|0)==(k|0)){S=M;break}else{p=M;E=P-k|0}}}while(0);if((S|0)!=0?(m=(o[b>>2]|0)+((S-w|0)>>>3)|0,(i[m>>0]|0)!=0):0)i[m>>0]=0;else A=16}else A=16;if((A|0)==16){A=0;mh[o[(o[n>>2]|0)+16>>2]&7](n,e,h)}h=h+28|0;if((h|0)==((o[a>>2]|0)+((o[u>>2]|0)*28|0)|0)){l=r;s=d;f=b;break}}}b=o[l>>2]|0;l=o[f>>2]|0;f=o[s>>2]|0;if((f|0)<=0){c=t;return}s=0;do{if((i[l+s>>0]|0)!=0)gh[o[(o[n>>2]|0)+20>>2]&31](n,o[b+(s<<3)>>2]|0,e,o[b+(s<<3)+4>>2]|0);s=s+1|0}while((s|0)!=(f|0));c=t;return}function Ii(e){e=e|0;var r=0,t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0;r=c;c=c+48|0;t=r+32|0;n=r+16|0;a=r;u=e+400|0;l=o[u>>2]|0;o[t>>2]=0;o[t+4>>2]=0;f=t+8|0;o[f>>2]=0;d=t+12|0;o[d>>2]=l+76;b=e+8|0;if((o[b>>2]&16384|0)!=0?(o[l+102952>>2]|0)!=0:0)Oi(t,o[e+232>>2]|0,o[e+236>>2]|0,o[e+88>>2]|0);if((o[e+156>>2]|0)>0?(l=o[e+44>>2]|0,(l|0)>0):0){h=o[e+168>>2]|0;_=e+4|0;m=o[e+160>>2]|0;p=e+176|0;y=0;do{o[h+(y<<2)>>2]=0;if((o[_>>2]|0)>((o[m+(y<<2)>>2]|0)+1|0))o[(o[p>>2]|0)+(y<<2)>>2]=0;y=y+1|0}while((y|0)!=(l|0))}o[e+236>>2]=0;o[e+188>>2]=0;if((o[b>>2]&65536|0)==0)w=0;else w=o[(o[u>>2]|0)+102948>>2]|0;o[n+4>>2]=e;o[n>>2]=7056;o[n+8>>2]=w;w=o[e+44>>2]|0;s[a>>2]=3.4028234663852886E38;b=a+4|0;s[b>>2]=3.4028234663852886E38;l=a+8|0;s[l>>2]=-3.4028234663852886E38;y=a+12|0;s[y>>2]=-3.4028234663852886E38;if((w|0)>0){p=o[e+96>>2]|0;v=3.4028234663852886E38;S=3.4028234663852886E38;E=-3.4028234663852886E38;g=-3.4028234663852886E38;m=0;while(1){_=p+(m<<3)|0;k=+s[_>>2];M=+s[_+4>>2];P=v<k?v:k;A=S<M?S:M;F=+P;C=+A;_=a;s[_>>2]=F;s[_+4>>2]=C;C=E>k?E:k;k=g>M?g:M;M=+C;F=+k;_=l;s[_>>2]=M;s[_+4>>2]=F;m=m+1|0;if((m|0)==(w|0)){D=k;B=P;R=A;T=C;break}else{v=P;S=A;E=C;g=k}}}else{D=-3.4028234663852886E38;B=3.4028234663852886E38;R=3.4028234663852886E38;T=-3.4028234663852886E38}g=+s[e+32>>2];s[a>>2]=B-g;s[b>>2]=R-g;s[l>>2]=T+g;s[y>>2]=D+g;pt(o[u>>2]|0,n,a);if((i[e+316>>0]|0)!=0)Ji(e);Ni(e,t);e=o[t>>2]|0;if((e|0)==0){c=r;return}Wd(o[d>>2]|0,e);o[t>>2]=0;o[f>>2]=0;c=r;return}function Ji(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0;r=c;c=c+32|0;t=r+20|0;i=r;n=r+16|0;a=e+232|0;u=o[a>>2]|0;l=e+236|0;s=u+((o[l>>2]|0)*28|0)|0;o[t>>2]=31;Fr(u,s,t);o[n>>2]=0;t=o[a>>2]|0;a=o[l>>2]|0;s=t+(a*28|0)|0;o[i>>2]=e;o[i+4>>2]=-1;o[i+8>>2]=0;o[i+12>>2]=n;e:do if((a|0)==0)f=t;else{e=t;do{if(Ar(i,e)|0){f=e;break e}e=e+28|0}while((e|0)!=(s|0));d=o[l>>2]|0;b=o[n>>2]|0;h=d-b|0;o[l>>2]=h;c=r;return}while(0);if((f|0)==(s|0)){d=o[l>>2]|0;b=o[n>>2]|0;h=d-b|0;o[l>>2]=h;c=r;return}else{_=f;m=f}e:while(1){f=m;do{f=f+28|0;if((f|0)==(s|0))break e}while(Ar(i,f)|0);o[_+0>>2]=o[f+0>>2];o[_+4>>2]=o[f+4>>2];o[_+8>>2]=o[f+8>>2];o[_+12>>2]=o[f+12>>2];o[_+16>>2]=o[f+16>>2];o[_+20>>2]=o[f+20>>2];o[_+24>>2]=o[f+24>>2];_=_+28|0;m=f}d=o[l>>2]|0;b=o[n>>2]|0;h=d-b|0;o[l>>2]=h;c=r;return}function Gi(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;i=o[e>>2]|0;n=o[r>>2]|0;if((i|0)==(n|0)){a=+s[e+12>>2]>+s[r+12>>2];c=t;return a|0}else{a=(i|0)<(n|0);c=t;return a|0}return 0}function Wi(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;Co(e,r);o[e>>2]=1056;i=r+20|0;n=o[i+4>>2]|0;a=e+68|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;s[e+76>>2]=+s[r+28>>2];s[e+80>>2]=0;s[e+84>>2]=0;s[e+88>>2]=0;s[e+92>>2]=+s[r+32>>2];s[e+96>>2]=+s[r+36>>2];s[e+100>>2]=+s[r+40>>2];c=t;return}function Vi(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0,Pe=0,Ae=0,Fe=0,Ce=0,De=0;t=c;n=o[e+48>>2]|0;a=o[n+8>>2]|0;u=e+104|0;o[u>>2]=a;l=o[e+52>>2]|0;f=o[l+8>>2]|0;d=e+108|0;o[d>>2]=f;h=n+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+128|0;o[h>>2]=_;o[h+4>>2]=m;h=l+44|0;p=o[h>>2]|0;y=o[h+4>>2]|0;h=e+136|0;o[h>>2]=p;o[h+4>>2]=y;h=e+156|0;s[h>>2]=+s[n+136>>2];w=e+160|0;s[w>>2]=+s[l+136>>2];v=e+164|0;s[v>>2]=+s[n+144>>2];n=e+168|0;s[n>>2]=+s[l+144>>2];l=o[r+28>>2]|0;S=l+(a*12|0)|0;E=+s[S>>2];g=+s[S+4>>2];k=+s[l+(a*12|0)+8>>2];S=r+32|0;M=o[S>>2]|0;P=M+(a*12|0)|0;A=+s[P>>2];F=+s[P+4>>2];C=+s[M+(a*12|0)+8>>2];a=l+(f*12|0)|0;D=+s[a>>2];B=+s[a+4>>2];R=+s[l+(f*12|0)+8>>2];l=M+(f*12|0)|0;T=+s[l>>2];O=+s[l+4>>2];x=+s[M+(f*12|0)+8>>2];L=+Y(+k);N=+j(+k);I=+Y(+R);J=+j(+R);G=-(o[b>>2]=_,+s[b>>2]);W=-(o[b>>2]=m,+s[b>>2]);V=N*G-L*W;z=L*G+N*W;W=+V;G=+z;m=e+112|0;s[m>>2]=W;s[m+4>>2]=G;G=-(o[b>>2]=p,+s[b>>2]);W=-(o[b>>2]=y,+s[b>>2]);H=J*G-I*W;U=I*G+J*W;W=+H;J=+U;y=e+120|0;s[y>>2]=W;s[y+4>>2]=J;J=+s[h>>2];W=+s[w>>2];G=+s[v>>2];I=+s[n>>2];q=J+W;Z=q+z*G*z+U*I*U;X=G*V;K=I*H;Q=-(z*X)-U*K;$=q+V*X+H*K;K=Z*$-Q*Q;if(K!=0)ee=1/K;else ee=K;K=-(Q*ee);s[e+172>>2]=$*ee;s[e+176>>2]=K;s[e+180>>2]=K;s[e+184>>2]=Z*ee;ee=G+I;if(ee>0)re=1/ee;else re=ee;s[e+188>>2]=re;re=+s[e+68>>2];ee=+s[e+72>>2];Z=+(D+H-E-V-(N*re-L*ee));E=+(B+U-g-z-(L*re+N*ee));n=e+144|0;s[n>>2]=Z;s[n+4>>2]=E;s[e+152>>2]=R-k-+s[e+76>>2];n=e+80|0;if((i[r+24>>0]|0)==0){s[n>>2]=0;s[e+84>>2]=0;s[e+88>>2]=0;te=A;ie=F;ne=T;oe=O;ae=C;ue=x;le=o[u>>2]|0;se=o[S>>2]|0;fe=se+(le*12|0)|0;ce=+te;de=+ie;be=fe;he=be;s[he>>2]=ce;_e=be+4|0;me=_e;s[me>>2]=de;pe=o[u>>2]|0;ye=o[S>>2]|0;we=ye+(pe*12|0)+8|0;s[we>>2]=ae;ve=o[d>>2]|0;Se=ye+(ve*12|0)|0;Ee=+ne;ge=+oe;ke=Se;Me=ke;s[Me>>2]=Ee;Pe=ke+4|0;Ae=Pe;s[Ae>>2]=ge;Fe=o[d>>2]|0;Ce=o[S>>2]|0;De=Ce+(Fe*12|0)+8|0;s[De>>2]=ue;c=t;return}else{v=r+8|0;k=+s[v>>2];R=k*+s[n>>2];s[n>>2]=R;n=e+84|0;E=k*+s[n>>2];s[n>>2]=E;n=e+88|0;k=+s[v>>2]*+s[n>>2];s[n>>2]=k;te=A-J*R;ie=F-J*E;ne=T+W*R;oe=O+W*E;ae=C-G*(k+(E*V-R*z));ue=x+I*(k+(E*H-R*U));le=o[u>>2]|0;se=o[S>>2]|0;fe=se+(le*12|0)|0;ce=+te;de=+ie;be=fe;he=be;s[he>>2]=ce;_e=be+4|0;me=_e;s[me>>2]=de;pe=o[u>>2]|0;ye=o[S>>2]|0;we=ye+(pe*12|0)+8|0;s[we>>2]=ae;ve=o[d>>2]|0;Se=ye+(ve*12|0)|0;Ee=+ne;ge=+oe;ke=Se;Me=ke;s[Me>>2]=Ee;Pe=ke+4|0;Ae=Pe;s[Ae>>2]=ge;Fe=o[d>>2]|0;Ce=o[S>>2]|0;De=Ce+(Fe*12|0)+8|0;s[De>>2]=ue;c=t;return}}function zi(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0;t=c;i=e+104|0;n=o[i>>2]|0;a=r+32|0;u=o[a>>2]|0;l=u+(n*12|0)|0;f=+s[l>>2];d=+s[l+4>>2];b=+s[u+(n*12|0)+8>>2];n=e+108|0;l=o[n>>2]|0;h=u+(l*12|0)|0;_=+s[h>>2];m=+s[h+4>>2];p=+s[u+(l*12|0)+8>>2];y=+s[e+156>>2];w=+s[e+160>>2];v=+s[e+164>>2];S=+s[e+168>>2];E=+s[r>>2];g=+s[r+4>>2]*+s[e+100>>2];r=e+88|0;k=+s[r>>2];M=E*+s[e+96>>2];P=k-+s[e+188>>2]*(p-b+g*+s[e+152>>2]);A=-M;F=P<M?P:M;M=F<A?A:F;s[r>>2]=M;F=M-k;k=b-v*F;b=p+S*F;F=+s[e+124>>2];p=+s[e+120>>2];M=+s[e+116>>2];A=+s[e+112>>2];P=+s[e+144>>2]*g+(M*k+(_-F*b-f));C=g*+s[e+148>>2]+(m+p*b-d-A*k);g=+s[e+176>>2]*P+ +s[e+184>>2]*C;r=e+80|0;l=r;D=+s[l>>2];B=+s[l+4>>2];R=D-(+s[e+172>>2]*P+ +s[e+180>>2]*C);s[r>>2]=R;l=e+84|0;C=+s[l>>2]-g;s[l>>2]=C;g=E*+s[e+92>>2];E=R*R+C*C;if(E>g*g){P=+U(+E);if(P<1.1920928955078125E-7){T=R;O=C}else{E=1/P;P=R*E;s[r>>2]=P;x=C*E;s[l>>2]=x;T=P;O=x}x=g*T;s[r>>2]=x;T=g*O;s[l>>2]=T;L=x;N=T}else{L=R;N=C}C=L-D;D=N-B;B=+(f-y*C);f=+(d-y*D);l=(o[a>>2]|0)+((o[i>>2]|0)*12|0)|0;s[l>>2]=B;s[l+4>>2]=f;l=o[a>>2]|0;s[l+((o[i>>2]|0)*12|0)+8>>2]=k-v*(A*D-C*M);M=+(_+w*C);_=+(m+w*D);i=l+((o[n>>2]|0)*12|0)|0;s[i>>2]=M;s[i+4>>2]=_;s[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=b+S*(D*p-C*F);c=t;return}function Hi(e,r){e=e|0;r=r|0;return 1}function Ui(e,r){e=e|0;r=r|0;var t=0,i=0;t=(o[r+48>>2]|0)+12|0;r=o[t+4>>2]|0;i=e;o[i>>2]=o[t>>2];o[i+4>>2]=r;return}function qi(e,r){e=e|0;r=r|0;var t=0,i=0;t=(o[r+52>>2]|0)+12|0;r=o[t+4>>2]|0;i=e;o[i>>2]=o[t>>2];o[i+4>>2]=r;return}function ji(e,r,t){e=e|0;r=r|0;t=+t;var i=0;i=+s[r+84>>2]*t;s[e>>2]=+s[r+80>>2]*t;s[e+4>>2]=i;return}function Yi(e,r){e=e|0;r=+r;return+(+s[e+88>>2]*r)}function Zi(e,r){e=e|0;r=r|0;var t=0,i=0,a=0,l=0,f=0;t=c;i=e+68|0;if(!(+s[r>>2]!=+s[i>>2])?!(+s[r+4>>2]!=+s[e+72>>2]):0){c=t;return}a=o[e+48>>2]|0;l=a+4|0;f=u[l>>1]|0;if((f&2|0)==0){n[l>>1]=f|2;s[a+160>>2]=0}a=o[e+52>>2]|0;e=a+4|0;f=u[e>>1]|0;if((f&2|0)==0){n[e>>1]=f|2;s[a+160>>2]=0}a=r;r=o[a+4>>2]|0;f=i;o[f>>2]=o[a>>2];o[f+4>>2]=r;c=t;return}function Xi(e,r){e=e|0;r=+r;var t=0,i=0,a=0,l=0,f=0;t=c;i=e+76|0;if(!(+s[i>>2]!=r)){c=t;return}a=o[e+48>>2]|0;l=a+4|0;f=u[l>>1]|0;if((f&2|0)==0){n[l>>1]=f|2;s[a+160>>2]=0}a=o[e+52>>2]|0;e=a+4|0;f=u[e>>1]|0;if((f&2|0)==0){n[e>>1]=f|2;s[a+160>>2]=0}s[i>>2]=r;c=t;return}function Ki(e){e=e|0;var r=0,t=0,i=0,n=0,u=0;r=c;c=c+16|0;t=r;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Rd(1104,t);o[t>>2]=i;Rd(1128,t);o[t>>2]=n;Rd(1160,t);o[t>>2]=a[e+61>>0]|0;Rd(1192,t);u=+s[e+72>>2];f[b>>3]=+s[e+68>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(1232,t);f[b>>3]=+s[e+76>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(1280,t);f[b>>3]=+s[e+92>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(1312,t);f[b>>3]=+s[e+96>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(1344,t);f[b>>3]=+s[e+100>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(1376,t);o[t>>2]=o[e+56>>2];Rd(1416,t);c=r;return}function Qi(e,r){e=e|0;r=r|0;return}function $i(e){e=e|0;return}function en(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function rn(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0;a=c;o[e+8>>2]=r;o[e+12>>2]=t;u=+s[i>>2]-+s[r+12>>2];l=i+4|0;f=+s[l>>2]-+s[r+16>>2];d=+s[r+24>>2];b=+s[r+20>>2];h=+(u*d+f*b);_=+(d*f-u*b);r=e+20|0;s[r>>2]=h;s[r+4>>2]=_;_=+s[n>>2]-+s[t+12>>2];r=n+4|0;h=+s[r>>2]-+s[t+16>>2];b=+s[t+24>>2];u=+s[t+20>>2];f=+(_*b+h*u);d=+(b*h-_*u);t=e+28|0;s[t>>2]=f;s[t+4>>2]=d;d=+s[n>>2]-+s[i>>2];f=+s[r>>2]-+s[l>>2];s[e+36>>2]=+U(+(d*d+f*f));c=a;return}function tn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;Co(e,r);o[e>>2]=1504;i=r+20|0;n=o[i+4>>2]|0;a=e+80|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=r+28|0;a=o[n+4>>2]|0;i=e+88|0;o[i>>2]=o[n>>2];o[i+4>>2]=a;s[e+104>>2]=+s[r+36>>2];s[e+68>>2]=+s[r+40>>2];s[e+72>>2]=+s[r+44>>2];s[e+100>>2]=0;s[e+96>>2]=0;s[e+76>>2]=0;c=t;return}function nn(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0;t=c;n=o[e+48>>2]|0;a=o[n+8>>2]|0;u=e+108|0;o[u>>2]=a;l=o[e+52>>2]|0;f=o[l+8>>2]|0;d=e+112|0;o[d>>2]=f;h=n+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+140|0;o[h>>2]=_;o[h+4>>2]=m;h=l+44|0;p=o[h>>2]|0;y=o[h+4>>2]|0;h=e+148|0;o[h>>2]=p;o[h+4>>2]=y;y=e+156|0;s[y>>2]=+s[n+136>>2];h=e+160|0;s[h>>2]=+s[l+136>>2];w=e+164|0;s[w>>2]=+s[n+144>>2];n=e+168|0;s[n>>2]=+s[l+144>>2];l=o[r+28>>2]|0;v=l+(a*12|0)|0;S=+s[v>>2];E=+s[v+4>>2];g=+s[l+(a*12|0)+8>>2];v=r+32|0;k=o[v>>2]|0;M=k+(a*12|0)|0;P=+s[M>>2];A=+s[M+4>>2];F=+s[k+(a*12|0)+8>>2];a=l+(f*12|0)|0;C=+s[a>>2];D=+s[a+4>>2];B=+s[l+(f*12|0)+8>>2];l=k+(f*12|0)|0;R=+s[l>>2];T=+s[l+4>>2];O=+s[k+(f*12|0)+8>>2];x=+Y(+g);L=+j(+g);g=+Y(+B);N=+j(+B);B=+s[e+80>>2]-(o[b>>2]=_,+s[b>>2]);I=+s[e+84>>2]-(o[b>>2]=m,+s[b>>2]);J=L*B-x*I;G=x*B+L*I;I=+J;L=+G;m=e+124|0;s[m>>2]=I;s[m+4>>2]=L;L=+s[e+88>>2]-(o[b>>2]=p,+s[b>>2]);I=+s[e+92>>2]-+s[e+152>>2];B=N*L-g*I;x=g*L+N*I;I=+B;N=+x;p=e+132|0;s[p>>2]=I;s[p+4>>2]=N;p=e+116|0;N=C+B-S-J;S=D+x-E-G;E=+N;D=+S;m=p;s[m>>2]=E;s[m+4>>2]=D;D=+U(+(N*N+S*S));if(D>.004999999888241291){E=1/D;C=N*E;s[p>>2]=C;W=E*S;V=C}else{s[p>>2]=0;W=0;V=0}s[e+120>>2]=W;C=W*J-G*V;S=W*B-V*x;E=+s[y>>2];N=+s[w>>2];I=+s[h>>2];L=+s[n>>2];g=I+(E+C*C*N)+S*S*L;if(g!=0)z=1/g;else z=0;n=e+172|0;s[n>>2]=z;S=+s[e+68>>2];if(S>0){C=D-+s[e+104>>2];D=S*6.2831854820251465;S=D*z*D;H=+s[r>>2];q=H*(D*z*2*+s[e+72>>2]+S*H);h=e+96|0;s[h>>2]=q;if(q!=0)Z=1/q;else Z=0;s[h>>2]=Z;s[e+76>>2]=S*C*H*Z;H=g+Z;if(H!=0)X=1/H;else X=0;s[n>>2]=X}else{s[e+96>>2]=0;s[e+76>>2]=0}if((i[r+24>>0]|0)==0){s[e+100>>2]=0;K=P;Q=A;$=R;ee=T;re=F;te=O;ie=o[u>>2]|0;ne=o[v>>2]|0;oe=ne+(ie*12|0)|0;ae=+K;ue=+Q;le=oe;se=le;s[se>>2]=ae;fe=le+4|0;ce=fe;s[ce>>2]=ue;de=o[u>>2]|0;be=o[v>>2]|0;he=be+(de*12|0)+8|0;s[he>>2]=re;_e=o[d>>2]|0;me=be+(_e*12|0)|0;pe=+$;ye=+ee;we=me;ve=we;s[ve>>2]=pe;Se=we+4|0;Ee=Se;s[Ee>>2]=ye;ge=o[d>>2]|0;ke=o[v>>2]|0;Me=ke+(ge*12|0)+8|0;s[Me>>2]=te;c=t;return}else{n=e+100|0;X=+s[r+8>>2]*+s[n>>2];s[n>>2]=X;H=V*X;V=X*W;K=P-H*E;Q=A-V*E;$=R+H*I;ee=T+V*I;re=F-N*(V*J-H*G);te=O+L*(V*B-H*x);ie=o[u>>2]|0;ne=o[v>>2]|0;oe=ne+(ie*12|0)|0;ae=+K;ue=+Q;le=oe;se=le;s[se>>2]=ae;fe=le+4|0;ce=fe;s[ce>>2]=ue;de=o[u>>2]|0;be=o[v>>2]|0;he=be+(de*12|0)+8|0;s[he>>2]=re;_e=o[d>>2]|0;me=be+(_e*12|0)|0;pe=+$;ye=+ee;we=me;ve=we;s[ve>>2]=pe;Se=we+4|0;Ee=Se;s[Ee>>2]=ye;ge=o[d>>2]|0;ke=o[v>>2]|0;Me=ke+(ge*12|0)+8|0;s[Me>>2]=te;c=t;return}}function on(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0;t=c;i=e+108|0;n=o[i>>2]|0;a=r+32|0;r=o[a>>2]|0;u=r+(n*12|0)|0;l=u;f=+s[l>>2];d=+s[l+4>>2];b=+s[r+(n*12|0)+8>>2];n=e+112|0;l=o[n>>2]|0;h=r+(l*12|0)|0;_=+s[h>>2];m=+s[h+4>>2];p=+s[r+(l*12|0)+8>>2];y=+s[e+128>>2];w=+s[e+124>>2];v=+s[e+136>>2];S=+s[e+132>>2];E=+s[e+116>>2];g=+s[e+120>>2];l=e+100|0;k=+s[l>>2];M=+s[e+172>>2]*(+s[e+76>>2]+(E*(_-p*v-(f-b*y))+g*(m+p*S-(d+b*w)))+ +s[e+96>>2]*k);P=-M;s[l>>2]=k-M;M=E*P;E=g*P;P=+s[e+156>>2];g=b-+s[e+164>>2]*(w*E-M*y);y=+s[e+160>>2];w=p+ +s[e+168>>2]*(E*S-M*v);v=+(f-P*M);f=+(d-P*E);e=u;s[e>>2]=v;s[e+4>>2]=f;e=o[a>>2]|0;s[e+((o[i>>2]|0)*12|0)+8>>2]=g;g=+(_+M*y);M=+(m+E*y);i=e+((o[n>>2]|0)*12|0)|0;s[i>>2]=g;s[i+4>>2]=M;s[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=w;c=t;return}function an(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0;t=c;if(+s[e+68>>2]>0){i=1;c=t;return i|0}n=e+108|0;a=o[n>>2]|0;u=r+28|0;r=o[u>>2]|0;l=r+(a*12|0)|0;f=l;d=+s[f>>2];b=+s[f+4>>2];h=+s[r+(a*12|0)+8>>2];a=e+112|0;f=o[a>>2]|0;_=r+(f*12|0)|0;m=+s[_>>2];p=+s[_+4>>2];y=+s[r+(f*12|0)+8>>2];w=+Y(+h);v=+j(+h);S=+Y(+y);E=+j(+y);g=+s[e+80>>2]-+s[e+140>>2];k=+s[e+84>>2]-+s[e+144>>2];M=v*g-w*k;P=w*g+v*k;k=+s[e+88>>2]-+s[e+148>>2];v=+s[e+92>>2]-+s[e+152>>2];g=E*k-S*v;w=S*k+E*v;v=m+g-d-M;E=p+w-b-P;k=+U(+(v*v+E*E));if(k<1.1920928955078125E-7){A=0;F=v;C=E}else{S=1/k;A=k;F=v*S;C=E*S}S=A-+s[e+104>>2];A=S<.20000000298023224?S:.20000000298023224;S=A<-.20000000298023224?-.20000000298023224:A;A=-(+s[e+172>>2]*S);E=F*A;F=C*A;A=+s[e+156>>2];C=h-+s[e+164>>2]*(M*F-P*E);P=+s[e+160>>2];M=y+ +s[e+168>>2]*(g*F-w*E);w=+(d-A*E);d=+(b-A*F);e=l;s[e>>2]=w;s[e+4>>2]=d;e=o[u>>2]|0;s[e+((o[n>>2]|0)*12|0)+8>>2]=C;C=+(m+P*E);E=+(p+P*F);n=e+((o[a>>2]|0)*12|0)|0;s[n>>2]=C;s[n+4>>2]=E;s[(o[u>>2]|0)+((o[a>>2]|0)*12|0)+8>>2]=M;if(S>0)D=S;else D=-S;i=D<.004999999888241291;c=t;return i|0}function un(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+48>>2]|0;i=+s[t+24>>2];n=+s[r+80>>2];a=+s[t+20>>2];u=+s[r+84>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function ln(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+52>>2]|0;i=+s[t+24>>2];n=+s[r+88>>2];a=+s[t+20>>2];u=+s[r+92>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function sn(e,r,t){e=e|0;r=r|0;t=+t;var i=0;i=+s[r+100>>2]*t;t=i*+s[r+120>>2];s[e>>2]=+s[r+116>>2]*i;s[e+4>>2]=t;return}function fn(e,r){e=e|0;r=+r;return 0}function cn(e){e=e|0;var r=0,t=0,i=0,n=0,u=0;r=c;c=c+16|0;t=r;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Rd(1552,t);o[t>>2]=i;Rd(1584,t);o[t>>2]=n;Rd(1616,t);o[t>>2]=a[e+61>>0]|0;Rd(1648,t);u=+s[e+84>>2];f[b>>3]=+s[e+80>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(1688,t);u=+s[e+92>>2];f[b>>3]=+s[e+88>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(1736,t);f[b>>3]=+s[e+104>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(1784,t);f[b>>3]=+s[e+68>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(1808,t);f[b>>3]=+s[e+72>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(1840,t);o[t>>2]=o[e+56>>2];Rd(1872,t);c=r;return}function dn(e){e=e|0;return}function bn(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function hn(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0;n=c;o[e+8>>2]=r;o[e+12>>2]=t;a=+s[i>>2]-+s[r+12>>2];u=i+4|0;l=+s[u>>2]-+s[r+16>>2];f=+s[r+24>>2];d=+s[r+20>>2];b=+(a*f+l*d);h=+(f*l-a*d);r=e+20|0;s[r>>2]=b;s[r+4>>2]=h;h=+s[i>>2]-+s[t+12>>2];b=+s[u>>2]-+s[t+16>>2];d=+s[t+24>>2];a=+s[t+20>>2];l=+(h*d+b*a);f=+(d*b-h*a);t=e+28|0;s[t>>2]=l;s[t+4>>2]=f;c=n;return}function _n(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;Co(e,r);o[e>>2]=1968;i=r+20|0;n=o[i+4>>2]|0;a=e+68|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=r+28|0;a=o[n+4>>2]|0;i=e+76|0;o[i>>2]=o[n>>2];o[i+4>>2]=a;s[e+84>>2]=0;s[e+88>>2]=0;s[e+92>>2]=0;s[e+96>>2]=+s[r+36>>2];s[e+100>>2]=+s[r+40>>2];c=t;return}function mn(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0;t=c;n=o[e+48>>2]|0;a=o[n+8>>2]|0;u=e+104|0;o[u>>2]=a;l=o[e+52>>2]|0;f=o[l+8>>2]|0;d=e+108|0;o[d>>2]=f;h=n+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+128|0;o[h>>2]=_;o[h+4>>2]=m;h=l+44|0;p=o[h>>2]|0;y=o[h+4>>2]|0;h=e+136|0;o[h>>2]=p;o[h+4>>2]=y;h=e+144|0;s[h>>2]=+s[n+136>>2];w=+s[l+136>>2];s[e+148>>2]=w;v=+s[n+144>>2];s[e+152>>2]=v;S=+s[l+144>>2];s[e+156>>2]=S;l=o[r+28>>2]|0;E=+s[l+(a*12|0)+8>>2];n=r+32|0;g=o[n>>2]|0;k=g+(a*12|0)|0;M=+s[k>>2];P=+s[k+4>>2];A=+s[g+(a*12|0)+8>>2];F=+s[l+(f*12|0)+8>>2];l=g+(f*12|0)|0;C=+s[l>>2];D=+s[l+4>>2];B=+s[g+(f*12|0)+8>>2];R=+Y(+E);T=+j(+E);E=+Y(+F);O=+j(+F);F=+s[e+68>>2]-(o[b>>2]=_,+s[b>>2]);x=+s[e+72>>2]-(o[b>>2]=m,+s[b>>2]);L=T*F-R*x;N=R*F+T*x;x=+L;T=+N;m=e+112|0;s[m>>2]=x;s[m+4>>2]=T;T=+s[e+76>>2]-(o[b>>2]=p,+s[b>>2]);x=+s[e+80>>2]-(o[b>>2]=y,+s[b>>2]);F=O*T-E*x;R=E*T+O*x;x=+F;O=+R;y=e+120|0;s[y>>2]=x;s[y+4>>2]=O;O=+s[h>>2];x=O+w;T=x+N*v*N+R*S*R;E=v*L;I=S*F;J=-(N*E)-R*I;G=x+L*E+F*I;I=T*G-J*J;if(I!=0)W=1/I;else W=I;I=-(J*W);s[e+160>>2]=G*W;s[e+164>>2]=I;s[e+168>>2]=I;s[e+172>>2]=T*W;W=v+S;if(W>0)V=1/W;else V=W;s[e+176>>2]=V;h=e+84|0;if((i[r+24>>0]|0)==0){s[h>>2]=0;s[e+88>>2]=0;s[e+92>>2]=0;z=M;H=P;U=C;q=D;Z=A;X=B;K=o[u>>2]|0;Q=o[n>>2]|0;$=Q+(K*12|0)|0;ee=+z;re=+H;te=$;ie=te;s[ie>>2]=ee;ne=te+4|0;oe=ne;s[oe>>2]=re;ae=o[u>>2]|0;ue=o[n>>2]|0;le=ue+(ae*12|0)+8|0;s[le>>2]=Z;se=o[d>>2]|0;fe=ue+(se*12|0)|0;ce=+U;de=+q;be=fe;he=be;s[he>>2]=ce;_e=be+4|0;me=_e;s[me>>2]=de;pe=o[d>>2]|0;ye=o[n>>2]|0;we=ye+(pe*12|0)+8|0;s[we>>2]=X;c=t;return}else{y=r+8|0;V=+s[y>>2];W=V*+s[h>>2];s[h>>2]=W;h=e+88|0;T=V*+s[h>>2];s[h>>2]=T;h=e+92|0;V=+s[y>>2]*+s[h>>2];s[h>>2]=V;z=M-O*W;H=P-O*T;U=C+w*W;q=D+w*T;Z=A-v*(V+(T*L-W*N));X=B+S*(V+(T*F-W*R));K=o[u>>2]|0;Q=o[n>>2]|0;$=Q+(K*12|0)|0;ee=+z;re=+H;te=$;ie=te;s[ie>>2]=ee;ne=te+4|0;oe=ne;s[oe>>2]=re;ae=o[u>>2]|0;ue=o[n>>2]|0;le=ue+(ae*12|0)+8|0;s[le>>2]=Z;se=o[d>>2]|0;fe=ue+(se*12|0)|0;ce=+U;de=+q;be=fe;he=be;s[he>>2]=ce;_e=be+4|0;me=_e;s[me>>2]=de;pe=o[d>>2]|0;ye=o[n>>2]|0;we=ye+(pe*12|0)+8|0;s[we>>2]=X;c=t;return}}function pn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0;t=c;i=e+104|0;n=o[i>>2]|0;a=r+32|0;u=o[a>>2]|0;l=u+(n*12|0)|0;f=+s[l>>2];d=+s[l+4>>2];b=+s[u+(n*12|0)+8>>2];n=e+108|0;l=o[n>>2]|0;h=u+(l*12|0)|0;_=+s[h>>2];m=+s[h+4>>2];p=+s[u+(l*12|0)+8>>2];y=+s[e+144>>2];w=+s[e+148>>2];v=+s[e+152>>2];S=+s[e+156>>2];E=+s[r>>2];r=e+92|0;g=+s[r>>2];k=E*+s[e+100>>2];M=g-(p-b)*+s[e+176>>2];P=-k;A=M<k?M:k;k=A<P?P:A;s[r>>2]=k;A=k-g;g=b-v*A;b=p+S*A;A=+s[e+124>>2];p=+s[e+120>>2];k=+s[e+116>>2];P=+s[e+112>>2];M=k*g+(_-A*b-f);F=m+p*b-d-P*g;C=+s[e+164>>2]*M+ +s[e+172>>2]*F;r=e+84|0;l=r;D=+s[l>>2];B=+s[l+4>>2];R=D-(+s[e+160>>2]*M+ +s[e+168>>2]*F);s[r>>2]=R;l=e+88|0;F=+s[l>>2]-C;
s[l>>2]=F;C=E*+s[e+96>>2];E=R*R+F*F;if(E>C*C){M=+U(+E);if(M<1.1920928955078125E-7){T=R;O=F}else{E=1/M;M=R*E;s[r>>2]=M;x=F*E;s[l>>2]=x;T=M;O=x}x=C*T;s[r>>2]=x;T=C*O;s[l>>2]=T;L=x;N=T}else{L=R;N=F}F=L-D;D=N-B;B=+(f-y*F);f=+(d-y*D);l=(o[a>>2]|0)+((o[i>>2]|0)*12|0)|0;s[l>>2]=B;s[l+4>>2]=f;l=o[a>>2]|0;s[l+((o[i>>2]|0)*12|0)+8>>2]=g-v*(P*D-F*k);k=+(_+w*F);_=+(m+w*D);i=l+((o[n>>2]|0)*12|0)|0;s[i>>2]=k;s[i+4>>2]=_;s[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=b+S*(D*p-F*A);c=t;return}function yn(e,r){e=e|0;r=r|0;return 1}function wn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+48>>2]|0;i=+s[t+24>>2];n=+s[r+68>>2];a=+s[t+20>>2];u=+s[r+72>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function vn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+52>>2]|0;i=+s[t+24>>2];n=+s[r+76>>2];a=+s[t+20>>2];u=+s[r+80>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function Sn(e,r,t){e=e|0;r=r|0;t=+t;var i=0;i=+s[r+88>>2]*t;s[e>>2]=+s[r+84>>2]*t;s[e+4>>2]=i;return}function En(e,r){e=e|0;r=+r;return+(+s[e+92>>2]*r)}function gn(e){e=e|0;var r=0,t=0,i=0,n=0,u=0;r=c;c=c+16|0;t=r;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Rd(2016,t);o[t>>2]=i;Rd(2048,t);o[t>>2]=n;Rd(2080,t);o[t>>2]=a[e+61>>0]|0;Rd(2112,t);u=+s[e+72>>2];f[b>>3]=+s[e+68>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(2152,t);u=+s[e+80>>2];f[b>>3]=+s[e+76>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(2200,t);f[b>>3]=+s[e+96>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(2248,t);f[b>>3]=+s[e+100>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(2280,t);o[t>>2]=o[e+56>>2];Rd(2312,t);c=r;return}function kn(e){e=e|0;return}function Mn(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Pn(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0;n=c;o[e+8>>2]=r;o[e+12>>2]=t;a=+s[i>>2]-+s[r+12>>2];u=i+4|0;l=+s[u>>2]-+s[r+16>>2];f=+s[r+24>>2];d=+s[r+20>>2];b=+(a*f+l*d);h=+(f*l-a*d);_=e+20|0;s[_>>2]=b;s[_+4>>2]=h;h=+s[i>>2]-+s[t+12>>2];b=+s[u>>2]-+s[t+16>>2];d=+s[t+24>>2];a=+s[t+20>>2];l=+(h*d+b*a);f=+(d*b-h*a);u=e+28|0;s[u>>2]=l;s[u+4>>2]=f;s[e+36>>2]=+s[t+72>>2]-+s[r+72>>2];c=n;return}function An(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;Co(e,r);o[e>>2]=2408;i=r+20|0;n=o[i+4>>2]|0;a=e+80|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=r+28|0;a=o[n+4>>2]|0;i=e+88|0;o[i>>2]=o[n>>2];o[i+4>>2]=a;s[e+96>>2]=+s[r+36>>2];s[e+68>>2]=+s[r+40>>2];s[e+72>>2]=+s[r+44>>2];s[e+104>>2]=0;s[e+108>>2]=0;s[e+112>>2]=0;c=t;return}function Fn(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0;t=c;c=c+48|0;n=t;a=o[e+48>>2]|0;u=o[a+8>>2]|0;l=e+116|0;o[l>>2]=u;f=o[e+52>>2]|0;d=o[f+8>>2]|0;h=e+120|0;o[h>>2]=d;_=a+44|0;m=o[_>>2]|0;p=o[_+4>>2]|0;_=e+140|0;o[_>>2]=m;o[_+4>>2]=p;_=f+44|0;y=o[_>>2]|0;w=o[_+4>>2]|0;_=e+148|0;o[_>>2]=y;o[_+4>>2]=w;_=e+156|0;s[_>>2]=+s[a+136>>2];v=+s[f+136>>2];s[e+160>>2]=v;S=+s[a+144>>2];s[e+164>>2]=S;E=+s[f+144>>2];s[e+168>>2]=E;f=o[r+28>>2]|0;g=+s[f+(u*12|0)+8>>2];a=r+32|0;k=o[a>>2]|0;M=k+(u*12|0)|0;P=+s[M>>2];A=+s[M+4>>2];F=+s[k+(u*12|0)+8>>2];C=+s[f+(d*12|0)+8>>2];f=k+(d*12|0)|0;D=+s[f>>2];B=+s[f+4>>2];R=+s[k+(d*12|0)+8>>2];T=+Y(+g);O=+j(+g);x=+Y(+C);L=+j(+C);d=e+124|0;N=+s[e+80>>2]-(o[b>>2]=m,+s[b>>2]);I=+s[e+84>>2]-(o[b>>2]=p,+s[b>>2]);J=O*N-T*I;G=T*N+O*I;I=+J;O=+G;p=d;s[p>>2]=I;s[p+4>>2]=O;p=e+132|0;O=+s[e+88>>2]-(o[b>>2]=y,+s[b>>2]);I=+s[e+92>>2]-(o[b>>2]=w,+s[b>>2]);N=L*O-x*I;T=x*O+L*I;I=+N;L=+T;w=p;s[w>>2]=I;s[w+4>>2]=L;L=+s[_>>2];I=L+v;_=e+128|0;w=e+136|0;s[n>>2]=I+S*G*G+E*T*T;O=-(S*G*J)-E*T*N;s[n+12>>2]=O;x=-(S*G)-E*T;s[n+24>>2]=x;s[n+4>>2]=O;s[n+16>>2]=I+S*J*J+E*N*N;I=S*J+E*N;s[n+28>>2]=I;s[n+8>>2]=x;s[n+20>>2]=I;I=S+E;s[n+32>>2]=I;y=e+68|0;m=e+172|0;if(+s[y>>2]>0){gd(n,m);if(I>0)W=1/I;else W=0;x=C-g-+s[e+96>>2];g=+s[y>>2]*6.2831854820251465;C=g*W*g;N=+s[r>>2];J=N*(g*W*2*+s[e+72>>2]+N*C);y=e+100|0;s[y>>2]=J;if(J!=0)V=1/J;else V=0;s[y>>2]=V;s[e+76>>2]=x*N*C*V;C=I+V;if(C!=0)z=1/C;else z=0;s[e+204>>2]=z}else{kd(n,m);s[e+100>>2]=0;s[e+76>>2]=0}m=e+104|0;if((i[r+24>>0]|0)==0){s[m>>2]=0;s[e+108>>2]=0;s[e+112>>2]=0;H=P;U=A;q=D;Z=B;X=F;K=R;Q=o[l>>2]|0;$=o[a>>2]|0;ee=$+(Q*12|0)|0;re=+H;te=+U;ie=ee;ne=ie;s[ne>>2]=re;oe=ie+4|0;ae=oe;s[ae>>2]=te;ue=o[l>>2]|0;le=o[a>>2]|0;se=le+(ue*12|0)+8|0;s[se>>2]=X;fe=o[h>>2]|0;ce=le+(fe*12|0)|0;de=+q;be=+Z;he=ce;_e=he;s[_e>>2]=de;me=he+4|0;pe=me;s[pe>>2]=be;ye=o[h>>2]|0;we=o[a>>2]|0;ve=we+(ye*12|0)+8|0;s[ve>>2]=K;c=t;return}else{z=+s[r+8>>2];C=z*+s[m>>2];s[m>>2]=C;m=e+108|0;V=z*+s[m>>2];s[m>>2]=V;m=e+112|0;I=z*+s[m>>2];s[m>>2]=I;H=P-L*C;U=A-L*V;q=D+v*C;Z=B+v*V;X=F-S*(I+(V*+s[d>>2]-C*+s[_>>2]));K=R+E*(I+(V*+s[p>>2]-C*+s[w>>2]));Q=o[l>>2]|0;$=o[a>>2]|0;ee=$+(Q*12|0)|0;re=+H;te=+U;ie=ee;ne=ie;s[ne>>2]=re;oe=ie+4|0;ae=oe;s[ae>>2]=te;ue=o[l>>2]|0;le=o[a>>2]|0;se=le+(ue*12|0)+8|0;s[se>>2]=X;fe=o[h>>2]|0;ce=le+(fe*12|0)|0;de=+q;be=+Z;he=ce;_e=he;s[_e>>2]=de;me=he+4|0;pe=me;s[pe>>2]=be;ye=o[h>>2]|0;we=o[a>>2]|0;ve=we+(ye*12|0)+8|0;s[ve>>2]=K;c=t;return}}function Cn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0;t=c;i=e+116|0;n=o[i>>2]|0;a=r+32|0;r=o[a>>2]|0;u=r+(n*12|0)|0;l=u;f=+s[l>>2];d=+s[l+4>>2];b=+s[r+(n*12|0)+8>>2];n=e+120|0;l=o[n>>2]|0;h=r+(l*12|0)|0;_=+s[h>>2];m=+s[h+4>>2];p=+s[r+(l*12|0)+8>>2];y=+s[e+156>>2];w=+s[e+160>>2];v=+s[e+164>>2];S=+s[e+168>>2];if(+s[e+68>>2]>0){l=e+112|0;E=+s[l>>2];g=+s[e+204>>2]*(p-b+ +s[e+76>>2]+ +s[e+100>>2]*E);k=-g;s[l>>2]=E-g;g=b-v*k;E=p+S*k;k=+s[e+136>>2];M=+s[e+132>>2];P=+s[e+128>>2];A=+s[e+124>>2];F=P*g+(_-k*E-f);C=m+M*E-d-A*g;D=+s[e+172>>2]*F+ +s[e+184>>2]*C;B=+s[e+176>>2]*F+ +s[e+188>>2]*C;C=-D;F=-B;l=e+104|0;s[l>>2]=+s[l>>2]-D;l=e+108|0;s[l>>2]=+s[l>>2]-B;R=F;T=C;O=g-v*(A*F-P*C);x=E+S*(M*F-k*C);L=w*T;N=w*R;I=y*T;J=y*R;G=_+L;W=m+N;V=f-I;z=d-J;H=+V;U=+z;q=u;j=q;s[j>>2]=H;Y=q+4|0;Z=Y;s[Z>>2]=U;X=o[i>>2]|0;K=o[a>>2]|0;Q=K+(X*12|0)+8|0;s[Q>>2]=O;$=o[n>>2]|0;ee=K+($*12|0)|0;re=+G;te=+W;ie=ee;ne=ie;s[ne>>2]=re;oe=ie+4|0;ae=oe;s[ae>>2]=te;ue=o[n>>2]|0;le=o[a>>2]|0;se=le+(ue*12|0)+8|0;s[se>>2]=x;c=t;return}else{C=+s[e+136>>2];k=+s[e+132>>2];F=+s[e+128>>2];M=+s[e+124>>2];E=_-p*C-f+b*F;P=m+p*k-d-b*M;A=p-b;g=E*+s[e+172>>2]+P*+s[e+184>>2]+A*+s[e+196>>2];B=E*+s[e+176>>2]+P*+s[e+188>>2]+A*+s[e+200>>2];D=E*+s[e+180>>2]+P*+s[e+192>>2]+A*+s[e+204>>2];A=-g;P=-B;l=e+104|0;s[l>>2]=+s[l>>2]-g;l=e+108|0;s[l>>2]=+s[l>>2]-B;l=e+112|0;s[l>>2]=+s[l>>2]-D;R=P;T=A;O=b-v*(M*P-F*A-D);x=p+S*(k*P-C*A-D);L=w*T;N=w*R;I=y*T;J=y*R;G=_+L;W=m+N;V=f-I;z=d-J;H=+V;U=+z;q=u;j=q;s[j>>2]=H;Y=q+4|0;Z=Y;s[Z>>2]=U;X=o[i>>2]|0;K=o[a>>2]|0;Q=K+(X*12|0)+8|0;s[Q>>2]=O;$=o[n>>2]|0;ee=K+($*12|0)|0;re=+G;te=+W;ie=ee;ne=ie;s[ne>>2]=re;oe=ie+4|0;ae=oe;s[ae>>2]=te;ue=o[n>>2]|0;le=o[a>>2]|0;se=le+(ue*12|0)+8|0;s[se>>2]=x;c=t;return}}function Dn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0;t=c;c=c+80|0;i=t+40|0;n=t+32|0;a=t+24|0;u=t+12|0;l=t;f=e+116|0;d=o[f>>2]|0;b=r+28|0;r=o[b>>2]|0;h=r+(d*12|0)|0;_=+s[h>>2];m=+s[h+4>>2];p=+s[r+(d*12|0)+8>>2];d=e+120|0;h=o[d>>2]|0;y=r+(h*12|0)|0;w=+s[y>>2];v=+s[y+4>>2];S=+s[r+(h*12|0)+8>>2];E=+Y(+p);g=+j(+p);k=+Y(+S);M=+j(+S);P=+s[e+156>>2];A=+s[e+160>>2];F=+s[e+164>>2];C=+s[e+168>>2];D=+s[e+80>>2]-+s[e+140>>2];B=+s[e+84>>2]-+s[e+144>>2];R=g*D-E*B;T=E*D+g*B;B=+s[e+88>>2]-+s[e+148>>2];g=+s[e+92>>2]-+s[e+152>>2];D=M*B-k*g;E=k*B+M*g;g=P+A;s[i>>2]=g+F*T*T+C*E*E;M=-(F*T*R)-C*E*D;s[i+12>>2]=M;B=-(F*T)-C*E;s[i+24>>2]=B;s[i+4>>2]=M;s[i+16>>2]=g+F*R*R+C*D*D;g=F*R+C*D;s[i+28>>2]=g;s[i+8>>2]=B;s[i+20>>2]=g;s[i+32>>2]=F+C;g=w+D-_-R;B=v+E-m-T;if(+s[e+68>>2]>0){s[n>>2]=g;s[n+4>>2]=B;M=+U(+(B*B+g*g));Ed(a,i,n);k=-+s[a>>2];O=-+s[a+4>>2];x=O;L=k;N=D*O-E*k;I=R*O-T*k;J=0;G=M}else{M=S-p-+s[e+96>>2];k=+U(+(g*g+B*B));if(M>0)W=M;else W=-M;s[u>>2]=g;s[u+4>>2]=B;s[u+8>>2]=M;Sd(l,i,u);M=-+s[l>>2];B=-+s[l+4>>2];g=+s[l+8>>2];x=B;L=M;N=D*B-E*M-g;I=R*B-T*M-g;J=W;G=k}k=+(_-P*L);_=+(m-P*x);l=(o[b>>2]|0)+((o[f>>2]|0)*12|0)|0;s[l>>2]=k;s[l+4>>2]=_;l=o[b>>2]|0;s[l+((o[f>>2]|0)*12|0)+8>>2]=p-F*I;I=+(w+A*L);L=+(v+A*x);f=l+((o[d>>2]|0)*12|0)|0;s[f>>2]=I;s[f+4>>2]=L;s[(o[b>>2]|0)+((o[d>>2]|0)*12|0)+8>>2]=S+C*N;if(!(G<=.004999999888241291)){V=0;c=t;return V|0}V=J<=.03490658849477768;c=t;return V|0}function Bn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+48>>2]|0;i=+s[t+24>>2];n=+s[r+80>>2];a=+s[t+20>>2];u=+s[r+84>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function Rn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+52>>2]|0;i=+s[t+24>>2];n=+s[r+88>>2];a=+s[t+20>>2];u=+s[r+92>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function Tn(e,r,t){e=e|0;r=r|0;t=+t;var i=0;i=+s[r+108>>2]*t;s[e>>2]=+s[r+104>>2]*t;s[e+4>>2]=i;return}function On(e,r){e=e|0;r=+r;return+(+s[e+112>>2]*r)}function xn(e){e=e|0;var r=0,t=0,i=0,n=0,u=0;r=c;c=c+16|0;t=r;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Rd(2456,t);o[t>>2]=i;Rd(2480,t);o[t>>2]=n;Rd(2512,t);o[t>>2]=a[e+61>>0]|0;Rd(2544,t);u=+s[e+84>>2];f[b>>3]=+s[e+80>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(2584,t);u=+s[e+92>>2];f[b>>3]=+s[e+88>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(2632,t);f[b>>3]=+s[e+96>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(2680,t);f[b>>3]=+s[e+68>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(2712,t);f[b>>3]=+s[e+72>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(2744,t);o[t>>2]=o[e+56>>2];Rd(2776,t);c=r;return}function Ln(e){e=e|0;return}function Nn(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function In(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0;t=c;Co(e,r);o[e>>2]=2864;i=e+92|0;n=e+100|0;a=e+108|0;u=e+116|0;l=e+124|0;f=e+132|0;d=r+20|0;h=o[d>>2]|0;o[e+68>>2]=h;_=r+24|0;m=o[_>>2]|0;o[e+72>>2]=m;p=o[h+4>>2]|0;o[e+76>>2]=p;y=o[m+4>>2]|0;o[e+80>>2]=y;w=o[h+48>>2]|0;o[e+84>>2]=w;v=o[h+52>>2]|0;o[e+48>>2]=v;S=+s[v+20>>2];E=+s[v+24>>2];g=+s[w+20>>2];k=+s[w+24>>2];h=o[d>>2]|0;if((p|0)==1){M=+s[v+72>>2];P=+s[w+72>>2];p=h+68|0;d=o[p+4>>2]|0;A=a;o[A>>2]=o[p>>2];o[A+4>>2]=d;d=h+76|0;A=o[d+4>>2]|0;p=i;o[p>>2]=o[d>>2];o[p+4>>2]=A;F=+s[h+116>>2];s[e+140>>2]=F;s[l>>2]=0;s[e+128>>2]=0;C=M-P-F}else{F=+s[w+16>>2];P=+s[w+12>>2];M=+s[v+16>>2];D=+s[v+12>>2];v=h+68|0;w=o[v>>2]|0;A=o[v+4>>2]|0;v=a;o[v>>2]=w;o[v+4>>2]=A;v=h+76|0;a=o[v>>2]|0;p=o[v+4>>2]|0;v=i;o[v>>2]=a;o[v+4>>2]=p;s[e+140>>2]=+s[h+100>>2];v=h+84|0;h=o[v>>2]|0;i=o[v+4>>2]|0;v=l;o[v>>2]=h;o[v+4>>2]=i;B=(o[b>>2]=w,+s[b>>2]);R=(o[b>>2]=A,+s[b>>2]);T=(o[b>>2]=a,+s[b>>2]);O=(o[b>>2]=p,+s[b>>2]);x=D-P+(E*T-S*O);P=M-F+(S*T+E*O);O=(o[b>>2]=h,+s[b>>2])*(k*x+g*P-B);C=O+(o[b>>2]=i,+s[b>>2])*(k*P-g*x-R)}i=o[m+48>>2]|0;o[e+88>>2]=i;h=o[m+52>>2]|0;o[e+52>>2]=h;R=+s[h+20>>2];x=+s[h+24>>2];g=+s[i+20>>2];P=+s[i+24>>2];m=o[_>>2]|0;if((y|0)==1){k=+s[h+72>>2];O=+s[i+72>>2];y=m+68|0;_=o[y+4>>2]|0;p=u;o[p>>2]=o[y>>2];o[p+4>>2]=_;_=m+76|0;p=o[_+4>>2]|0;y=n;o[y>>2]=o[_>>2];o[y+4>>2]=p;B=+s[m+116>>2];s[e+144>>2]=B;s[f>>2]=0;s[e+136>>2]=0;L=k-O-B;N=r+28|0;I=+s[N>>2];J=e+152|0;s[J>>2]=I;G=L*I;W=C+G;V=e+148|0;s[V>>2]=W;z=e+156|0;s[z>>2]=0;c=t;return}else{B=+s[i+16>>2];O=+s[i+12>>2];k=+s[h+16>>2];E=+s[h+12>>2];h=m+68|0;i=o[h>>2]|0;p=o[h+4>>2]|0;h=u;o[h>>2]=i;o[h+4>>2]=p;h=m+76|0;u=o[h>>2]|0;y=o[h+4>>2]|0;h=n;o[h>>2]=u;o[h+4>>2]=y;s[e+144>>2]=+s[m+100>>2];h=m+84|0;m=o[h>>2]|0;n=o[h+4>>2]|0;h=f;o[h>>2]=m;o[h+4>>2]=n;T=(o[b>>2]=i,+s[b>>2]);S=(o[b>>2]=p,+s[b>>2]);F=(o[b>>2]=u,+s[b>>2]);M=(o[b>>2]=y,+s[b>>2]);D=E-O+(x*F-R*M);O=k-B+(R*F+x*M);M=(o[b>>2]=m,+s[b>>2])*(P*D+g*O-T);L=M+(o[b>>2]=n,+s[b>>2])*(P*O-g*D-S);N=r+28|0;I=+s[N>>2];J=e+152|0;s[J>>2]=I;G=L*I;W=C+G;V=e+148|0;s[V>>2]=W;z=e+156|0;s[z>>2]=0;c=t;return}}function Jn(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0,Pe=0,Ae=0,Fe=0,Ce=0,De=0,Be=0,Re=0,Te=0,Oe=0,xe=0,Le=0,Ne=0,Ie=0,Je=0,Ge=0,We=0,Ve=0,ze=0,He=0,Ue=0,qe=0,je=0,Ye=0,Ze=0,Xe=0,Ke=0,Qe=0,$e=0,er=0,rr=0,tr=0,ir=0,nr=0,or=0,ar=0,ur=0,lr=0,sr=0,fr=0,cr=0,dr=0,br=0,hr=0,_r=0,mr=0,pr=0,yr=0,wr=0,vr=0,Sr=0,Er=0,gr=0,kr=0;t=c;n=o[e+48>>2]|0;a=o[n+8>>2]|0;u=e+160|0;o[u>>2]=a;l=o[e+52>>2]|0;f=o[l+8>>2]|0;d=e+164|0;o[d>>2]=f;h=o[e+84>>2]|0;_=o[h+8>>2]|0;m=e+168|0;o[m>>2]=_;p=o[e+88>>2]|0;y=o[p+8>>2]|0;w=e+172|0;o[w>>2]=y;v=e+176|0;S=n+44|0;E=o[S+4>>2]|0;g=v;o[g>>2]=o[S>>2];o[g+4>>2]=E;E=e+184|0;g=l+44|0;S=o[g+4>>2]|0;k=E;o[k>>2]=o[g>>2];o[k+4>>2]=S;S=e+192|0;k=h+44|0;g=o[k+4>>2]|0;M=S;o[M>>2]=o[k>>2];o[M+4>>2]=g;g=p+44|0;M=o[g>>2]|0;k=o[g+4>>2]|0;g=e+200|0;o[g>>2]=M;o[g+4>>2]=k;P=+s[n+136>>2];s[e+208>>2]=P;A=+s[l+136>>2];s[e+212>>2]=A;F=+s[h+136>>2];s[e+216>>2]=F;C=+s[p+136>>2];s[e+220>>2]=C;D=+s[n+144>>2];s[e+224>>2]=D;B=+s[l+144>>2];s[e+228>>2]=B;R=+s[h+144>>2];s[e+232>>2]=R;T=+s[p+144>>2];s[e+236>>2]=T;p=o[r+28>>2]|0;O=+s[p+(a*12|0)+8>>2];h=r+32|0;l=o[h>>2]|0;n=l+(a*12|0)|0;x=+s[n>>2];L=+s[n+4>>2];N=+s[l+(a*12|0)+8>>2];I=+s[p+(f*12|0)+8>>2];a=l+(f*12|0)|0;J=+s[a>>2];G=+s[a+4>>2];W=+s[l+(f*12|0)+8>>2];V=+s[p+(_*12|0)+8>>2];f=l+(_*12|0)|0;z=+s[f>>2];H=+s[f+4>>2];U=+s[l+(_*12|0)+8>>2];q=+s[p+(y*12|0)+8>>2];p=l+(y*12|0)|0;Z=+s[p>>2];X=+s[p+4>>2];K=+s[l+(y*12|0)+8>>2];Q=+Y(+O);$=+j(+O);O=+Y(+I);ee=+j(+I);I=+Y(+V);re=+j(+V);V=+Y(+q);te=+j(+q);y=e+272|0;s[y>>2]=0;q=(o[b>>2]=M,+s[b>>2]);if((o[e+76>>2]|0)==1){s[e+240>>2]=0;s[e+244>>2]=0;s[e+256>>2]=1;s[e+264>>2]=1;ie=D+R;ne=0;oe=0;ae=1;ue=1}else{le=+s[e+124>>2];se=+s[e+128>>2];fe=re*le-I*se;ce=I*le+re*se;se=+s[e+108>>2]-+s[S>>2];le=+s[e+112>>2]-+s[e+196>>2];de=+s[e+92>>2]-+s[v>>2];be=+s[e+96>>2]-+s[e+180>>2];he=+fe;_e=+ce;v=e+240|0;s[v>>2]=he;s[v+4>>2]=_e;_e=ce*(re*se-I*le)-fe*(I*se+re*le);s[e+264>>2]=_e;le=ce*($*de-Q*be)-fe*(Q*de+$*be);s[e+256>>2]=le;ie=F+P+_e*R*_e+le*D*le;ne=fe;oe=ce;ae=le;ue=_e}_e=ie+0;s[y>>2]=_e;if((o[e+80>>2]|0)==1){s[e+248>>2]=0;s[e+252>>2]=0;ie=+s[e+152>>2];s[e+260>>2]=ie;s[e+268>>2]=ie;me=ie*ie*(B+T);pe=0;ye=0;we=ie;ve=ie}else{ie=+s[e+132>>2];le=+s[e+136>>2];ce=te*ie-V*le;fe=V*ie+te*le;le=+s[e+116>>2]-q;q=+s[e+120>>2]-+s[e+204>>2];ie=+s[e+100>>2]-+s[E>>2];be=+s[e+104>>2]-+s[e+188>>2];$=+s[e+152>>2];de=ce*$;Q=fe*$;re=+de;se=+Q;E=e+248|0;s[E>>2]=re;s[E+4>>2]=se;se=(fe*(te*le-V*q)-ce*(V*le+te*q))*$;s[e+268>>2]=se;q=$*(fe*(ee*ie-O*be)-ce*(O*ie+ee*be));s[e+260>>2]=q;me=$*$*(C+A)+se*T*se+q*q*B;pe=de;ye=Q;we=q;ve=se}se=_e+me;s[y>>2]=se;if(se>0)Se=1/se;else Se=0;s[y>>2]=Se;y=e+156|0;if((i[r+24>>0]|0)==0){s[y>>2]=0;Ee=x;ge=L;ke=J;Me=G;Pe=z;Ae=H;Fe=Z;Ce=X;De=N;Be=W;Re=U;Te=K;Oe=o[u>>2]|0;xe=o[h>>2]|0;Le=xe+(Oe*12|0)|0;Ne=+Ee;Ie=+ge;Je=Le;Ge=Je;s[Ge>>2]=Ne;We=Je+4|0;Ve=We;s[Ve>>2]=Ie;ze=o[u>>2]|0;He=o[h>>2]|0;Ue=He+(ze*12|0)+8|0;s[Ue>>2]=De;qe=o[d>>2]|0;je=He+(qe*12|0)|0;Ye=+ke;Ze=+Me;Xe=je;Ke=Xe;s[Ke>>2]=Ye;Qe=Xe+4|0;$e=Qe;s[$e>>2]=Ze;er=o[d>>2]|0;rr=o[h>>2]|0;tr=rr+(er*12|0)+8|0;s[tr>>2]=Be;ir=o[m>>2]|0;nr=rr+(ir*12|0)|0;or=+Pe;ar=+Ae;ur=nr;lr=ur;s[lr>>2]=or;sr=ur+4|0;fr=sr;s[fr>>2]=ar;cr=o[m>>2]|0;dr=o[h>>2]|0;br=dr+(cr*12|0)+8|0;s[br>>2]=Re;hr=o[w>>2]|0;_r=dr+(hr*12|0)|0;mr=+Fe;pr=+Ce;yr=_r;wr=yr;s[wr>>2]=mr;vr=yr+4|0;Sr=vr;s[Sr>>2]=pr;Er=o[w>>2]|0;gr=o[h>>2]|0;kr=gr+(Er*12|0)+8|0;s[kr>>2]=Te;c=t;return}else{Se=+s[y>>2];se=P*Se;P=Se*A;A=Se*F;F=Se*C;Ee=x+ne*se;ge=L+se*oe;ke=J+pe*P;Me=G+P*ye;Pe=z-ne*A;Ae=H-oe*A;Fe=Z-pe*F;Ce=X-ye*F;De=N+Se*D*ae;Be=W+Se*B*we;Re=U-Se*R*ue;Te=K-Se*T*ve;Oe=o[u>>2]|0;xe=o[h>>2]|0;Le=xe+(Oe*12|0)|0;Ne=+Ee;Ie=+ge;Je=Le;Ge=Je;s[Ge>>2]=Ne;We=Je+4|0;Ve=We;s[Ve>>2]=Ie;ze=o[u>>2]|0;He=o[h>>2]|0;Ue=He+(ze*12|0)+8|0;s[Ue>>2]=De;qe=o[d>>2]|0;je=He+(qe*12|0)|0;Ye=+ke;Ze=+Me;Xe=je;Ke=Xe;s[Ke>>2]=Ye;Qe=Xe+4|0;$e=Qe;s[$e>>2]=Ze;er=o[d>>2]|0;rr=o[h>>2]|0;tr=rr+(er*12|0)+8|0;s[tr>>2]=Be;ir=o[m>>2]|0;nr=rr+(ir*12|0)|0;or=+Pe;ar=+Ae;ur=nr;lr=ur;s[lr>>2]=or;sr=ur+4|0;fr=sr;s[fr>>2]=ar;cr=o[m>>2]|0;dr=o[h>>2]|0;br=dr+(cr*12|0)+8|0;s[br>>2]=Re;hr=o[w>>2]|0;_r=dr+(hr*12|0)|0;mr=+Fe;pr=+Ce;yr=_r;wr=yr;s[wr>>2]=mr;vr=yr+4|0;Sr=vr;s[Sr>>2]=pr;Er=o[w>>2]|0;gr=o[h>>2]|0;kr=gr+(Er*12|0)+8|0;s[kr>>2]=Te;c=t;return}}function Gn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0;t=c;i=e+160|0;n=o[i>>2]|0;a=r+32|0;r=o[a>>2]|0;u=r+(n*12|0)|0;l=+s[u>>2];f=+s[u+4>>2];d=+s[r+(n*12|0)+8>>2];n=e+164|0;u=o[n>>2]|0;b=r+(u*12|0)|0;h=+s[b>>2];_=+s[b+4>>2];m=+s[r+(u*12|0)+8>>2];u=e+168|0;b=o[u>>2]|0;p=r+(b*12|0)|0;y=+s[p>>2];w=+s[p+4>>2];v=+s[r+(b*12|0)+8>>2];b=e+172|0;p=o[b>>2]|0;S=r+(p*12|0)|0;E=+s[S>>2];g=+s[S+4>>2];k=+s[r+(p*12|0)+8>>2];M=+s[e+240>>2];P=+s[e+244>>2];A=+s[e+248>>2];F=+s[e+252>>2];C=+s[e+256>>2];D=+s[e+264>>2];B=+s[e+260>>2];R=+s[e+268>>2];T=+s[e+272>>2]*((l-y)*M+(f-w)*P+((h-E)*A+(_-g)*F)+(d*C-v*D+(m*B-k*R)));O=-T;p=e+156|0;s[p>>2]=+s[p>>2]-T;T=+s[e+208>>2]*O;x=d+ +s[e+224>>2]*O*C;C=+s[e+212>>2]*O;d=m+ +s[e+228>>2]*O*B;B=+s[e+216>>2]*O;m=v-+s[e+232>>2]*O*D;D=+s[e+220>>2]*O;v=k-+s[e+236>>2]*O*R;R=+(l+M*T);l=+(f+P*T);e=(o[a>>2]|0)+((o[i>>2]|0)*12|0)|0;s[e>>2]=R;s[e+4>>2]=l;e=o[a>>2]|0;s[e+((o[i>>2]|0)*12|0)+8>>2]=x;x=+(h+A*C);h=+(_+C*F);i=e+((o[n>>2]|0)*12|0)|0;s[i>>2]=x;s[i+4>>2]=h;i=o[a>>2]|0;s[i+((o[n>>2]|0)*12|0)+8>>2]=d;d=+(y-M*B);M=+(w-P*B);n=i+((o[u>>2]|0)*12|0)|0;s[n>>2]=d;s[n+4>>2]=M;n=o[a>>2]|0;s[n+((o[u>>2]|0)*12|0)+8>>2]=m;m=+(E-A*D);A=+(g-F*D);u=n+((o[b>>2]|0)*12|0)|0;s[u>>2]=m;s[u+4>>2]=A;s[(o[a>>2]|0)+((o[b>>2]|0)*12|0)+8>>2]=v;c=t;return}function Wn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0;t=c;i=e+160|0;n=o[i>>2]|0;a=r+28|0;r=o[a>>2]|0;u=r+(n*12|0)|0;l=u;f=+s[l>>2];d=+s[l+4>>2];b=+s[r+(n*12|0)+8>>2];n=e+164|0;l=o[n>>2]|0;h=r+(l*12|0)|0;_=+s[h>>2];m=+s[h+4>>2];p=+s[r+(l*12|0)+8>>2];l=e+168|0;h=o[l>>2]|0;y=r+(h*12|0)|0;w=+s[y>>2];v=+s[y+4>>2];S=+s[r+(h*12|0)+8>>2];h=e+172|0;y=o[h>>2]|0;E=r+(y*12|0)|0;g=+s[E>>2];k=+s[E+4>>2];M=+s[r+(y*12|0)+8>>2];P=+Y(+b);A=+j(+b);F=+Y(+p);C=+j(+p);D=+Y(+S);B=+j(+S);R=+Y(+M);T=+j(+M);if((o[e+76>>2]|0)==1){O=+s[e+224>>2];x=+s[e+232>>2];L=0;N=0;I=O;J=x;G=1;W=1;V=b-S-+s[e+140>>2];z=O+x}else{x=+s[e+124>>2];O=+s[e+128>>2];H=B*x-D*O;U=D*x+B*O;q=+s[e+108>>2]-+s[e+192>>2];Z=+s[e+112>>2]-+s[e+196>>2];X=+s[e+92>>2]-+s[e+176>>2];K=+s[e+96>>2]-+s[e+180>>2];Q=A*X-P*K;$=P*X+A*K;K=U*(B*q-D*Z)-H*(D*q+B*Z);A=U*Q-H*$;X=+s[e+232>>2];P=+s[e+224>>2];ee=f-w+Q;Q=d-v+$;L=H;N=U;I=P;J=X;G=A;W=K;V=x*(B*ee+D*Q-q)+O*(B*Q-D*ee-Z);z=+s[e+216>>2]+ +s[e+208>>2]+K*K*X+A*P*A}if((o[e+80>>2]|0)==1){A=+s[e+152>>2];P=+s[e+228>>2];X=+s[e+236>>2];re=A*A*(P+X);te=A;ie=0;ne=0;oe=P;ae=X;ue=A;le=A;se=p-M-+s[e+144>>2]}else{A=+s[e+132>>2];X=+s[e+136>>2];P=T*A-R*X;K=R*A+T*X;Z=+s[e+116>>2]-+s[e+200>>2];ee=+s[e+120>>2]-+s[e+204>>2];D=+s[e+100>>2]-+s[e+184>>2];Q=+s[e+104>>2]-+s[e+188>>2];B=C*D-F*Q;O=F*D+C*Q;Q=+s[e+152>>2];C=Q*(K*(T*Z-R*ee)-P*(R*Z+T*ee));D=Q*(K*B-P*O);F=+s[e+236>>2];q=+s[e+228>>2];x=_-g+B;B=m-k+O;re=Q*Q*(+s[e+220>>2]+ +s[e+212>>2])+C*C*F+D*q*D;te=Q;ie=P*Q;ne=K*Q;oe=q;ae=F;ue=D;le=C;se=A*(T*x+R*B-Z)+X*(T*B-R*x-ee)}ee=z+0+re;if(ee>0)fe=-(V+se*te-+s[e+148>>2])/ee;else fe=0;ee=fe*+s[e+208>>2];te=fe*+s[e+212>>2];se=fe*+s[e+216>>2];V=fe*+s[e+220>>2];re=+(f+L*ee);f=+(d+N*ee);e=u;s[e>>2]=re;s[e+4>>2]=f;e=o[a>>2]|0;s[e+((o[i>>2]|0)*12|0)+8>>2]=b+G*fe*I;I=+(_+ie*te);_=+(m+ne*te);i=e+((o[n>>2]|0)*12|0)|0;s[i>>2]=I;s[i+4>>2]=_;i=o[a>>2]|0;s[i+((o[n>>2]|0)*12|0)+8>>2]=p+ue*fe*oe;oe=+(w-L*se);L=+(v-N*se);n=i+((o[l>>2]|0)*12|0)|0;s[n>>2]=oe;s[n+4>>2]=L;n=o[a>>2]|0;s[n+((o[l>>2]|0)*12|0)+8>>2]=S-W*fe*J;J=+(g-ie*V);ie=+(k-ne*V);l=n+((o[h>>2]|0)*12|0)|0;s[l>>2]=J;s[l+4>>2]=ie;s[(o[a>>2]|0)+((o[h>>2]|0)*12|0)+8>>2]=M-le*fe*ae;c=t;return 1}function Vn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+48>>2]|0;i=+s[t+24>>2];n=+s[r+92>>2];a=+s[t+20>>2];u=+s[r+96>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function zn(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+52>>2]|0;i=+s[t+24>>2];n=+s[r+100>>2];a=+s[t+20>>2];u=+s[r+104>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function Hn(e,r,t){e=e|0;r=r|0;t=+t;var i=0,n=0;i=+s[r+156>>2];n=i*+s[r+244>>2]*t;s[e>>2]=i*+s[r+240>>2]*t;s[e+4>>2]=n;return}function Un(e,r){e=e|0;r=+r;return+(+s[e+156>>2]*+s[e+256>>2]*r)}function qn(e){e=e|0;return+ +s[e+152>>2]}function jn(e){e=e|0;var r=0,t=0,i=0,n=0,u=0,l=0;r=c;c=c+16|0;t=r;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;u=o[(o[e+68>>2]|0)+56>>2]|0;l=o[(o[e+72>>2]|0)+56>>2]|0;Rd(2912,t);o[t>>2]=i;Rd(2936,t);o[t>>2]=n;Rd(2968,t);o[t>>2]=a[e+61>>0]|0;Rd(3E3,t);o[t>>2]=u;Rd(3040,t);o[t>>2]=l;Rd(3072,t);f[b>>3]=+s[e+152>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(3104,t);o[t>>2]=o[e+56>>2];Rd(3128,t);c=r;return}function Yn(e){e=e|0;return}function Zn(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Xn(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0;a=c;o[e+8>>2]=r;o[e+12>>2]=t;u=+s[i>>2]-+s[r+12>>2];l=i+4|0;f=+s[l>>2]-+s[r+16>>2];d=r+24|0;b=+s[d>>2];h=r+20|0;_=+s[h>>2];m=+(u*b+f*_);p=+(b*f-u*_);y=e+20|0;s[y>>2]=m;s[y+4>>2]=p;p=+s[i>>2]-+s[t+12>>2];m=+s[l>>2]-+s[t+16>>2];_=+s[t+24>>2];u=+s[t+20>>2];f=+(p*_+m*u);b=+(_*m-p*u);l=e+28|0;s[l>>2]=f;s[l+4>>2]=b;b=+s[d>>2];f=+s[n>>2];u=+s[h>>2];p=+s[n+4>>2];m=+(b*f+u*p);_=+(b*p-f*u);n=e+36|0;s[n>>2]=m;s[n+4>>2]=_;s[e+44>>2]=+s[t+72>>2]-+s[r+72>>2];c=a;return}function Kn(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0;t=c;Co(e,r);o[e>>2]=3216;n=e+84|0;a=r+20|0;u=o[a+4>>2]|0;l=e+68|0;o[l>>2]=o[a>>2];o[l+4>>2]=u;u=r+28|0;l=o[u+4>>2]|0;a=e+76|0;o[a>>2]=o[u>>2];o[a+4>>2]=l;l=r+36|0;a=o[l>>2]|0;u=o[l+4>>2]|0;l=n;o[l>>2]=a;o[l+4>>2]=u;f=(o[b>>2]=a,+s[b>>2]);d=(o[b>>2]=u,+s[b>>2]);h=+U(+(f*f+d*d));if(h<1.1920928955078125E-7){_=d;m=f}else{p=1/h;h=f*p;s[n>>2]=h;f=d*p;s[e+88>>2]=f;_=f;m=h}h=+-_;_=+m;n=e+92|0;s[n>>2]=h;s[n+4>>2]=_;s[e+100>>2]=+s[r+44>>2];n=e+104|0;s[e+252>>2]=0;u=r+52|0;o[n+0>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;s[e+120>>2]=+s[u>>2];s[e+124>>2]=+s[r+56>>2];s[e+128>>2]=+s[r+64>>2];s[e+132>>2]=+s[r+68>>2];i[e+136>>0]=i[r+48>>0]|0;i[e+137>>0]=i[r+60>>0]|0;o[e+140>>2]=0;r=e+184|0;o[r+0>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;c=t;return}function Qn(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0,Pe=0,Ae=0,Fe=0,Ce=0;t=c;n=o[e+48>>2]|0;a=o[n+8>>2]|0;u=e+144|0;o[u>>2]=a;l=o[e+52>>2]|0;f=o[l+8>>2]|0;d=e+148|0;o[d>>2]=f;h=n+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+152|0;o[h>>2]=_;o[h+4>>2]=m;h=l+44|0;p=o[h>>2]|0;y=o[h+4>>2]|0;h=e+160|0;o[h>>2]=p;o[h+4>>2]=y;h=e+168|0;s[h>>2]=+s[n+136>>2];w=e+172|0;s[w>>2]=+s[l+136>>2];v=+s[n+144>>2];s[e+176>>2]=v;S=+s[l+144>>2];s[e+180>>2]=S;l=o[r+28>>2]|0;n=l+(a*12|0)|0;E=+s[n>>2];g=+s[n+4>>2];k=+s[l+(a*12|0)+8>>2];n=r+32|0;M=o[n>>2]|0;P=M+(a*12|0)|0;A=+s[P>>2];F=+s[P+4>>2];C=+s[M+(a*12|0)+8>>2];a=l+(f*12|0)|0;D=+s[a>>2];B=+s[a+4>>2];R=+s[l+(f*12|0)+8>>2];l=M+(f*12|0)|0;T=+s[l>>2];O=+s[l+4>>2];x=+s[M+(f*12|0)+8>>2];L=+Y(+k);N=+j(+k);k=+Y(+R);I=+j(+R);R=+s[e+68>>2]-(o[b>>2]=_,+s[b>>2]);J=+s[e+72>>2]-(o[b>>2]=m,+s[b>>2]);G=N*R-L*J;W=L*R+N*J;J=+s[e+76>>2]-(o[b>>2]=p,+s[b>>2]);R=+s[e+80>>2]-(o[b>>2]=y,+s[b>>2]);V=I*J-k*R;z=k*J+I*R;R=D-E+V-G;E=B-g+z-W;g=+s[h>>2];B=+s[w>>2];D=+s[e+84>>2];I=+s[e+88>>2];J=N*D-L*I;k=L*D+N*I;I=+J;D=+k;w=e+184|0;s[w>>2]=I;s[w+4>>2]=D;D=G+R;G=W+E;W=D*k-G*J;s[e+208>>2]=W;I=V*k-z*J;s[e+212>>2]=I;H=g+B;U=v*W;q=S*I;Z=H+W*U+I*q;if(Z>0)X=1/Z;else X=Z;s[e+252>>2]=X;X=+s[e+92>>2];K=+s[e+96>>2];Q=N*X-L*K;$=L*X+N*K;K=+Q;N=+$;w=e+192|0;s[w>>2]=K;s[w+4>>2]=N;N=D*$-G*Q;s[e+200>>2]=N;G=V*$-z*Q;s[e+204>>2]=G;z=v*N;V=S*G;D=z+V;K=z*W+V*I;X=S+v;L=U+q;s[e+216>>2]=H+N*z+G*V;s[e+220>>2]=D;s[e+224>>2]=K;s[e+228>>2]=D;s[e+232>>2]=X==0?1:X;s[e+236>>2]=L;s[e+240>>2]=K;s[e+244>>2]=L;s[e+248>>2]=Z;do if((i[e+136>>0]|0)!=0){Z=R*J+E*k;L=+s[e+124>>2];K=+s[e+120>>2];X=L-K;if(X>0)ee=X;else ee=-X;if(ee<.009999999776482582){o[e+140>>2]=3;break}if(Z<=K){w=e+140|0;if((o[w>>2]|0)==1)break;o[w>>2]=1;s[e+112>>2]=0;break}w=e+140|0;if(!(Z>=L)){o[w>>2]=0;s[e+112>>2]=0;break}if((o[w>>2]|0)!=2){o[w>>2]=2;s[e+112>>2]=0}}else{o[e+140>>2]=0;s[e+112>>2]=0}while(0);if((i[e+137>>0]|0)==0)s[e+116>>2]=0;w=e+104|0;if((i[r+24>>0]|0)==0){o[w+0>>2]=0;o[w+4>>2]=0;o[w+8>>2]=0;o[w+12>>2]=0;re=A;te=F;ie=T;ne=O;oe=C;ae=x;ue=o[u>>2]|0;le=o[n>>2]|0;se=le+(ue*12|0)|0;fe=+re;ce=+te;de=se;be=de;s[be>>2]=fe;he=de+4|0;_e=he;s[_e>>2]=ce;me=o[u>>2]|0;pe=o[n>>2]|0;ye=pe+(me*12|0)+8|0;s[ye>>2]=oe;we=o[d>>2]|0;ve=pe+(we*12|0)|0;Se=+ie;Ee=+ne;ge=ve;ke=ge;s[ke>>2]=Se;Me=ge+4|0;Pe=Me;s[Pe>>2]=Ee;Ae=o[d>>2]|0;Fe=o[n>>2]|0;Ce=Fe+(Ae*12|0)+8|0;s[Ce>>2]=ae;c=t;return}else{h=r+8|0;ee=+s[h>>2];E=ee*+s[w>>2];s[w>>2]=E;w=e+108|0;R=ee*+s[w>>2];s[w>>2]=R;w=e+112|0;L=ee*+s[w>>2];s[w>>2]=L;w=e+116|0;ee=+s[h>>2]*+s[w>>2];s[w>>2]=ee;Z=ee+L;L=E*Q+J*Z;J=E*$+Z*k;re=A-g*L;te=F-g*J;ie=T+B*L;ne=O+B*J;oe=C-v*(E*N+R+Z*W);ae=x+S*(R+E*G+Z*I);ue=o[u>>2]|0;le=o[n>>2]|0;se=le+(ue*12|0)|0;fe=+re;ce=+te;de=se;be=de;s[be>>2]=fe;he=de+4|0;_e=he;s[_e>>2]=ce;me=o[u>>2]|0;pe=o[n>>2]|0;ye=pe+(me*12|0)+8|0;s[ye>>2]=oe;we=o[d>>2]|0;ve=pe+(we*12|0)|0;Se=+ie;Ee=+ne;ge=ve;ke=ge;s[ke>>2]=Se;Me=ge+4|0;Pe=Me;s[Pe>>2]=Ee;Ae=o[d>>2]|0;Fe=o[n>>2]|0;Ce=Fe+(Ae*12|0)+8|0;s[Ce>>2]=ae;c=t;return}}function $n(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0,Pe=0,Ae=0,Fe=0,Ce=0,De=0,Be=0,Re=0,Te=0,Oe=0,xe=0,Le=0,Ne=0,Ie=0,Je=0,Ge=0;t=c;c=c+64|0;n=t+44|0;a=t+32|0;u=t+24|0;l=t+16|0;f=t+8|0;d=t;b=e+144|0;h=o[b>>2]|0;_=r+32|0;m=o[_>>2]|0;p=m+(h*12|0)|0;y=+s[p>>2];w=+s[p+4>>2];v=+s[m+(h*12|0)+8>>2];h=e+148|0;p=o[h>>2]|0;S=m+(p*12|0)|0;E=+s[S>>2];g=+s[S+4>>2];k=+s[m+(p*12|0)+8>>2];M=+s[e+168>>2];P=+s[e+172>>2];A=+s[e+176>>2];F=+s[e+180>>2];if((i[e+137>>0]|0)!=0?(o[e+140>>2]|0)!=3:0){C=+s[e+184>>2];D=+s[e+188>>2];B=+s[e+212>>2];R=+s[e+208>>2];p=e+116|0;T=+s[p>>2];O=+s[r>>2]*+s[e+128>>2];x=T+ +s[e+252>>2]*(+s[e+132>>2]-((E-y)*C+(g-w)*D+k*B-v*R));L=-O;N=x<O?x:O;O=N<L?L:N;s[p>>2]=O;N=O-T;T=C*N;C=D*N;I=w-M*C;J=g+P*C;G=y-M*T;W=E+P*T;V=v-A*R*N;z=k+F*B*N}else{I=w;J=g;G=y;W=E;V=v;z=k}k=W-G;v=J-I;p=e+192|0;r=e+196|0;m=e+204|0;S=e+200|0;E=k*+s[p>>2]+v*+s[r>>2]+z*+s[m>>2]-V*+s[S>>2];y=z-V;if((i[e+136>>0]|0)!=0?(H=e+140|0,(o[H>>2]|0)!=0):0){U=e+184|0;q=e+188|0;j=e+212|0;Y=e+208|0;Z=e+104|0;g=+s[Z>>2];X=e+108|0;w=+s[X>>2];K=e+112|0;N=+s[K>>2];Q=e+216|0;B=-E;R=-y;T=-(k*+s[U>>2]+v*+s[q>>2]+z*+s[j>>2]-V*+s[Y>>2]);s[a>>2]=B;s[a+4>>2]=R;s[a+8>>2]=T;Sd(n,Q,a);s[Z>>2]=+s[n>>2]+ +s[Z>>2];a=n+4|0;s[X>>2]=+s[a>>2]+ +s[X>>2];$=n+8|0;T=+s[$>>2]+ +s[K>>2];s[K>>2]=T;ee=o[H>>2]|0;if((ee|0)==2){v=T<0?T:0;s[K>>2]=v;re=v}else if((ee|0)==1){v=T>0?T:0;s[K>>2]=v;re=v}else re=T;T=re-N;re=R-T*+s[e+244>>2];s[u>>2]=B-+s[e+240>>2]*T;s[u+4>>2]=re;Ed(l,Q,u);re=g+ +s[l>>2];T=w+ +s[l+4>>2];s[Z>>2]=re;s[X>>2]=T;B=re-g;g=T-w;w=+s[K>>2]-N;s[n>>2]=B;s[a>>2]=g;s[$>>2]=w;te=g+B*+s[m>>2]+w*+s[j>>2];ie=B*+s[p>>2]+w*+s[U>>2];ne=B*+s[S>>2]+g+w*+s[Y>>2];oe=B*+s[r>>2]+w*+s[q>>2];ae=M*oe;ue=M*ie;le=G-ue;se=I-ae;fe=P*ie;ce=P*oe;de=W+fe;be=J+ce;he=A*ne;_e=F*te;me=V-he;pe=z+_e;ye=o[b>>2]|0;we=o[_>>2]|0;ve=we+(ye*12|0)|0;Se=+le;Ee=+se;ge=ve;ke=ge;s[ke>>2]=Se;Me=ge+4|0;Pe=Me;s[Pe>>2]=Ee;Ae=o[b>>2]|0;Fe=o[_>>2]|0;Ce=Fe+(Ae*12|0)+8|0;s[Ce>>2]=me;De=o[h>>2]|0;Be=Fe+(De*12|0)|0;Re=+de;Te=+be;Oe=Be;xe=Oe;s[xe>>2]=Re;Le=Oe+4|0;Ne=Le;s[Ne>>2]=Te;Ie=o[h>>2]|0;Je=o[_>>2]|0;Ge=Je+(Ie*12|0)+8|0;s[Ge>>2]=pe;c=t;return}s[d>>2]=-E;s[d+4>>2]=-y;Ed(f,e+216|0,d);y=+s[f>>2];d=e+104|0;s[d>>2]=y+ +s[d>>2];E=+s[f+4>>2];f=e+108|0;s[f>>2]=E+ +s[f>>2];te=E+y*+s[m>>2];ie=y*+s[p>>2];ne=y*+s[S>>2]+E;oe=y*+s[r>>2];ae=M*oe;ue=M*ie;le=G-ue;se=I-ae;fe=P*ie;ce=P*oe;de=W+fe;be=J+ce;he=A*ne;_e=F*te;me=V-he;pe=z+_e;ye=o[b>>2]|0;we=o[_>>2]|0;ve=we+(ye*12|0)|0;Se=+le;Ee=+se;ge=ve;ke=ge;s[ke>>2]=Se;Me=ge+4|0;Pe=Me;s[Pe>>2]=Ee;Ae=o[b>>2]|0;Fe=o[_>>2]|0;Ce=Fe+(Ae*12|0)+8|0;s[Ce>>2]=me;De=o[h>>2]|0;Be=Fe+(De*12|0)|0;Re=+de;Te=+be;Oe=Be;xe=Oe;s[xe>>2]=Re;Le=Oe+4|0;Ne=Le;s[Ne>>2]=Te;Ie=o[h>>2]|0;Je=o[_>>2]|0;Ge=Je+(Ie*12|0)+8|0;s[Ge>>2]=pe;c=t;return}function eo(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0;t=c;c=c+64|0;n=t+24|0;a=t+12|0;u=t;l=e+144|0;f=o[l>>2]|0;d=r+28|0;r=o[d>>2]|0;b=r+(f*12|0)|0;h=+s[b>>2];_=+s[b+4>>2];m=+s[r+(f*12|0)+8>>2];f=e+148|0;b=o[f>>2]|0;p=r+(b*12|0)|0;y=+s[p>>2];w=+s[p+4>>2];v=+s[r+(b*12|0)+8>>2];S=+Y(+m);E=+j(+m);g=+Y(+v);k=+j(+v);M=+s[e+168>>2];P=+s[e+172>>2];A=+s[e+176>>2];F=+s[e+180>>2];C=+s[e+68>>2]-+s[e+152>>2];D=+s[e+72>>2]-+s[e+156>>2];B=E*C-S*D;R=S*C+E*D;D=+s[e+76>>2]-+s[e+160>>2];C=+s[e+80>>2]-+s[e+164>>2];T=k*D-g*C;O=g*D+k*C;C=y+T-h-B;k=w+O-_-R;D=+s[e+84>>2];g=+s[e+88>>2];x=E*D-S*g;L=S*D+E*g;g=B+C;B=R+k;R=L*g-x*B;D=T*L-O*x;N=+s[e+92>>2];I=+s[e+96>>2];J=E*N-S*I;G=S*N+E*I;I=G*g-J*B;B=T*G-O*J;O=J*C+G*k;T=v-m-+s[e+100>>2];if(O>0)W=O;else W=-O;if(T>0)V=T;else V=-T;do if((i[e+136>>0]|0)!=0){g=x*C+L*k;E=+s[e+124>>2];N=+s[e+120>>2];S=E-N;if(S>0)z=S;else z=-S;if(z<.009999999776482582){S=g<.20000000298023224?g:.20000000298023224;if(g>0)H=g;else H=-g;U=S<-.20000000298023224?-.20000000298023224:S;q=1;Z=W>H?W:H;break}if(g<=N){S=g-N+.004999999888241291;X=S<0?S:0;S=N-g;U=X<-.20000000298023224?-.20000000298023224:X;q=1;Z=W>S?W:S;break}if(g>=E){S=g-E;E=S+-.004999999888241291;g=E<.20000000298023224?E:.20000000298023224;U=g<0?0:g;q=1;Z=W>S?W:S}else{U=0;q=0;Z=W}}else{U=0;q=0;Z=W}while(0);W=M+P;H=A*I;z=F*B;k=B*z+(W+I*H);C=z+H;if(q){S=D*z+R*H;H=A+F;z=A*R;g=F*D;E=g+z;s[n>>2]=k;s[n+4>>2]=C;s[n+8>>2]=S;s[n+12>>2]=C;s[n+16>>2]=H==0?1:H;s[n+20>>2]=E;s[n+24>>2]=S;s[n+28>>2]=E;s[n+32>>2]=D*g+(W+R*z);s[u>>2]=-O;s[u+4>>2]=-T;s[u+8>>2]=-U;Sd(a,n,u);K=+s[a>>2];Q=+s[a+8>>2];$=+s[a+4>>2]}else{U=A+F;z=U==0?1:U;U=-O;O=-T;T=z*k-C*C;if(T!=0)ee=1/T;else ee=T;K=(z*U-C*O)*ee;Q=0;$=(k*O-C*U)*ee}ee=x*Q+J*K;J=L*Q+G*K;G=+(h-M*ee);h=+(_-M*J);a=(o[d>>2]|0)+((o[l>>2]|0)*12|0)|0;s[a>>2]=G;s[a+4>>2]=h;a=o[d>>2]|0;s[a+((o[l>>2]|0)*12|0)+8>>2]=m-A*(R*Q+($+I*K));I=+(y+P*ee);ee=+(w+P*J);l=a+((o[f>>2]|0)*12|0)|0;s[l>>2]=I;s[l+4>>2]=ee;s[(o[d>>2]|0)+((o[f>>2]|0)*12|0)+8>>2]=v+F*(D*Q+($+B*K));if(!(Z<=.004999999888241291)){re=0;c=t;return re|0}re=V<=.03490658849477768;c=t;return re|0}function ro(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+48>>2]|0;i=+s[t+24>>2];n=+s[r+68>>2];a=+s[t+20>>2];u=+s[r+72>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function to(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+52>>2]|0;i=+s[t+24>>2];n=+s[r+76>>2];a=+s[t+20>>2];u=+s[r+80>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function io(e,r,t){e=e|0;r=r|0;t=+t;var i=0,n=0,o=0;i=+s[r+104>>2];n=+s[r+116>>2]+ +s[r+112>>2];o=(i*+s[r+196>>2]+n*+s[r+188>>2])*t;s[e>>2]=(i*+s[r+192>>2]+ +s[r+184>>2]*n)*t;s[e+4>>2]=o;return}function no(e,r){e=e|0;r=+r;return+(+s[e+108>>2]*r)}function oo(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,f=0,c=0,d=0,b=0,h=0;r=o[e+48>>2]|0;
t=+s[r+24>>2];i=+s[e+68>>2];n=+s[r+20>>2];a=+s[e+72>>2];u=o[e+52>>2]|0;l=+s[u+24>>2];f=+s[e+76>>2];c=+s[u+20>>2];d=+s[e+80>>2];b=+s[e+84>>2];h=+s[e+88>>2];return+((+s[u+12>>2]+(l*f-c*d)-(+s[r+12>>2]+(t*i-n*a)))*(t*b-n*h)+(f*c+l*d+ +s[u+16>>2]-(i*n+t*a+ +s[r+16>>2]))*(n*b+t*h))}function ao(e){e=e|0;return(i[e+136>>0]|0)!=0|0}function uo(e,r){e=e|0;r=r|0;var t=0,l=0,f=0,d=0,b=0;t=c;l=e+136|0;if((r&1|0)==(a[l>>0]|0|0)){c=t;return}f=o[e+48>>2]|0;d=f+4|0;b=u[d>>1]|0;if((b&2|0)==0){n[d>>1]=b|2;s[f+160>>2]=0}f=o[e+52>>2]|0;b=f+4|0;d=u[b>>1]|0;if((d&2|0)==0){n[b>>1]=d|2;s[f+160>>2]=0}i[l>>0]=r&1;s[e+112>>2]=0;c=t;return}function lo(e){e=e|0;return(i[e+137>>0]|0)!=0|0}function so(e,r){e=e|0;r=r|0;var t=0,a=0,l=0,f=0,d=0,b=0;t=c;a=o[e+48>>2]|0;l=a+4|0;f=u[l>>1]|0;if((f&2|0)==0){n[l>>1]=f|2;s[a+160>>2]=0}a=o[e+52>>2]|0;f=a+4|0;l=u[f>>1]|0;if((l&2|0)!=0){d=e+137|0;b=r&1;i[d>>0]=b;c=t;return}n[f>>1]=l|2;s[a+160>>2]=0;d=e+137|0;b=r&1;i[d>>0]=b;c=t;return}function fo(e,r){e=e|0;r=+r;var t=0,i=0,a=0,l=0,f=0;t=c;i=o[e+48>>2]|0;a=i+4|0;l=u[a>>1]|0;if((l&2|0)==0){n[a>>1]=l|2;s[i+160>>2]=0}i=o[e+52>>2]|0;l=i+4|0;a=u[l>>1]|0;if((a&2|0)!=0){f=e+132|0;s[f>>2]=r;c=t;return}n[l>>1]=a|2;s[i+160>>2]=0;f=e+132|0;s[f>>2]=r;c=t;return}function co(e,r){e=e|0;r=+r;return+(+s[e+116>>2]*r)}function bo(e){e=e|0;var r=0,t=0,i=0,n=0,u=0;r=c;c=c+16|0;t=r;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Rd(3264,t);o[t>>2]=i;Rd(3296,t);o[t>>2]=n;Rd(3328,t);o[t>>2]=a[e+61>>0]|0;Rd(3360,t);u=+s[e+72>>2];f[b>>3]=+s[e+68>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(3400,t);u=+s[e+80>>2];f[b>>3]=+s[e+76>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(3448,t);u=+s[e+88>>2];f[b>>3]=+s[e+84>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(3496,t);f[b>>3]=+s[e+100>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(3536,t);o[t>>2]=a[e+136>>0]|0;Rd(3568,t);f[b>>3]=+s[e+120>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(3600,t);f[b>>3]=+s[e+124>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(3640,t);o[t>>2]=a[e+137>>0]|0;Rd(3680,t);f[b>>3]=+s[e+132>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(3712,t);f[b>>3]=+s[e+128>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(3744,t);o[t>>2]=o[e+56>>2];Rd(3776,t);c=r;return}function ho(e){e=e|0;return}function _o(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function mo(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;Co(e,r);o[e>>2]=3872;i=r+20|0;n=o[i+4>>2]|0;a=e+68|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=r+28|0;a=o[n+4>>2]|0;i=e+76|0;o[i>>2]=o[n>>2];o[i+4>>2]=a;s[e+84>>2]=+s[r+36>>2];s[e+160>>2]=0;s[e+92>>2]=0;o[e+164>>2]=0;s[e+88>>2]=0;c=t;return}function po(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,q=0,Z=0,X=0,K=0;t=c;n=o[e+48>>2]|0;a=o[n+8>>2]|0;u=e+96|0;o[u>>2]=a;l=o[e+52>>2]|0;f=o[l+8>>2]|0;d=e+100|0;o[d>>2]=f;h=n+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+128|0;o[h>>2]=_;o[h+4>>2]=m;h=l+44|0;p=o[h>>2]|0;y=o[h+4>>2]|0;h=e+136|0;o[h>>2]=p;o[h+4>>2]=y;y=e+144|0;s[y>>2]=+s[n+136>>2];h=e+148|0;s[h>>2]=+s[l+136>>2];w=e+152|0;s[w>>2]=+s[n+144>>2];n=e+156|0;s[n>>2]=+s[l+144>>2];l=o[r+28>>2]|0;v=l+(a*12|0)|0;S=+s[v>>2];E=+s[v+4>>2];g=+s[l+(a*12|0)+8>>2];v=r+32|0;k=o[v>>2]|0;M=k+(a*12|0)|0;P=+s[M>>2];A=+s[M+4>>2];F=+s[k+(a*12|0)+8>>2];a=l+(f*12|0)|0;C=+s[a>>2];D=+s[a+4>>2];B=+s[l+(f*12|0)+8>>2];l=k+(f*12|0)|0;R=+s[l>>2];T=+s[l+4>>2];O=+s[k+(f*12|0)+8>>2];x=+Y(+g);L=+j(+g);g=+Y(+B);N=+j(+B);B=+s[e+68>>2]-(o[b>>2]=_,+s[b>>2]);I=+s[e+72>>2]-(o[b>>2]=m,+s[b>>2]);J=L*B-x*I;G=x*B+L*I;I=+J;L=+G;m=e+112|0;s[m>>2]=I;s[m+4>>2]=L;L=+s[e+76>>2]-(o[b>>2]=p,+s[b>>2]);I=+s[e+80>>2]-+s[e+140>>2];B=N*L-g*I;x=g*L+N*I;I=+B;N=+x;p=e+120|0;s[p>>2]=I;s[p+4>>2]=N;p=e+104|0;N=C+B-S-J;S=D+x-E-G;E=+N;D=+S;m=p;s[m>>2]=E;s[m+4>>2]=D;m=e+108|0;D=+U(+(N*N+S*S));s[e+88>>2]=D;o[e+164>>2]=D-+s[e+84>>2]>0?2:0;if(!(D>.004999999888241291)){s[p>>2]=0;s[m>>2]=0;s[e+160>>2]=0;s[e+92>>2]=0;c=t;return}E=1/D;D=E*N;s[p>>2]=D;N=E*S;s[m>>2]=N;S=J*N-G*D;E=N*B-D*x;C=+s[y>>2];I=+s[w>>2];L=+s[h>>2];g=+s[n>>2];W=L+(C+S*S*I)+E*E*g;if(W!=0)V=1/W;else V=0;s[e+160>>2]=V;if((i[r+24>>0]|0)==0){s[e+92>>2]=0;z=P;H=A;q=R;Z=T;X=F;K=O}else{n=e+92|0;V=+s[r+8>>2]*+s[n>>2];s[n>>2]=V;W=D*V;D=V*N;z=P-W*C;H=A-D*C;q=R+W*L;Z=T+D*L;X=F-I*(D*J-W*G);K=O+g*(D*B-W*x)}x=+z;z=+H;n=(o[v>>2]|0)+((o[u>>2]|0)*12|0)|0;s[n>>2]=x;s[n+4>>2]=z;n=o[v>>2]|0;s[n+((o[u>>2]|0)*12|0)+8>>2]=X;X=+q;q=+Z;u=n+((o[d>>2]|0)*12|0)|0;s[u>>2]=X;s[u+4>>2]=q;s[(o[v>>2]|0)+((o[d>>2]|0)*12|0)+8>>2]=K;c=t;return}function yo(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0;t=c;i=e+96|0;n=o[i>>2]|0;a=r+32|0;u=o[a>>2]|0;l=u+(n*12|0)|0;f=l;d=+s[f>>2];b=+s[f+4>>2];h=+s[u+(n*12|0)+8>>2];n=e+100|0;f=o[n>>2]|0;_=u+(f*12|0)|0;m=+s[_>>2];p=+s[_+4>>2];y=+s[u+(f*12|0)+8>>2];w=+s[e+116>>2];v=+s[e+112>>2];S=+s[e+124>>2];E=+s[e+120>>2];g=+s[e+88>>2]-+s[e+84>>2];k=+s[e+104>>2];M=+s[e+108>>2];P=(m-y*S-(d-h*w))*k+(p+y*E-(b+h*v))*M;if(g<0)A=P+g*+s[r+4>>2];else A=P;r=e+92|0;P=+s[r>>2];g=P-A*+s[e+160>>2];A=g>0?0:g;s[r>>2]=A;g=A-P;P=k*g;k=M*g;g=+s[e+144>>2];M=h-+s[e+152>>2]*(v*k-P*w);w=+s[e+148>>2];v=y+ +s[e+156>>2]*(k*E-P*S);S=+(d-g*P);d=+(b-g*k);e=l;s[e>>2]=S;s[e+4>>2]=d;e=o[a>>2]|0;s[e+((o[i>>2]|0)*12|0)+8>>2]=M;M=+(m+P*w);P=+(p+k*w);i=e+((o[n>>2]|0)*12|0)|0;s[i>>2]=M;s[i+4>>2]=P;s[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=v;c=t;return}function wo(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0;t=c;i=e+96|0;n=o[i>>2]|0;a=r+28|0;r=o[a>>2]|0;u=r+(n*12|0)|0;l=u;f=+s[l>>2];d=+s[l+4>>2];b=+s[r+(n*12|0)+8>>2];n=e+100|0;l=o[n>>2]|0;h=r+(l*12|0)|0;_=+s[h>>2];m=+s[h+4>>2];p=+s[r+(l*12|0)+8>>2];y=+Y(+b);w=+j(+b);v=+Y(+p);S=+j(+p);E=+s[e+68>>2]-+s[e+128>>2];g=+s[e+72>>2]-+s[e+132>>2];k=w*E-y*g;M=y*E+w*g;g=+s[e+76>>2]-+s[e+136>>2];w=+s[e+80>>2]-+s[e+140>>2];E=S*g-v*w;y=v*g+S*w;w=_+E-f-k;S=m+y-d-M;g=+U(+(w*w+S*S));if(g<1.1920928955078125E-7){P=0;A=w;F=S}else{v=1/g;P=g;A=w*v;F=S*v}l=e+84|0;v=P-+s[l>>2];S=v<.20000000298023224?v:.20000000298023224;v=-(+s[e+160>>2]*(S<0?0:S));S=A*v;A=F*v;v=+s[e+144>>2];F=b-+s[e+152>>2]*(k*A-M*S);M=+s[e+148>>2];k=p+ +s[e+156>>2]*(E*A-y*S);y=+(f-v*S);f=+(d-v*A);e=u;s[e>>2]=y;s[e+4>>2]=f;e=o[a>>2]|0;s[e+((o[i>>2]|0)*12|0)+8>>2]=F;F=+(_+M*S);S=+(m+M*A);i=e+((o[n>>2]|0)*12|0)|0;s[i>>2]=F;s[i+4>>2]=S;s[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=k;c=t;return P-+s[l>>2]<.004999999888241291|0}function vo(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+48>>2]|0;i=+s[t+24>>2];n=+s[r+68>>2];a=+s[t+20>>2];u=+s[r+72>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function So(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+52>>2]|0;i=+s[t+24>>2];n=+s[r+76>>2];a=+s[t+20>>2];u=+s[r+80>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function Eo(e,r,t){e=e|0;r=r|0;t=+t;var i=0;i=+s[r+92>>2]*t;t=i*+s[r+108>>2];s[e>>2]=+s[r+104>>2]*i;s[e+4>>2]=t;return}function go(e,r){e=e|0;r=+r;return 0}function ko(e){e=e|0;var r=0,t=0,i=0,n=0,u=0;r=c;c=c+16|0;t=r;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Rd(3920,t);o[t>>2]=i;Rd(3944,t);o[t>>2]=n;Rd(3976,t);o[t>>2]=a[e+61>>0]|0;Rd(4008,t);u=+s[e+72>>2];f[b>>3]=+s[e+68>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(4048,t);u=+s[e+80>>2];f[b>>3]=+s[e+76>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(4096,t);f[b>>3]=+s[e+84>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(4144,t);o[t>>2]=o[e+56>>2];Rd(4176,t);c=r;return}function Mo(e){e=e|0;return}function Po(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Ao(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0;t=c;do switch(o[e>>2]|0){case 5:i=wd(r,168)|0;if((i|0)==0)n=0;else{Bc(i,e);n=i}a=n;break;case 2:i=wd(r,256)|0;if((i|0)==0)u=0;else{Kn(i,e);u=i}a=u;break;case 7:i=wd(r,224)|0;if((i|0)==0)l=0;else{Qo(i,e);l=i}a=l;break;case 4:i=wd(r,196)|0;if((i|0)==0)s=0;else{ca(i,e);s=i}a=s;break;case 3:i=wd(r,176)|0;if((i|0)==0)f=0;else{tn(i,e);f=i}a=f;break;case 9:i=wd(r,180)|0;if((i|0)==0)d=0;else{_n(i,e);d=i}a=d;break;case 11:i=wd(r,192)|0;if((i|0)==0)b=0;else{Wi(i,e);b=i}a=b;break;case 1:i=wd(r,228)|0;if((i|0)==0)h=0;else{Oo(i,e);h=i}a=h;break;case 8:i=wd(r,208)|0;if((i|0)==0)_=0;else{An(i,e);_=i}a=_;break;case 6:i=wd(r,276)|0;if((i|0)==0)m=0;else{In(i,e);m=i}a=m;break;case 10:i=wd(r,168)|0;if((i|0)==0)p=0;else{mo(i,e);p=i}a=p;break;default:a=0}while(0);c=t;return a|0}function Fo(e,r){e=e|0;r=r|0;var t=0;t=c;dh[o[(o[e>>2]|0)+24>>2]&127](e);do switch(o[e+4>>2]|0){case 9:vd(r,e,180);break;case 2:vd(r,e,256);break;case 1:vd(r,e,228);break;case 7:vd(r,e,224);break;case 8:vd(r,e,208);break;case 5:vd(r,e,168);break;case 3:vd(r,e,176);break;case 11:vd(r,e,192);break;case 4:vd(r,e,196);break;case 10:vd(r,e,168);break;case 6:vd(r,e,276);break;default:}while(0);c=t;return}function Co(e,r){e=e|0;r=r|0;var t=0;t=c;o[e>>2]=4264;o[e+4>>2]=o[r>>2];o[e+8>>2]=0;o[e+12>>2]=0;o[e+48>>2]=o[r+8>>2];o[e+52>>2]=o[r+12>>2];o[e+56>>2]=0;i[e+61>>0]=i[r+16>>0]|0;i[e+60>>0]=0;o[e+64>>2]=o[r+4>>2];r=e+16|0;o[r+0>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[r+20>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;c=t;return}function Do(e){e=e|0;e=c;c=c+16|0;Rd(4312,e);c=e;return}function Bo(e){e=e|0;return}function Ro(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function To(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0;n=c;o[e+8>>2]=r;o[e+12>>2]=t;a=+s[i>>2]-+s[r+12>>2];u=i+4|0;l=+s[u>>2]-+s[r+16>>2];f=+s[r+24>>2];d=+s[r+20>>2];b=+(a*f+l*d);h=+(f*l-a*d);_=e+20|0;s[_>>2]=b;s[_+4>>2]=h;h=+s[i>>2]-+s[t+12>>2];b=+s[u>>2]-+s[t+16>>2];d=+s[t+24>>2];a=+s[t+20>>2];l=+(h*d+b*a);f=+(d*b-h*a);u=e+28|0;s[u>>2]=l;s[u+4>>2]=f;s[e+36>>2]=+s[t+72>>2]-+s[r+72>>2];c=n;return}function Oo(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0;t=c;Co(e,r);o[e>>2]=4368;n=r+20|0;a=o[n+4>>2]|0;u=e+68|0;o[u>>2]=o[n>>2];o[u+4>>2]=a;a=r+28|0;u=o[a+4>>2]|0;n=e+76|0;o[n>>2]=o[a>>2];o[n+4>>2]=u;s[e+116>>2]=+s[r+36>>2];u=e+84|0;n=r+44|0;o[u+0>>2]=0;o[u+4>>2]=0;o[u+8>>2]=0;o[u+12>>2]=0;s[e+120>>2]=+s[n>>2];s[e+124>>2]=+s[r+48>>2];s[e+104>>2]=+s[r+60>>2];s[e+108>>2]=+s[r+56>>2];i[e+112>>0]=i[r+40>>0]|0;i[e+100>>0]=i[r+52>>0]|0;o[e+224>>2]=0;c=t;return}function xo(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0;t=c;n=o[e+48>>2]|0;a=o[n+8>>2]|0;u=e+128|0;o[u>>2]=a;l=o[e+52>>2]|0;f=o[l+8>>2]|0;d=e+132|0;o[d>>2]=f;h=n+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+152|0;o[h>>2]=_;o[h+4>>2]=m;h=l+44|0;p=o[h>>2]|0;y=o[h+4>>2]|0;h=e+160|0;o[h>>2]=p;o[h+4>>2]=y;h=e+168|0;s[h>>2]=+s[n+136>>2];w=+s[l+136>>2];s[e+172>>2]=w;v=+s[n+144>>2];s[e+176>>2]=v;S=+s[l+144>>2];s[e+180>>2]=S;l=o[r+28>>2]|0;E=+s[l+(a*12|0)+8>>2];n=r+32|0;g=o[n>>2]|0;k=g+(a*12|0)|0;M=+s[k>>2];P=+s[k+4>>2];A=+s[g+(a*12|0)+8>>2];F=+s[l+(f*12|0)+8>>2];l=g+(f*12|0)|0;C=+s[l>>2];D=+s[l+4>>2];B=+s[g+(f*12|0)+8>>2];R=+Y(+E);T=+j(+E);O=+Y(+F);x=+j(+F);f=e+136|0;L=+s[e+68>>2]-(o[b>>2]=_,+s[b>>2]);N=+s[e+72>>2]-(o[b>>2]=m,+s[b>>2]);I=T*L-R*N;J=R*L+T*N;N=+I;T=+J;m=f;s[m>>2]=N;s[m+4>>2]=T;T=+s[e+76>>2]-(o[b>>2]=p,+s[b>>2]);N=+s[e+80>>2]-(o[b>>2]=y,+s[b>>2]);L=x*T-O*N;R=O*T+x*N;N=+L;x=+R;y=e+144|0;s[y>>2]=N;s[y+4>>2]=x;x=+s[h>>2];N=v+S;h=N==0;T=x+w;y=e+140|0;s[e+184>>2]=T+v*J*J+S*R*R;O=-(v*J*I)-S*R*L;s[e+196>>2]=O;G=-(v*J)-S*R;s[e+208>>2]=G;s[e+188>>2]=O;s[e+200>>2]=T+v*I*I+S*L*L;T=v*I+S*L;s[e+212>>2]=T;s[e+192>>2]=G;s[e+204>>2]=T;s[e+216>>2]=N;if(N>0)W=1/N;else W=N;s[e+220>>2]=W;if((i[e+100>>0]|0)==0|h)s[e+96>>2]=0;do if((i[e+112>>0]|0)==0|h)o[e+224>>2]=0;else{W=F-E-+s[e+116>>2];N=+s[e+124>>2];T=+s[e+120>>2];G=N-T;if(G>0)V=G;else V=-G;if(V<.06981317698955536){o[e+224>>2]=3;break}if(W<=T){p=e+224|0;if((o[p>>2]|0)!=1)s[e+92>>2]=0;o[p>>2]=1;break}p=e+224|0;if(!(W>=N)){o[p>>2]=0;s[e+92>>2]=0;break}if((o[p>>2]|0)!=2)s[e+92>>2]=0;o[p>>2]=2}while(0);h=e+84|0;if((i[r+24>>0]|0)==0){o[h+0>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;z=M;H=P;U=C;q=D;Z=A;X=B;K=o[u>>2]|0;Q=o[n>>2]|0;$=Q+(K*12|0)|0;ee=+z;re=+H;te=$;ie=te;s[ie>>2]=ee;ne=te+4|0;oe=ne;s[oe>>2]=re;ae=o[u>>2]|0;ue=o[n>>2]|0;le=ue+(ae*12|0)+8|0;s[le>>2]=Z;se=o[d>>2]|0;fe=ue+(se*12|0)|0;ce=+U;de=+q;be=fe;he=be;s[he>>2]=ce;_e=be+4|0;me=_e;s[me>>2]=de;pe=o[d>>2]|0;ye=o[n>>2]|0;we=ye+(pe*12|0)+8|0;s[we>>2]=X;c=t;return}else{p=r+8|0;V=+s[p>>2];E=V*+s[h>>2];s[h>>2]=E;h=e+88|0;F=V*+s[h>>2];s[h>>2]=F;h=e+92|0;N=V*+s[h>>2];s[h>>2]=N;h=e+96|0;V=+s[p>>2]*+s[h>>2];s[h>>2]=V;z=M-x*E;H=P-x*F;U=C+w*E;q=D+w*F;Z=A-v*(N+(V+(F*+s[f>>2]-E*+s[y>>2])));X=B+S*(N+(V+(F*L-E*R)));K=o[u>>2]|0;Q=o[n>>2]|0;$=Q+(K*12|0)|0;ee=+z;re=+H;te=$;ie=te;s[ie>>2]=ee;ne=te+4|0;oe=ne;s[oe>>2]=re;ae=o[u>>2]|0;ue=o[n>>2]|0;le=ue+(ae*12|0)+8|0;s[le>>2]=Z;se=o[d>>2]|0;fe=ue+(se*12|0)|0;ce=+U;de=+q;be=fe;he=be;s[he>>2]=ce;_e=be+4|0;me=_e;s[me>>2]=de;pe=o[d>>2]|0;ye=o[n>>2]|0;we=ye+(pe*12|0)+8|0;s[we>>2]=X;c=t;return}}function Lo(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0,Pe=0,Ae=0,Fe=0,Ce=0,De=0,Be=0,Re=0,Te=0;t=c;c=c+80|0;n=t+60|0;a=t+48|0;u=t+40|0;l=t+32|0;f=t+24|0;d=t+16|0;b=t+8|0;h=t;_=e+128|0;m=o[_>>2]|0;p=r+32|0;y=o[p>>2]|0;w=y+(m*12|0)|0;v=+s[w>>2];S=+s[w+4>>2];E=+s[y+(m*12|0)+8>>2];m=e+132|0;w=o[m>>2]|0;g=y+(w*12|0)|0;k=+s[g>>2];M=+s[g+4>>2];P=+s[y+(w*12|0)+8>>2];A=+s[e+168>>2];F=+s[e+172>>2];C=+s[e+176>>2];D=+s[e+180>>2];w=C+D==0;if((i[e+100>>0]|0)!=0?!((o[e+224>>2]|0)==3|w):0){y=e+96|0;B=+s[y>>2];R=+s[r>>2]*+s[e+104>>2];T=B-+s[e+220>>2]*(P-E-+s[e+108>>2]);O=-R;x=T<R?T:R;R=x<O?O:x;s[y>>2]=R;x=R-B;L=E-C*x;N=P+D*x}else{L=E;N=P}if((i[e+112>>0]|0)!=0?(y=e+224|0,!((o[y>>2]|0)==0|w)):0){w=e+148|0;r=e+144|0;g=e+140|0;I=e+136|0;P=k-N*+s[w>>2]-v+L*+s[g>>2];E=M+N*+s[r>>2]-S-L*+s[I>>2];s[n>>2]=P;s[n+4>>2]=E;s[n+8>>2]=N-L;J=e+184|0;Sd(a,J,n);x=+s[a>>2];B=-x;R=+s[a+4>>2];O=-R;T=+s[a+8>>2];G=-T;a=o[y>>2]|0;do if((a|0)==2){y=e+84|0;n=e+92|0;W=+s[n>>2];V=W-T;if(V>0){z=W*+s[e+212>>2]-E;s[f>>2]=W*+s[e+208>>2]-P;s[f+4>>2]=z;Ed(d,J,f);z=+s[d>>2];W=+s[d+4>>2];H=-+s[n>>2];s[y>>2]=z+ +s[y>>2];U=e+88|0;s[U>>2]=W+ +s[U>>2];s[n>>2]=0;q=W;j=z;Y=H;break}else{s[y>>2]=+s[y>>2]-x;y=e+88|0;s[y>>2]=+s[y>>2]-R;s[n>>2]=V;q=O;j=B;Y=G;break}}else if((a|0)==3){n=e+84|0;s[n>>2]=+s[n>>2]-x;n=e+88|0;s[n>>2]=+s[n>>2]-R;n=e+92|0;s[n>>2]=+s[n>>2]-T;q=O;j=B;Y=G}else if((a|0)==1){n=e+84|0;y=e+92|0;V=+s[y>>2];H=V-T;if(H<0){z=V*+s[e+212>>2]-E;s[u>>2]=V*+s[e+208>>2]-P;s[u+4>>2]=z;Ed(l,J,u);z=+s[l>>2];V=+s[l+4>>2];W=-+s[y>>2];s[n>>2]=z+ +s[n>>2];U=e+88|0;s[U>>2]=V+ +s[U>>2];s[y>>2]=0;q=V;j=z;Y=W;break}else{s[n>>2]=+s[n>>2]-x;n=e+88|0;s[n>>2]=+s[n>>2]-R;s[y>>2]=H;q=O;j=B;Y=G;break}}else{q=O;j=B;Y=G}while(0);Z=Y+(q*+s[r>>2]-j*+s[w>>2]);X=Y+(q*+s[I>>2]-j*+s[g>>2]);K=q;Q=j;$=F*Q;ee=F*K;re=A*Q;te=A*K;ie=k+$;ne=M+ee;oe=v-re;ae=S-te;ue=C*X;le=D*Z;se=L-ue;fe=N+le;ce=o[_>>2]|0;de=o[p>>2]|0;be=de+(ce*12|0)|0;he=+oe;_e=+ae;me=be;pe=me;s[pe>>2]=he;ye=me+4|0;we=ye;s[we>>2]=_e;ve=o[_>>2]|0;Se=o[p>>2]|0;Ee=Se+(ve*12|0)+8|0;s[Ee>>2]=se;ge=o[m>>2]|0;ke=Se+(ge*12|0)|0;Me=+ie;Pe=+ne;Ae=ke;Fe=Ae;s[Fe>>2]=Me;Ce=Ae+4|0;De=Ce;s[De>>2]=Pe;Be=o[m>>2]|0;Re=o[p>>2]|0;Te=Re+(Be*12|0)+8|0;s[Te>>2]=fe;c=t;return}g=e+148|0;I=e+144|0;w=e+140|0;r=e+136|0;j=-(M+N*+s[I>>2]-S-L*+s[r>>2]);s[h>>2]=-(k-N*+s[g>>2]-v+L*+s[w>>2]);s[h+4>>2]=j;Ed(b,e+184|0,h);j=+s[b>>2];h=e+84|0;s[h>>2]=j+ +s[h>>2];q=+s[b+4>>2];b=e+88|0;s[b>>2]=q+ +s[b>>2];Z=q*+s[I>>2]-j*+s[g>>2];X=q*+s[r>>2]-j*+s[w>>2];K=q;Q=j;$=F*Q;ee=F*K;re=A*Q;te=A*K;ie=k+$;ne=M+ee;oe=v-re;ae=S-te;ue=C*X;le=D*Z;se=L-ue;fe=N+le;ce=o[_>>2]|0;de=o[p>>2]|0;be=de+(ce*12|0)|0;he=+oe;_e=+ae;me=be;pe=me;s[pe>>2]=he;ye=me+4|0;we=ye;s[we>>2]=_e;ve=o[_>>2]|0;Se=o[p>>2]|0;Ee=Se+(ve*12|0)+8|0;s[Ee>>2]=se;ge=o[m>>2]|0;ke=Se+(ge*12|0)|0;Me=+ie;Pe=+ne;Ae=ke;Fe=Ae;s[Fe>>2]=Me;Ce=Ae+4|0;De=Ce;s[De>>2]=Pe;Be=o[m>>2]|0;Re=o[p>>2]|0;Te=Re+(Be*12|0)+8|0;s[Te>>2]=fe;c=t;return}function No(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0;t=c;n=e+128|0;a=o[n>>2]|0;u=r+28|0;r=o[u>>2]|0;l=r+(a*12|0)|0;f=l;d=+s[f>>2];b=+s[f+4>>2];h=+s[r+(a*12|0)+8>>2];a=e+132|0;f=o[a>>2]|0;_=r+(f*12|0)|0;m=+s[_>>2];p=+s[_+4>>2];y=+s[r+(f*12|0)+8>>2];f=e+176|0;r=e+180|0;if((i[e+112>>0]|0)!=0){w=+s[r>>2];v=+s[f>>2];_=o[e+224>>2]|0;if((_|0)==0|w+v==0){S=v;E=w;g=h;k=y;M=0}else{P=y-h-+s[e+116>>2];if((_|0)==1){A=P-+s[e+120>>2];F=A+.03490658849477768;C=F<0?F:0;D=-A;B=-(+s[e+220>>2]*(C<-.13962635397911072?-.13962635397911072:C))}else if((_|0)==3){C=P-+s[e+120>>2];A=C<.13962635397911072?C:.13962635397911072;C=A<-.13962635397911072?-.13962635397911072:A;A=-(+s[e+220>>2]*C);if(C>0){D=C;B=A}else{D=-C;B=A}}else if((_|0)==2){A=P-+s[e+124>>2];P=A+-.03490658849477768;C=P<.13962635397911072?P:.13962635397911072;D=A;B=-(+s[e+220>>2]*(C<0?0:C))}else{D=0;B=0}S=v;E=w;g=h-B*v;k=y+B*w;M=D}}else{S=+s[f>>2];E=+s[r>>2];g=h;k=y;M=0}y=+Y(+g);h=+j(+g);D=+Y(+k);w=+j(+k);B=+s[e+68>>2]-+s[e+152>>2];v=+s[e+72>>2]-+s[e+156>>2];C=h*B-y*v;A=y*B+h*v;v=+s[e+76>>2]-+s[e+160>>2];h=+s[e+80>>2]-+s[e+164>>2];B=w*v-D*h;y=D*v+w*h;h=m+B-d-C;w=p+y-b-A;v=+U(+(h*h+w*w));D=+s[e+168>>2];P=+s[e+172>>2];F=D+P;R=F+A*A*S+y*y*E;T=C*S;O=B*E;x=-(A*T)-y*O;L=F+C*T+B*O;O=R*L-x*x;if(O!=0)N=1/O;else N=O;O=-((h*L-w*x)*N);L=-((w*R-h*x)*N);N=+(d-D*O);d=+(b-D*L);e=l;s[e>>2]=N;s[e+4>>2]=d;e=o[u>>2]|0;s[e+((o[n>>2]|0)*12|0)+8>>2]=g-S*(C*L-A*O);A=+(m+P*O);m=+(p+P*L);n=e+((o[a>>2]|0)*12|0)|0;s[n>>2]=A;s[n+4>>2]=m;s[(o[u>>2]|0)+((o[a>>2]|0)*12|0)+8>>2]=k+E*(B*L-y*O);if(!(v<=.004999999888241291)){I=0;c=t;return I|0}I=M<=.03490658849477768;c=t;return I|0}function Io(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+48>>2]|0;i=+s[t+24>>2];n=+s[r+68>>2];a=+s[t+20>>2];u=+s[r+72>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function Jo(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+52>>2]|0;i=+s[t+24>>2];n=+s[r+76>>2];a=+s[t+20>>2];u=+s[r+80>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function Go(e,r,t){e=e|0;r=r|0;t=+t;var i=0;i=+s[r+88>>2]*t;s[e>>2]=+s[r+84>>2]*t;s[e+4>>2]=i;return}function Wo(e,r){e=e|0;r=+r;return+(+s[e+92>>2]*r)}function Vo(e){e=e|0;return+(+s[(o[e+52>>2]|0)+72>>2]-+s[(o[e+48>>2]|0)+72>>2]-+s[e+116>>2])}function zo(e){e=e|0;return(i[e+100>>0]|0)!=0|0}function Ho(e,r){e=e|0;r=r|0;var t=0,a=0,l=0,f=0,d=0,b=0;t=c;a=o[e+48>>2]|0;l=a+4|0;f=u[l>>1]|0;if((f&2|0)==0){n[l>>1]=f|2;s[a+160>>2]=0}a=o[e+52>>2]|0;f=a+4|0;l=u[f>>1]|0;if((l&2|0)!=0){d=e+100|0;b=r&1;i[d>>0]=b;c=t;return}n[f>>1]=l|2;s[a+160>>2]=0;d=e+100|0;b=r&1;i[d>>0]=b;c=t;return}function Uo(e,r){e=e|0;r=+r;var t=0,i=0,a=0,l=0,f=0;t=c;i=o[e+48>>2]|0;a=i+4|0;l=u[a>>1]|0;if((l&2|0)==0){n[a>>1]=l|2;s[i+160>>2]=0}i=o[e+52>>2]|0;l=i+4|0;a=u[l>>1]|0;if((a&2|0)!=0){f=e+108|0;s[f>>2]=r;c=t;return}n[l>>1]=a|2;s[i+160>>2]=0;f=e+108|0;s[f>>2]=r;c=t;return}function qo(e){e=e|0;return(i[e+112>>0]|0)!=0|0}function jo(e,r){e=e|0;r=r|0;var t=0,l=0,f=0,d=0,b=0;t=c;l=e+112|0;if((r&1|0)==(a[l>>0]|0|0)){c=t;return}f=o[e+48>>2]|0;d=f+4|0;b=u[d>>1]|0;if((b&2|0)==0){n[d>>1]=b|2;s[f+160>>2]=0}f=o[e+52>>2]|0;b=f+4|0;d=u[b>>1]|0;if((d&2|0)==0){n[b>>1]=d|2;s[f+160>>2]=0}i[l>>0]=r&1;s[e+92>>2]=0;c=t;return}function Yo(e){e=e|0;var r=0,t=0,i=0,n=0,u=0;r=c;c=c+16|0;t=r;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Rd(4416,t);o[t>>2]=i;Rd(4448,t);o[t>>2]=n;Rd(4480,t);o[t>>2]=a[e+61>>0]|0;Rd(4512,t);u=+s[e+72>>2];f[b>>3]=+s[e+68>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(4552,t);u=+s[e+80>>2];f[b>>3]=+s[e+76>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(4600,t);f[b>>3]=+s[e+116>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(4648,t);o[t>>2]=a[e+112>>0]|0;Rd(4680,t);f[b>>3]=+s[e+120>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(4712,t);f[b>>3]=+s[e+124>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(4744,t);o[t>>2]=a[e+100>>0]|0;Rd(4776,t);f[b>>3]=+s[e+108>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(4808,t);f[b>>3]=+s[e+104>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(4840,t);o[t>>2]=o[e+56>>2];Rd(4872,t);c=r;return}function Zo(e){e=e|0;return}function Xo(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Ko(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0;a=c;o[e+8>>2]=r;o[e+12>>2]=t;u=+s[i>>2]-+s[r+12>>2];l=i+4|0;f=+s[l>>2]-+s[r+16>>2];d=r+24|0;b=+s[d>>2];h=r+20|0;_=+s[h>>2];m=+(u*b+f*_);p=+(b*f-u*_);r=e+20|0;s[r>>2]=m;s[r+4>>2]=p;p=+s[i>>2]-+s[t+12>>2];m=+s[l>>2]-+s[t+16>>2];_=+s[t+24>>2];u=+s[t+20>>2];f=+(p*_+m*u);b=+(_*m-p*u);t=e+28|0;s[t>>2]=f;s[t+4>>2]=b;b=+s[d>>2];f=+s[n>>2];u=+s[h>>2];p=+s[n+4>>2];m=+(b*f+u*p);_=+(b*p-f*u);n=e+36|0;s[n>>2]=m;s[n+4>>2]=_;c=a;return}function Qo(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0;t=c;Co(e,r);o[e>>2]=4968;n=r+20|0;a=o[n+4>>2]|0;u=e+76|0;o[u>>2]=o[n>>2];o[u+4>>2]=a;a=r+28|0;u=o[a+4>>2]|0;n=e+84|0;o[n>>2]=o[a>>2];o[n+4>>2]=u;u=r+36|0;n=o[u>>2]|0;a=o[u+4>>2]|0;u=e+92|0;o[u>>2]=n;o[u+4>>2]=a;u=e+100|0;s[u>>2]=-(o[b>>2]=a,+s[b>>2]);o[u+4>>2]=n;s[e+204>>2]=0;s[e+108>>2]=0;s[e+208>>2]=0;s[e+112>>2]=0;s[e+212>>2]=0;s[e+116>>2]=0;s[e+120>>2]=+s[r+48>>2];s[e+124>>2]=+s[r+52>>2];i[e+128>>0]=i[r+44>>0]|0;s[e+68>>2]=+s[r+56>>2];s[e+72>>2]=+s[r+60>>2];s[e+216>>2]=0;s[e+220>>2]=0;r=e+172|0;o[r+0>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;c=t;return}function $o(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0,Pe=0,Ae=0;t=c;n=o[e+48>>2]|0;a=o[n+8>>2]|0;u=e+132|0;o[u>>2]=a;l=o[e+52>>2]|0;f=o[l+8>>2]|0;d=e+136|0;o[d>>2]=f;h=n+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+140|0;o[h>>2]=_;o[h+4>>2]=m;h=l+44|0;p=o[h>>2]|0;y=o[h+4>>2]|0;h=e+148|0;o[h>>2]=p;o[h+4>>2]=y;w=+s[n+136>>2];h=e+156|0;s[h>>2]=w;v=+s[l+136>>2];S=e+160|0;s[S>>2]=v;E=+s[n+144>>2];n=e+164|0;s[n>>2]=E;g=+s[l+144>>2];l=e+168|0;s[l>>2]=g;k=o[r+28>>2]|0;M=k+(a*12|0)|0;P=+s[M>>2];A=+s[M+4>>2];F=+s[k+(a*12|0)+8>>2];M=r+32|0;C=o[M>>2]|0;D=C+(a*12|0)|0;B=+s[D>>2];R=+s[D+4>>2];T=+s[C+(a*12|0)+8>>2];a=k+(f*12|0)|0;O=+s[a>>2];x=+s[a+4>>2];L=+s[k+(f*12|0)+8>>2];k=C+(f*12|0)|0;N=+s[k>>2];I=+s[k+4>>2];J=+s[C+(f*12|0)+8>>2];G=+Y(+F);W=+j(+F);F=+Y(+L);V=+j(+L);L=+s[e+76>>2]-(o[b>>2]=_,+s[b>>2]);z=+s[e+80>>2]-(o[b>>2]=m,+s[b>>2]);H=W*L-G*z;U=G*L+W*z;z=+s[e+84>>2]-(o[b>>2]=p,+s[b>>2]);L=+s[e+88>>2]-(o[b>>2]=y,+s[b>>2]);q=V*z-F*L;Z=F*z+V*L;L=O+q-P-H;P=x+Z-A-U;A=+s[e+100>>2];x=+s[e+104>>2];O=W*A-G*x;V=G*A+W*x;x=+O;A=+V;y=e+180|0;s[y>>2]=x;s[y+4>>2]=A;A=H+L;H=U+P;U=V*A-O*H;s[e+196>>2]=U;x=q*V-Z*O;s[e+200>>2]=x;z=w+v;v=z+U*E*U+x*g*x;if(v>0)X=1/v;else X=v;s[e+204>>2]=X;y=e+212|0;s[y>>2]=0;p=e+216|0;s[p>>2]=0;m=e+220|0;s[m>>2]=0;X=+s[e+68>>2];if(X>0){v=+s[e+92>>2];w=+s[e+96>>2];F=W*v-G*w;K=G*v+W*w;w=+F;W=+K;_=e+172|0;s[_>>2]=w;s[_+4>>2]=W;W=A*K-H*F;s[e+188>>2]=W;H=q*K-Z*F;s[e+192>>2]=H;Z=z+W*E*W+H*g*H;if(Z>0){H=1/Z;s[y>>2]=H;W=X*6.2831854820251465;X=W*H*W;z=+s[r>>2];q=z*(W*H*2*+s[e+72>>2]+z*X);if(q>0)Q=1/q;else Q=q;s[m>>2]=Q;s[p>>2]=(L*F+P*K)*z*X*Q;X=Z+Q;s[y>>2]=X;if(X>0)s[y>>2]=1/X}}else s[e+116>>2]=0;if((i[e+128>>0]|0)!=0){X=g+E;y=e+208|0;s[y>>2]=X;if(X>0)s[y>>2]=1/X}else{s[e+208>>2]=0;s[e+112>>2]=0}if((i[r+24>>0]|0)==0){s[e+108>>2]=0;s[e+116>>2]=0;s[e+112>>2]=0;$=B;ee=R;re=N;te=I;ie=T;ne=J;oe=o[u>>2]|0;ae=o[M>>2]|0;ue=ae+(oe*12|0)|0;le=+$;se=+ee;fe=ue;ce=fe;s[ce>>2]=le;de=fe+4|0;be=de;s[be>>2]=se;he=o[u>>2]|0;_e=o[M>>2]|0;me=_e+(he*12|0)+8|0;s[me>>2]=ie;pe=o[d>>2]|0;ye=_e+(pe*12|0)|0;we=+re;ve=+te;Se=ye;Ee=Se;s[Ee>>2]=we;ge=Se+4|0;ke=ge;s[ke>>2]=ve;Me=o[d>>2]|0;Pe=o[M>>2]|0;Ae=Pe+(Me*12|0)+8|0;s[Ae>>2]=ne;c=t;return}else{y=r+8|0;r=e+108|0;X=+s[y>>2]*+s[r>>2];s[r>>2]=X;r=e+116|0;E=+s[y>>2]*+s[r>>2];s[r>>2]=E;r=e+112|0;g=+s[y>>2]*+s[r>>2];s[r>>2]=g;Q=X*O+E*+s[e+172>>2];O=X*V+E*+s[e+176>>2];V=+s[h>>2];Z=+s[S>>2];$=B-Q*V;ee=R-O*V;re=N+Q*Z;te=I+O*Z;ie=T-(g+(X*U+E*+s[e+188>>2]))*+s[n>>2];ne=J+(g+(X*x+E*+s[e+192>>2]))*+s[l>>2];oe=o[u>>2]|0;ae=o[M>>2]|0;ue=ae+(oe*12|0)|0;le=+$;se=+ee;fe=ue;ce=fe;s[ce>>2]=le;de=fe+4|0;be=de;s[be>>2]=se;he=o[u>>2]|0;_e=o[M>>2]|0;me=_e+(he*12|0)+8|0;s[me>>2]=ie;pe=o[d>>2]|0;ye=_e+(pe*12|0)|0;we=+re;ve=+te;Se=ye;Ee=Se;s[Ee>>2]=we;ge=Se+4|0;ke=ge;s[ke>>2]=ve;Me=o[d>>2]|0;Pe=o[M>>2]|0;Ae=Pe+(Me*12|0)+8|0;s[Ae>>2]=ne;c=t;return}}function ea(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0;t=c;i=+s[e+156>>2];n=+s[e+160>>2];a=+s[e+164>>2];u=+s[e+168>>2];l=e+132|0;f=o[l>>2]|0;d=r+32|0;b=o[d>>2]|0;h=b+(f*12|0)|0;_=+s[h>>2];m=+s[h+4>>2];p=+s[b+(f*12|0)+8>>2];f=e+136|0;h=o[f>>2]|0;y=b+(h*12|0)|0;w=+s[y>>2];v=+s[y+4>>2];S=+s[b+(h*12|0)+8>>2];E=+s[e+172>>2];g=+s[e+176>>2];k=+s[e+192>>2];M=+s[e+188>>2];h=e+116|0;P=+s[h>>2];A=+s[e+212>>2]*(+s[e+216>>2]+(S*k+(E*(w-_)+g*(v-m))-p*M)+ +s[e+220>>2]*P);F=-A;s[h>>2]=P-A;A=E*F;E=g*F;g=_-i*A;_=m-i*E;m=p-a*M*F;M=w+n*A;A=v+n*E;E=S+u*k*F;h=e+112|0;F=+s[h>>2];k=+s[r>>2]*+s[e+120>>2];S=F-+s[e+208>>2]*(E-m-+s[e+124>>2]);v=-k;w=S<k?S:k;k=w<v?v:w;s[h>>2]=k;w=k-F;F=m-a*w;m=E+u*w;w=+s[e+180>>2];E=+s[e+184>>2];k=+s[e+200>>2];v=+s[e+196>>2];S=+s[e+204>>2]*((M-g)*w+(A-_)*E+k*m-v*F);p=-S;h=e+108|0;s[h>>2]=+s[h>>2]-S;S=w*p;w=E*p;E=+(g-i*S);g=+(_-i*w);h=(o[d>>2]|0)+((o[l>>2]|0)*12|0)|0;s[h>>2]=E;s[h+4>>2]=g;h=o[d>>2]|0;s[h+((o[l>>2]|0)*12|0)+8>>2]=F-a*v*p;v=+(M+n*S);S=+(A+n*w);l=h+((o[f>>2]|0)*12|0)|0;s[l>>2]=v;s[l+4>>2]=S;s[(o[d>>2]|0)+((o[f>>2]|0)*12|0)+8>>2]=m+u*k*p;c=t;return}function ra(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0;t=c;i=e+132|0;n=o[i>>2]|0;a=r+28|0;r=o[a>>2]|0;u=r+(n*12|0)|0;l=+s[u>>2];f=+s[u+4>>2];d=+s[r+(n*12|0)+8>>2];n=e+136|0;u=o[n>>2]|0;b=r+(u*12|0)|0;h=+s[b>>2];_=+s[b+4>>2];m=+s[r+(u*12|0)+8>>2];p=+Y(+d);y=+j(+d);w=+Y(+m);v=+j(+m);S=+s[e+76>>2]-+s[e+140>>2];E=+s[e+80>>2]-+s[e+144>>2];g=y*S-p*E;k=p*S+y*E;E=+s[e+84>>2]-+s[e+148>>2];S=+s[e+88>>2]-+s[e+152>>2];M=v*E-w*S;P=w*E+v*S;S=h-l+M-g;v=_-f+P-k;E=+s[e+100>>2];w=+s[e+104>>2];A=y*E-p*w;F=p*E+y*w;w=A*S+F*v;y=+s[e+156>>2];E=+s[e+160>>2];p=+s[e+164>>2];C=+s[e+196>>2];D=+s[e+168>>2];B=+s[e+200>>2];R=y+E+C*p*C+B*D*B;if(R!=0)T=-w/R;else T=0;R=A*T;B=F*T;C=+(l-R*y);l=+(f-B*y);e=(o[a>>2]|0)+((o[i>>2]|0)*12|0)|0;s[e>>2]=C;s[e+4>>2]=l;e=o[a>>2]|0;s[e+((o[i>>2]|0)*12|0)+8>>2]=d-(F*(g+S)-A*(k+v))*T*p;p=+(h+R*E);R=+(_+B*E);i=e+((o[n>>2]|0)*12|0)|0;s[i>>2]=p;s[i+4>>2]=R;s[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=m+(M*F-P*A)*T*D;if(w>0){O=w;x=O<=.004999999888241291;c=t;return x|0}O=-w;x=O<=.004999999888241291;c=t;return x|0}function ta(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+48>>2]|0;i=+s[t+24>>2];n=+s[r+76>>2];a=+s[t+20>>2];u=+s[r+80>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function ia(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+52>>2]|0;i=+s[t+24>>2];n=+s[r+84>>2];a=+s[t+20>>2];u=+s[r+88>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function na(e,r,t){e=e|0;r=r|0;t=+t;var i=0,n=0,o=0;i=+s[r+108>>2];n=+s[r+116>>2];o=(i*+s[r+184>>2]+n*+s[r+176>>2])*t;s[e>>2]=(i*+s[r+180>>2]+n*+s[r+172>>2])*t;s[e+4>>2]=o;return}function oa(e,r){e=e|0;r=+r;return+(+s[e+112>>2]*r)}function aa(e,r){e=e|0;r=+r;var t=0,i=0,a=0,l=0,f=0;t=c;i=o[e+48>>2]|0;a=i+4|0;l=u[a>>1]|0;if((l&2|0)==0){n[a>>1]=l|2;s[i+160>>2]=0}i=o[e+52>>2]|0;l=i+4|0;a=u[l>>1]|0;if((a&2|0)!=0){f=e+124|0;s[f>>2]=r;c=t;return}n[l>>1]=a|2;s[i+160>>2]=0;f=e+124|0;s[f>>2]=r;c=t;return}function ua(e){e=e|0;var r=0,t=0,i=0,n=0,u=0;r=c;c=c+16|0;t=r;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Rd(5016,t);o[t>>2]=i;Rd(5040,t);o[t>>2]=n;Rd(5072,t);o[t>>2]=a[e+61>>0]|0;Rd(5104,t);u=+s[e+80>>2];f[b>>3]=+s[e+76>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(5144,t);u=+s[e+88>>2];f[b>>3]=+s[e+84>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(5192,t);u=+s[e+96>>2];f[b>>3]=+s[e+92>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(5240,t);o[t>>2]=a[e+128>>0]|0;Rd(5280,t);f[b>>3]=+s[e+124>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(5312,t);f[b>>3]=+s[e+120>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(5344,t);f[b>>3]=+s[e+68>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(5376,t);f[b>>3]=+s[e+72>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(5408,t);o[t>>2]=o[e+56>>2];Rd(5440,t);c=r;return}function la(e){e=e|0;return}function sa(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function fa(e,r,t,i,n,a,u,l){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;u=u|0;l=+l;var f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0;f=c;o[e+8>>2]=r;o[e+12>>2]=t;d=i;b=o[d+4>>2]|0;h=e+20|0;o[h>>2]=o[d>>2];o[h+4>>2]=b;b=n;h=o[b+4>>2]|0;d=e+28|0;o[d>>2]=o[b>>2];o[d+4>>2]=h;_=+s[a>>2]-+s[r+12>>2];h=a+4|0;m=+s[h>>2]-+s[r+16>>2];p=+s[r+24>>2];y=+s[r+20>>2];w=+(_*p+m*y);v=+(p*m-_*y);r=e+36|0;s[r>>2]=w;s[r+4>>2]=v;v=+s[u>>2]-+s[t+12>>2];r=u+4|0;w=+s[r>>2]-+s[t+16>>2];y=+s[t+24>>2];_=+s[t+20>>2];m=+(v*y+w*_);p=+(y*w-v*_);t=e+44|0;s[t>>2]=m;s[t+4>>2]=p;p=+s[a>>2]-+s[i>>2];m=+s[h>>2]-+s[i+4>>2];s[e+52>>2]=+U(+(p*p+m*m));m=+s[u>>2]-+s[n>>2];p=+s[r>>2]-+s[n+4>>2];s[e+56>>2]=+U(+(m*m+p*p));s[e+60>>2]=l;c=f;return}function ca(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0;t=c;Co(e,r);o[e>>2]=5528;i=r+20|0;n=o[i+4>>2]|0;a=e+68|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=r+28|0;a=o[n+4>>2]|0;i=e+76|0;o[i>>2]=o[n>>2];o[i+4>>2]=a;a=r+36|0;i=o[a+4>>2]|0;n=e+92|0;o[n>>2]=o[a>>2];o[n+4>>2]=i;i=r+44|0;n=o[i+4>>2]|0;a=e+100|0;o[a>>2]=o[i>>2];o[a+4>>2]=n;n=r+52|0;s[e+84>>2]=+s[n>>2];a=r+56|0;s[e+88>>2]=+s[a>>2];u=+s[r+60>>2];s[e+112>>2]=u;s[e+108>>2]=+s[n>>2]+u*+s[a>>2];s[e+116>>2]=0;c=t;return}function da(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0;t=c;n=o[e+48>>2]|0;a=o[n+8>>2]|0;u=e+120|0;o[u>>2]=a;l=o[e+52>>2]|0;f=o[l+8>>2]|0;d=e+124|0;o[d>>2]=f;h=n+44|0;_=o[h>>2]|0;m=o[h+4>>2]|0;h=e+160|0;o[h>>2]=_;o[h+4>>2]=m;h=l+44|0;p=o[h>>2]|0;y=o[h+4>>2]|0;h=e+168|0;o[h>>2]=p;o[h+4>>2]=y;y=e+176|0;s[y>>2]=+s[n+136>>2];h=e+180|0;s[h>>2]=+s[l+136>>2];w=e+184|0;s[w>>2]=+s[n+144>>2];n=e+188|0;s[n>>2]=+s[l+144>>2];l=o[r+28>>2]|0;v=l+(a*12|0)|0;S=+s[v>>2];E=+s[v+4>>2];g=+s[l+(a*12|0)+8>>2];v=r+32|0;k=o[v>>2]|0;M=k+(a*12|0)|0;P=+s[M>>2];A=+s[M+4>>2];F=+s[k+(a*12|0)+8>>2];a=l+(f*12|0)|0;C=+s[a>>2];D=+s[a+4>>2];B=+s[l+(f*12|0)+8>>2];l=k+(f*12|0)|0;R=+s[l>>2];T=+s[l+4>>2];O=+s[k+(f*12|0)+8>>2];x=+Y(+g);L=+j(+g);g=+Y(+B);N=+j(+B);f=e+144|0;B=+s[e+92>>2]-(o[b>>2]=_,+s[b>>2]);I=+s[e+96>>2]-(o[b>>2]=m,+s[b>>2]);J=L*B-x*I;G=x*B+L*I;I=+J;L=+G;m=f;s[m>>2]=I;s[m+4>>2]=L;L=+s[e+100>>2]-(o[b>>2]=p,+s[b>>2]);I=+s[e+104>>2]-+s[e+172>>2];B=N*L-g*I;x=g*L+N*I;I=+B;N=+x;p=e+152|0;s[p>>2]=I;s[p+4>>2]=N;p=e+128|0;N=S+J-+s[e+68>>2];J=E+G-+s[e+72>>2];G=+N;E=+J;m=p;s[m>>2]=G;s[m+4>>2]=E;m=e+136|0;E=C+B-+s[e+76>>2];C=D+x-+s[e+80>>2];D=+E;G=+C;_=m;s[_>>2]=D;s[_+4>>2]=G;G=+U(+(N*N+J*J));D=+U(+(E*E+C*C));if(G>.04999999701976776){S=1/G;G=N*S;s[p>>2]=G;W=S*J;V=G}else{s[p>>2]=0;W=0;V=0}s[e+132>>2]=W;if(D>.04999999701976776){G=1/D;D=G*E;s[m>>2]=D;z=G*C;H=D}else{s[m>>2]=0;z=0;H=0}s[e+140>>2]=z;D=+s[f>>2];C=+s[e+148>>2];G=D*W-C*V;E=B*z-x*H;J=+s[y>>2];S=+s[w>>2];N=+s[h>>2];I=+s[n>>2];L=+s[e+112>>2];g=J+G*G*S+L*L*(N+E*E*I);if(g>0)q=1/g;else q=g;s[e+192>>2]=q;
if((i[r+24>>0]|0)==0){s[e+116>>2]=0;Z=P;X=A;K=R;Q=T;$=F;ee=O;re=o[u>>2]|0;te=o[v>>2]|0;ie=te+(re*12|0)|0;ne=+Z;oe=+X;ae=ie;ue=ae;s[ue>>2]=ne;le=ae+4|0;se=le;s[se>>2]=oe;fe=o[u>>2]|0;ce=o[v>>2]|0;de=ce+(fe*12|0)+8|0;s[de>>2]=$;be=o[d>>2]|0;he=ce+(be*12|0)|0;_e=+K;me=+Q;pe=he;ye=pe;s[ye>>2]=_e;we=pe+4|0;ve=we;s[ve>>2]=me;Se=o[d>>2]|0;Ee=o[v>>2]|0;ge=Ee+(Se*12|0)+8|0;s[ge>>2]=ee;c=t;return}else{n=e+116|0;q=+s[r+8>>2]*+s[n>>2];s[n>>2]=q;g=-q;E=V*g;V=W*g;g=-(q*L);L=H*g;H=z*g;Z=P+E*J;X=A+V*J;K=R+L*N;Q=T+H*N;$=F+S*(V*D-E*C);ee=O+I*(H*B-L*x);re=o[u>>2]|0;te=o[v>>2]|0;ie=te+(re*12|0)|0;ne=+Z;oe=+X;ae=ie;ue=ae;s[ue>>2]=ne;le=ae+4|0;se=le;s[se>>2]=oe;fe=o[u>>2]|0;ce=o[v>>2]|0;de=ce+(fe*12|0)+8|0;s[de>>2]=$;be=o[d>>2]|0;he=ce+(be*12|0)|0;_e=+K;me=+Q;pe=he;ye=pe;s[ye>>2]=_e;we=pe+4|0;ve=we;s[ve>>2]=me;Se=o[d>>2]|0;Ee=o[v>>2]|0;ge=Ee+(Se*12|0)+8|0;s[ge>>2]=ee;c=t;return}}function ba(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0;t=c;i=e+120|0;n=o[i>>2]|0;a=r+32|0;r=o[a>>2]|0;u=r+(n*12|0)|0;l=u;f=+s[l>>2];d=+s[l+4>>2];b=+s[r+(n*12|0)+8>>2];n=e+124|0;l=o[n>>2]|0;h=r+(l*12|0)|0;_=+s[h>>2];m=+s[h+4>>2];p=+s[r+(l*12|0)+8>>2];y=+s[e+148>>2];w=+s[e+144>>2];v=+s[e+156>>2];S=+s[e+152>>2];E=+s[e+128>>2];g=+s[e+132>>2];k=+s[e+112>>2];M=+s[e+136>>2];P=+s[e+140>>2];A=+s[e+192>>2]*(-((f-b*y)*E+(d+b*w)*g)-k*((_-p*v)*M+(m+p*S)*P));l=e+116|0;s[l>>2]=+s[l>>2]-A;F=E*A;E=g*A;g=k*A;A=M*g;M=g*P;P=+s[e+176>>2];g=b+ +s[e+184>>2]*(E*w-F*y);y=+s[e+180>>2];w=p+ +s[e+188>>2]*(M*S-A*v);v=+(f+F*P);F=+(d+E*P);e=u;s[e>>2]=v;s[e+4>>2]=F;e=o[a>>2]|0;s[e+((o[i>>2]|0)*12|0)+8>>2]=g;g=+(_+A*y);A=+(m+M*y);i=e+((o[n>>2]|0)*12|0)|0;s[i>>2]=g;s[i+4>>2]=A;s[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=w;c=t;return}function ha(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0;t=c;i=e+120|0;n=o[i>>2]|0;a=r+28|0;r=o[a>>2]|0;u=r+(n*12|0)|0;l=u;f=+s[l>>2];d=+s[l+4>>2];b=+s[r+(n*12|0)+8>>2];n=e+124|0;l=o[n>>2]|0;h=r+(l*12|0)|0;_=+s[h>>2];m=+s[h+4>>2];p=+s[r+(l*12|0)+8>>2];y=+Y(+b);w=+j(+b);v=+Y(+p);S=+j(+p);E=+s[e+92>>2]-+s[e+160>>2];g=+s[e+96>>2]-+s[e+164>>2];k=w*E-y*g;M=y*E+w*g;g=+s[e+100>>2]-+s[e+168>>2];w=+s[e+104>>2]-+s[e+172>>2];E=S*g-v*w;y=v*g+S*w;w=f+k-+s[e+68>>2];S=d+M-+s[e+72>>2];g=_+E-+s[e+76>>2];v=m+y-+s[e+80>>2];P=+U(+(w*w+S*S));A=+U(+(g*g+v*v));if(P>.04999999701976776){F=1/P;C=S*F;D=w*F}else{C=0;D=0}if(A>.04999999701976776){F=1/A;B=v*F;R=g*F}else{B=0;R=0}F=k*C-M*D;g=E*B-y*R;v=+s[e+176>>2];w=+s[e+184>>2];S=+s[e+180>>2];T=+s[e+188>>2];O=+s[e+112>>2];x=v+F*F*w+O*O*(S+g*g*T);if(x>0)L=1/x;else L=x;x=+s[e+108>>2]-P-A*O;if(x>0)N=x;else N=-x;A=L*x;x=D*A;D=C*A;C=A*O;O=R*C;R=B*C;C=+(f+x*v);f=+(d+D*v);e=u;s[e>>2]=C;s[e+4>>2]=f;e=o[a>>2]|0;s[e+((o[i>>2]|0)*12|0)+8>>2]=b+(k*D-M*x)*w;w=+(_+O*S);_=+(m+R*S);i=e+((o[n>>2]|0)*12|0)|0;s[i>>2]=w;s[i+4>>2]=_;s[(o[a>>2]|0)+((o[n>>2]|0)*12|0)+8>>2]=p+T*(E*R-y*O);c=t;return N<.004999999888241291|0}function _a(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+48>>2]|0;i=+s[t+24>>2];n=+s[r+92>>2];a=+s[t+20>>2];u=+s[r+96>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function ma(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+52>>2]|0;i=+s[t+24>>2];n=+s[r+100>>2];a=+s[t+20>>2];u=+s[r+104>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function pa(e,r,t){e=e|0;r=r|0;t=+t;var i=0,n=0;i=+s[r+116>>2];n=i*+s[r+140>>2]*t;s[e>>2]=i*+s[r+136>>2]*t;s[e+4>>2]=n;return}function ya(e,r){e=e|0;r=+r;return 0}function wa(e){e=e|0;var r=0,t=0,i=0,n=0,u=0;r=c;c=c+16|0;t=r;i=o[(o[e+48>>2]|0)+8>>2]|0;n=o[(o[e+52>>2]|0)+8>>2]|0;Rd(5576,t);o[t>>2]=i;Rd(5600,t);o[t>>2]=n;Rd(5632,t);o[t>>2]=a[e+61>>0]|0;Rd(5664,t);u=+s[e+72>>2];f[b>>3]=+s[e+68>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(5704,t);u=+s[e+80>>2];f[b>>3]=+s[e+76>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(5752,t);u=+s[e+96>>2];f[b>>3]=+s[e+92>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(5800,t);u=+s[e+104>>2];f[b>>3]=+s[e+100>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];n=t+8|0;f[b>>3]=u;o[n>>2]=o[b>>2];o[n+4>>2]=o[b+4>>2];Rd(5848,t);f[b>>3]=+s[e+84>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(5896,t);f[b>>3]=+s[e+88>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(5928,t);f[b>>3]=+s[e+112>>2];o[t>>2]=o[b>>2];o[t+4>>2]=o[b+4>>2];Rd(5960,t);o[t>>2]=o[e+56>>2];Rd(5984,t);c=r;return}function va(e,r){e=e|0;r=r|0;var t=0,i=0;t=e+68|0;s[t>>2]=+s[t>>2]-+s[r>>2];t=r+4|0;i=e+72|0;s[i>>2]=+s[i>>2]-+s[t>>2];i=e+76|0;s[i>>2]=+s[i>>2]-+s[r>>2];r=e+80|0;s[r>>2]=+s[r>>2]-+s[t>>2];return}function Sa(e){e=e|0;return}function Ea(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function ga(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0;a=c;u=wd(n,148)|0;if((u|0)==0){l=0;c=a;return l|0}Da(u,e,r,t,i);o[u>>2]=6072;l=u;c=a;return l|0}function ka(e,r){e=e|0;r=r|0;var t=0;t=c;dh[o[(o[e>>2]|0)+4>>2]&127](e);vd(r,e,148);c=t;return}function Ma(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var a=0,u=0,l=0,f=0;a=c;c=c+48|0;u=a;l=o[(o[e+48>>2]|0)+12>>2]|0;o[u>>2]=488;o[u+4>>2]=1;s[u+8>>2]=.009999999776482582;f=u+28|0;o[f+0>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;n[f+16>>1]=0;zf(l,u,o[e+56>>2]|0);mc(r,u,t,o[(o[e+52>>2]|0)+12>>2]|0,i);c=a;return}function Pa(e){e=e|0;return}function Aa(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Fa(e,r,t,n,a){e=e|0;r=r|0;t=t|0;n=n|0;a=a|0;var u=0,l=0,s=0,f=0,d=0;u=c;if((i[6352]|0)==0){o[1540]=6;o[6164>>2]=53;i[6168>>0]=1;o[6256>>2]=7;o[6260>>2]=54;i[6264>>0]=1;o[6184>>2]=7;o[6188>>2]=54;i[6192>>0]=0;o[6280>>2]=8;o[6284>>2]=55;i[6288>>0]=1;o[6208>>2]=9;o[6212>>2]=56;i[6216>>0]=1;o[6172>>2]=9;o[6176>>2]=56;i[6180>>0]=0;o[6232>>2]=10;o[6236>>2]=57;i[6240>>0]=1;o[6268>>2]=10;o[6272>>2]=57;i[6276>>0]=0;o[6304>>2]=11;o[6308>>2]=58;i[6312>>0]=1;o[6196>>2]=11;o[6200>>2]=58;i[6204>>0]=0;o[6328>>2]=12;o[6332>>2]=59;i[6336>>0]=1;o[6292>>2]=12;o[6296>>2]=59;i[6300>>0]=0;i[6352]=1}l=o[(o[e+12>>2]|0)+4>>2]|0;s=o[(o[t+12>>2]|0)+4>>2]|0;f=o[6160+(l*48|0)+(s*12|0)>>2]|0;if((f|0)==0){d=0;c=u;return d|0}if((i[6160+(l*48|0)+(s*12|0)+8>>0]|0)==0){d=Eh[f&15](t,n,e,r,a)|0;c=u;return d|0}else{d=Eh[f&15](e,r,t,n,a)|0;c=u;return d|0}return 0}function Ca(e,r){e=e|0;r=r|0;var t=0,a=0,l=0,f=0,d=0,b=0;t=c;a=o[e+48>>2]|0;l=o[e+52>>2]|0;if(((o[e+124>>2]|0)>0?(i[a+38>>0]|0)==0:0)?(i[l+38>>0]|0)==0:0){f=o[a+8>>2]|0;d=f+4|0;b=u[d>>1]|0;if((b&2|0)==0){n[d>>1]=b|2;s[f+160>>2]=0}f=o[l+8>>2]|0;b=f+4|0;d=u[b>>1]|0;if((d&2|0)==0){n[b>>1]=d|2;s[f+160>>2]=0}}hh[o[6160+((o[(o[a+12>>2]|0)+4>>2]|0)*48|0)+((o[(o[l+12>>2]|0)+4>>2]|0)*12|0)+4>>2]&63](e,r);c=t;return}function Da(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,f=0;a=c;o[e>>2]=6368;o[e+4>>2]=4;o[e+48>>2]=r;o[e+52>>2]=i;o[e+56>>2]=t;o[e+60>>2]=n;o[e+124>>2]=0;o[e+128>>2]=0;n=r+16|0;t=e+8|0;u=t+40|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(u|0));s[e+136>>2]=+U(+(+s[n>>2]*+s[i+16>>2]));l=+s[r+20>>2];f=+s[i+20>>2];s[e+140>>2]=l>f?l:f;s[e+144>>2]=0;c=a;return}function Ba(e,r){e=e|0;r=r|0;var t=0,a=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0;t=c;c=c+64|0;a=t;l=e+64|0;f=a+0|0;d=l+0|0;b=f+64|0;do{o[f>>2]=o[d>>2];f=f+4|0;d=d+4|0}while((f|0)<(b|0));d=e+4|0;f=o[d>>2]|0;o[d>>2]=f|4;b=f>>>1;f=o[e+48>>2]|0;h=o[e+52>>2]|0;_=(i[h+38>>0]|i[f+38>>0])<<24>>24!=0;m=o[f+8>>2]|0;p=o[h+8>>2]|0;y=m+12|0;w=p+12|0;if(!_){gh[o[o[e>>2]>>2]&31](e,l,y,w);l=e+124|0;v=(o[l>>2]|0)>0;e:do if(v){S=o[a+60>>2]|0;if((S|0)>0)E=0;else{g=0;while(1){s[e+(g*20|0)+72>>2]=0;s[e+(g*20|0)+76>>2]=0;g=g+1|0;if((g|0)>=(o[l>>2]|0))break e}}do{g=e+(E*20|0)+72|0;s[g>>2]=0;k=e+(E*20|0)+76|0;s[k>>2]=0;M=o[e+(E*20|0)+80>>2]|0;P=0;while(1){A=P+1|0;if((o[a+(P*20|0)+16>>2]|0)==(M|0)){F=7;break}if((A|0)<(S|0))P=A;else break}if((F|0)==7){F=0;s[g>>2]=+s[a+(P*20|0)+8>>2];s[k>>2]=+s[a+(P*20|0)+12>>2]}E=E+1|0}while((E|0)<(o[l>>2]|0))}while(0);l=b&1;if(v^(l|0)!=0){E=m+4|0;F=u[E>>1]|0;if((F&2|0)==0){n[E>>1]=F|2;s[m+160>>2]=0}m=p+4|0;F=u[m>>1]|0;if((F&2|0)==0){n[m>>1]=F|2;s[p+160>>2]=0;C=l;D=v}else{C=l;D=v}}else{C=l;D=v}}else{v=Sc(o[f+12>>2]|0,o[e+56>>2]|0,o[h+12>>2]|0,o[e+60>>2]|0,y,w)|0;o[e+124>>2]=0;C=b&1;D=v}v=o[d>>2]|0;o[d>>2]=D?v|2:v&-3;v=(C|0)==0;C=D^1;d=(r|0)==0;if(!(v^1|C|d))hh[o[(o[r>>2]|0)+8>>2]&63](r,e);if(!(v|D|d))hh[o[(o[r>>2]|0)+12>>2]&63](r,e);if(_|C|d){c=t;return}mh[o[(o[r>>2]|0)+32>>2]&7](r,e,a);c=t;return}function Ra(e){e=e|0;return}function Ta(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Oa(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0;i=c;r=wd(n,148)|0;if((r|0)==0){a=0;c=i;return a|0}Da(r,e,0,t,0);o[r>>2]=6392;a=r;c=i;return a|0}function xa(e,r){e=e|0;r=r|0;var t=0;t=c;dh[o[(o[e>>2]|0)+4>>2]&127](e);vd(r,e,148);c=t;return}function La(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0;n=c;ic(r,o[(o[e+48>>2]|0)+12>>2]|0,t,o[(o[e+52>>2]|0)+12>>2]|0,i);c=n;return}function Na(e){e=e|0;return}function Ia(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Ja(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0;i=c;r=wd(n,148)|0;if((r|0)==0){a=0;c=i;return a|0}Da(r,e,0,t,0);o[r>>2]=6464;a=r;c=i;return a|0}function Ga(e,r){e=e|0;r=r|0;var t=0;t=c;dh[o[(o[e>>2]|0)+4>>2]&127](e);vd(r,e,148);c=t;return}function Wa(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0;n=c;tc(r,o[(o[e+48>>2]|0)+12>>2]|0,t,o[(o[e+52>>2]|0)+12>>2]|0,i);c=n;return}function Va(e){e=e|0;return}function za(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Ha(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0;t=c;o[e+0>>2]=o[r+0>>2];o[e+4>>2]=o[r+4>>2];o[e+8>>2]=o[r+8>>2];o[e+12>>2]=o[r+12>>2];o[e+16>>2]=o[r+16>>2];o[e+20>>2]=o[r+20>>2];o[e+24>>2]=o[r+24>>2];n=o[r+44>>2]|0;a=e+36|0;o[a>>2]=n;u=o[r+32>>2]|0;l=e+52|0;o[l>>2]=u;f=e+40|0;o[f>>2]=Jd(n,u*88|0)|0;u=Jd(o[a>>2]|0,(o[l>>2]|0)*156|0)|0;a=e+44|0;o[a>>2]=u;o[e+28>>2]=o[r+36>>2];o[e+32>>2]=o[r+40>>2];n=o[r+28>>2]|0;r=e+48|0;o[r>>2]=n;if((o[l>>2]|0)<=0){c=t;return}d=e+24|0;b=e+8|0;e=n;n=u;u=0;while(1){h=o[e+(u<<2)>>2]|0;_=o[h+48>>2]|0;m=o[h+52>>2]|0;p=+s[(o[_+12>>2]|0)+8>>2];y=+s[(o[m+12>>2]|0)+8>>2];w=o[_+8>>2]|0;_=o[m+8>>2]|0;m=o[h+124>>2]|0;s[n+(u*156|0)+136>>2]=+s[h+136>>2];s[n+(u*156|0)+140>>2]=+s[h+140>>2];s[n+(u*156|0)+144>>2]=+s[h+144>>2];v=w+8|0;o[n+(u*156|0)+112>>2]=o[v>>2];S=_+8|0;o[n+(u*156|0)+116>>2]=o[S>>2];E=w+136|0;s[n+(u*156|0)+120>>2]=+s[E>>2];g=_+136|0;s[n+(u*156|0)+124>>2]=+s[g>>2];k=w+144|0;s[n+(u*156|0)+128>>2]=+s[k>>2];M=_+144|0;s[n+(u*156|0)+132>>2]=+s[M>>2];o[n+(u*156|0)+152>>2]=u;o[n+(u*156|0)+148>>2]=m;P=n+(u*156|0)+80|0;o[P+0>>2]=0;o[P+4>>2]=0;o[P+8>>2]=0;o[P+12>>2]=0;o[P+16>>2]=0;o[P+20>>2]=0;o[P+24>>2]=0;o[P+28>>2]=0;P=o[f>>2]|0;o[P+(u*88|0)+32>>2]=o[v>>2];o[P+(u*88|0)+36>>2]=o[S>>2];s[P+(u*88|0)+40>>2]=+s[E>>2];s[P+(u*88|0)+44>>2]=+s[g>>2];g=w+44|0;w=o[g+4>>2]|0;E=P+(u*88|0)+48|0;o[E>>2]=o[g>>2];o[E+4>>2]=w;w=_+44|0;_=o[w+4>>2]|0;E=P+(u*88|0)+56|0;o[E>>2]=o[w>>2];o[E+4>>2]=_;s[P+(u*88|0)+64>>2]=+s[k>>2];s[P+(u*88|0)+68>>2]=+s[M>>2];M=h+104|0;k=o[M+4>>2]|0;_=P+(u*88|0)+16|0;o[_>>2]=o[M>>2];o[_+4>>2]=k;k=h+112|0;_=o[k+4>>2]|0;M=P+(u*88|0)+24|0;o[M>>2]=o[k>>2];o[M+4>>2]=_;o[P+(u*88|0)+84>>2]=m;s[P+(u*88|0)+76>>2]=p;s[P+(u*88|0)+80>>2]=y;o[P+(u*88|0)+72>>2]=o[h+120>>2];if((m|0)>0){_=0;do{M=h+(_*20|0)+64|0;if((i[d>>0]|0)==0){s[n+(u*156|0)+(_*36|0)+16>>2]=0;s[n+(u*156|0)+(_*36|0)+20>>2]=0}else{s[n+(u*156|0)+(_*36|0)+16>>2]=+s[b>>2]*+s[h+(_*20|0)+72>>2];s[n+(u*156|0)+(_*36|0)+20>>2]=+s[b>>2]*+s[h+(_*20|0)+76>>2]}k=n+(u*156|0)+(_*36|0)|0;s[n+(u*156|0)+(_*36|0)+24>>2]=0;s[n+(u*156|0)+(_*36|0)+28>>2]=0;s[n+(u*156|0)+(_*36|0)+32>>2]=0;E=P+(u*88|0)+(_<<3)|0;o[k+0>>2]=0;o[k+4>>2]=0;o[k+8>>2]=0;o[k+12>>2]=0;k=M;M=o[k+4>>2]|0;w=E;o[w>>2]=o[k>>2];o[w+4>>2]=M;_=_+1|0}while((_|0)!=(m|0))}m=u+1|0;if((m|0)>=(o[l>>2]|0))break;e=o[r>>2]|0;n=o[a>>2]|0;u=m}c=t;return}function Ua(e){e=e|0;var r=0,t=0;r=c;t=e+36|0;Wd(o[t>>2]|0,o[e+44>>2]|0);Wd(o[t>>2]|0,o[e+40>>2]|0);c=r;return}function qa(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0;r=c;c=c+64|0;t=r+48|0;i=r+32|0;n=r;a=e+52|0;if((o[a>>2]|0)<=0){c=r;return}u=e+44|0;l=e+40|0;f=e+48|0;d=e+28|0;b=e+32|0;e=t+8|0;h=t+12|0;_=i+8|0;m=i+12|0;p=0;do{y=o[u>>2]|0;w=o[l>>2]|0;v=+s[w+(p*88|0)+76>>2];S=+s[w+(p*88|0)+80>>2];E=(o[(o[f>>2]|0)+(o[y+(p*156|0)+152>>2]<<2)>>2]|0)+64|0;g=o[y+(p*156|0)+112>>2]|0;k=o[y+(p*156|0)+116>>2]|0;M=+s[y+(p*156|0)+120>>2];P=+s[y+(p*156|0)+124>>2];A=+s[y+(p*156|0)+128>>2];F=+s[y+(p*156|0)+132>>2];C=w+(p*88|0)+48|0;D=+s[C>>2];B=+s[C+4>>2];C=w+(p*88|0)+56|0;R=+s[C>>2];T=+s[C+4>>2];C=o[d>>2]|0;w=C+(g*12|0)|0;O=+s[w>>2];x=+s[w+4>>2];L=+s[C+(g*12|0)+8>>2];w=o[b>>2]|0;N=w+(g*12|0)|0;I=+s[N>>2];J=+s[N+4>>2];G=+s[w+(g*12|0)+8>>2];g=C+(k*12|0)|0;W=+s[g>>2];V=+s[g+4>>2];z=+s[C+(k*12|0)+8>>2];C=w+(k*12|0)|0;H=+s[C>>2];U=+s[C+4>>2];q=+s[w+(k*12|0)+8>>2];Z=+Y(+L);s[e>>2]=Z;X=+j(+L);s[h>>2]=X;L=+Y(+z);s[_>>2]=L;K=+j(+z);s[m>>2]=K;z=+(O-(D*X-B*Z));Q=+(x-(B*X+D*Z));k=t;s[k>>2]=z;s[k+4>>2]=Q;Q=+(W-(R*K-T*L));z=+(V-(T*K+R*L));k=i;s[k>>2]=Q;s[k+4>>2]=z;wc(n,E,t,v,i,S);E=y+(p*156|0)+72|0;k=n;w=o[k+4>>2]|0;C=E;o[C>>2]=o[k>>2];o[C+4>>2]=w;w=y+(p*156|0)+148|0;C=o[w>>2]|0;do if((C|0)>0){k=y+(p*156|0)+76|0;S=M+P;g=y+(p*156|0)+140|0;N=0;do{$=n+(N<<3)+8|0;v=+s[$>>2]-O;ee=n+(N<<3)+12|0;z=+v;Q=+(+s[ee>>2]-x);re=y+(p*156|0)+(N*36|0)|0;s[re>>2]=z;s[re+4>>2]=Q;Q=+s[$>>2]-W;z=+Q;L=+(+s[ee>>2]-V);ee=y+(p*156|0)+(N*36|0)+8|0;s[ee>>2]=z;s[ee+4>>2]=L;L=+s[k>>2];z=+s[y+(p*156|0)+(N*36|0)+4>>2];R=+s[E>>2];K=v*L-z*R;T=+s[y+(p*156|0)+(N*36|0)+12>>2];Z=L*Q-R*T;R=S+K*A*K+Z*F*Z;if(R>0)te=1/R;else te=0;s[y+(p*156|0)+(N*36|0)+24>>2]=te;R=+s[k>>2];Z=-+s[E>>2];K=v*Z-R*z;L=Q*Z-R*T;R=S+K*A*K+L*F*L;if(R>0)ie=1/R;else ie=0;s[y+(p*156|0)+(N*36|0)+28>>2]=ie;ee=y+(p*156|0)+(N*36|0)+32|0;s[ee>>2]=0;R=+s[E>>2]*(H-q*T-I+G*z)+ +s[k>>2]*(U+q*Q-J-G*v);if(R<-1)s[ee>>2]=-(R*+s[g>>2]);N=N+1|0}while((N|0)!=(C|0));if((o[w>>2]|0)==2){S=+s[y+(p*156|0)+76>>2];R=+s[E>>2];v=+s[y+(p*156|0)>>2]*S-+s[y+(p*156|0)+4>>2]*R;Q=S*+s[y+(p*156|0)+8>>2]-R*+s[y+(p*156|0)+12>>2];z=S*+s[y+(p*156|0)+36>>2]-R*+s[y+(p*156|0)+40>>2];T=S*+s[y+(p*156|0)+44>>2]-R*+s[y+(p*156|0)+48>>2];R=M+P;S=A*v;L=F*Q;K=R+v*S+Q*L;Q=R+z*A*z+T*F*T;v=R+S*z+L*T;T=K*Q-v*v;if(!(K*K<T*1E3)){o[w>>2]=1;break}s[y+(p*156|0)+96>>2]=K;s[y+(p*156|0)+100>>2]=v;s[y+(p*156|0)+104>>2]=v;s[y+(p*156|0)+108>>2]=Q;if(T!=0)ne=1/T;else ne=T;T=-(ne*v);s[y+(p*156|0)+80>>2]=Q*ne;s[y+(p*156|0)+84>>2]=T;s[y+(p*156|0)+88>>2]=T;s[y+(p*156|0)+92>>2]=K*ne}}while(0);p=p+1|0}while((p|0)<(o[a>>2]|0));c=r;return}function ja(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0;r=c;t=e+52|0;if((o[t>>2]|0)<=0){c=r;return}i=e+44|0;n=e+32|0;e=o[n>>2]|0;a=0;do{u=o[i>>2]|0;l=o[u+(a*156|0)+112>>2]|0;f=o[u+(a*156|0)+116>>2]|0;d=+s[u+(a*156|0)+120>>2];b=+s[u+(a*156|0)+128>>2];h=+s[u+(a*156|0)+124>>2];_=+s[u+(a*156|0)+132>>2];m=o[u+(a*156|0)+148>>2]|0;p=e+(l*12|0)|0;y=p;w=+s[y>>2];v=+s[y+4>>2];S=+s[e+(l*12|0)+8>>2];y=e+(f*12|0)|0;E=+s[y>>2];g=+s[y+4>>2];k=+s[e+(f*12|0)+8>>2];y=u+(a*156|0)+72|0;M=+s[y>>2];P=+s[y+4>>2];if((m|0)>0){A=w;F=v;C=E;D=g;y=0;B=S;R=k;while(1){T=+s[u+(a*156|0)+(y*36|0)+16>>2];O=+s[u+(a*156|0)+(y*36|0)+20>>2];x=M*T+P*O;L=P*T-M*O;O=B-b*(+s[u+(a*156|0)+(y*36|0)>>2]*L-+s[u+(a*156|0)+(y*36|0)+4>>2]*x);T=A-d*x;N=F-d*L;I=R+_*(L*+s[u+(a*156|0)+(y*36|0)+8>>2]-x*+s[u+(a*156|0)+(y*36|0)+12>>2]);J=C+h*x;x=D+h*L;y=y+1|0;if((y|0)==(m|0)){G=N;W=x;V=J;z=T;H=O;U=I;break}else{A=T;F=N;C=J;D=x;B=O;R=I}}}else{G=v;W=g;V=E;z=w;H=S;U=k}R=+z;B=+G;m=p;s[m>>2]=R;s[m+4>>2]=B;m=o[n>>2]|0;s[m+(l*12|0)+8>>2]=H;B=+V;R=+W;y=m+(f*12|0)|0;s[y>>2]=B;s[y+4>>2]=R;e=o[n>>2]|0;s[e+(f*12|0)+8>>2]=U;a=a+1|0}while((a|0)<(o[t>>2]|0));c=r;return}function Ya(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0;r=c;t=e+52|0;if((o[t>>2]|0)<=0){c=r;return}i=e+44|0;n=e+32|0;e=o[n>>2]|0;a=0;do{u=o[i>>2]|0;l=u+(a*156|0)|0;f=o[u+(a*156|0)+112>>2]|0;d=o[u+(a*156|0)+116>>2]|0;b=+s[u+(a*156|0)+120>>2];h=+s[u+(a*156|0)+128>>2];_=+s[u+(a*156|0)+124>>2];m=+s[u+(a*156|0)+132>>2];p=u+(a*156|0)+148|0;y=o[p>>2]|0;w=e+(f*12|0)|0;v=w;S=+s[v>>2];E=+s[v+4>>2];g=+s[e+(f*12|0)+8>>2];v=e+(d*12|0)|0;k=+s[v>>2];M=+s[v+4>>2];P=+s[e+(d*12|0)+8>>2];v=u+(a*156|0)+72|0;A=+s[v>>2];F=+s[v+4>>2];C=-A;D=+s[u+(a*156|0)+136>>2];if((y|0)>0){v=u+(a*156|0)+144|0;B=k;R=M;T=S;O=E;x=0;L=g;N=P;do{I=+s[u+(a*156|0)+(x*36|0)+12>>2];J=+s[u+(a*156|0)+(x*36|0)+8>>2];G=+s[u+(a*156|0)+(x*36|0)+4>>2];W=+s[u+(a*156|0)+(x*36|0)>>2];V=D*+s[u+(a*156|0)+(x*36|0)+16>>2];z=u+(a*156|0)+(x*36|0)+20|0;H=+s[z>>2];U=H-+s[u+(a*156|0)+(x*36|0)+28>>2]*(F*(B-N*I-T+L*G)+(R+N*J-O-L*W)*C-+s[v>>2]);q=-V;j=U<V?U:V;V=j<q?q:j;j=V-H;s[z>>2]=V;V=F*j;H=j*C;T=T-b*V;O=O-b*H;L=L-h*(W*H-G*V);B=B+_*V;R=R+_*H;N=N+m*(J*H-I*V);x=x+1|0}while((x|0)!=(y|0));if((o[p>>2]|0)==1){C=+s[u+(a*156|0)+12>>2];D=+s[u+(a*156|0)+8>>2];V=+s[u+(a*156|0)+4>>2];I=+s[l>>2];y=u+(a*156|0)+16|0;H=+s[y>>2];J=H-+s[u+(a*156|0)+24>>2]*(A*(B-N*C-T+L*V)+F*(R+N*D-O-L*I)-+s[u+(a*156|0)+32>>2]);G=J>0?J:0;J=G-H;s[y>>2]=G;G=A*J;H=F*J;Y=T-b*G;Z=O-b*H;X=B+_*G;K=R+_*H;Q=L-h*(I*H-V*G);$=N+m*(D*H-C*G)}else{ee=O;re=T;te=R;ie=B;ne=L;oe=N;ae=8}}else{ee=E;re=S;te=M;ie=k;ne=g;oe=P;ae=8}do if((ae|0)==8){ae=0;y=u+(a*156|0)+16|0;G=+s[y>>2];x=u+(a*156|0)+52|0;C=+s[x>>2];H=+s[u+(a*156|0)+12>>2];D=+s[u+(a*156|0)+8>>2];V=+s[u+(a*156|0)+4>>2];I=+s[l>>2];J=+s[u+(a*156|0)+48>>2];W=+s[u+(a*156|0)+44>>2];j=+s[u+(a*156|0)+40>>2];q=+s[u+(a*156|0)+36>>2];U=+s[u+(a*156|0)+104>>2];ue=+s[u+(a*156|0)+100>>2];le=A*(ie-oe*H-re+ne*V)+F*(te+oe*D-ee-ne*I)-+s[u+(a*156|0)+32>>2]-(G*+s[u+(a*156|0)+96>>2]+C*U);se=A*(ie-oe*J-re+ne*j)+F*(te+oe*W-ee-ne*q)-+s[u+(a*156|0)+68>>2]-(G*ue+C*+s[u+(a*156|0)+108>>2]);fe=+s[u+(a*156|0)+80>>2]*le+ +s[u+(a*156|0)+88>>2]*se;ce=le*+s[u+(a*156|0)+84>>2]+se*+s[u+(a*156|0)+92>>2];de=-fe;be=-ce;if(!(!(fe<=-0)|!(ce<=-0))){ce=de-G;fe=be-C;he=A*ce;_e=F*ce;ce=A*fe;me=F*fe;fe=he+ce;pe=_e+me;s[y>>2]=de;s[x>>2]=be;Y=re-b*fe;Z=ee-b*pe;X=ie+_*fe;K=te+_*pe;Q=ne-h*(I*_e-V*he+(q*me-j*ce));$=oe+m*(D*_e-H*he+(W*me-J*ce));break}ce=le*+s[u+(a*156|0)+24>>2];me=-ce;if(ce<=-0?se+ue*me>=0:0){ue=me-G;ce=0-C;he=A*ue;_e=F*ue;ue=A*ce;pe=F*ce;ce=ue+he;fe=pe+_e;s[y>>2]=me;s[x>>2]=0;Y=re-b*ce;Z=ee-b*fe;X=ie+_*ce;K=te+_*fe;Q=ne-h*(_e*I-he*V+(pe*q-ue*j));$=oe+m*(_e*D-he*H+(pe*W-ue*J));break}ue=se*+s[u+(a*156|0)+60>>2];pe=-ue;if(ue<=-0?le+U*pe>=0:0){U=0-G;ue=pe-C;he=A*U;_e=F*U;U=A*ue;fe=F*ue;ue=he+U;ce=_e+fe;s[y>>2]=0;s[x>>2]=pe;Y=re-b*ue;Z=ee-b*ce;X=ie+_*ue;K=te+_*ce;Q=ne-h*(_e*I-he*V+(fe*q-U*j));$=oe+m*(_e*D-he*H+(fe*W-U*J));break}if(!(le>=0)|!(se>=0)){Y=re;Z=ee;X=ie;K=te;Q=ne;$=oe}else{se=0-G;G=0-C;C=A*se;le=F*se;se=A*G;U=F*G;G=C+se;fe=le+U;s[y>>2]=0;s[x>>2]=0;Y=re-b*G;Z=ee-b*fe;X=ie+_*G;K=te+_*fe;Q=ne-h*(le*I-C*V+(U*q-se*j));$=oe+m*(le*D-C*H+(U*W-se*J))}}while(0);m=+Y;h=+Z;u=w;s[u>>2]=m;s[u+4>>2]=h;u=o[n>>2]|0;s[u+(f*12|0)+8>>2]=Q;h=+X;m=+K;l=u+(d*12|0)|0;s[l>>2]=h;s[l+4>>2]=m;e=o[n>>2]|0;s[e+(d*12|0)+8>>2]=$;a=a+1|0}while((a|0)<(o[t>>2]|0));c=r;return}function Za(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0;r=c;t=o[e+52>>2]|0;if((t|0)<=0){c=r;return}i=o[e+44>>2]|0;n=o[e+48>>2]|0;e=0;do{a=o[n+(o[i+(e*156|0)+152>>2]<<2)>>2]|0;u=o[i+(e*156|0)+148>>2]|0;if((u|0)>0){l=0;do{s[a+(l*20|0)+72>>2]=+s[i+(e*156|0)+(l*36|0)+16>>2];s[a+(l*20|0)+76>>2]=+s[i+(e*156|0)+(l*36|0)+20>>2];l=l+1|0}while((l|0)<(u|0))}e=e+1|0}while((e|0)<(t|0));c=r;return}function Xa(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0;r=c;c=c+64|0;t=r+40|0;i=r+24|0;n=r;a=e+52|0;if((o[a>>2]|0)<=0){u=0;l=u>=-.014999999664723873;c=r;return l|0}f=e+40|0;d=e+28|0;e=t+8|0;b=t+12|0;h=i+8|0;_=i+12|0;m=n+8|0;p=n+16|0;y=o[d>>2]|0;w=0;v=0;while(1){S=o[f>>2]|0;E=S+(w*88|0)|0;g=o[S+(w*88|0)+32>>2]|0;k=o[S+(w*88|0)+36>>2]|0;M=S+(w*88|0)+48|0;P=+s[M>>2];A=+s[M+4>>2];F=+s[S+(w*88|0)+40>>2];C=+s[S+(w*88|0)+64>>2];M=S+(w*88|0)+56|0;D=+s[M>>2];B=+s[M+4>>2];R=+s[S+(w*88|0)+44>>2];T=+s[S+(w*88|0)+68>>2];M=o[S+(w*88|0)+84>>2]|0;S=y+(g*12|0)|0;O=+s[S>>2];x=+s[S+4>>2];L=+s[y+(g*12|0)+8>>2];S=y+(k*12|0)|0;N=+s[S>>2];I=+s[S+4>>2];J=+s[y+(k*12|0)+8>>2];if((M|0)>0){G=F+R;W=O;V=x;z=N;H=I;U=L;q=J;S=0;Z=v;do{X=+Y(+U);s[e>>2]=X;K=+j(+U);s[b>>2]=K;Q=+Y(+q);s[h>>2]=Q;$=+j(+q);s[_>>2]=$;ee=+(W-(P*K-A*X));re=+(V-(A*K+P*X));te=t;s[te>>2]=ee;s[te+4>>2]=re;re=+(z-(D*$-B*Q));ee=+(H-(B*$+D*Q));te=i;s[te>>2]=re;s[te+4>>2]=ee;Ka(n,E,t,i,S);te=n;ee=+s[te>>2];re=+s[te+4>>2];te=m;Q=+s[te>>2];$=+s[te+4>>2];X=+s[p>>2];K=Q-W;ie=$-V;ne=Q-z;Q=$-H;Z=Z<X?Z:X;$=(X+.004999999888241291)*.20000000298023224;X=$<0?$:0;$=re*K-ee*ie;oe=re*ne-ee*Q;ae=oe*T*oe+(G+$*C*$);if(ae>0)ue=-(X<-.20000000298023224?-.20000000298023224:X)/ae;else ue=0;ae=ee*ue;ee=re*ue;W=W-F*ae;V=V-F*ee;U=U-C*(K*ee-ie*ae);z=z+R*ae;H=H+R*ee;q=q+T*(ne*ee-Q*ae);S=S+1|0}while((S|0)!=(M|0));le=V;se=W;fe=H;ce=z;de=o[d>>2]|0;be=U;he=q;_e=Z}else{le=x;se=O;fe=I;ce=N;de=y;be=L;he=J;_e=v}T=+se;R=+le;M=de+(g*12|0)|0;s[M>>2]=T;s[M+4>>2]=R;M=o[d>>2]|0;s[M+(g*12|0)+8>>2]=be;R=+ce;T=+fe;S=M+(k*12|0)|0;s[S>>2]=R;s[S+4>>2]=T;y=o[d>>2]|0;s[y+(k*12|0)+8>>2]=he;w=w+1|0;if((w|0)>=(o[a>>2]|0)){u=_e;break}else v=_e}l=u>=-.014999999664723873;c=r;return l|0}function Ka(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0;a=c;u=o[r+72>>2]|0;if((u|0)==2){l=i+12|0;f=+s[l>>2];d=+s[r+16>>2];b=i+8|0;h=+s[b>>2];_=+s[r+20>>2];m=f*d-h*_;p=d*h+f*_;_=+m;f=+p;y=e;s[y>>2]=_;s[y+4>>2]=f;f=+s[l>>2];_=+s[r+24>>2];h=+s[b>>2];d=+s[r+28>>2];w=+s[t+12>>2];v=+s[r+(n<<3)>>2];S=+s[t+8>>2];E=+s[r+(n<<3)+4>>2];g=+s[t>>2]+(w*v-S*E);k=v*S+w*E+ +s[t+4>>2];s[e+16>>2]=m*(g-(+s[i>>2]+(f*_-h*d)))+(k-(_*h+f*d+ +s[i+4>>2]))*p-+s[r+76>>2]-+s[r+80>>2];d=+g;g=+k;b=e+8|0;s[b>>2]=d;s[b+4>>2]=g;g=+-m;m=+-p;b=e;s[b>>2]=g;s[b+4>>2]=m;c=a;return}else if((u|0)==1){b=t+12|0;m=+s[b>>2];g=+s[r+16>>2];l=t+8|0;p=+s[l>>2];d=+s[r+20>>2];k=m*g-p*d;f=g*p+m*d;d=+k;m=+f;y=e;s[y>>2]=d;s[y+4>>2]=m;m=+s[b>>2];d=+s[r+24>>2];p=+s[l>>2];g=+s[r+28>>2];h=+s[i+12>>2];_=+s[r+(n<<3)>>2];E=+s[i+8>>2];w=+s[r+(n<<3)+4>>2];S=+s[i>>2]+(h*_-E*w);v=_*E+h*w+ +s[i+4>>2];s[e+16>>2]=k*(S-(+s[t>>2]+(m*d-p*g)))+(v-(d*p+m*g+ +s[t+4>>2]))*f-+s[r+76>>2]-+s[r+80>>2];f=+S;S=+v;n=e+8|0;s[n>>2]=f;s[n+4>>2]=S;c=a;return}else if((u|0)==0){S=+s[t+12>>2];f=+s[r+24>>2];v=+s[t+8>>2];g=+s[r+28>>2];m=+s[t>>2]+(S*f-v*g);p=f*v+S*g+ +s[t+4>>2];g=+s[i+12>>2];S=+s[r>>2];v=+s[i+8>>2];f=+s[r+4>>2];d=+s[i>>2]+(g*S-v*f);k=S*v+g*f+ +s[i+4>>2];f=d-m;g=k-p;v=+f;S=+g;i=e;s[i>>2]=v;s[i+4>>2]=S;S=+U(+(f*f+g*g));if(S<1.1920928955078125E-7){M=f;P=g}else{v=1/S;S=f*v;s[e>>2]=S;w=g*v;s[e+4>>2]=w;M=S;P=w}w=+((m+d)*.5);d=+((p+k)*.5);i=e+8|0;s[i>>2]=w;s[i+4>>2]=d;s[e+16>>2]=f*M+g*P-+s[r+76>>2]-+s[r+80>>2];c=a;return}else{s[e+16>>2]=0;r=8784;i=o[r+4>>2]|0;t=e;o[t>>2]=o[r>>2];o[t+4>>2]=i;i=8784;t=o[i+4>>2]|0;r=e+8|0;o[r>>2]=o[i>>2];o[r+4>>2]=t;c=a;return}}function Qa(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0;i=c;c=c+64|0;n=i+40|0;a=i+24|0;u=i;l=e+52|0;if((o[l>>2]|0)<=0){f=0;d=f>=-.007499999832361937;c=i;return d|0}b=e+40|0;h=e+28|0;e=n+8|0;_=n+12|0;m=a+8|0;p=a+12|0;y=u+8|0;w=u+16|0;v=0;S=0;while(1){E=o[b>>2]|0;g=E+(v*88|0)|0;k=o[E+(v*88|0)+32>>2]|0;M=o[E+(v*88|0)+36>>2]|0;P=E+(v*88|0)+48|0;A=+s[P>>2];F=+s[P+4>>2];P=E+(v*88|0)+56|0;C=+s[P>>2];D=+s[P+4>>2];P=o[E+(v*88|0)+84>>2]|0;if((k|0)==(r|0)|(k|0)==(t|0)){B=+s[E+(v*88|0)+64>>2];R=+s[E+(v*88|0)+40>>2]}else{B=0;R=0}if((M|0)==(r|0)|(M|0)==(t|0)){T=+s[E+(v*88|0)+68>>2];O=+s[E+(v*88|0)+44>>2]}else{T=0;O=0}E=o[h>>2]|0;x=E+(k*12|0)|0;L=+s[x>>2];N=+s[x+4>>2];I=+s[E+(k*12|0)+8>>2];x=E+(M*12|0)|0;J=+s[x>>2];G=+s[x+4>>2];W=+s[E+(M*12|0)+8>>2];if((P|0)>0){V=R+O;z=J;H=G;U=L;q=N;Z=I;X=W;x=0;K=S;do{Q=+Y(+Z);s[e>>2]=Q;$=+j(+Z);s[_>>2]=$;ee=+Y(+X);s[m>>2]=ee;re=+j(+X);s[p>>2]=re;te=+(U-(A*$-F*Q));ie=+(q-(F*$+A*Q));ne=n;s[ne>>2]=te;s[ne+4>>2]=ie;ie=+(z-(C*re-D*ee));te=+(H-(D*re+C*ee));ne=a;s[ne>>2]=ie;s[ne+4>>2]=te;Ka(u,g,n,a,x);ne=u;te=+s[ne>>2];ie=+s[ne+4>>2];ne=y;ee=+s[ne>>2];re=+s[ne+4>>2];Q=+s[w>>2];$=ee-U;oe=re-q;ae=ee-z;ee=re-H;K=K<Q?K:Q;re=(Q+.004999999888241291)*.75;Q=re<0?re:0;re=ie*$-te*oe;ue=ie*ae-te*ee;le=ue*T*ue+(V+re*B*re);if(le>0)se=-(Q<-.20000000298023224?-.20000000298023224:Q)/le;else se=0;le=te*se;te=ie*se;U=U-R*le;q=q-R*te;Z=Z-B*($*te-oe*le);z=z+O*le;H=H+O*te;X=X+T*(ae*te-ee*le);x=x+1|0}while((x|0)!=(P|0));fe=q;ce=U;de=H;be=z;he=o[h>>2]|0;_e=Z;me=X;pe=K}else{fe=N;ce=L;de=G;be=J;he=E;_e=I;me=W;pe=S}V=+ce;C=+fe;P=he+(k*12|0)|0;s[P>>2]=V;s[P+4>>2]=C;P=o[h>>2]|0;s[P+(k*12|0)+8>>2]=_e;C=+be;V=+de;x=P+(M*12|0)|0;s[x>>2]=C;s[x+4>>2]=V;s[(o[h>>2]|0)+(M*12|0)+8>>2]=me;v=v+1|0;if((v|0)>=(o[l>>2]|0)){f=pe;break}else S=pe}d=f>=-.007499999832361937;c=i;return d|0}function $a(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0;i=c;r=wd(n,148)|0;if((r|0)==0){a=0;c=i;return a|0}Da(r,e,0,t,0);o[r>>2]=6528;a=r;c=i;return a|0}function eu(e,r){e=e|0;r=r|0;var t=0;t=c;dh[o[(o[e>>2]|0)+4>>2]&127](e);vd(r,e,148);c=t;return}function ru(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0;n=c;bc(r,o[(o[e+48>>2]|0)+12>>2]|0,t,o[(o[e+52>>2]|0)+12>>2]|0,i);c=n;return}function tu(e){e=e|0;return}function iu(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function nu(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0;a=c;u=wd(n,148)|0;if((u|0)==0){l=0;c=a;return l|0}Da(u,e,r,t,i);o[u>>2]=6600;l=u;c=a;return l|0}function ou(e,r){e=e|0;r=r|0;var t=0;t=c;dh[o[(o[e>>2]|0)+4>>2]&127](e);vd(r,e,148);c=t;return}function au(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var a=0,u=0,l=0,f=0;a=c;c=c+48|0;u=a;l=o[(o[e+48>>2]|0)+12>>2]|0;o[u>>2]=488;o[u+4>>2]=1;s[u+8>>2]=.009999999776482582;f=u+28|0;o[f+0>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;n[f+16>>1]=0;zf(l,u,o[e+56>>2]|0);bc(r,u,t,o[(o[e+52>>2]|0)+12>>2]|0,i);c=a;return}function uu(e){e=e|0;return}function lu(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function su(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0;i=c;r=wd(n,148)|0;if((r|0)==0){a=0;c=i;return a|0}Da(r,e,0,t,0);o[r>>2]=6672;a=r;c=i;return a|0}function fu(e,r){e=e|0;r=r|0;var t=0;t=c;dh[o[(o[e>>2]|0)+4>>2]&127](e);vd(r,e,148);c=t;return}function cu(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0;n=c;mc(r,o[(o[e+48>>2]|0)+12>>2]|0,t,o[(o[e+52>>2]|0)+12>>2]|0,i);c=n;return}function du(e){e=e|0;return}function bu(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function hu(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0;i=c;r=wd(n,148)|0;if((r|0)==0){a=0;c=i;return a|0}Da(r,e,0,t,0);o[r>>2]=6744;a=r;c=i;return a|0}function _u(e,r){e=e|0;r=r|0;var t=0;t=c;dh[o[(o[e>>2]|0)+4>>2]&127](e);vd(r,e,148);c=t;return}function mu(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0;n=c;pc(r,o[(o[e+48>>2]|0)+12>>2]|0,t,o[(o[e+52>>2]|0)+12>>2]|0,i);c=n;return}function pu(e){e=e|0;return}function yu(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function wu(e){e=e|0;var r=0;r=c;n[e+32>>1]=1;n[e+34>>1]=-1;n[e+36>>1]=0;o[e+40>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;o[e+0>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;c=r;return}function vu(e,r,t,a){e=e|0;r=r|0;t=t|0;a=a|0;var u=0,l=0,f=0,d=0,b=0,h=0,_=0;u=c;o[e+40>>2]=o[a+4>>2];s[e+16>>2]=+s[a+8>>2];s[e+20>>2]=+s[a+12>>2];o[e+8>>2]=t;o[e+4>>2]=0;t=e+32|0;l=a+22|0;n[t+0>>1]=n[l+0>>1]|0;n[t+2>>1]=n[l+2>>1]|0;n[t+4>>1]=n[l+4>>1]|0;i[e+38>>0]=i[a+20>>0]|0;l=o[a>>2]|0;t=Sh[o[(o[l>>2]|0)+8>>2]&31](l,r)|0;o[e+12>>2]=t;l=sh[o[(o[t>>2]|0)+12>>2]&7](t)|0;t=wd(r,l*28|0)|0;r=e+24|0;o[r>>2]=t;if((l|0)>0){f=t;d=0}else{b=e+28|0;o[b>>2]=0;h=a+16|0;_=+s[h>>2];s[e>>2]=_;c=u;return}do{o[f+(d*28|0)+16>>2]=0;f=o[r>>2]|0;o[f+(d*28|0)+24>>2]=-1;d=d+1|0}while((d|0)!=(l|0));b=e+28|0;o[b>>2]=0;h=a+16|0;_=+s[h>>2];s[e>>2]=_;c=u;return}function Su(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;i=e+12|0;n=o[i>>2]|0;a=sh[o[(o[n>>2]|0)+12>>2]&7](n)|0;n=e+24|0;vd(r,o[n>>2]|0,a*28|0);o[n>>2]=0;n=o[i>>2]|0;a=o[n+4>>2]|0;if((a|0)==1){dh[o[o[n>>2]>>2]&127](n);vd(r,n,48);o[i>>2]=0;c=t;return}else if((a|0)==3){dh[o[o[n>>2]>>2]&127](n);vd(r,n,40);o[i>>2]=0;c=t;return}else if((a|0)==0){dh[o[o[n>>2]>>2]&127](n);vd(r,n,20);o[i>>2]=0;c=t;return}else if((a|0)==2){dh[o[o[n>>2]>>2]&127](n);vd(r,n,152);o[i>>2]=0;c=t;return}else{o[i>>2]=0;c=t;return}}function Eu(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0;i=c;n=e+12|0;a=o[n>>2]|0;u=sh[o[(o[a>>2]|0)+12>>2]&7](a)|0;a=e+28|0;o[a>>2]=u;if((u|0)<=0){c=i;return}u=e+24|0;l=0;do{s=o[u>>2]|0;f=s+(l*28|0)|0;d=o[n>>2]|0;gh[o[(o[d>>2]|0)+28>>2]&31](d,f,t,l);o[s+(l*28|0)+24>>2]=Kf(r,f,f)|0;o[s+(l*28|0)+16>>2]=e;o[s+(l*28|0)+20>>2]=l;l=l+1|0}while((l|0)<(o[a>>2]|0));c=i;return}function gu(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;i=e+28|0;if((o[i>>2]|0)<=0){o[i>>2]=0;c=t;return}n=e+24|0;e=0;do{a=(o[n>>2]|0)+(e*28|0)+24|0;Qf(r,o[a>>2]|0);o[a>>2]=-1;e=e+1|0}while((e|0)<(o[i>>2]|0));o[i>>2]=0;c=t;return}function ku(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0;n=c;c=c+48|0;a=n+24|0;u=n+8|0;l=n;f=e+28|0;if((o[f>>2]|0)<=0){c=n;return}d=e+24|0;b=e+12|0;e=a+4|0;h=u+4|0;_=a+8|0;m=u+8|0;p=a+12|0;y=u+12|0;w=i+4|0;v=t+4|0;S=l+4|0;E=0;do{g=o[d>>2]|0;k=o[b>>2]|0;M=g+(E*28|0)+20|0;gh[o[(o[k>>2]|0)+28>>2]&31](k,a,t,o[M>>2]|0);k=o[b>>2]|0;gh[o[(o[k>>2]|0)+28>>2]&31](k,u,i,o[M>>2]|0);M=g+(E*28|0)|0;P=+s[a>>2];A=+s[u>>2];F=+s[e>>2];C=+s[h>>2];D=+(P<A?P:A);A=+(F<C?F:C);k=M;s[k>>2]=D;s[k+4>>2]=A;A=+s[_>>2];D=+s[m>>2];C=+s[p>>2];F=+s[y>>2];P=+(A>D?A:D);D=+(C>F?C:F);k=g+(E*28|0)+8|0;s[k>>2]=P;s[k+4>>2]=D;D=+s[w>>2]-+s[v>>2];s[l>>2]=+s[i>>2]-+s[t>>2];s[S>>2]=D;$f(r,o[g+(E*28|0)+24>>2]|0,M,l);E=E+1|0}while((E|0)<(o[f>>2]|0));c=n;return}function Mu(e,r){e=e|0;r=r|0;var t=0,n=0,a=0;t=c;pd(e);Nd(e+76|0);Rt(e+102880|0);o[e+102992>>2]=0;o[e+102996>>2]=0;n=e+102960|0;a=e+103004|0;o[n+0>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;o[n+16>>2]=0;i[a>>0]=1;i[e+103005>>0]=1;i[e+103006>>0]=0;i[e+103007>>0]=1;i[e+102988>>0]=1;a=r;r=o[a+4>>2]|0;n=e+102980|0;o[n>>2]=o[a>>2];o[n+4>>2]=r;o[e+102876>>2]=4;s[e+103E3>>2]=0;o[e+102956>>2]=e;o[e+103040>>2]=8792;o[e+103044>>2]=o[2206];r=e+103008|0;o[r+0>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[r+20>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;c=t;return}function Pu(e){e=e|0;var r=0;r=c;c=c+e|0;c=c+7&-8;return r|0}function Au(){return c|0}function Fu(e){e=e|0;c=e}function Cu(e,r){e=e|0;r=r|0;if((y|0)==0){y=e;w=r}}function Du(e){e=e|0;i[b>>0]=i[e>>0];i[b+1>>0]=i[e+1>>0];i[b+2>>0]=i[e+2>>0];i[b+3>>0]=i[e+3>>0]}function Bu(e){e=e|0;i[b>>0]=i[e>>0];i[b+1>>0]=i[e+1>>0];i[b+2>>0]=i[e+2>>0];i[b+3>>0]=i[e+3>>0];i[b+4>>0]=i[e+4>>0];i[b+5>>0]=i[e+5>>0];i[b+6>>0]=i[e+6>>0];i[b+7>>0]=i[e+7>>0]}function Ru(e){e=e|0;T=e}function Tu(){return T|0}function Ou(e){e=e|0;return+ +(o[e+60>>2]|0)}function xu(e,r,t,a,u,l,d,b,h,_,m){e=e|0;r=+r;t=+t;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=_|0;m=+m;var p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0;p=c;c=c+1104|0;y=p;w=p+1072|0;v=p+1032|0;S=p+8|0;f[y>>3]=l;o[w>>2]=0;s[w+16>>2]=r;s[w+8>>2]=t;i[w+20>>0]=a!=0&1;s[w+12>>2]=u;o[w+4>>2]=y;n[w+22>>1]=~~d;n[w+26>>1]=~~b;n[w+24>>1]=~~h;o[v>>2]=760;o[v+4>>2]=3;s[v+8>>2]=.009999999776482582;o[v+12>>2]=0;o[v+16>>2]=0;i[v+36>>0]=0;i[v+37>>0]=0;y=~~(m*.5);if(m>0){E=0;g=0}else{Gf(v,S,y);o[w>>2]=v;k=Pt(e,w)|0;Jf(v);c=p;return k|0}while(1){h=+ +s[_+(E<<2)>>2];b=+ +s[_+((E|1)<<2)>>2];M=S+(g<<3)|0;s[M>>2]=h;s[M+4>>2]=b;E=E+2|0;if(!(+(E|0)<m))break;else g=g+1|0}Gf(v,S,y);o[w>>2]=v;k=Pt(e,w)|0;Jf(v);c=p;return k|0}function Lu(e){e=e|0;Le(e|0)|0;Pe()}function Nu(e,r,t,a,u,l,d,b,h,_,m,p){
e=e|0;r=+r;t=+t;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;var y=0,w=0,v=0,S=0;y=c;c=c+64|0;w=y;v=y+28|0;S=y+8|0;f[w>>3]=l;s[v+16>>2]=r;s[v+8>>2]=t;i[v+20>>0]=a!=0&1;s[v+12>>2]=u;o[v+4>>2]=w;n[v+22>>1]=~~d;n[v+26>>1]=~~b;n[v+24>>1]=~~h;o[S>>2]=680;w=S+4|0;o[w+0>>2]=0;o[w+4>>2]=0;o[w+8>>2]=0;s[S+12>>2]=_;s[S+16>>2]=m;s[S+8>>2]=p;o[v>>2]=S;S=Pt(e,v)|0;c=y;return S|0}function Iu(e){e=e|0;return}function Ju(e,r,t,n,a,u,l,d,b,h,_,m,p,y,w,v,S,E,g,k,M,P,A){e=e|0;r=+r;t=+t;n=+n;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=+v;S=+S;E=+E;g=+g;k=+k;M=+M;P=+P;A=+A;var F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0;F=c;c=c+112|0;C=F;D=F+28|0;B=F+8|0;f[C>>3]=k;R=D+8|0;T=D+20|0;O=D+4|0;x=D+16|0;L=D+28|0;N=D+32|0;I=D+33|0;J=D+34|0;G=D+35|0;W=D+36|0;V=D+40|0;o[V+0>>2]=0;o[V+4>>2]=0;o[V+8>>2]=0;o[V+12>>2]=0;o[V+16>>2]=0;o[V+20>>2]=0;o[V+24>>2]=0;s[x>>2]=r;s[L>>2]=t;i[N>>0]=~~n;i[I>>0]=~~a;i[J>>0]=~~u;i[G>>0]=~~l;o[D>>2]=~~d>>>0;o[D+72>>2]=0;o[O>>2]=~~h>>>0;s[D+64>>2]=_;_=+m;m=+p;O=T;s[O>>2]=_;s[O+4>>2]=m;m=+y;y=+w;O=R;s[O>>2]=m;s[O+4>>2]=y;o[D+60>>2]=0;o[D+56>>2]=~~S;o[D+48>>2]=0;o[D+44>>2]=0;s[W>>2]=E;s[D+52>>2]=g;o[D+68>>2]=C;o[B>>2]=680;o[B+4>>2]=0;g=+M;M=+P;C=B+12|0;s[C>>2]=g;s[C+4>>2]=M;s[B+8>>2]=A;o[V>>2]=B;B=wi(e,D)|0;c=F;return B|0}function Gu(e,r,t,i,n,a,u,l){e=e|0;r=+r;t=+t;i=+i;n=+n;a=+a;u=+u;l=+l;var f=0,d=0,b=0,h=0;f=c;c=c+48|0;d=f+16|0;b=f;o[d>>2]=680;h=d+4|0;o[h+0>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;s[d+12>>2]=r;s[d+16>>2]=t;s[d+8>>2]=i;s[b>>2]=n;s[b+4>>2]=a;s[b+8>>2]=u;s[b+12>>2]=l;l=+(mi(e,d,b,0)|0);c=f;return+l}function Wu(e,r,t,a,u,l,d,b,h,_,m,p,y,w,v,S,E,g,k){e=e|0;r=+r;t=+t;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=+v;S=+S;E=+E;g=+g;k=+k;var M=0,P=0,A=0,F=0;M=c;c=c+96|0;P=M;A=M+56|0;F=M+8|0;f[P>>3]=l;s[A+16>>2]=r;s[A+8>>2]=t;i[A+20>>0]=a!=0&1;s[A+12>>2]=u;o[A+4>>2]=P;n[A+22>>1]=~~d;n[A+26>>1]=~~b;n[A+24>>1]=~~h;o[F>>2]=488;o[F+4>>2]=1;s[F+8>>2]=.009999999776482582;P=F+28|0;o[P+0>>2]=0;o[P+4>>2]=0;o[P+8>>2]=0;o[P+12>>2]=0;n[P+16>>1]=0;h=+p;p=+y;P=F+28|0;s[P>>2]=h;s[P+4>>2]=p;p=+w;w=+v;P=F+12|0;s[P>>2]=p;s[P+4>>2]=w;w=+S;S=+E;P=F+20|0;s[P>>2]=w;s[P+4>>2]=S;S=+g;g=+k;P=F+36|0;s[P>>2]=S;s[P+4>>2]=g;i[F+44>>0]=_!=0&1;i[F+45>>0]=m!=0&1;o[A>>2]=F;F=Pt(e,A)|0;c=M;return F|0}function Vu(e){e=e|0;return}function zu(e,r,t,a,u,l,d,b,h,_,m,p,y,w,v){e=e|0;r=+r;t=+t;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=+v;var S=0,E=0,g=0,k=0,M=0;S=c;c=c+224|0;E=S;g=S+184|0;k=S+160|0;M=S+8|0;f[E>>3]=l;s[g+16>>2]=r;s[g+8>>2]=t;i[g+20>>0]=a!=0&1;s[g+12>>2]=u;o[g+4>>2]=E;n[g+22>>1]=~~d;n[g+26>>1]=~~b;n[g+24>>1]=~~h;s[k>>2]=_;s[k+4>>2]=m;s[k+8>>2]=p;s[k+12>>2]=y;s[k+16>>2]=w;s[k+20>>2]=v;o[M>>2]=592;o[M+4>>2]=2;s[M+8>>2]=.009999999776482582;o[M+148>>2]=0;s[M+12>>2]=0;s[M+16>>2]=0;Mf(M,k,3);o[g>>2]=M;M=Pt(e,g)|0;c=S;return M|0}function Hu(e){e=e|0;return}function Uu(e,r,t,a,u,l,d,b,h,_,m,p,y,w,v,S,E){e=e|0;r=+r;t=+t;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=+v;S=+S;E=+E;var g=0,k=0,M=0,P=0,A=0;g=c;c=c+224|0;k=g;M=g+192|0;P=g+160|0;A=g+8|0;f[k>>3]=l;s[M+16>>2]=r;s[M+8>>2]=t;i[M+20>>0]=a!=0&1;s[M+12>>2]=u;o[M+4>>2]=k;n[M+22>>1]=~~d;n[M+26>>1]=~~b;n[M+24>>1]=~~h;s[P>>2]=_;s[P+4>>2]=m;s[P+8>>2]=p;s[P+12>>2]=y;s[P+16>>2]=w;s[P+20>>2]=v;s[P+24>>2]=S;s[P+28>>2]=E;o[A>>2]=592;o[A+4>>2]=2;s[A+8>>2]=.009999999776482582;o[A+148>>2]=0;s[A+12>>2]=0;s[A+16>>2]=0;Mf(A,P,4);o[M>>2]=A;A=Pt(e,M)|0;c=g;return A|0}function qu(e,r,t,a,u,l,d,b,h,_,m,p,y,w,v,S,E,g,k){e=e|0;r=+r;t=+t;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=+v;S=+S;E=+E;g=+g;k=+k;var M=0,P=0,A=0,F=0,C=0;M=c;c=c+240|0;P=M;A=M+200|0;F=M+160|0;C=M+8|0;f[P>>3]=l;s[A+16>>2]=r;s[A+8>>2]=t;i[A+20>>0]=a!=0&1;s[A+12>>2]=u;o[A+4>>2]=P;n[A+22>>1]=~~d;n[A+26>>1]=~~b;n[A+24>>1]=~~h;s[F>>2]=_;s[F+4>>2]=m;s[F+8>>2]=p;s[F+12>>2]=y;s[F+16>>2]=w;s[F+20>>2]=v;s[F+24>>2]=S;s[F+28>>2]=E;s[F+32>>2]=g;s[F+36>>2]=k;o[C>>2]=592;o[C+4>>2]=2;s[C+8>>2]=.009999999776482582;o[C+148>>2]=0;s[C+12>>2]=0;s[C+16>>2]=0;Mf(C,F,5);o[A>>2]=C;C=Pt(e,A)|0;c=M;return C|0}function ju(e,r,t,a,u,l,d,b,h,_,m,p,y,w,v,S,E,g,k,M,P){e=e|0;r=+r;t=+t;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=+v;S=+S;E=+E;g=+g;k=+k;M=+M;P=+P;var A=0,F=0,C=0,D=0,B=0;A=c;c=c+240|0;F=A;C=A+208|0;D=A+160|0;B=A+8|0;f[F>>3]=l;s[C+16>>2]=r;s[C+8>>2]=t;i[C+20>>0]=a!=0&1;s[C+12>>2]=u;o[C+4>>2]=F;n[C+22>>1]=~~d;n[C+26>>1]=~~b;n[C+24>>1]=~~h;s[D>>2]=_;s[D+4>>2]=m;s[D+8>>2]=p;s[D+12>>2]=y;s[D+16>>2]=w;s[D+20>>2]=v;s[D+24>>2]=S;s[D+28>>2]=E;s[D+32>>2]=g;s[D+36>>2]=k;s[D+40>>2]=M;s[D+44>>2]=P;o[B>>2]=592;o[B+4>>2]=2;s[B+8>>2]=.009999999776482582;o[B+148>>2]=0;s[B+12>>2]=0;s[B+16>>2]=0;Mf(B,D,6);o[C>>2]=B;B=Pt(e,C)|0;c=A;return B|0}function Yu(e,r,t,a,u,l,d,b,h,_,m,p,y,w,v,S,E,g,k,M,P,A,F){e=e|0;r=+r;t=+t;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=+v;S=+S;E=+E;g=+g;k=+k;M=+M;P=+P;A=+A;F=+F;var C=0,D=0,B=0,R=0,T=0;C=c;c=c+256|0;D=C;B=C+216|0;R=C+160|0;T=C+8|0;f[D>>3]=l;s[B+16>>2]=r;s[B+8>>2]=t;i[B+20>>0]=a!=0&1;s[B+12>>2]=u;o[B+4>>2]=D;n[B+22>>1]=~~d;n[B+26>>1]=~~b;n[B+24>>1]=~~h;s[R>>2]=_;s[R+4>>2]=m;s[R+8>>2]=p;s[R+12>>2]=y;s[R+16>>2]=w;s[R+20>>2]=v;s[R+24>>2]=S;s[R+28>>2]=E;s[R+32>>2]=g;s[R+36>>2]=k;s[R+40>>2]=M;s[R+44>>2]=P;s[R+48>>2]=A;s[R+52>>2]=F;o[T>>2]=592;o[T+4>>2]=2;s[T+8>>2]=.009999999776482582;o[T+148>>2]=0;s[T+12>>2]=0;s[T+16>>2]=0;Mf(T,R,7);o[B>>2]=T;T=Pt(e,B)|0;c=C;return T|0}function Zu(e,r,t,a,u,l,d,b,h,_,m,p,y,w,v,S,E,g,k,M,P,A,F,C,D){e=e|0;r=+r;t=+t;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=+v;S=+S;E=+E;g=+g;k=+k;M=+M;P=+P;A=+A;F=+F;C=+C;D=+D;var B=0,R=0,T=0,O=0,x=0;B=c;c=c+256|0;R=B;T=B+224|0;O=B+160|0;x=B+8|0;f[R>>3]=l;s[T+16>>2]=r;s[T+8>>2]=t;i[T+20>>0]=a!=0&1;s[T+12>>2]=u;o[T+4>>2]=R;n[T+22>>1]=~~d;n[T+26>>1]=~~b;n[T+24>>1]=~~h;s[O>>2]=_;s[O+4>>2]=m;s[O+8>>2]=p;s[O+12>>2]=y;s[O+16>>2]=w;s[O+20>>2]=v;s[O+24>>2]=S;s[O+28>>2]=E;s[O+32>>2]=g;s[O+36>>2]=k;s[O+40>>2]=M;s[O+44>>2]=P;s[O+48>>2]=A;s[O+52>>2]=F;s[O+56>>2]=C;s[O+60>>2]=D;o[x>>2]=592;o[x+4>>2]=2;s[x+8>>2]=.009999999776482582;o[x+148>>2]=0;s[x+12>>2]=0;s[x+16>>2]=0;Mf(x,O,8);o[T>>2]=x;x=Pt(e,T)|0;c=B;return x|0}function Xu(e,r,t,n,a,u,l,d,b,h,_,m,p,y,w,v,S,E,g,k,M,P,A,F,C,D,B,R){e=e|0;r=+r;t=+t;n=+n;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=+v;S=+S;E=+E;g=+g;k=+k;M=+M;P=+P;A=+A;F=+F;C=+C;D=+D;B=+B;R=+R;var T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0,Y=0;T=c;c=c+272|0;O=T;x=T+192|0;L=T+160|0;N=T+8|0;f[O>>3]=k;I=x+8|0;J=x+20|0;G=x+4|0;W=x+16|0;V=x+28|0;z=x+32|0;H=x+33|0;U=x+34|0;q=x+35|0;j=x+36|0;Y=x+40|0;o[Y+0>>2]=0;o[Y+4>>2]=0;o[Y+8>>2]=0;o[Y+12>>2]=0;o[Y+16>>2]=0;o[Y+20>>2]=0;o[Y+24>>2]=0;s[W>>2]=r;s[V>>2]=t;i[z>>0]=~~n;i[H>>0]=~~a;i[U>>0]=~~u;i[q>>0]=~~l;o[x>>2]=~~d>>>0;o[x+72>>2]=0;o[G>>2]=~~h>>>0;s[x+64>>2]=_;_=+m;m=+p;G=J;s[G>>2]=_;s[G+4>>2]=m;m=+y;y=+w;G=I;s[G>>2]=m;s[G+4>>2]=y;o[x+60>>2]=0;o[x+56>>2]=~~S;o[x+48>>2]=0;o[x+44>>2]=0;s[j>>2]=E;s[x+52>>2]=g;o[x+68>>2]=O;s[L>>2]=M;s[L+4>>2]=P;s[L+8>>2]=A;s[L+12>>2]=F;s[L+16>>2]=C;s[L+20>>2]=D;s[L+24>>2]=B;s[L+28>>2]=R;o[N>>2]=592;o[N+4>>2]=2;s[N+8>>2]=.009999999776482582;o[N+148>>2]=0;s[N+12>>2]=0;s[N+16>>2]=0;Mf(N,L,4);o[Y>>2]=N;N=wi(e,x)|0;c=T;return N|0}function Ku(e,r,t,i,n,a,u,l,f,d,b,h,_){e=e|0;r=+r;t=+t;i=+i;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;_=+_;var m=0,p=0,y=0,w=0;m=c;c=c+208|0;p=m+168|0;y=m+16|0;w=m;s[p>>2]=r;s[p+4>>2]=t;s[p+8>>2]=i;s[p+12>>2]=n;s[p+16>>2]=a;s[p+20>>2]=u;s[p+24>>2]=l;s[p+28>>2]=f;o[y>>2]=592;o[y+4>>2]=2;s[y+8>>2]=.009999999776482582;o[y+148>>2]=0;s[y+12>>2]=0;s[y+16>>2]=0;Mf(y,p,4);s[w>>2]=d;s[w+4>>2]=b;s[w+8>>2]=h;s[w+12>>2]=_;_=+(mi(e,y,w,0)|0);c=m;return+_}function Qu(e,r,t){e=e|0;r=+r;t=+t;var i=0,a=0,u=0,l=0,f=0,d=0,b=0;i=c;a=r;if((o[e>>2]|0)!=2){c=i;return}u=e+4|0;l=n[u>>1]|0;if((t!=0?(l&2)==0:0)?(f=l&65535,(f&2|0)==0):0){d=(f|2)&65535;n[u>>1]=d;s[e+160>>2]=0;b=d}else b=l;if((b&2)==0){c=i;return}b=e+88|0;s[b>>2]=+s[b>>2]+a*+s[e+144>>2];c=i;return}function $u(e,r,t,i,a,u){e=e|0;r=+r;t=+t;i=+i;a=+a;u=+u;var l=0,f=0,d=0,b=0,h=0,_=0,m=0;l=c;f=r;r=t;t=i;i=a;if((o[e>>2]|0)!=2){c=l;return}d=e+4|0;b=n[d>>1]|0;if((u!=0?(b&2)==0:0)?(h=b&65535,(h&2|0)==0):0){_=(h|2)&65535;n[d>>1]=_;s[e+160>>2]=0;m=_}else m=b;if((m&2)==0){c=l;return}m=e+92|0;s[m>>2]=f+ +s[m>>2];m=e+96|0;s[m>>2]=r+ +s[m>>2];m=e+100|0;s[m>>2]=+s[m>>2]+(r*(t-+s[e+60>>2])-f*(i-+s[e+64>>2]));c=l;return}function el(e,r,t,i){e=e|0;r=+r;t=+t;i=+i;var a=0,u=0,l=0,f=0,d=0,b=0,h=0;a=c;u=r;r=t;if((o[e>>2]|0)!=2){c=a;return}l=e+4|0;f=n[l>>1]|0;if((i!=0?(f&2)==0:0)?(d=f&65535,(d&2|0)==0):0){b=(d|2)&65535;n[l>>1]=b;s[e+160>>2]=0;h=b}else h=f;if((h&2)==0){c=a;return}h=e+92|0;s[h>>2]=u+ +s[h>>2];h=e+96|0;s[h>>2]=r+ +s[h>>2];c=a;return}function rl(e,r,t){e=e|0;r=+r;t=+t;var i=0,a=0,u=0,l=0,f=0,d=0,b=0;i=c;a=r;if((o[e>>2]|0)!=2){c=i;return}u=e+4|0;l=n[u>>1]|0;if((t!=0?(l&2)==0:0)?(f=l&65535,(f&2|0)==0):0){d=(f|2)&65535;n[u>>1]=d;s[e+160>>2]=0;b=d}else b=l;if((b&2)==0){c=i;return}b=e+100|0;s[b>>2]=a+ +s[b>>2];c=i;return}function tl(e,r){e=e|0;r=r|0;var t=0;t=c;At(e,r);c=t;return}function il(e){e=e|0;return+ +s[e+72>>2]}function nl(e){e=e|0;return+ +s[e+88>>2]}function ol(e){e=e|0;var r=0,t=0;r=+s[e+44>>2];t=+s[e+48>>2];return+(+s[e+140>>2]+ +s[e+132>>2]*(r*r+t*t))}function al(e,r){e=e|0;r=r|0;var t=0;t=+s[e+84>>2];s[r>>2]=+s[e+80>>2];s[r+4>>2]=t;return}function ul(e,r,t,i){e=e|0;r=+r;t=+t;i=i|0;var n=0,o=0;n=r-+s[e+12>>2];r=t-+s[e+16>>2];t=+s[e+24>>2];o=+s[e+20>>2];s[i>>2]=n*t+r*o;s[i+4>>2]=t*r-n*o;return}function ll(e,r,t,i){e=e|0;r=+r;t=+t;i=i|0;var n=0,o=0;n=r-+s[e+12>>2];r=t-+s[e+16>>2];t=+s[e+24>>2];o=+s[e+20>>2];s[i>>2]=n*t+r*o;s[i+4>>2]=t*r-n*o;return}function sl(e){e=e|0;return+ +s[e+132>>2]}function fl(e,r){e=e|0;r=r|0;var t=0;t=+s[e+16>>2];s[r>>2]=+s[e+12>>2];s[r+4>>2]=t;return}function cl(e,r){e=e|0;r=r|0;s[r>>2]=+s[e+12>>2];s[r+4>>2]=+s[e+16>>2];s[r+8>>2]=+s[e+20>>2];s[r+12>>2]=+s[e+24>>2];return}function dl(e){e=e|0;return+ +((o[e>>2]|0)>>>0)}function bl(e,r){e=e|0;r=r|0;var t=0;t=+s[e+64>>2];s[r>>2]=+s[e+60>>2];s[r+4>>2]=t;return}function hl(e,r,t,i){e=e|0;r=+r;t=+t;i=i|0;var n=0,o=0,a=0;n=r;r=t;t=+s[e+24>>2];o=+s[e+20>>2];a=r*t+n*o+ +s[e+16>>2];s[i>>2]=+s[e+12>>2]+(n*t-r*o);s[i+4>>2]=a;return}function _l(e,r,t,i){e=e|0;r=+r;t=+t;i=i|0;var n=0,o=0,a=0;n=r;r=t;t=+s[e+24>>2];o=+s[e+20>>2];a=r*t+n*o+ +s[e+16>>2];s[i>>2]=+s[e+12>>2]+(n*t-r*o);s[i+4>>2]=a;return}function ml(e,r){e=e|0;r=+r;var t=0,i=0,a=0,l=0;t=c;i=e+4|0;a=u[i>>1]|0;if(!(r!=0)){n[i>>1]=a&65533;s[e+160>>2]=0;l=e+80|0;o[l+0>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;o[l+16>>2]=0;o[l+20>>2]=0;c=t;return}if((a&2|0)!=0){c=t;return}n[i>>1]=a|2;s[e+160>>2]=0;c=t;return}function pl(e,r){e=e|0;r=+r;var t=0,i=0,a=0,l=0;t=c;i=r;if((o[e>>2]|0)==0){c=t;return}if(i*i>0?(a=e+4|0,l=u[a>>1]|0,(l&2|0)==0):0){n[a>>1]=l|2;s[e+160>>2]=0}s[e+88>>2]=i;c=t;return}function yl(e,r,t){e=e|0;r=+r;t=+t;var i=0,a=0,l=0,f=0;i=c;a=r;r=t;if((o[e>>2]|0)==0){c=i;return}if(a*a+r*r>0?(l=e+4|0,f=u[l>>1]|0,(f&2|0)==0):0){n[l>>1]=f|2;s[e+160>>2]=0}t=+a;a=+r;f=e+80|0;s[f>>2]=t;s[f+4>>2]=a;c=i;return}function wl(e,r,t,i,n){e=e|0;r=+r;t=+t;i=+i;n=+n;var o=0,a=0;o=c;c=c+16|0;a=o;s[a>>2]=r;s[a+4>>2]=t;s[a+8>>2]=i;s[a+12>>2]=n;Ft(e,a);c=o;return}function vl(e,r,t,i){e=e|0;r=+r;t=+t;i=+i;var n=0,o=0;n=c;c=c+16|0;o=n;s[o>>2]=r;s[o+4>>2]=t;Dt(e,o,i);c=n;return}function Sl(e,r){e=e|0;r=+r;var t=0;t=c;gt(e,~~r>>>0);c=t;return}function El(e,r,t){e=e|0;r=+r;t=+t;var i=0,n=0,a=0;i=c;c=c+16|0;n=i;s[n>>2]=r;s[n+4>>2]=t;a=o[e+12>>2]|0;t=+((_h[o[(o[a>>2]|0)+16>>2]&15](a,(o[e+8>>2]|0)+12|0,n)|0)&1);c=i;return+t}function gl(e){e=e|0;return}function kl(e){e=e|0;return}function Ml(e){e=e|0;return}function Pl(e,r){e=+e;r=+r;var t=0,i=0,n=0;t=c;c=c+16|0;i=t;n=nb(103048)|0;s[i>>2]=e;s[i+4>>2]=r;Mu(n,i);c=t;return n|0}function Al(e,r,t,n,a,u,l,f,d,b,h,_,m,p,y,w,v){e=e|0;r=+r;t=+t;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=v|0;var S=0,E=0,g=0,k=0,M=0;S=c;c=c+64|0;E=S;g=E+44|0;k=E+4|0;M=E+36|0;o[k+0>>2]=0;o[k+4>>2]=0;o[k+8>>2]=0;o[k+12>>2]=0;o[k+16>>2]=0;o[k+20>>2]=0;i[E+40>>0]=r!=0&1;i[M>>0]=t!=0&1;s[E+12>>2]=n;s[E+24>>2]=a;s[E+32>>2]=u;i[E+37>>0]=l!=0&1;i[E+39>>0]=f!=0&1;i[E+38>>0]=d!=0&1;s[E+48>>2]=b;s[E+28>>2]=h;s[E+16>>2]=_;s[E+20>>2]=m;s[k>>2]=p;s[E+8>>2]=y;o[E>>2]=~~w>>>0;o[g>>2]=v;v=st(e,E)|0;c=S;return v|0}function Fl(e,r,t,n,a,u,l,f,d,b,h,_,m,p,y,w,v,S){e=e|0;r=+r;t=+t;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=+v;S=+S;var E=0,g=0,k=0;E=c;c=c+96|0;g=E;i[g>>0]=0;s[g+4>>2]=1;s[g+8>>2]=1;o[g+16>>2]=0;s[g+72>>2]=r;s[g+24>>2]=t;i[g+76>>0]=n!=0&1;s[g+56>>2]=a;s[g+28>>2]=u;s[g+80>>2]=l;s[g+52>>2]=f;s[g+20>>2]=d;s[g+12>>2]=b;s[g+48>>2]=h;s[g+32>>2]=_;o[g+68>>2]=~~m;s[g+64>>2]=p;s[g+60>>2]=y;s[g+44>>2]=w;s[g+40>>2]=v;s[g+36>>2]=S;k=bt(e,g)|0;c=E;return k|0}function Cl(e){e=e|0;var r=0;r=c;if((e|0)!=0){at(e);ab(e)}c=r;return}function Dl(e,r){e=e|0;r=r|0;var t=0;t=c;ft(e,r);c=t;return}function Bl(e,r){e=e|0;r=r|0;var t=0;t=c;ct(e,r);c=t;return}function Rl(e,r){e=e|0;r=r|0;var t=0;t=c;ut(e,r);c=t;return}function Tl(e,r,t,i,n){e=e|0;r=+r;t=+t;i=+i;n=+n;var o=0,a=0,u=0,l=0;o=c;c=c+16|0;a=o;u=+r;r=+t;l=a;s[l>>2]=u;s[l+4>>2]=r;r=+i;i=+n;l=a+8|0;s[l>>2]=r;s[l+4>>2]=i;pt(e,16,a);c=o;return}function Ol(e,r,t,i,n){e=e|0;r=+r;t=+t;i=+i;n=+n;var o=0,a=0,u=0;o=c;c=c+16|0;a=o+8|0;u=o;s[a>>2]=r;s[a+4>>2]=t;s[u>>2]=i;s[u+4>>2]=n;yt(e,24,a,u);c=o;return}function xl(e){e=e|0;var r=0;r=c;lt(e,8);c=r;return}function Ll(e,r,t){e=e|0;r=+r;t=+t;var i=0,n=0,o=0;i=c;n=+r;r=+t;o=e+102980|0;s[o>>2]=n;s[o+4>>2]=r;c=i;return}function Nl(e,r,t,i){e=e|0;r=+r;t=+t;i=+i;var n=0;n=c;mt(e,r,~~t,~~i,3);c=n;return}function Il(e){e=e|0;return e+64|0}function Jl(e){e=e|0;var r=0,t=0,i=0;r=c;t=o[e+48>>2]|0;i=o[e+52>>2]|0;wc(32,e+64|0,(o[t+8>>2]|0)+12|0,+s[(o[t+12>>2]|0)+8>>2],(o[i+8>>2]|0)+12|0,+s[(o[i+12>>2]|0)+8>>2]);c=r;return 32}function Gl(e,r,t,n,a,u,l,f,d,b,h){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;var _=0,m=0,p=0;_=c;c=c+48|0;m=_;o[m+0>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m>>2]=3;p=m+20|0;o[p>>2]=0;o[p+4>>2]=0;o[m+8>>2]=r;o[m+12>>2]=t;i[m+16>>0]=n!=0&1;s[m+44>>2]=a;s[m+40>>2]=u;s[m+36>>2]=l;l=+f;f=+d;t=m+20|0;s[t>>2]=l;s[t+4>>2]=f;f=+b;b=+h;t=m+28|0;s[t>>2]=f;s[t+4>>2]=b;t=dt(e,m)|0;c=_;return t|0}function Wl(e,r,t,n,a,u,l,f,d,b){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;var h=0,_=0,m=0,p=0,y=0,w=0;h=c;c=c+64|0;_=h+16|0;m=h+8|0;p=h;o[_+0>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_>>2]=3;y=_+20|0;w=_+36|0;o[y+0>>2]=0;o[y+4>>2]=0;o[y+8>>2]=0;o[y+12>>2]=0;s[w>>2]=1;i[_+16>>0]=f!=0&1;s[_+44>>2]=d;s[_+40>>2]=b;s[m>>2]=n;s[m+4>>2]=a;s[p>>2]=u;s[p+4>>2]=l;rn(_,r,t,m,p);p=dt(e,_)|0;c=h;return p|0}function Vl(e,r,t,n,a,u,l,f,d,b){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;var h=0,_=0,m=0;h=c;c=c+48|0;_=h;o[_+0>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_>>2]=9;m=_+20|0;o[m+0>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m+16>>2]=0;o[_+8>>2]=r;o[_+12>>2]=t;i[_+16>>0]=n!=0&1;n=+a;a=+u;t=_+20|0;s[t>>2]=n;s[t+4>>2]=a;a=+l;l=+f;t=_+28|0;s[t>>2]=a;s[t+4>>2]=l;s[_+36>>2]=d;s[_+40>>2]=b;t=dt(e,_)|0;c=h;return t|0}function zl(e,r,t,n,a,u,l,f){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;var d=0,b=0,h=0,_=0;d=c;c=c+64|0;b=d+8|0;h=d;o[b+0>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[b+12>>2]=0;o[b>>2]=9;_=b+20|0;o[_+0>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_+16>>2]=0;i[b+16>>0]=u!=0&1;s[b+36>>2]=l;s[b+40>>2]=f;s[h>>2]=n;s[h+4>>2]=a;hn(b,r,t,h);h=dt(e,b)|0;c=d;return h|0}function Hl(e){e=e|0;var r=0,t=0;r=c;t=+qn(e);c=r;return+t}function Ul(e,r,t,n,a,u,l){e=e|0;r=r|0;t=t|0;n=+n;a=a|0;u=u|0;l=+l;var f=0,d=0;f=c;c=c+32|0;d=f;o[d+0>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;o[d>>2]=6;o[d+8>>2]=r;o[d+12>>2]=t;i[d+16>>0]=n!=0&1;o[d+20>>2]=a;o[d+24>>2]=u;s[d+28>>2]=l;u=dt(e,d)|0;c=f;return u|0}function ql(e){e=e|0;return o[e+48>>2]|0}function jl(e){e=e|0;return o[e+52>>2]|0}function Yl(e,r){e=e|0;r=+r;var t=0;t=c;Xi(e,r);c=t;return}function Zl(e,r,t){e=e|0;r=+r;t=+t;var i=0,n=0;i=c;c=c+16|0;n=i;s[n>>2]=r;s[n+4>>2]=t;Zi(e,n);c=i;return}function Xl(e,r,t,n,a,u,l,f,d,b){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;var h=0,_=0;h=c;c=c+48|0;_=h;o[_+0>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_>>2]=11;o[_+8>>2]=r;o[_+12>>2]=t;i[_+16>>0]=n!=0&1;s[_+28>>2]=a;s[_+40>>2]=u;u=+l;l=+f;t=_+20|0;s[t>>2]=u;s[t+4>>2]=l;s[_+32>>2]=d;s[_+36>>2]=b;t=dt(e,_)|0;c=h;return t|0}function Kl(e,r,t,n,a,u,l){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;var f=0,d=0;f=c;c=c+48|0;d=f;o[d+0>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;o[d>>2]=11;s[d+20>>2]=0;s[d+24>>2]=0;s[d+28>>2]=0;i[d+16>>0]=n!=0&1;s[d+40>>2]=a;s[d+32>>2]=u;s[d+36>>2]=l;Hc(d,r,t);t=dt(e,d)|0;c=f;return t|0}function Ql(e,r,t){e=e|0;r=+r;t=+t;var i=0,n=0;i=c;c=c+16|0;n=i;s[n>>2]=r;s[n+4>>2]=t;Rc(e,n);c=i;return}function $l(e,r,t,n,a,u,l,f,d){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;var b=0,h=0;b=c;c=c+48|0;h=b;o[h+0>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;o[h>>2]=5;o[h+8>>2]=r;o[h+12>>2]=t;i[h+16>>0]=n!=0&1;s[h+36>>2]=a;s[h+32>>2]=u;s[h+28>>2]=l;l=+f;f=+d;t=h+20|0;s[t>>2]=l;s[t+4>>2]=f;t=dt(e,h)|0;c=b;return t|0}function es(e,r){e=e|0;r=+r;var t=0;t=c;uo(e,r!=0);c=t;return}function rs(e,r){e=e|0;r=+r;var t=0;t=c;so(e,r!=0);c=t;return}function ts(e){e=e|0;var r=0,t=0;r=c;t=+oo(e);c=r;return+t}function is(e){e=e|0;return+ +s[e+132>>2]}function ns(e,r){e=e|0;r=+r;var t=0,i=0;t=c;i=+co(e,r);c=t;return+i}function os(e){e=e|0;var r=0,t=0;r=c;t=+((ao(e)|0)&1);c=r;return+t}function as(e){e=e|0;var r=0,t=0;r=c;t=+((lo(e)|0)&1);c=r;return+t}function us(e,r){e=e|0;r=+r;var t=0;t=c;fo(e,r);c=t;return}function ls(e,r,t,n,a,u,l,f,d,b,h,_,m,p,y,w,v){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;w=+w;v=+v;var S=0,E=0,g=0;S=c;c=c+80|0;E=S;o[E+0>>2]=0;o[E+4>>2]=0;o[E+8>>2]=0;o[E+12>>2]=0;o[E>>2]=2;g=E+20|0;o[g>>2]=0;o[g+4>>2]=0;o[E+8>>2]=r;o[E+12>>2]=t;i[E+16>>0]=n!=0&1;i[E+48>>0]=a!=0&1;i[E+60>>0]=u!=0&1;u=+l;l=+f;t=E+20|0;s[t>>2]=u;s[t+4>>2]=l;l=+d;d=+b;t=E+28|0;s[t>>2]=l;s[t+4>>2]=d;d=+h;h=+_;t=E+36|0;s[t>>2]=d;s[t+4>>2]=h;s[E+52>>2]=m;s[E+64>>2]=p;s[E+68>>2]=y;s[E+44>>2]=w;s[E+56>>2]=v;t=dt(e,E)|0;c=S;return t|0}function ss(e,r,t,n,a,u,l,f,d,b,h,_,m,p){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;var y=0,w=0,v=0,S=0,E=0,g=0;y=c;c=c+96|0;w=y+16|0;v=y+8|0;S=y;o[w+0>>2]=0;o[w+4>>2]=0;o[w+8>>2]=0;o[w+12>>2]=0;o[w>>2]=2;E=w+20|0;g=w+36|0;o[E+0>>2]=0;o[E+4>>2]=0;o[E+8>>2]=0;o[E+12>>2]=0;s[g>>2]=1;s[w+40>>2]=0;s[w+44>>2]=0;i[w+16>>0]=f!=0&1;i[w+48>>0]=d!=0&1;i[w+60>>0]=b!=0&1;s[w+52>>2]=h;s[w+64>>2]=_;s[w+68>>2]=m;s[w+56>>2]=p;s[v>>2]=n;s[v+4>>2]=a;s[S>>2]=u;s[S+4>>2]=l;Xn(w,r,t,v,S);S=dt(e,w)|0;c=y;return S|0}function fs(e,r,t,n,a,u,l,f,d,b,h,_,m,p,y){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;var w=0,v=0;w=c;c=c+64|0;v=w;o[v+0>>2]=0;o[v+4>>2]=0;o[v+8>>2]=0;o[v>>2]=4;o[v+8>>2]=r;o[v+12>>2]=t;i[v+16>>0]=n!=0&1;n=+a;a=+u;t=v+20|0;s[t>>2]=n;s[t+4>>2]=a;a=+l;l=+f;t=v+28|0;s[t>>2]=a;s[t+4>>2]=l;s[v+52>>2]=d;s[v+56>>2]=b;b=+h;h=+_;t=v+36|0;s[t>>2]=b;s[t+4>>2]=h;h=+m;m=+p;t=v+44|0;s[t>>2]=h;s[t+4>>2]=m;s[v+60>>2]=y;t=dt(e,v)|0;c=w;return t|0}function cs(e,r,t,n,a,u,l,f,d,b,h,_,m){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;_=+_;m=+m;var p=0,y=0,w=0,v=0,S=0,E=0;p=c;c=c+96|0;y=p+32|0;w=p+24|0;v=p+16|0;S=p+8|0;E=p;o[y+0>>2]=0;o[y+4>>2]=0;o[y+8>>2]=0;o[y+12>>2]=0;o[y>>2]=4;s[y+20>>2]=-1;s[y+24>>2]=1;s[y+28>>2]=1;s[y+32>>2]=1;s[y+36>>2]=-1;s[y+40>>2]=0;s[y+44>>2]=1;s[y+48>>2]=0;s[y+52>>2]=0;s[y+56>>2]=0;s[y+60>>2]=1;i[y+16>>0]=m!=0&1;s[w>>2]=f;s[w+4>>2]=d;s[v>>2]=b;s[v+4>>2]=h;s[S>>2]=n;s[S+4>>2]=a;s[E>>2]=u;s[E+4>>2]=l;fa(y,r,t,w,v,S,E,_);E=dt(e,y)|0;c=p;return E|0}function ds(e,r){e=e|0;r=+r;var t=0;t=c;jo(e,r!=0);c=t;return}function bs(e,r){e=e|0;r=+r;var t=0;t=c;Ho(e,r!=0);c=t;return}function hs(e){e=e|0;var r=0,t=0;r=c;t=+Vo(e);c=r;return+t}function _s(e){e=e|0;var r=0,t=0;r=c;t=+((qo(e)|0)&1);c=r;return+t}function ms(e){e=e|0;var r=0,t=0;r=c;t=+((zo(e)|0)&1);c=r;return+t}function ps(e,r,t,n,a,u,l,f,d,b,h,_,m,p,y){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;var w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0;w=c;c=c+64|0;v=w;o[v+0>>2]=0;o[v+4>>2]=0;o[v+8>>2]=0;o[v+12>>2]=0;o[v>>2]=1;S=v+20|0;E=v+44|0;g=v+48|0;k=v+60|0;M=v+56|0;P=v+52|0;o[S+0>>2]=0;o[S+4>>2]=0;o[S+8>>2]=0;o[S+12>>2]=0;o[v+8>>2]=r;o[v+12>>2]=t;i[v+16>>0]=n!=0&1;i[v+40>>0]=a!=0&1;i[P>>0]=u!=0&1;u=+f;f=+d;P=v+20|0;s[P>>2]=u;s[P+4>>2]=f;f=+b;b=+h;P=v+28|0;s[P>>2]=f;s[P+4>>2]=b;s[E>>2]=l;s[k>>2]=_;s[M>>2]=m;s[v+36>>2]=p;s[g>>2]=y;g=dt(e,v)|0;c=w;return g|0}function ys(e,r,t,n,a,u,l,f,d,b,h,_){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;_=+_;var m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0;m=c;c=c+80|0;p=m+8|0;y=m;o[p+0>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;o[p>>2]=1;w=p+20|0;v=p+44|0;S=p+48|0;E=p+60|0;g=p+56|0;k=p+52|0;o[w+0>>2]=0;o[w+4>>2]=0;o[w+8>>2]=0;o[w+12>>2]=0;o[w+16>>2]=0;i[p+16>>0]=u!=0&1;i[p+40>>0]=l!=0&1;i[k>>0]=f!=0&1;s[v>>2]=d;s[E>>2]=b;s[g>>2]=h;s[S>>2]=_;s[y>>2]=n;s[y+4>>2]=a;To(p,r,t,y);y=dt(e,p)|0;c=m;return y|0}function ws(e,r){e=e|0;r=+r;var t=0;t=c;Uo(e,r);c=t;return}function vs(e,r,t,n,a,u,l,f,d){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;var b=0,h=0;b=c;c=c+48|0;h=b;o[h+0>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;o[h>>2]=10;o[h+8>>2]=r;o[h+12>>2]=t;i[h+16>>0]=n!=0&1;n=+a;a=+u;t=h+20|0;s[t>>2]=n;s[t+4>>2]=a;a=+l;l=+f;t=h+28|0;s[t>>2]=a;s[t+4>>2]=l;s[h+36>>2]=d;t=dt(e,h)|0;c=b;return t|0}function Ss(e,r,t,n,a,u,l,f,d,b,h){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;var _=0,m=0,p=0;_=c;c=c+48|0;m=_;o[m+0>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0;o[m>>2]=8;p=m+20|0;o[p+0>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;o[m+8>>2]=r;o[m+12>>2]=t;i[m+16>>0]=n!=0&1;s[m+44>>2]=a;s[m+40>>2]=u;u=+l;l=+f;t=m+20|0;s[t>>2]=u;s[t+4>>2]=l;l=+d;d=+b;t=m+28|0;s[t>>2]=l;s[t+4>>2]=d;s[m+36>>2]=h;t=dt(e,m)|0;c=_;return t|0}function Es(e,r,t,n,a,u,l,f){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;var d=0,b=0,h=0,_=0;d=c;c=c+64|0;b=d+8|0;h=d;o[b+0>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;o[b+12>>2]=0;o[b>>2]=8;_=b+20|0;o[_+0>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_+16>>2]=0;i[b+16>>0]=u!=0&1;s[b+44>>2]=l;s[b+40>>2]=f;s[h>>2]=n;s[h+4>>2]=a;Pn(b,r,t,h);h=dt(e,b)|0;c=d;return h|0}function gs(e,r){e=e|0;r=+r;var t=0;t=c;aa(e,r);c=t;return}function ks(e,r){e=e|0;r=+r;s[e+68>>2]=r;return}function Ms(e,r,t,n,a,u,l,f,d,b,h,_,m,p,y){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;y=+y;var w=0,v=0,S=0;w=c;c=c+64|0;v=w;o[v+0>>2]=0;o[v+4>>2]=0;o[v+8>>2]=0;o[v+12>>2]=0;o[v>>2]=7;S=v+20|0;o[S>>2]=0;o[S+4>>2]=0;o[v+8>>2]=r;o[v+12>>2]=t;i[v+16>>0]=n!=0&1;s[v+60>>2]=a;i[v+44>>0]=u!=0&1;s[v+56>>2]=l;l=+f;f=+d;t=v+20|0;s[t>>2]=l;s[t+4>>2]=f;f=+b;b=+h;t=v+28|0;s[t>>2]=f;s[t+4>>2]=b;b=+_;_=+m;t=v+36|0;s[t>>2]=b;s[t+4>>2]=_;s[v+48>>2]=p;s[v+52>>2]=y;t=dt(e,v)|0;c=w;return t|0}function Ps(e,r,t,n,a,u,l,f,d,b,h,_,m){e=e|0;r=r|0;t=t|0;n=+n;a=+a;u=+u;l=+l;f=+f;d=+d;b=+b;h=+h;_=+_;m=+m;var p=0,y=0,w=0,v=0,S=0,E=0;p=c;c=c+80|0;y=p+16|0;w=p+8|0;v=p;o[y+0>>2]=0;o[y+4>>2]=0;o[y+8>>2]=0;o[y+12>>2]=0;o[y>>2]=7;S=y+20|0;E=y+36|0;o[S+0>>2]=0;o[S+4>>2]=0;o[S+8>>2]=0;o[S+12>>2]=0;s[E>>2]=1;s[y+40>>2]=0;i[y+16>>0]=f!=0&1;s[y+60>>2]=d;i[y+44>>0]=b!=0&1;s[y+56>>2]=h;s[y+48>>2]=_;s[y+52>>2]=m;s[w>>2]=n;s[w+4>>2]=a;s[v>>2]=u;s[v+4>>2]=l;Ko(y,r,t,w,v);v=dt(e,y)|0;c=p;return v|0}function As(e,r,t){e=e|0;r=+r;t=+t;var i=0,n=0;i=c;c=c+16|0;n=i;s[n>>2]=r;s[n+4>>2]=t;ti(e,n);c=i;return}function Fs(e,r,t){e=e|0;r=+r;t=+t;var i=0,n=0;i=c;c=c+16|0;n=i;s[n>>2]=r;s[n+4>>2]=t;ii(e,n);c=i;return}function Cs(e,r){e=e|0;r=+r;var t=0;t=c;ni(e,r!=0);c=t;return}function Ds(e){e=e|0;return+ +(o[e+4>>2]|0)}function Bs(e){e=e|0;return+ +((o[e+8>>2]|0)-(o[e+4>>2]|0)|0)}function Rs(e,r,t,n,a,u,l,d,b,h,_,m,p){e=e|0;r=+r;t=+t;n=+n;a=+a;u=+u;l=+l;d=+d;b=+b;h=+h;_=+_;m=+m;p=+p;var y=0,w=0,v=0,S=0;y=c;c=c+64|0;w=y+8|0;v=y;S=y+16|0;f[w>>3]=l;f[v>>3]=_;i[S+20>>0]=~~r;i[S+21>>0]=~~n;i[S+22>>0]=~~t;i[S+23>>0]=~~a;o[S>>2]=~~u>>>0;o[S+32>>2]=w;s[S+24>>2]=d;d=+b;b=+h;w=S+4|0;s[w>>2]=d;s[w+4>>2]=b;o[S+28>>2]=v;b=+m;m=+p;v=S+12|0;s[v>>2]=b;s[v+4>>2]=m;m=+(fi(e,S)|0);c=y;return+m}function Ts(e){e=e|0;var r=0,t=0;r=c;t=li(e)|0;c=r;return t|0}function Os(e){e=e|0;return+ +(o[e+44>>2]|0)}function xs(e){e=e|0;return o[e+96>>2]|0}function Ls(e){e=e|0;return o[e+104>>2]|0}function Ns(e,r){e=e|0;r=+r;s[e+340>>2]=r;return}function Is(e,r){e=e|0;r=+r;var t=0;t=r;s[e+320>>2]=t;s[e+28>>2]=1/t;return}function Js(e,r){e=e|0;r=+r;var t=0;t=r*2;s[e+32>>2]=t;s[e+40>>2]=t*t;s[e+36>>2]=1/t;return}function Gs(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Ws(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=+n;var o=0;e=c;o=+Ge(r|0,+ +s[t>>2],+ +s[t+4>>2],+ +s[i>>2],+ +s[i+4>>2],+n);c=e;return+o}function Vs(e,r,t,i,n,o){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;o=+o;return 0}function zs(e,r){e=e|0;r=r|0;return 1}function Hs(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Us(e,r){e=e|0;r=r|0;var t=0;e=c;t=Qe(r|0)|0;c=e;return t|0}function qs(e,r,t){e=e|0;r=r|0;t=t|0;return 0}function js(e,r){e=e|0;r=r|0;return 1}function Ys(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Zs(e,r){e=e|0;r=r|0;e=c;He(r|0);c=e;return}function Xs(e,r){e=e|0;r=r|0;e=c;Ke(r|0);c=e;return}function Ks(e,r,t){e=e|0;r=r|0;t=t|0;return}function Qs(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;return}function $s(e,r,t){e=e|0;r=r|0;t=t|0;return}function ef(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;return}function rf(e,r,t){e=e|0;r=r|0;t=t|0;e=c;Ae(r|0,t|0);c=e;return}function tf(e,r,t){e=e|0;r=r|0;t=t|0;e=c;$e(r|0,t|0);c=e;return}function nf(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function of(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function af(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function uf(){o[2]=280;o[4]=176;o[6]=72;return}function lf(e,r){e=e|0;r=r|0;var t=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,H=0,U=0,q=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0,Pe=0,Ae=0,Fe=0,Ce=0,De=0,Be=0,Re=0,Te=0;t=c;c=c+320|0;a=t;u=t+284|0;l=t+248|0;f=t+236|0;d=t+144|0;b=t+120|0;h=t+16|0;_=t+12|0;m=t+8|0;Md(a);o[104]=(o[104]|0)+1;o[e>>2]=0;p=r+128|0;y=e+4|0;s[y>>2]=+s[p>>2];w=r+28|0;v=u+0|0;S=r+56|0;E=v+36|0;do{o[v>>2]=o[S>>2];v=v+4|0;S=S+4|0}while((v|0)<(E|0));v=l+0|0;S=r+92|0;E=v+36|0;do{o[v>>2]=o[S>>2];v=v+4|0;S=S+4|0}while((v|0)<(E|0));S=u+24|0;g=+s[S>>2];k=+z(+(g/6.2831854820251465))*6.2831854820251465;M=g-k;s[S>>2]=M;v=u+28|0;g=+s[v>>2]-k;s[v>>2]=g;E=l+24|0;k=+s[E>>2];P=+z(+(k/6.2831854820251465))*6.2831854820251465;A=k-P;s[E>>2]=A;F=l+28|0;k=+s[F>>2]-P;s[F>>2]=k;P=+s[p>>2];C=+s[r+24>>2]+ +s[r+52>>2]+-.014999999664723873;D=C<.004999999888241291?.004999999888241291:C;n[f+4>>1]=0;o[d+0>>2]=o[r+0>>2];o[d+4>>2]=o[r+4>>2];o[d+8>>2]=o[r+8>>2];o[d+12>>2]=o[r+12>>2];o[d+16>>2]=o[r+16>>2];o[d+20>>2]=o[r+20>>2];o[d+24>>2]=o[r+24>>2];p=d+28|0;o[p+0>>2]=o[w+0>>2];o[p+4>>2]=o[w+4>>2];o[p+8>>2]=o[w+8>>2];o[p+12>>2]=o[w+12>>2];o[p+16>>2]=o[w+16>>2];o[p+20>>2]=o[w+20>>2];o[p+24>>2]=o[w+24>>2];i[d+88>>0]=0;p=u+8|0;B=u+12|0;R=u+16|0;T=u+20|0;O=u+4|0;x=l+8|0;L=l+12|0;N=l+16|0;I=l+20|0;J=l+4|0;G=d+56|0;W=d+64|0;V=d+68|0;H=d+72|0;U=d+80|0;q=d+84|0;Z=b+16|0;C=D+.0012499999720603228;X=D+-.0012499999720603228;K=M;M=g;g=A;A=k;Q=0;k=0;e:while(1){$=1-k;ee=$*K+k*M;re=+Y(+ee);te=+j(+ee);ee=+s[u>>2];ie=+s[O>>2];ne=$*g+k*A;oe=+Y(+ne);ae=+j(+ne);ne=+s[l>>2];ue=+s[J>>2];le=$*+s[x>>2]+k*+s[N>>2]-(ae*ne-oe*ue);se=$*+s[L>>2]+k*+s[I>>2]-(oe*ne+ae*ue);ue=+($*+s[p>>2]+k*+s[R>>2]-(te*ee-re*ie));ne=+($*+s[B>>2]+k*+s[T>>2]-(re*ee+te*ie));fe=G;s[fe>>2]=ue;s[fe+4>>2]=ne;s[W>>2]=re;s[V>>2]=te;te=+le;le=+se;fe=H;s[fe>>2]=te;s[fe+4>>2]=le;s[U>>2]=oe;s[q>>2]=ae;hf(b,f,d);ae=+s[Z>>2];if(ae<=0){ce=3;break}if(ae<C){ce=5;break}+sf(h,f,r,u,w,l,k);fe=0;ae=P;while(1){oe=+ff(h,_,m,ae);if(oe>C){ce=8;break e}if(oe>X){de=ae;break}be=o[_>>2]|0;he=o[m>>2]|0;le=+cf(h,be,he,k);if(le<X){ce=11;break e}if(!(le<=C)){_e=k;me=ae;pe=0;ye=le;we=oe}else{ce=13;break e}while(1){if((pe&1|0)==0)ve=(_e+me)*.5;else ve=_e+(D-ye)*(me-_e)/(we-ye);pe=pe+1|0;o[110]=(o[110]|0)+1;oe=+cf(h,be,he,ve);le=oe-D;if(le>0)Se=le;else Se=-le;if(Se<.0012499999720603228){Ee=ve;break}ge=oe>D;if((pe|0)==50){Ee=ae;break}else{_e=ge?ve:_e;me=ge?me:ve;ye=ge?oe:ye;we=ge?we:oe}}he=o[112]|0;o[112]=(he|0)>(pe|0)?he:pe;fe=fe+1|0;if((fe|0)==8){de=k;break}else ae=Ee}fe=Q+1|0;o[106]=(o[106]|0)+1;if((fe|0)==20){ce=25;break}K=+s[S>>2];M=+s[v>>2];g=+s[E>>2];A=+s[F>>2];Q=fe;k=de}if((ce|0)==3){o[e>>2]=2;s[y>>2]=0;ke=Q;Me=o[108]|0;Pe=(Me|0)>(ke|0);Ae=Pe?Me:ke;o[108]=Ae;Fe=+Ad(a);Ce=+s[102];De=Ce>Fe;Be=De?Ce:Fe;s[102]=Be;Re=+s[100];Te=Fe+Re;s[100]=Te;c=t;return}else if((ce|0)==5){o[e>>2]=3;s[y>>2]=k;ke=Q;Me=o[108]|0;Pe=(Me|0)>(ke|0);Ae=Pe?Me:ke;o[108]=Ae;Fe=+Ad(a);Ce=+s[102];De=Ce>Fe;Be=De?Ce:Fe;s[102]=Be;Re=+s[100];Te=Fe+Re;s[100]=Te;c=t;return}else if((ce|0)==8){o[e>>2]=4;s[y>>2]=P}else if((ce|0)==11){o[e>>2]=1;s[y>>2]=k}else if((ce|0)==13){o[e>>2]=3;s[y>>2]=k}else if((ce|0)==25){o[e>>2]=1;s[y>>2]=de;ke=20;Me=o[108]|0;Pe=(Me|0)>(ke|0);Ae=Pe?Me:ke;o[108]=Ae;Fe=+Ad(a);Ce=+s[102];De=Ce>Fe;Be=De?Ce:Fe;s[102]=Be;Re=+s[100];Te=Fe+Re;s[100]=Te;c=t;return}o[106]=(o[106]|0)+1;ke=Q+1|0;Me=o[108]|0;Pe=(Me|0)>(ke|0);Ae=Pe?Me:ke;o[108]=Ae;Fe=+Ad(a);Ce=+s[102];De=Ce>Fe;Be=De?Ce:Fe;s[102]=Be;Re=+s[100];Te=Fe+Re;s[100]=Te;c=t;return}function sf(e,r,t,u,l,f,d){e=e|0;r=r|0;t=t|0;u=u|0;l=l|0;f=f|0;d=+d;var b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0;b=c;o[e>>2]=t;o[e+4>>2]=l;h=n[r+4>>1]|0;_=e+8|0;m=_+0|0;p=u+0|0;u=m+36|0;do{o[m>>2]=o[p>>2];m=m+4|0;p=p+4|0}while((m|0)<(u|0));y=e+44|0;m=y+0|0;p=f+0|0;u=m+36|0;do{o[m>>2]=o[p>>2];m=m+4|0;p=p+4|0}while((m|0)<(u|0));w=1-d;v=w*+s[e+32>>2]+ +s[e+36>>2]*d;S=+Y(+v);E=+j(+v);v=+s[_>>2];g=+s[e+12>>2];k=w*+s[e+16>>2]+ +s[e+24>>2]*d-(E*v-S*g);M=w*+s[e+20>>2]+ +s[e+28>>2]*d-(S*v+E*g);g=w*+s[e+68>>2]+ +s[e+72>>2]*d;v=+Y(+g);P=+j(+g);g=+s[y>>2];A=+s[e+48>>2];F=w*+s[e+52>>2]+ +s[e+60>>2]*d-(P*g-v*A);C=w*+s[e+56>>2]+ +s[e+64>>2]*d-(v*g+P*A);if(h<<16>>16==1){o[e+80>>2]=0;h=(o[t+16>>2]|0)+(a[r+6>>0]<<3)|0;A=+s[h>>2];g=+s[h+4>>2];h=(o[l+16>>2]|0)+(a[r+9>>0]<<3)|0;d=+s[h>>2];w=+s[h+4>>2];h=e+92|0;D=F+(P*d-v*w)-(k+(E*A-S*g));B=C+(v*d+P*w)-(M+(S*A+E*g));g=+D;A=+B;y=h;s[y>>2]=g;s[y+4>>2]=A;A=+U(+(D*D+B*B));if(A<1.1920928955078125E-7)R=0;else{g=1/A;s[h>>2]=D*g;s[e+96>>2]=B*g;R=A}h=8784;y=o[h+4>>2]|0;_=e+84|0;o[_>>2]=o[h>>2];o[_+4>>2]=y;T=R;c=b;return+T}y=r+6|0;_=r+7|0;h=e+80|0;if((i[y>>0]|0)==(i[_>>0]|0)){o[h>>2]=2;p=o[l+16>>2]|0;m=p+(a[r+9>>0]<<3)|0;R=+s[m>>2];A=+s[m+4>>2];m=p+(a[r+10>>0]<<3)|0;g=+s[m>>2];B=+s[m+4>>2];m=e+92|0;D=g-R;w=B-A;d=-D;O=+w;x=+d;p=m;s[p>>2]=O;s[p+4>>2]=x;x=+U(+(w*w+D*D));if(x<1.1920928955078125E-7){L=w;N=d}else{D=1/x;x=w*D;s[m>>2]=x;w=D*d;s[e+96>>2]=w;L=x;N=w}w=(R+g)*.5;g=(A+B)*.5;B=+w;A=+g;p=e+84|0;s[p>>2]=B;s[p+4>>2]=A;p=(o[t+16>>2]|0)+(a[y>>0]<<3)|0;A=+s[p>>2];B=+s[p+4>>2];R=(P*L-v*N)*(k+(E*A-S*B)-(F+(P*w-v*g)))+(v*L+P*N)*(M+(S*A+E*B)-(C+(v*w+P*g)));if(!(R<0)){T=R;c=b;return+T}g=+-L;L=+-N;p=m;s[p>>2]=g;s[p+4>>2]=L;T=-R;c=b;return+T}else{o[h>>2]=1;h=o[t+16>>2]|0;t=h+(a[y>>0]<<3)|0;R=+s[t>>2];L=+s[t+4>>2];t=h+(a[_>>0]<<3)|0;g=+s[t>>2];N=+s[t+4>>2];t=e+92|0;w=g-R;B=N-L;A=-w;x=+B;d=+A;_=t;s[_>>2]=x;s[_+4>>2]=d;d=+U(+(B*B+w*w));if(d<1.1920928955078125E-7){I=B;J=A}else{w=1/d;d=B*w;s[t>>2]=d;B=w*A;s[e+96>>2]=B;I=d;J=B}B=(R+g)*.5;g=(L+N)*.5;N=+B;L=+g;_=e+84|0;s[_>>2]=N;s[_+4>>2]=L;_=(o[l+16>>2]|0)+(a[r+9>>0]<<3)|0;L=+s[_>>2];N=+s[_+4>>2];R=(E*I-S*J)*(F+(P*L-v*N)-(k+(E*B-S*g)))+(S*I+E*J)*(C+(v*L+P*N)-(M+(S*B+E*g)));if(!(R<0)){T=R;c=b;return+T}g=+-I;I=+-J;_=t;s[_>>2]=g;s[_+4>>2]=I;T=-R;c=b;return+T}return 0}function ff(e,r,t,i){e=e|0;r=r|0;t=t|0;i=+i;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0;n=c;a=1-i;u=a*+s[e+32>>2]+ +s[e+36>>2]*i;l=+Y(+u);f=+j(+u);u=+s[e+8>>2];d=+s[e+12>>2];b=a*+s[e+16>>2]+ +s[e+24>>2]*i-(f*u-l*d);h=a*+s[e+20>>2]+ +s[e+28>>2]*i-(l*u+f*d);d=a*+s[e+68>>2]+ +s[e+72>>2]*i;u=+Y(+d);_=+j(+d);d=+s[e+44>>2];m=+s[e+48>>2];p=a*+s[e+52>>2]+ +s[e+60>>2]*i-(_*d-u*m);y=a*+s[e+56>>2]+ +s[e+64>>2]*i-(u*d+_*m);w=o[e+80>>2]|0;if((w|0)==0){m=+s[e+92>>2];
d=+s[e+96>>2];i=f*m+l*d;a=f*d-l*m;v=-m;S=-d;E=_*v+u*S;g=_*S-u*v;k=o[e>>2]|0;M=o[k+16>>2]|0;P=o[k+20>>2]|0;if((P|0)>1){k=0;v=a*+s[M+4>>2]+i*+s[M>>2];A=1;while(1){S=i*+s[M+(A<<3)>>2]+a*+s[M+(A<<3)+4>>2];F=S>v;C=F?A:k;A=A+1|0;if((A|0)==(P|0)){D=C;break}else{k=C;v=F?S:v}}}else D=0;o[r>>2]=D;D=o[e+4>>2]|0;k=o[D+16>>2]|0;P=o[D+20>>2]|0;if((P|0)>1){D=0;v=g*+s[k+4>>2]+E*+s[k>>2];A=1;while(1){a=E*+s[k+(A<<3)>>2]+g*+s[k+(A<<3)+4>>2];F=a>v;C=F?A:D;A=A+1|0;if((A|0)==(P|0)){B=C;break}else{D=C;v=F?a:v}}}else B=0;o[t>>2]=B;D=M+(o[r>>2]<<3)|0;v=+s[D>>2];g=+s[D+4>>2];D=k+(B<<3)|0;E=+s[D>>2];a=+s[D+4>>2];R=m*(p+(_*E-u*a)-(b+(f*v-l*g)))+d*(y+(u*E+_*a)-(h+(l*v+f*g)));c=n;return+R}else if((w|0)==1){g=+s[e+92>>2];v=+s[e+96>>2];a=f*g-l*v;E=l*g+f*v;v=+s[e+84>>2];g=+s[e+88>>2];d=b+(f*v-l*g);m=h+(l*v+f*g);g=-a;v=-E;i=_*g+u*v;S=_*v-u*g;o[r>>2]=-1;D=o[e+4>>2]|0;B=o[D+16>>2]|0;k=o[D+20>>2]|0;if((k|0)>1){D=0;g=S*+s[B+4>>2]+i*+s[B>>2];M=1;while(1){v=i*+s[B+(M<<3)>>2]+S*+s[B+(M<<3)+4>>2];P=v>g;A=P?M:D;M=M+1|0;if((M|0)==(k|0)){T=A;break}else{D=A;g=P?v:g}}}else T=0;o[t>>2]=T;D=B+(T<<3)|0;g=+s[D>>2];S=+s[D+4>>2];R=a*(p+(_*g-u*S)-d)+E*(y+(u*g+_*S)-m);c=n;return+R}else if((w|0)==2){m=+s[e+92>>2];S=+s[e+96>>2];g=_*m-u*S;E=u*m+_*S;S=+s[e+84>>2];m=+s[e+88>>2];d=p+(_*S-u*m);p=y+(u*S+_*m);m=-g;_=-E;S=f*m+l*_;u=f*_-l*m;o[t>>2]=-1;w=o[e>>2]|0;e=o[w+16>>2]|0;D=o[w+20>>2]|0;if((D|0)>1){w=0;m=u*+s[e+4>>2]+S*+s[e>>2];T=1;while(1){_=S*+s[e+(T<<3)>>2]+u*+s[e+(T<<3)+4>>2];B=_>m;k=B?T:w;T=T+1|0;if((T|0)==(D|0)){O=k;break}else{w=k;m=B?_:m}}}else O=0;o[r>>2]=O;w=e+(O<<3)|0;m=+s[w>>2];u=+s[w+4>>2];R=g*(b+(f*m-l*u)-d)+E*(h+(l*m+f*u)-p);c=n;return+R}else{o[r>>2]=-1;o[t>>2]=-1;R=0;c=n;return+R}return 0}function cf(e,r,t,i){e=e|0;r=r|0;t=t|0;i=+i;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0;n=c;a=1-i;u=a*+s[e+32>>2]+ +s[e+36>>2]*i;l=+Y(+u);f=+j(+u);u=+s[e+8>>2];d=+s[e+12>>2];b=a*+s[e+16>>2]+ +s[e+24>>2]*i-(f*u-l*d);h=a*+s[e+20>>2]+ +s[e+28>>2]*i-(l*u+f*d);d=a*+s[e+68>>2]+ +s[e+72>>2]*i;u=+Y(+d);_=+j(+d);d=+s[e+44>>2];m=+s[e+48>>2];p=a*+s[e+52>>2]+ +s[e+60>>2]*i-(_*d-u*m);y=a*+s[e+56>>2]+ +s[e+64>>2]*i-(u*d+_*m);w=o[e+80>>2]|0;if((w|0)==0){v=(o[(o[e>>2]|0)+16>>2]|0)+(r<<3)|0;m=+s[v>>2];d=+s[v+4>>2];v=(o[(o[e+4>>2]|0)+16>>2]|0)+(t<<3)|0;i=+s[v>>2];a=+s[v+4>>2];S=+s[e+92>>2]*(p+(_*i-u*a)-(b+(f*m-l*d)))+ +s[e+96>>2]*(y+(u*i+_*a)-(h+(l*m+f*d)));c=n;return+S}else if((w|0)==1){d=+s[e+92>>2];m=+s[e+96>>2];a=+s[e+84>>2];i=+s[e+88>>2];v=(o[(o[e+4>>2]|0)+16>>2]|0)+(t<<3)|0;E=+s[v>>2];g=+s[v+4>>2];S=(f*d-l*m)*(p+(_*E-u*g)-(b+(f*a-l*i)))+(l*d+f*m)*(y+(u*E+_*g)-(h+(l*a+f*i)));c=n;return+S}else if((w|0)==2){i=+s[e+92>>2];a=+s[e+96>>2];g=+s[e+84>>2];E=+s[e+88>>2];w=(o[(o[e>>2]|0)+16>>2]|0)+(r<<3)|0;m=+s[w>>2];d=+s[w+4>>2];S=(_*i-u*a)*(b+(f*m-l*d)-(p+(_*g-u*E)))+(u*i+_*a)*(h+(l*m+f*d)-(y+(u*g+_*E)));c=n;return+S}else{S=0;c=n;return+S}return 0}function df(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0;i=c;n=o[r+4>>2]|0;if((n|0)==0){o[e+16>>2]=r+12;o[e+20>>2]=1;s[e+24>>2]=+s[r+8>>2];c=i;return}else if((n|0)==2){o[e+16>>2]=r+20;o[e+20>>2]=o[r+148>>2];s[e+24>>2]=+s[r+8>>2];c=i;return}else if((n|0)==1){o[e+16>>2]=r+12;o[e+20>>2]=2;s[e+24>>2]=+s[r+8>>2];c=i;return}else if((n|0)==3){n=r+12|0;a=(o[n>>2]|0)+(t<<3)|0;u=o[a+4>>2]|0;l=e;o[l>>2]=o[a>>2];o[l+4>>2]=u;u=t+1|0;t=e+8|0;l=o[n>>2]|0;if((u|0)<(o[r+16>>2]|0)){n=l+(u<<3)|0;u=o[n+4>>2]|0;a=t;o[a>>2]=o[n>>2];o[a+4>>2]=u}else{u=l;l=o[u+4>>2]|0;a=t;o[a>>2]=o[u>>2];o[a+4>>2]=l}o[e+16>>2]=e;o[e+20>>2]=2;s[e+24>>2]=+s[r+8>>2];c=i;return}else{c=i;return}}function bf(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0;r=c;t=e+16|0;i=+s[t>>2];n=+s[t+4>>2];t=e+36|0;a=e+52|0;u=+s[a>>2];l=+s[a+4>>2];a=e+72|0;f=e+88|0;d=+s[f>>2];b=+s[f+4>>2];h=u-i;_=l-n;m=i*h+n*_;p=u*h+l*_;y=d-i;w=b-n;v=i*y+n*w;S=d*y+b*w;E=d-u;g=b-l;k=u*E+l*g;M=d*E+b*g;g=h*w-_*y;y=(u*b-l*d)*g;_=(n*d-i*b)*g;b=(i*l-n*u)*g;if(!(!(m>=-0)|!(v>=-0))){s[e+24>>2]=1;o[e+108>>2]=1;c=r;return}if(!(!(m<-0)|!(p>0)|!(b<=0))){g=1/(p-m);s[e+24>>2]=p*g;s[e+60>>2]=-(m*g);o[e+108>>2]=2;c=r;return}if(!(!(v<-0)|!(S>0)|!(_<=0))){g=1/(S-v);s[e+24>>2]=S*g;s[e+96>>2]=-(v*g);o[e+108>>2]=2;P=t+0|0;A=a+0|0;F=P+36|0;do{o[P>>2]=o[A>>2];P=P+4|0;A=A+4|0}while((P|0)<(F|0));c=r;return}if(!(!(p<=0)|!(k>=-0))){s[e+60>>2]=1;o[e+108>>2]=1;P=e+0|0;A=t+0|0;F=P+36|0;do{o[P>>2]=o[A>>2];P=P+4|0;A=A+4|0}while((P|0)<(F|0));c=r;return}if(!(!(S<=0)|!(M<=0))){s[e+96>>2]=1;o[e+108>>2]=1;P=e+0|0;A=a+0|0;F=P+36|0;do{o[P>>2]=o[A>>2];P=P+4|0;A=A+4|0}while((P|0)<(F|0));c=r;return}if(!(k<-0)|!(M>0)|!(y<=0)){S=1/(b+(y+_));s[e+24>>2]=y*S;s[e+60>>2]=_*S;s[e+96>>2]=b*S;o[e+108>>2]=3;c=r;return}else{S=1/(M-k);s[e+60>>2]=M*S;s[e+96>>2]=-(k*S);o[e+108>>2]=2;P=e+0|0;A=a+0|0;F=P+36|0;do{o[P>>2]=o[A>>2];P=P+4|0;A=A+4|0}while((P|0)<(F|0));c=r;return}}function hf(e,r,t){e=e|0;r=r|0;t=t|0;var a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0;a=c;c=c+176|0;u=a+152|0;l=a+136|0;f=a;d=a+124|0;h=a+112|0;o[114]=(o[114]|0)+1;_=t+28|0;m=t+56|0;o[u+0>>2]=o[m+0>>2];o[u+4>>2]=o[m+4>>2];o[u+8>>2]=o[m+8>>2];o[u+12>>2]=o[m+12>>2];m=t+72|0;o[l+0>>2]=o[m+0>>2];o[l+4>>2]=o[m+4>>2];o[l+8>>2]=o[m+8>>2];o[l+12>>2]=o[m+12>>2];_f(f,r,t,u,_,l);o[d+0>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[h+0>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;_=f+108|0;p=+s[u+12>>2];y=+s[u+8>>2];m=t+16|0;w=t+20|0;v=+s[u>>2];S=+s[u+4>>2];E=+s[l+12>>2];g=+s[l+8>>2];u=t+44|0;k=t+48|0;M=+s[l>>2];P=+s[l+4>>2];l=f+16|0;A=f+20|0;F=f+52|0;C=f+56|0;D=f+16|0;B=f+36|0;R=f+52|0;T=f+24|0;O=f+60|0;x=o[_>>2]|0;L=0;e:while(1){N=(x|0)>0;if(N){I=0;do{o[d+(I<<2)>>2]=o[f+(I*36|0)+28>>2];o[h+(I<<2)>>2]=o[f+(I*36|0)+32>>2];I=I+1|0}while((I|0)!=(x|0))}do if((x|0)==2){I=D;J=+s[I>>2];G=+s[I+4>>2];I=R;W=+s[I>>2];V=+s[I+4>>2];z=W-J;H=V-G;q=J*z+G*H;if(q>=-0){s[T>>2]=1;o[_>>2]=1;j=13;break}G=W*z+V*H;if(!(G<=0)){H=1/(G-q);s[T>>2]=G*H;s[O>>2]=-(q*H);o[_>>2]=2;j=14;break}else{s[O>>2]=1;o[_>>2]=1;I=f+0|0;Y=B+0|0;Z=I+36|0;do{o[I>>2]=o[Y>>2];I=I+4|0;Y=Y+4|0}while((I|0)<(Z|0));j=13;break}}else if((x|0)==3){bf(f);Y=o[_>>2]|0;if((Y|0)==3){j=11;break e}else{X=Y;j=12}}else{X=x;j=12}while(0);do if((j|0)==12){j=0;if((X|0)==1){j=13;break}else if((X|0)==2){j=14;break}Y=8784;H=+s[Y>>2];K=H;Q=+s[Y+4>>2];$=X}while(0);do if((j|0)==13){j=0;K=-+s[l>>2];Q=-+s[A>>2];$=1}else if((j|0)==14){j=0;H=+s[l>>2];q=+s[F>>2]-H;G=+s[A>>2];V=+s[C>>2]-G;if(H*V-q*G>0){K=-V;Q=q;$=2;break}else{K=V;Q=-q;$=2;break}}while(0);if(Q*Q+K*K<1.4210854715202004E-14){ee=$;re=L;j=31;break}Y=f+($*36|0)|0;q=-K;V=-Q;G=p*q+y*V;H=p*V-y*q;I=o[m>>2]|0;Z=o[w>>2]|0;if((Z|0)>1){te=0;q=H*+s[I+4>>2]+G*+s[I>>2];ie=1;while(1){V=G*+s[I+(ie<<3)>>2]+H*+s[I+(ie<<3)+4>>2];ne=V>q;oe=ne?ie:te;ie=ie+1|0;if((ie|0)==(Z|0)){ae=oe;break}else{te=oe;q=ne?V:q}}}else ae=0;o[f+($*36|0)+28>>2]=ae;q=+s[I+(ae<<3)>>2];H=+s[I+(ae<<3)+4>>2];G=v+(p*q-y*H);V=+G;z=+(q*y+p*H+S);te=Y;s[te>>2]=V;s[te+4>>2]=z;z=K*E+Q*g;V=Q*E-K*g;te=o[u>>2]|0;Z=o[k>>2]|0;if((Z|0)>1){ie=0;H=V*+s[te+4>>2]+z*+s[te>>2];ne=1;while(1){q=z*+s[te+(ne<<3)>>2]+V*+s[te+(ne<<3)+4>>2];oe=q>H;ue=oe?ne:ie;ne=ne+1|0;if((ne|0)==(Z|0)){le=ue;break}else{ie=ue;H=oe?q:H}}}else le=0;o[f+($*36|0)+32>>2]=le;H=+s[te+(le<<3)>>2];V=+s[te+(le<<3)+4>>2];z=M+(E*H-g*V);q=+z;W=+(H*g+E*V+P);ie=f+($*36|0)+8|0;s[ie>>2]=q;s[ie+4>>2]=W;W=+(z-G);z=+(+s[f+($*36|0)+12>>2]-+s[f+($*36|0)+4>>2]);ie=f+($*36|0)+16|0;s[ie>>2]=W;s[ie+4>>2]=z;se=L+1|0;o[116]=(o[116]|0)+1;if(N){ie=0;do{if((ae|0)==(o[d+(ie<<2)>>2]|0)?(le|0)==(o[h+(ie<<2)>>2]|0):0){j=30;break e}ie=ie+1|0}while((ie|0)<(x|0))}ie=(o[_>>2]|0)+1|0;o[_>>2]=ie;if((se|0)<20){x=ie;L=se}else{ee=ie;re=se;j=31;break}}if((j|0)==11){x=o[118]|0;o[118]=(x|0)>(L|0)?x:L;fe=e+8|0;ce=L;j=35}else if((j|0)==30){ee=o[_>>2]|0;re=se;j=31}do if((j|0)==31){se=o[118]|0;o[118]=(se|0)>(re|0)?se:re;se=e+8|0;if((ee|0)==1){_=f;L=o[_>>2]|0;x=o[_+4>>2]|0;_=e;o[_>>2]=L;o[_+4>>2]=x;_=f+8|0;h=o[_>>2]|0;le=o[_+4>>2]|0;_=se;o[_>>2]=h;o[_+4>>2]=le;P=(o[b>>2]=L,+s[b>>2]);E=(o[b>>2]=h,+s[b>>2]);g=(o[b>>2]=x,+s[b>>2]);de=E;be=P;he=(o[b>>2]=le,+s[b>>2]);_e=g;me=1;pe=se;ye=re;break}else if((ee|0)==2){g=+s[T>>2];P=+s[O>>2];E=g*+s[f>>2]+P*+s[f+36>>2];M=g*+s[f+4>>2]+P*+s[f+40>>2];K=+E;Q=+M;le=e;s[le>>2]=K;s[le+4>>2]=Q;Q=g*+s[f+8>>2]+P*+s[f+44>>2];K=g*+s[f+12>>2]+P*+s[f+48>>2];P=+Q;g=+K;le=se;s[le>>2]=P;s[le+4>>2]=g;de=Q;be=E;he=K;_e=M;me=2;pe=se;ye=re;break}else if((ee|0)==3){fe=se;ce=re;j=35;break}else{de=+s[se>>2];be=+s[e>>2];he=+s[e+12>>2];_e=+s[e+4>>2];me=ee;pe=se;ye=re;break}}while(0);if((j|0)==35){M=+s[T>>2];K=+s[O>>2];E=+s[f+96>>2];Q=M*+s[f>>2]+K*+s[f+36>>2]+E*+s[f+72>>2];g=M*+s[f+4>>2]+K*+s[f+40>>2]+E*+s[f+76>>2];E=+Q;K=+g;O=e;s[O>>2]=E;s[O+4>>2]=K;O=fe;s[O>>2]=E;s[O+4>>2]=K;de=Q;be=Q;he=g;_e=g;me=3;pe=fe;ye=ce}g=be-de;ce=e+4|0;fe=e+12|0;de=_e-he;O=e+16|0;s[O>>2]=+U(+(g*g+de*de));o[e+20>>2]=ye;if((me|0)==2){de=+s[l>>2]-+s[F>>2];g=+s[A>>2]-+s[C>>2];we=+U(+(de*de+g*g));j=39}else if((me|0)!=3){s[r>>2]=0;n[r+4>>1]=me;if((me|0)>0){ve=0;j=41}}else{g=+s[l>>2];de=+s[A>>2];we=(+s[F>>2]-g)*(+s[f+92>>2]-de)-(+s[C>>2]-de)*(+s[f+88>>2]-g);j=39}if((j|0)==39){s[r>>2]=we;n[r+4>>1]=me;ve=0;j=41}if((j|0)==41)while(1){j=0;i[r+ve+6>>0]=o[f+(ve*36|0)+28>>2];i[r+ve+9>>0]=o[f+(ve*36|0)+32>>2];ve=ve+1|0;if((ve|0)>=(me|0))break;else j=41}if((i[t+88>>0]|0)==0){c=a;return}we=+s[t+24>>2];g=+s[t+52>>2];de=+s[O>>2];he=we+g;if(!(de>he&de>1.1920928955078125E-7)){_e=+((+s[e>>2]+ +s[pe>>2])*.5);be=+((+s[ce>>2]+ +s[fe>>2])*.5);t=e;s[t>>2]=_e;s[t+4>>2]=be;t=pe;s[t>>2]=_e;s[t+4>>2]=be;s[O>>2]=0;c=a;return}s[O>>2]=de-he;he=+s[pe>>2];de=+s[e>>2];be=he-de;_e=+s[fe>>2];Q=+s[ce>>2];K=_e-Q;E=+U(+(be*be+K*K));if(E<1.1920928955078125E-7){Se=be;Ee=K}else{M=1/E;Se=be*M;Ee=K*M}s[e>>2]=we*Se+de;s[ce>>2]=we*Ee+Q;s[pe>>2]=he-g*Se;s[fe>>2]=_e-g*Ee;c=a;return}function _f(e,r,t,i,u,l){e=e|0;r=r|0;t=t|0;i=i|0;u=u|0;l=l|0;var f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0;f=c;d=n[r+4>>1]|0;b=d&65535;h=e+108|0;o[h>>2]=b;if(d<<16>>16==0)_=b;else{b=t+16|0;d=u+16|0;m=i+12|0;p=i+8|0;y=i+4|0;w=l+12|0;v=l+8|0;S=l+4|0;E=0;do{g=a[r+E+6>>0]|0;o[e+(E*36|0)+28>>2]=g;k=a[r+E+9>>0]|0;o[e+(E*36|0)+32>>2]=k;M=(o[b>>2]|0)+(g<<3)|0;P=+s[M>>2];A=+s[M+4>>2];M=(o[d>>2]|0)+(k<<3)|0;F=+s[M>>2];C=+s[M+4>>2];D=+s[m>>2];B=+s[p>>2];R=+s[i>>2]+(P*D-A*B);T=+R;O=+(D*A+P*B+ +s[y>>2]);M=e+(E*36|0)|0;s[M>>2]=T;s[M+4>>2]=O;O=+s[w>>2];T=+s[v>>2];B=+s[l>>2]+(F*O-C*T);P=+B;A=+(C*O+F*T+ +s[S>>2]);M=e+(E*36|0)+8|0;s[M>>2]=P;s[M+4>>2]=A;A=+(B-R);R=+(+s[e+(E*36|0)+12>>2]-+s[e+(E*36|0)+4>>2]);M=e+(E*36|0)+16|0;s[M>>2]=A;s[M+4>>2]=R;s[e+(E*36|0)+24>>2]=0;E=E+1|0;M=o[h>>2]|0}while((E|0)<(M|0));_=M}do if((_|0)>1){R=+s[r>>2];if((_|0)==2){A=+s[e+16>>2]-+s[e+52>>2];B=+s[e+20>>2]-+s[e+56>>2];x=+U(+(A*A+B*B))}else if((_|0)==3){B=+s[e+16>>2];A=+s[e+20>>2];x=(+s[e+52>>2]-B)*(+s[e+92>>2]-A)-(+s[e+56>>2]-A)*(+s[e+88>>2]-B)}else x=0;if(!(x<R*.5)?!(R*2<x|x<1.1920928955078125E-7):0){L=11;break}o[h>>2]=0}else L=11;while(0);if((L|0)==11?(_|0)!=0:0){c=f;return}o[e+28>>2]=0;o[e+32>>2]=0;_=o[t+16>>2]|0;x=+s[_>>2];R=+s[_+4>>2];_=o[u+16>>2]|0;B=+s[_>>2];A=+s[_+4>>2];P=+s[i+12>>2];T=+s[i+8>>2];F=+s[i>>2]+(x*P-R*T);O=P*R+x*T+ +s[i+4>>2];T=+F;x=+O;i=e;s[i>>2]=T;s[i+4>>2]=x;x=+s[l+12>>2];T=+s[l+8>>2];R=+s[l>>2]+(B*x-A*T);P=A*x+B*T+ +s[l+4>>2];T=+R;B=+P;l=e+8|0;s[l>>2]=T;s[l+4>>2]=B;B=+(R-F);F=+(P-O);l=e+16|0;s[l>>2]=B;s[l+4>>2]=F;s[e+24>>2]=1;o[h>>2]=1;c=f;return}function mf(e,r){e=e|0;r=r|0;var t=0,i=0,a=0,u=0;t=c;i=wd(r,48)|0;if((i|0)==0)a=0;else{o[i>>2]=488;o[i+4>>2]=1;s[i+8>>2]=.009999999776482582;r=i+28|0;o[r+0>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;n[r+16>>1]=0;a=i}i=e+4|0;r=o[i+4>>2]|0;u=a+4|0;o[u>>2]=o[i>>2];o[u+4>>2]=r;r=a+12|0;u=e+12|0;o[r+0>>2]=o[u+0>>2];o[r+4>>2]=o[u+4>>2];o[r+8>>2]=o[u+8>>2];o[r+12>>2]=o[u+12>>2];o[r+16>>2]=o[u+16>>2];o[r+20>>2]=o[u+20>>2];o[r+24>>2]=o[u+24>>2];o[r+28>>2]=o[u+28>>2];n[r+32>>1]=n[u+32>>1]|0;c=t;return a|0}function pf(e){e=e|0;return 1}function yf(e,r,t){e=e|0;r=r|0;t=t|0;return 0}function wf(e,r,t,i,n,o){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;o=o|0;var a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0;o=c;a=+s[r+12>>2];u=+s[e+12>>2];l=+s[r+8>>2];f=+s[e+16>>2];d=+s[r>>2];b=d+(a*u-l*f);h=+s[r+4>>2];_=u*l+a*f+h;f=+s[e+20>>2];u=+s[e+24>>2];m=d+(a*f-l*u);d=h+(l*f+a*u);u=+s[t>>2];a=u-b;f=+s[t+4>>2];l=f-_;h=m-b;b=d-_;_=a*h+l*b;do if(_>0){p=h*h+b*b;if(_>p){y=u-m;w=f-d;break}else{v=_/p;y=a-h*v;w=l-b*v;break}}else{y=a;w=l}while(0);l=+U(+(w*w+y*y));s[i>>2]=l;if(l>0){a=1/l;S=y*a;E=w*a;g=+S;k=+E;M=n;P=M;s[P>>2]=g;A=M+4|0;F=A;s[F>>2]=k;c=o;return}else{i=8784;a=+s[i>>2];S=a;E=+s[i+4>>2];g=+S;k=+E;M=n;P=M;s[P>>2]=g;A=M+4|0;F=A;s[F>>2]=k;c=o;return}}function vf(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var o=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0;n=c;o=+s[i>>2];a=+s[t>>2]-o;u=+s[i+4>>2];l=+s[t+4>>2]-u;f=i+12|0;d=+s[f>>2];b=i+8|0;h=+s[b>>2];_=a*d+l*h;m=d*l-a*h;a=+s[t+8>>2]-o;o=+s[t+12>>2]-u;u=d*a+h*o-_;l=d*o-h*a-m;i=e+12|0;a=+s[i>>2];h=+s[i+4>>2];i=e+20|0;o=+s[i>>2];d=o-a;o=+s[i+4>>2]-h;p=-d;y=d*d+o*o;w=+U(+y);if(w<1.1920928955078125E-7){v=o;S=p}else{E=1/w;v=o*E;S=E*p}p=(h-m)*S+(a-_)*v;E=l*S+u*v;if(E==0){g=0;c=n;return g|0}w=p/E;if(w<0){g=0;c=n;return g|0}if(y==0?1:+s[t+16>>2]<w){g=0;c=n;return g|0}E=(d*(_+u*w-a)+o*(m+l*w-h))/y;if(E<0|E>1){g=0;c=n;return g|0}s[r+8>>2]=w;w=+s[f>>2];E=+s[b>>2];y=v*w-S*E;h=S*w+v*E;if(p>0){p=+-y;E=+-h;b=r;s[b>>2]=p;s[b+4>>2]=E;g=1;c=n;return g|0}else{E=+y;y=+h;b=r;s[b>>2]=E;s[b+4>>2]=y;g=1;c=n;return g|0}return 0}function Sf(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,o=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0;i=c;n=+s[t+12>>2];o=+s[e+12>>2];a=+s[t+8>>2];u=+s[e+16>>2];l=+s[t>>2];f=l+(n*o-a*u);d=+s[t+4>>2];b=o*a+n*u+d;u=+s[e+20>>2];o=+s[e+24>>2];h=l+(n*u-a*o);l=d+(a*u+n*o);o=+s[e+8>>2];n=+((f<h?f:h)-o);u=+((b<l?b:l)-o);e=r;s[e>>2]=n;s[e+4>>2]=u;u=+(o+(f>h?f:h));h=+(o+(b>l?b:l));e=r+8|0;s[e>>2]=u;s[e+4>>2]=h;c=i;return}function Ef(e,r,t){e=e|0;r=r|0;t=+t;var i=0,n=0;i=c;s[r>>2]=0;t=+((+s[e+12>>2]+ +s[e+20>>2])*.5);n=+((+s[e+16>>2]+ +s[e+24>>2])*.5);e=r+4|0;s[e>>2]=t;s[e+4>>2]=n;s[r+12>>2]=0;c=i;return}function gf(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;i=wd(r,152)|0;if((i|0)==0)n=0;else{o[i>>2]=592;o[i+4>>2]=2;s[i+8>>2]=.009999999776482582;o[i+148>>2]=0;s[i+12>>2]=0;s[i+16>>2]=0;n=i}i=e+4|0;r=o[i+4>>2]|0;a=n+4|0;o[a>>2]=o[i>>2];o[a+4>>2]=r;hb(n+12|0,e+12|0,140)|0;c=t;return n|0}function kf(e){e=e|0;return 1}function Mf(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0;i=c;c=c+96|0;n=i+32|0;a=i;if((t|0)<3){o[e+148>>2]=4;s[e+20>>2]=-1;s[e+24>>2]=-1;s[e+28>>2]=1;s[e+32>>2]=-1;s[e+36>>2]=1;s[e+40>>2]=1;s[e+44>>2]=-1;s[e+48>>2]=1;s[e+84>>2]=0;s[e+88>>2]=-1;s[e+92>>2]=1;s[e+96>>2]=0;s[e+100>>2]=0;s[e+104>>2]=1;s[e+108>>2]=-1;s[e+112>>2]=0;s[e+12>>2]=0;s[e+16>>2]=0;c=i;return}u=(t|0)<8?t:8;t=0;l=0;while(1){f=r+(t<<3)|0;d=o[f>>2]|0;h=o[f+4>>2]|0;_=(o[b>>2]=d,+s[b>>2]);m=(o[b>>2]=h,+s[b>>2]);e:do if((l|0)>0){f=0;while(1){p=_-+s[n+(f<<3)>>2];y=m-+s[n+(f<<3)+4>>2];f=f+1|0;if(p*p+y*y<.0024999999441206455){w=l;break e}if((f|0)>=(l|0)){v=7;break}}}else v=7;while(0);if((v|0)==7){v=0;f=n+(l<<3)|0;o[f>>2]=d;o[f+4>>2]=h;w=l+1|0}t=t+1|0;if((t|0)==(u|0))break;else l=w}if((w|0)<3){o[e+148>>2]=4;s[e+20>>2]=-1;s[e+24>>2]=-1;s[e+28>>2]=1;s[e+32>>2]=-1;s[e+36>>2]=1;s[e+40>>2]=1;s[e+44>>2]=-1;s[e+48>>2]=1;s[e+84>>2]=0;s[e+88>>2]=-1;s[e+92>>2]=1;s[e+96>>2]=0;s[e+100>>2]=0;s[e+104>>2]=1;s[e+108>>2]=-1;s[e+112>>2]=0;s[e+12>>2]=0;s[e+16>>2]=0;c=i;return}l=0;u=1;m=+s[n>>2];while(1){_=+s[n+(u<<3)>>2];if(!(_>m))if(_==m?+s[n+(u<<3)+4>>2]<+s[n+(l<<3)+4>>2]:0)v=22;else{S=l;E=m}else v=22;if((v|0)==22){v=0;S=u;E=_}u=u+1|0;if((u|0)==(w|0)){g=S;k=0;break}else{l=S;m=E}}while(1){o[a+(k<<2)>>2]=g;l=0;u=1;while(1){if((l|0)!=(g|0)){E=+s[n+(g<<3)>>2];m=+s[n+(l<<3)>>2]-E;_=+s[n+(g<<3)+4>>2];y=+s[n+(l<<3)+4>>2]-_;p=+s[n+(u<<3)>>2]-E;E=+s[n+(u<<3)+4>>2]-_;_=m*E-y*p;v=_<0?u:l;if(_==0?p*p+E*E>m*m+y*y:0)M=u;else M=v}else M=u;u=u+1|0;if((u|0)==(w|0))break;else l=M}P=k+1|0;if((M|0)==(S|0))break;else{g=M;k=P}}o[e+148>>2]=P;M=(k|0)>-1;if(M){g=0;do{S=n+(o[a+(g<<2)>>2]<<3)|0;w=o[S+4>>2]|0;l=e+(g<<3)+20|0;o[l>>2]=o[S>>2];o[l+4>>2]=w;g=g+1|0}while((g|0)!=(P|0));if(M){M=0;do{g=M;M=M+1|0;a=(M|0)<(P|0)?M:0;y=+s[e+(a<<3)+24>>2]-+s[e+(g<<3)+24>>2];n=e+(g<<3)+84|0;m=+y;E=+-(+s[e+(a<<3)+20>>2]-+s[e+(g<<3)+20>>2]);a=n;s[a>>2]=m;s[a+4>>2]=E;a=e+(g<<3)+88|0;E=+s[a>>2];m=+U(+(y*y+E*E));if(!(m<1.1920928955078125E-7)){p=1/m;s[n>>2]=y*p;s[a>>2]=E*p}}while((M|0)!=(P|0))}}M=e+12|0;a=e+20|0;if((k|0)>-1){p=0;E=0;y=0;k=0;while(1){n=e+(k<<3)+20|0;m=+s[n>>2];_=+s[n+4>>2];k=k+1|0;if((k|0)<(P|0))A=e+(k<<3)+20|0;else A=a;n=A;F=+s[n>>2];C=+s[n+4>>2];D=(m*C-_*F)*.5;B=y+D;R=D*.3333333432674408;D=p+(m+0+F)*R;F=E+(_+0+C)*R;if((k|0)==(P|0)){T=D;O=F;x=B;break}else{p=D;E=F;y=B}}}else{T=0;O=0;x=0}y=1/x;x=+(T*y);T=+(O*y);P=M;s[P>>2]=x;s[P+4>>2]=T;c=i;return}function Pf(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0;i=c;n=+s[t>>2]-+s[r>>2];a=+s[t+4>>2]-+s[r+4>>2];u=+s[r+12>>2];l=+s[r+8>>2];f=n*u+a*l;d=u*a-n*l;r=o[e+148>>2]|0;if((r|0)>0)b=0;else{h=1;c=i;return h|0}while(1){if((f-+s[e+(b<<3)+20>>2])*+s[e+(b<<3)+84>>2]+(d-+s[e+(b<<3)+24>>2])*+s[e+(b<<3)+88>>2]>0){h=0;_=4;break}b=b+1|0;if((b|0)>=(r|0)){h=1;_=4;break}}if((_|0)==4){c=i;return h|0}return 0}function Af(e,r,t,i,n,a){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;var u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0;a=c;u=+s[t>>2]-+s[r>>2];l=+s[t+4>>2]-+s[r+4>>2];t=r+12|0;f=+s[t>>2];d=r+8|0;b=+s[d>>2];h=u*f+l*b;_=f*l-u*b;r=o[e+148>>2]|0;m=(r|0)>0;if(m){b=h;u=_;p=0;l=-3.4028234663852886E38;while(1){y=e+(p<<3)+84|0;f=(h-+s[e+(p<<3)+20>>2])*+s[y>>2]+(_-+s[e+(p<<3)+24>>2])*+s[e+(p<<3)+88>>2];if(f>l){w=y;v=+s[w>>2];S=+s[w+4>>2];E=v;g=f}else{S=u;E=b;g=l}p=p+1|0;if((p|0)>=(r|0))break;else{b=E;u=S;l=g}}if(g>0){l=g*g;if(m){u=S;b=E;m=0;f=l;while(1){v=h-+s[e+(m<<3)+20>>2];k=_-+s[e+(m<<3)+24>>2];M=v*v+k*k;p=f>M;P=p?k:u;k=p?v:b;v=p?M:f;m=m+1|0;if((m|0)>=(r|0)){A=P;F=k;C=v;break}else{u=P;b=k;f=v}}}else{A=S;F=E;C=l}s[i>>2]=+U(+C);C=+s[t>>2];l=+s[d>>2];f=F*C-A*l;b=A*C+F*l;l=+f;F=+b;r=n;s[r>>2]=l;s[r+4>>2]=F;F=+U(+(f*f+b*b));if(F<1.1920928955078125E-7){c=a;return}l=1/F;s[n>>2]=f*l;s[n+4>>2]=b*l;c=a;return}else{D=S;B=E;R=g}}else{D=_;B=h;R=-3.4028234663852886E38}s[i>>2]=R;R=+s[t>>2];h=+s[d>>2];_=+(B*R-D*h);g=+(D*R+B*h);d=n;s[d>>2]=_;s[d+4>>2]=g;c=a;return}function Ff(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0;n=c;a=+s[i>>2];u=+s[t>>2]-a;l=+s[i+4>>2];f=+s[t+4>>2]-l;d=i+12|0;b=+s[d>>2];h=i+8|0;_=+s[h>>2];m=u*b+f*_;p=b*f-u*_;u=+s[t+8>>2]-a;a=+s[t+12>>2]-l;l=b*u+_*a-m;f=b*a-_*u-p;i=o[e+148>>2]|0;if((i|0)<=0){y=0;c=n;return y|0}w=0;v=-1;u=0;_=+s[t+16>>2];e:while(1){a=+s[e+(w<<3)+84>>2];b=+s[e+(w<<3)+88>>2];S=(+s[e+(w<<3)+20>>2]-m)*a+(+s[e+(w<<3)+24>>2]-p)*b;E=l*a+f*b;do if(E==0)if(S<0){y=0;g=15;break e}else{k=v;M=u;P=_}else{if(E<0?S<u*E:0){k=w;M=S/E;P=_;break}if(E>0?S<_*E:0){k=v;M=u;P=S/E}else{k=v;M=u;P=_}}while(0);w=w+1|0;if(P<M){y=0;g=15;break}if((w|0)>=(i|0)){g=13;break}else{v=k;u=M;_=P}}if((g|0)==13){if(!((k|0)>-1)){y=0;c=n;return y|0}s[r+8>>2]=M;M=+s[d>>2];P=+s[e+(k<<3)+84>>2];_=+s[h>>2];u=+s[e+(k<<3)+88>>2];f=+(M*P-_*u);l=+(P*_+M*u);k=r;s[k>>2]=f;s[k+4>>2]=l;y=1;c=n;return y|0}else if((g|0)==15){c=n;return y|0}return 0}function Cf(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0;i=c;n=+s[t+12>>2];a=+s[e+20>>2];u=+s[t+8>>2];l=+s[e+24>>2];f=+s[t>>2];d=f+(n*a-u*l);b=+s[t+4>>2];h=a*u+n*l+b;t=o[e+148>>2]|0;if((t|0)>1){l=d;a=h;_=d;m=h;p=1;while(1){y=+s[e+(p<<3)+20>>2];w=+s[e+(p<<3)+24>>2];v=f+(n*y-u*w);S=y*u+n*w+b;w=l<v?l:v;y=a<S?a:S;E=_>v?_:v;v=m>S?m:S;p=p+1|0;if((p|0)>=(t|0)){g=y;k=w;M=v;P=E;break}else{l=w;a=y;_=E;m=v}}}else{g=h;k=d;M=h;P=d}d=+s[e+8>>2];h=+(k-d);k=+(g-d);e=r;s[e>>2]=h;s[e+4>>2]=k;k=+(P+d);P=+(M+d);e=r+8|0;s[e>>2]=k;s[e+4>>2]=P;c=i;return}function Df(e,r,t){e=e|0;r=r|0;t=+t;var i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0;i=c;n=o[e+148>>2]|0;a=(n|0)>0;if(a){u=0;l=0;f=0;do{u=u+ +s[e+(f<<3)+20>>2];l=l+ +s[e+(f<<3)+24>>2];f=f+1|0}while((f|0)<(n|0));d=1/+(n|0);b=u*d;u=l*d;if(a){a=e+20|0;f=e+24|0;d=0;l=0;h=0;_=0;m=0;while(1){p=+s[e+(m<<3)+20>>2]-b;y=+s[e+(m<<3)+24>>2]-u;m=m+1|0;w=(m|0)<(n|0);if(w){v=e+(m<<3)+20|0;S=e+(m<<3)+24|0}else{v=a;S=f}E=+s[v>>2]-b;g=+s[S>>2]-u;k=p*g-y*E;M=k*.5;P=_+M;A=M*.3333333432674408;M=d+(p+E)*A;F=l+(y+g)*A;A=h+k*.0833333358168602*(E*E+(p*p+p*E)+(g*g+(y*y+y*g)));if(!w){C=F;D=M;B=b;R=u;T=A;O=P;break}else{d=M;l=F;h=A;_=P}}}else{C=0;D=0;B=b;R=u;T=0;O=0}}else{u=1/+(n|0);C=0;D=0;B=u*0;R=u*0;T=0;O=0}u=O*t;s[r>>2]=u;b=1/O;O=D*b;D=C*b;b=B+O;B=R+D;R=+b;C=+B;n=r+4|0;s[n>>2]=R;s[n+4>>2]=C;s[r+12>>2]=T*t+u*(b*b+B*B-(O*O+D*D));c=i;return}function Bf(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0;t=c;i=wd(r,20)|0;if((i|0)==0)n=0;else{o[i>>2]=680;r=i+4|0;o[r+0>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;n=i}i=e+4|0;r=o[i+4>>2]|0;a=n+4|0;o[a>>2]=o[i>>2];o[a+4>>2]=r;r=e+12|0;e=o[r+4>>2]|0;a=n+12|0;o[a>>2]=o[r>>2];o[a+4>>2]=e;c=t;return n|0}function Rf(e){e=e|0;return 1}function Tf(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,o=0,a=0,u=0,l=0;i=+s[r+12>>2];n=+s[e+12>>2];o=+s[r+8>>2];a=+s[e+16>>2];u=+s[t>>2]-(+s[r>>2]+(i*n-o*a));l=+s[t+4>>2]-(+s[r+4>>2]+(n*o+i*a));a=+s[e+8>>2];return u*u+l*l<=a*a|0}function Of(e,r,t,i,n,o){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;o=o|0;var a=0,u=0,l=0,f=0,d=0,b=0;o=c;a=+s[r+12>>2];u=+s[e+12>>2];l=+s[r+8>>2];f=+s[e+16>>2];d=+s[t>>2]-(+s[r>>2]+(a*u-l*f));b=+s[t+4>>2]-(+s[r+4>>2]+(u*l+a*f));f=+U(+(d*d+b*b));s[i>>2]=f-+s[e+8>>2];a=1/f;f=+(d*a);d=+(b*a);e=n;s[e>>2]=f;s[e+4>>2]=d;c=o;return}function xf(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var o=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0;n=c;o=+s[i+12>>2];a=+s[e+12>>2];u=+s[i+8>>2];l=+s[e+16>>2];f=+s[t>>2];d=f-(+s[i>>2]+(o*a-u*l));b=+s[t+4>>2];h=b-(+s[i+4>>2]+(a*u+o*l));l=+s[e+8>>2];o=+s[t+8>>2]-f;f=+s[t+12>>2]-b;b=d*o+h*f;u=o*o+f*f;a=b*b-(d*d+h*h-l*l)*u;if(a<0|u<1.1920928955078125E-7){_=0;c=n;return _|0}l=b+ +U(+a);a=-l;if(!(l<=-0)){_=0;c=n;return _|0}if(!(u*+s[t+16>>2]>=a)){_=0;c=n;return _|0}l=a/u;s[r+8>>2]=l;u=d+o*l;o=h+f*l;l=+u;f=+o;t=r;s[t>>2]=l;s[t+4>>2]=f;f=+U(+(u*u+o*o));if(f<1.1920928955078125E-7){_=1;c=n;return _|0}l=1/f;s[r>>2]=u*l;s[r+4>>2]=o*l;_=1;c=n;return _|0}function Lf(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,o=0,a=0,u=0,l=0,f=0;n=+s[t+12>>2];o=+s[e+12>>2];a=+s[t+8>>2];u=+s[e+16>>2];l=+s[t>>2]+(n*o-a*u);f=+s[t+4>>2]+(o*a+n*u);t=e+8|0;u=+s[t>>2];s[r>>2]=l-u;s[r+4>>2]=f-u;u=+s[t>>2];s[r+8>>2]=l+u;s[r+12>>2]=f+u;return}function Nf(e,r,t){e=e|0;r=r|0;t=+t;var i=0,n=0,a=0,u=0,l=0,f=0,c=0,d=0;i=e+8|0;n=+s[i>>2];a=n*t*3.1415927410125732*n;s[r>>2]=a;u=e+12|0;l=u;f=o[l+4>>2]|0;c=r+4|0;o[c>>2]=o[l>>2];o[c+4>>2]=f;n=+s[i>>2];t=+s[u>>2];d=+s[e+16>>2];s[r+12>>2]=a*(n*n*.5+(t*t+d*d));return}function If(e){e=e|0;var r=0;r=c;o[e>>2]=760;Bd(o[e+12>>2]|0);ab(e);c=r;return}function Jf(e){e=e|0;var r=0,t=0;r=c;o[e>>2]=760;t=e+12|0;Bd(o[t>>2]|0);o[t>>2]=0;o[e+16>>2]=0;c=r;return}function Gf(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,a=0,u=0;i=c;a=e+16|0;o[a>>2]=t;u=Dd(t<<3)|0;o[e+12>>2]=u;hb(u|0,r|0,o[a>>2]<<3|0)|0;a=e+20|0;o[a+0>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;n[a+16>>1]=0;c=i;return}function Wf(e,r){e=e|0;r=r|0;var t=0,a=0,u=0,l=0,f=0;t=c;a=wd(r,40)|0;if((a|0)==0)u=0;else{o[a>>2]=760;o[a+4>>2]=3;s[a+8>>2]=.009999999776482582;o[a+12>>2]=0;o[a+16>>2]=0;i[a+36>>0]=0;i[a+37>>0]=0;u=a}a=o[e+12>>2]|0;r=o[e+16>>2]|0;l=u+16|0;o[l>>2]=r;f=Dd(r<<3)|0;o[u+12>>2]=f;hb(f|0,a|0,o[l>>2]<<3|0)|0;l=u+20|0;o[l+0>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;n[l+16>>1]=0;l=e+20|0;a=o[l+4>>2]|0;f=u+20|0;o[f>>2]=o[l>>2];o[f+4>>2]=a;a=e+28|0;f=o[a+4>>2]|0;l=u+28|0;o[l>>2]=o[a>>2];o[l+4>>2]=f;i[u+36>>0]=i[e+36>>0]|0;i[u+37>>0]=i[e+37>>0]|0;c=t;return u|0}function Vf(e){e=e|0;return(o[e+16>>2]|0)+-1|0}function zf(e,r,t){e=e|0;r=r|0;t=t|0;var n=0,a=0,u=0,l=0,f=0,d=0;n=c;o[r+4>>2]=1;s[r+8>>2]=+s[e+8>>2];a=e+12|0;u=(o[a>>2]|0)+(t<<3)|0;l=o[u+4>>2]|0;f=r+12|0;o[f>>2]=o[u>>2];o[f+4>>2]=l;l=(o[a>>2]|0)+(t+1<<3)|0;f=o[l+4>>2]|0;u=r+20|0;o[u>>2]=o[l>>2];o[u+4>>2]=f;f=r+28|0;if((t|0)>0){u=(o[a>>2]|0)+(t+-1<<3)|0;l=o[u+4>>2]|0;d=f;o[d>>2]=o[u>>2];o[d+4>>2]=l;i[r+44>>0]=1}else{l=e+20|0;d=o[l+4>>2]|0;u=f;o[u>>2]=o[l>>2];o[u+4>>2]=d;i[r+44>>0]=i[e+36>>0]|0}d=r+36|0;if(((o[e+16>>2]|0)+-2|0)>(t|0)){u=(o[a>>2]|0)+(t+2<<3)|0;t=o[u+4>>2]|0;a=d;o[a>>2]=o[u>>2];o[a+4>>2]=t;i[r+45>>0]=1;c=n;return}else{t=e+28|0;a=o[t+4>>2]|0;u=d;o[u>>2]=o[t>>2];o[u+4>>2]=a;i[r+45>>0]=i[e+37>>0]|0;c=n;return}}function Hf(e,r,t,a,u,l){e=e|0;r=r|0;t=t|0;a=a|0;u=u|0;l=l|0;var f=0,d=0,b=0,h=0,_=0,m=0,p=0;f=c;c=c+48|0;d=f;o[d>>2]=488;b=d+4|0;h=d+8|0;_=d+28|0;o[_+0>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;n[_+16>>1]=0;o[b>>2]=1;s[h>>2]=+s[e+8>>2];h=o[e+12>>2]|0;b=h+(l<<3)|0;_=o[b+4>>2]|0;m=d+12|0;o[m>>2]=o[b>>2];o[m+4>>2]=_;_=h+(l+1<<3)|0;m=o[_+4>>2]|0;b=d+20|0;o[b>>2]=o[_>>2];o[b+4>>2]=m;m=d+28|0;if((l|0)>0){b=h+(l+-1<<3)|0;_=o[b+4>>2]|0;p=m;o[p>>2]=o[b>>2];o[p+4>>2]=_;i[d+44>>0]=1}else{_=e+20|0;p=o[_+4>>2]|0;b=m;o[b>>2]=o[_>>2];o[b+4>>2]=p;i[d+44>>0]=i[e+36>>0]|0}p=d+36|0;if(((o[e+16>>2]|0)+-2|0)>(l|0)){b=h+(l+2<<3)|0;l=o[b+4>>2]|0;h=p;o[h>>2]=o[b>>2];o[h+4>>2]=l;i[d+45>>0]=1;wf(d,r,t,a,u,0);c=f;return}else{l=e+28|0;h=o[l+4>>2]|0;b=p;o[b>>2]=o[l>>2];o[b+4>>2]=h;i[d+45>>0]=i[e+37>>0]|0;wf(d,r,t,a,u,0);c=f;return}}function Uf(e,r,t){e=e|0;r=r|0;t=t|0;return 0}function qf(e,r,t,i,a){e=e|0;r=r|0;t=t|0;i=i|0;a=a|0;var u=0,l=0,f=0,d=0,b=0;u=c;c=c+48|0;l=u;o[l>>2]=488;o[l+4>>2]=1;s[l+8>>2]=.009999999776482582;f=l+28|0;o[f+0>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;n[f+16>>1]=0;f=a+1|0;d=(f|0)==(o[e+16>>2]|0)?0:f;f=o[e+12>>2]|0;e=f+(a<<3)|0;a=o[e+4>>2]|0;b=l+12|0;o[b>>2]=o[e>>2];o[b+4>>2]=a;a=f+(d<<3)|0;d=o[a+4>>2]|0;f=l+20|0;o[f>>2]=o[a>>2];o[f+4>>2]=d;d=vf(l,r,t,i,0)|0;c=u;return d|0}function jf(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0;n=c;a=i+1|0;u=(a|0)==(o[e+16>>2]|0)?0:a;a=o[e+12>>2]|0;l=+s[t+12>>2];f=+s[a+(i<<3)>>2];d=+s[t+8>>2];b=+s[a+(i<<3)+4>>2];h=+s[t>>2];_=h+(l*f-d*b);m=+s[t+4>>2];p=f*d+l*b+m;b=+s[a+(u<<3)>>2];f=+s[a+(u<<3)+4>>2];y=h+(l*b-d*f);h=m+(d*b+l*f);f=+(_<y?_:y);l=+(p<h?p:h);u=r;s[u>>2]=f;s[u+4>>2]=l;l=+(_>y?_:y);y=+(p>h?p:h);u=r+8|0;s[u>>2]=l;s[u+4>>2]=y;c=n;return}function Yf(e,r,t){e=e|0;r=r|0;t=+t;e=c;o[r+0>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;c=e;return}function Zf(e){e=e|0;var r=0;r=c;nc(e);o[e+28>>2]=0;o[e+48>>2]=16;o[e+52>>2]=0;o[e+44>>2]=Dd(128)|0;o[e+36>>2]=16;o[e+40>>2]=0;o[e+32>>2]=Dd(64)|0;c=r;return}function Xf(e){e=e|0;var r=0;r=c;Bd(o[e+32>>2]|0);Bd(o[e+44>>2]|0);oc(e);c=r;return}function Kf(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0;i=c;n=uc(e,r,t)|0;t=e+28|0;o[t>>2]=(o[t>>2]|0)+1;t=e+40|0;r=o[t>>2]|0;a=e+36|0;u=e+32|0;if((r|0)==(o[a>>2]|0)){e=o[u>>2]|0;o[a>>2]=r<<1;a=Dd(r<<3)|0;o[u>>2]=a;hb(a|0,e|0,o[t>>2]<<2|0)|0;Bd(e);l=o[t>>2]|0}else l=r;o[(o[u>>2]|0)+(l<<2)>>2]=n;o[t>>2]=(o[t>>2]|0)+1;c=i;return n|0}function Qf(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,s=0;t=c;i=e+40|0;n=o[i>>2]|0;if((n|0)>0){a=o[e+32>>2]|0;u=n;n=0;while(1){l=a+(n<<2)|0;if((o[l>>2]|0)==(r|0)){o[l>>2]=-1;s=o[i>>2]|0}else s=u;n=n+1|0;if((n|0)>=(s|0))break;else u=s}}s=e+28|0;o[s>>2]=(o[s>>2]|0)+-1;sc(e,r);c=t;return}function $f(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0;n=c;if(!(cc(e,r,t,i)|0)){c=n;return}i=e+40|0;t=o[i>>2]|0;a=e+36|0;u=e+32|0;if((t|0)==(o[a>>2]|0)){e=o[u>>2]|0;o[a>>2]=t<<1;a=Dd(t<<3)|0;o[u>>2]=a;hb(a|0,e|0,o[i>>2]<<2|0)|0;Bd(e);l=o[i>>2]|0}else l=t;o[(o[u>>2]|0)+(l<<2)>>2]=r;o[i>>2]=(o[i>>2]|0)+1;c=n;return}function ec(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=c;i=e+40|0;n=o[i>>2]|0;a=e+36|0;u=e+32|0;if((n|0)==(o[a>>2]|0)){e=o[u>>2]|0;o[a>>2]=n<<1;a=Dd(n<<3)|0;o[u>>2]=a;hb(a|0,e|0,o[i>>2]<<2|0)|0;Bd(e);l=o[i>>2]|0}else l=n;o[(o[u>>2]|0)+(l<<2)>>2]=r;o[i>>2]=(o[i>>2]|0)+1;c=t;return}function rc(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0;t=c;i=e+56|0;n=o[i>>2]|0;if((n|0)==(r|0)){c=t;return 1}a=e+52|0;u=o[a>>2]|0;l=e+48|0;s=e+44|0;if((u|0)==(o[l>>2]|0)){e=o[s>>2]|0;o[l>>2]=u<<1;l=Dd(u<<4)|0;o[s>>2]=l;hb(l|0,e|0,o[a>>2]<<3|0)|0;Bd(e);f=o[i>>2]|0;d=o[a>>2]|0}else{f=n;d=u}u=o[s>>2]|0;o[u+(d<<3)>>2]=(f|0)>(r|0)?r:f;f=o[i>>2]|0;o[u+(o[a>>2]<<3)+4>>2]=(f|0)<(r|0)?r:f;o[a>>2]=(o[a>>2]|0)+1;c=t;return 1}function tc(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0;a=c;u=e+60|0;o[u>>2]=0;l=r+12|0;f=+s[t+12>>2];d=+s[l>>2];b=+s[t+8>>2];h=+s[r+16>>2];_=i+12|0;m=+s[n+12>>2];p=+s[_>>2];y=+s[n+8>>2];w=+s[i+16>>2];v=+s[n>>2]+(m*p-y*w)-(+s[t>>2]+(f*d-b*h));S=p*y+m*w+ +s[n+4>>2]-(d*b+f*h+ +s[t+4>>2]);h=+s[r+8>>2]+ +s[i+8>>2];if(v*v+S*S>h*h){c=a;return}o[e+56>>2]=0;i=l;l=o[i+4>>2]|0;r=e+48|0;o[r>>2]=o[i>>2];o[r+4>>2]=l;s[e+40>>2]=0;s[e+44>>2]=0;o[u>>2]=1;u=_;_=o[u+4>>2]|0;l=e;o[l>>2]=o[u>>2];o[l+4>>2]=_;o[e+16>>2]=0;c=a;return}function ic(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0;a=c;u=e+60|0;o[u>>2]=0;l=i+12|0;f=+s[n+12>>2];d=+s[l>>2];h=+s[n+8>>2];_=+s[i+16>>2];m=+s[n>>2]+(f*d-h*_)-+s[t>>2];p=d*h+f*_+ +s[n+4>>2]-+s[t+4>>2];_=+s[t+12>>2];f=+s[t+8>>2];h=m*_+p*f;d=_*p-m*f;f=+s[r+8>>2]+ +s[i+8>>2];i=o[r+148>>2]|0;do if((i|0)>0){t=0;n=0;m=-3.4028234663852886E38;while(1){p=(h-+s[r+(t<<3)+20>>2])*+s[r+(t<<3)+84>>2]+(d-+s[r+(t<<3)+24>>2])*+s[r+(t<<3)+88>>2];if(p>f){y=19;break}w=p>m;m=w?p:m;n=w?t:n;t=t+1|0;if((t|0)>=(i|0)){y=4;break}}if((y|0)==4){v=n;S=m<1.1920928955078125E-7;break}else if((y|0)==19){c=a;return}}else{v=0;S=1}while(0);y=v+1|0;t=r+(v<<3)+20|0;w=o[t>>2]|0;E=o[t+4>>2]|0;p=(o[b>>2]=w,+s[b>>2]);_=(o[b>>2]=E,+s[b>>2]);t=r+(((y|0)<(i|0)?y:0)<<3)+20|0;y=o[t>>2]|0;i=o[t+4>>2]|0;g=(o[b>>2]=y,+s[b>>2]);k=(o[b>>2]=i,+s[b>>2]);if(S){o[u>>2]=1;o[e+56>>2]=1;S=r+(v<<3)+84|0;t=o[S+4>>2]|0;M=e+40|0;o[M>>2]=o[S>>2];o[M+4>>2]=t;P=+((p+g)*.5);A=+((_+k)*.5);t=e+48|0;s[t>>2]=P;s[t+4>>2]=A;t=l;M=o[t+4>>2]|0;S=e;o[S>>2]=o[t>>2];o[S+4>>2]=M;o[e+16>>2]=0;c=a;return}A=h-p;P=d-_;F=h-g;C=d-k;if(A*(g-p)+P*(k-_)<=0){if(A*A+P*P>f*f){c=a;return}o[u>>2]=1;o[e+56>>2]=1;M=e+40|0;D=+A;B=+P;S=M;s[S>>2]=D;s[S+4>>2]=B;B=+U(+(A*A+P*P));if(!(B<1.1920928955078125E-7)){D=1/B;s[M>>2]=A*D;s[e+44>>2]=P*D}M=e+48|0;o[M>>2]=w;o[M+4>>2]=E;E=l;M=o[E+4>>2]|0;w=e;o[w>>2]=o[E>>2];o[w+4>>2]=M;o[e+16>>2]=0;c=a;return}if(!(F*(p-g)+C*(_-k)<=0)){D=(p+g)*.5;g=(_+k)*.5;M=r+(v<<3)+84|0;if((h-D)*+s[M>>2]+(d-g)*+s[r+(v<<3)+88>>2]>f){c=a;return}o[u>>2]=1;o[e+56>>2]=1;v=M;M=o[v+4>>2]|0;r=e+40|0;o[r>>2]=o[v>>2];o[r+4>>2]=M;d=+D;D=+g;M=e+48|0;s[M>>2]=d;s[M+4>>2]=D;M=l;r=o[M+4>>2]|0;v=e;o[v>>2]=o[M>>2];o[v+4>>2]=r;o[e+16>>2]=0;c=a;return}if(F*F+C*C>f*f){c=a;return}o[u>>2]=1;o[e+56>>2]=1;u=e+40|0;f=+F;D=+C;r=u;s[r>>2]=f;s[r+4>>2]=D;D=+U(+(F*F+C*C));if(!(D<1.1920928955078125E-7)){f=1/D;s[u>>2]=F*f;s[e+44>>2]=C*f}u=e+48|0;o[u>>2]=y;o[u+4>>2]=i;i=l;l=o[i+4>>2]|0;u=e;o[u>>2]=o[i>>2];o[u+4>>2]=l;o[e+16>>2]=0;c=a;return}function nc(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0;r=c;o[e>>2]=-1;t=e+12|0;o[t>>2]=16;o[e+8>>2]=0;i=Dd(576)|0;n=e+4|0;o[n>>2]=i;cb(i|0,0,(o[t>>2]|0)*36|0)|0;i=(o[t>>2]|0)+-1|0;a=o[n>>2]|0;if((i|0)>0){n=0;do{u=n;n=n+1|0;o[a+(u*36|0)+20>>2]=n;o[a+(u*36|0)+32>>2]=-1;u=(o[t>>2]|0)+-1|0}while((n|0)<(u|0));l=u}else l=i;o[a+(l*36|0)+20>>2]=-1;o[a+(((o[t>>2]|0)+-1|0)*36|0)+32>>2]=-1;o[e+16>>2]=0;o[e+20>>2]=0;o[e+24>>2]=0;c=r;return}function oc(e){e=e|0;var r=0;r=c;Bd(o[e+4>>2]|0);c=r;return}function ac(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0;r=c;t=e+16|0;i=o[t>>2]|0;n=e+4|0;a=o[n>>2]|0;if((i|0)==-1){u=e+12|0;l=o[u>>2]|0;o[u>>2]=l<<1;s=Dd(l*72|0)|0;o[n>>2]=s;l=e+8|0;hb(s|0,a|0,(o[l>>2]|0)*36|0)|0;Bd(a);s=o[l>>2]|0;f=(o[u>>2]|0)+-1|0;d=o[n>>2]|0;if((s|0)<(f|0)){n=s;do{s=n;n=n+1|0;o[d+(s*36|0)+20>>2]=n;o[d+(s*36|0)+32>>2]=-1;s=(o[u>>2]|0)+-1|0}while((n|0)<(s|0));b=s}else b=f;o[d+(b*36|0)+20>>2]=-1;o[d+(((o[u>>2]|0)+-1|0)*36|0)+32>>2]=-1;
u=o[l>>2]|0;o[t>>2]=u;h=l;_=d;m=u}else{h=e+8|0;_=a;m=i}i=_+(m*36|0)+20|0;o[t>>2]=o[i>>2];o[i>>2]=-1;o[_+(m*36|0)+24>>2]=-1;o[_+(m*36|0)+28>>2]=-1;o[_+(m*36|0)+32>>2]=0;o[_+(m*36|0)+16>>2]=0;o[h>>2]=(o[h>>2]|0)+1;c=r;return m|0}function uc(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,f=0;i=c;n=ac(e)|0;a=e+4|0;u=+(+s[r>>2]+-.10000000149011612);l=+(+s[r+4>>2]+-.10000000149011612);f=(o[a>>2]|0)+(n*36|0)|0;s[f>>2]=u;s[f+4>>2]=l;l=+(+s[r+8>>2]+.10000000149011612);u=+(+s[r+12>>2]+.10000000149011612);r=(o[a>>2]|0)+(n*36|0)+8|0;s[r>>2]=l;s[r+4>>2]=u;o[(o[a>>2]|0)+(n*36|0)+16>>2]=t;o[(o[a>>2]|0)+(n*36|0)+32>>2]=0;lc(e,n);c=i;return n|0}function lc(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0;t=c;i=e+24|0;o[i>>2]=(o[i>>2]|0)+1;i=o[e>>2]|0;if((i|0)==-1){o[e>>2]=r;o[(o[e+4>>2]|0)+(r*36|0)+20>>2]=-1;c=t;return}n=e+4|0;a=o[n>>2]|0;u=+s[a+(r*36|0)>>2];l=+s[a+(r*36|0)+4>>2];f=+s[a+(r*36|0)+8>>2];d=+s[a+(r*36|0)+12>>2];b=o[a+(i*36|0)+24>>2]|0;e:do if((b|0)==-1)h=i;else{_=b;m=i;while(1){p=o[a+(m*36|0)+28>>2]|0;y=+s[a+(m*36|0)+8>>2];w=+s[a+(m*36|0)>>2];v=+s[a+(m*36|0)+12>>2];S=+s[a+(m*36|0)+4>>2];E=((y>f?y:f)-(w<u?w:u)+((v>d?v:d)-(S<l?S:l)))*2;g=E*2;k=(E-(y-w+(v-S))*2)*2;S=+s[a+(_*36|0)>>2];v=u<S?u:S;w=+s[a+(_*36|0)+4>>2];y=l<w?l:w;E=+s[a+(_*36|0)+8>>2];M=f>E?f:E;P=+s[a+(_*36|0)+12>>2];A=d>P?d:P;if((o[a+(_*36|0)+24>>2]|0)==-1)F=(M-v+(A-y))*2;else F=(M-v+(A-y))*2-(E-S+(P-w))*2;w=k+F;P=+s[a+(p*36|0)>>2];S=u<P?u:P;E=+s[a+(p*36|0)+4>>2];y=l<E?l:E;A=+s[a+(p*36|0)+8>>2];v=f>A?f:A;M=+s[a+(p*36|0)+12>>2];C=d>M?d:M;if((o[a+(p*36|0)+24>>2]|0)==-1)D=(v-S+(C-y))*2;else D=(v-S+(C-y))*2-(A-P+(M-E))*2;E=k+D;if(g<w&g<E){h=m;break e}B=w<E?_:p;_=o[a+(B*36|0)+24>>2]|0;if((_|0)==-1){h=B;break}else m=B}}while(0);i=o[a+(h*36|0)+20>>2]|0;a=ac(e)|0;b=o[n>>2]|0;o[b+(a*36|0)+20>>2]=i;o[b+(a*36|0)+16>>2]=0;b=o[n>>2]|0;D=+s[b+(h*36|0)>>2];F=+s[b+(h*36|0)+4>>2];E=+(u<D?u:D);D=+(l<F?l:F);m=b+(a*36|0)|0;s[m>>2]=E;s[m+4>>2]=D;D=+s[b+(h*36|0)+8>>2];E=+s[b+(h*36|0)+12>>2];F=+(f>D?f:D);D=+(d>E?d:E);m=b+(a*36|0)+8|0;s[m>>2]=F;s[m+4>>2]=D;m=o[n>>2]|0;o[m+(a*36|0)+32>>2]=(o[m+(h*36|0)+32>>2]|0)+1;if((i|0)==-1){o[m+(a*36|0)+24>>2]=h;o[m+(a*36|0)+28>>2]=r;o[m+(h*36|0)+20>>2]=a;b=m+(r*36|0)+20|0;o[b>>2]=a;o[e>>2]=a;R=o[b>>2]|0}else{b=m+(i*36|0)+24|0;if((o[b>>2]|0)==(h|0))o[b>>2]=a;else o[m+(i*36|0)+28>>2]=a;o[m+(a*36|0)+24>>2]=h;o[m+(a*36|0)+28>>2]=r;o[m+(h*36|0)+20>>2]=a;o[m+(r*36|0)+20>>2]=a;R=a}if((R|0)==-1){c=t;return}else T=R;do{R=dc(e,T)|0;a=o[n>>2]|0;r=o[a+(R*36|0)+24>>2]|0;m=o[a+(R*36|0)+28>>2]|0;h=o[a+(r*36|0)+32>>2]|0;i=o[a+(m*36|0)+32>>2]|0;o[a+(R*36|0)+32>>2]=((h|0)>(i|0)?h:i)+1;D=+s[a+(r*36|0)>>2];F=+s[a+(m*36|0)>>2];E=+s[a+(r*36|0)+4>>2];d=+s[a+(m*36|0)+4>>2];f=+(D<F?D:F);F=+(E<d?E:d);i=a+(R*36|0)|0;s[i>>2]=f;s[i+4>>2]=F;F=+s[a+(r*36|0)+8>>2];f=+s[a+(m*36|0)+8>>2];d=+s[a+(r*36|0)+12>>2];E=+s[a+(m*36|0)+12>>2];D=+(F>f?F:f);f=+(d>E?d:E);m=a+(R*36|0)+8|0;s[m>>2]=D;s[m+4>>2]=f;T=o[(o[n>>2]|0)+(R*36|0)+20>>2]|0}while(!((T|0)==-1));c=t;return}function sc(e,r){e=e|0;r=r|0;var t=0,i=0,n=0;t=c;fc(e,r);i=e+16|0;n=o[e+4>>2]|0;o[n+(r*36|0)+20>>2]=o[i>>2];o[n+(r*36|0)+32>>2]=-1;o[i>>2]=r;r=e+8|0;o[r>>2]=(o[r>>2]|0)+-1;c=t;return}function fc(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0;t=c;if((o[e>>2]|0)==(r|0)){o[e>>2]=-1;c=t;return}i=e+4|0;n=o[i>>2]|0;a=o[n+(r*36|0)+20>>2]|0;u=n+(a*36|0)+20|0;l=o[u>>2]|0;f=o[n+(a*36|0)+24>>2]|0;if((f|0)==(r|0))d=o[n+(a*36|0)+28>>2]|0;else d=f;if((l|0)==-1){o[e>>2]=d;o[n+(d*36|0)+20>>2]=-1;f=e+16|0;o[u>>2]=o[f>>2];o[n+(a*36|0)+32>>2]=-1;o[f>>2]=a;f=e+8|0;o[f>>2]=(o[f>>2]|0)+-1;c=t;return}f=n+(l*36|0)+24|0;if((o[f>>2]|0)==(a|0))o[f>>2]=d;else o[n+(l*36|0)+28>>2]=d;o[n+(d*36|0)+20>>2]=l;d=e+16|0;o[u>>2]=o[d>>2];o[n+(a*36|0)+32>>2]=-1;o[d>>2]=a;a=e+8|0;o[a>>2]=(o[a>>2]|0)+-1;a=l;do{l=dc(e,a)|0;d=o[i>>2]|0;n=o[d+(l*36|0)+24>>2]|0;u=o[d+(l*36|0)+28>>2]|0;b=+s[d+(n*36|0)>>2];h=+s[d+(u*36|0)>>2];_=+s[d+(n*36|0)+4>>2];m=+s[d+(u*36|0)+4>>2];p=+(b<h?b:h);h=+(_<m?_:m);f=d+(l*36|0)|0;s[f>>2]=p;s[f+4>>2]=h;h=+s[d+(n*36|0)+8>>2];p=+s[d+(u*36|0)+8>>2];m=+s[d+(n*36|0)+12>>2];_=+s[d+(u*36|0)+12>>2];b=+(h>p?h:p);p=+(m>_?m:_);f=d+(l*36|0)+8|0;s[f>>2]=b;s[f+4>>2]=p;f=o[i>>2]|0;d=o[f+(n*36|0)+32>>2]|0;n=o[f+(u*36|0)+32>>2]|0;o[f+(l*36|0)+32>>2]=((d|0)>(n|0)?d:n)+1;a=o[f+(l*36|0)+20>>2]|0}while(!((a|0)==-1));c=t;return}function cc(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0;n=c;a=e+4|0;u=o[a>>2]|0;if(((+s[u+(r*36|0)>>2]<=+s[t>>2]?+s[u+(r*36|0)+4>>2]<=+s[t+4>>2]:0)?+s[t+8>>2]<=+s[u+(r*36|0)+8>>2]:0)?+s[t+12>>2]<=+s[u+(r*36|0)+12>>2]:0){l=0;c=n;return l|0}fc(e,r);u=t;f=+s[u>>2];d=+s[u+4>>2];u=t+8|0;b=+s[u>>2];h=f+-.10000000149011612;f=d+-.10000000149011612;d=b+.10000000149011612;b=+s[u+4>>2]+.10000000149011612;_=+s[i>>2]*2;m=+s[i+4>>2]*2;if(_<0){p=h+_;y=d}else{p=h;y=_+d}if(m<0){w=f+m;v=b}else{w=f;v=m+b}i=o[a>>2]|0;b=+p;p=+w;a=i+(r*36|0)|0;s[a>>2]=b;s[a+4>>2]=p;p=+y;y=+v;a=i+(r*36|0)+8|0;s[a>>2]=p;s[a+4>>2]=y;lc(e,r);l=1;c=n;return l|0}function dc(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0;t=c;i=o[e+4>>2]|0;n=i+(r*36|0)|0;a=i+(r*36|0)+24|0;u=o[a>>2]|0;if((u|0)==-1){l=r;c=t;return l|0}f=i+(r*36|0)+32|0;if((o[f>>2]|0)<2){l=r;c=t;return l|0}d=i+(r*36|0)+28|0;b=o[d>>2]|0;h=i+(u*36|0)|0;_=i+(b*36|0)|0;m=i+(b*36|0)+32|0;p=i+(u*36|0)+32|0;y=(o[m>>2]|0)-(o[p>>2]|0)|0;if((y|0)>1){w=i+(b*36|0)+24|0;v=o[w>>2]|0;S=i+(b*36|0)+28|0;E=o[S>>2]|0;g=i+(v*36|0)|0;k=i+(E*36|0)|0;o[w>>2]=r;w=i+(r*36|0)+20|0;M=i+(b*36|0)+20|0;o[M>>2]=o[w>>2];o[w>>2]=b;w=o[M>>2]|0;do if(!((w|0)==-1)){M=i+(w*36|0)+24|0;if((o[M>>2]|0)==(r|0)){o[M>>2]=b;break}else{o[i+(w*36|0)+28>>2]=b;break}}else o[e>>2]=b;while(0);w=i+(v*36|0)+32|0;M=i+(E*36|0)+32|0;if((o[w>>2]|0)>(o[M>>2]|0)){o[S>>2]=v;o[d>>2]=E;o[i+(E*36|0)+20>>2]=r;P=+s[h>>2];A=+s[k>>2];F=P<A?P:A;A=+s[i+(u*36|0)+4>>2];P=+s[i+(E*36|0)+4>>2];C=+F;D=+(A<P?A:P);B=n;s[B>>2]=C;s[B+4>>2]=D;D=+s[i+(u*36|0)+8>>2];C=+s[i+(E*36|0)+8>>2];P=+s[i+(u*36|0)+12>>2];A=+s[i+(E*36|0)+12>>2];R=+(D>C?D:C);C=+(P>A?P:A);B=i+(r*36|0)+8|0;s[B>>2]=R;s[B+4>>2]=C;C=+s[g>>2];R=+s[i+(r*36|0)+4>>2];A=+s[i+(v*36|0)+4>>2];P=+(F<C?F:C);C=+(R<A?R:A);B=_;s[B>>2]=P;s[B+4>>2]=C;C=+s[i+(r*36|0)+8>>2];P=+s[i+(v*36|0)+8>>2];A=+s[i+(r*36|0)+12>>2];R=+s[i+(v*36|0)+12>>2];F=+(C>P?C:P);P=+(A>R?A:R);B=i+(b*36|0)+8|0;s[B>>2]=F;s[B+4>>2]=P;B=o[p>>2]|0;T=o[M>>2]|0;O=((B|0)>(T|0)?B:T)+1|0;o[f>>2]=O;T=o[w>>2]|0;x=(O|0)>(T|0)?O:T}else{o[S>>2]=E;o[d>>2]=v;o[i+(v*36|0)+20>>2]=r;P=+s[h>>2];F=+s[g>>2];R=P<F?P:F;F=+s[i+(u*36|0)+4>>2];P=+s[i+(v*36|0)+4>>2];A=+R;C=+(F<P?F:P);g=n;s[g>>2]=A;s[g+4>>2]=C;C=+s[i+(u*36|0)+8>>2];A=+s[i+(v*36|0)+8>>2];P=+s[i+(u*36|0)+12>>2];F=+s[i+(v*36|0)+12>>2];D=+(C>A?C:A);A=+(P>F?P:F);v=i+(r*36|0)+8|0;s[v>>2]=D;s[v+4>>2]=A;A=+s[k>>2];D=+s[i+(r*36|0)+4>>2];F=+s[i+(E*36|0)+4>>2];P=+(R<A?R:A);A=+(D<F?D:F);k=_;s[k>>2]=P;s[k+4>>2]=A;A=+s[i+(r*36|0)+8>>2];P=+s[i+(E*36|0)+8>>2];F=+s[i+(r*36|0)+12>>2];D=+s[i+(E*36|0)+12>>2];R=+(A>P?A:P);P=+(F>D?F:D);E=i+(b*36|0)+8|0;s[E>>2]=R;s[E+4>>2]=P;E=o[p>>2]|0;k=o[w>>2]|0;w=((E|0)>(k|0)?E:k)+1|0;o[f>>2]=w;k=o[M>>2]|0;x=(w|0)>(k|0)?w:k}o[m>>2]=x+1;l=b;c=t;return l|0}if(!((y|0)<-1)){l=r;c=t;return l|0}y=i+(u*36|0)+24|0;x=o[y>>2]|0;k=i+(u*36|0)+28|0;w=o[k>>2]|0;M=i+(x*36|0)|0;E=i+(w*36|0)|0;o[y>>2]=r;y=i+(r*36|0)+20|0;v=i+(u*36|0)+20|0;o[v>>2]=o[y>>2];o[y>>2]=u;y=o[v>>2]|0;do if(!((y|0)==-1)){v=i+(y*36|0)+24|0;if((o[v>>2]|0)==(r|0)){o[v>>2]=u;break}else{o[i+(y*36|0)+28>>2]=u;break}}else o[e>>2]=u;while(0);e=i+(x*36|0)+32|0;y=i+(w*36|0)+32|0;if((o[e>>2]|0)>(o[y>>2]|0)){o[k>>2]=x;o[a>>2]=w;o[i+(w*36|0)+20>>2]=r;P=+s[_>>2];R=+s[E>>2];D=P<R?P:R;R=+s[i+(b*36|0)+4>>2];P=+s[i+(w*36|0)+4>>2];F=+D;A=+(R<P?R:P);v=n;s[v>>2]=F;s[v+4>>2]=A;A=+s[i+(b*36|0)+8>>2];F=+s[i+(w*36|0)+8>>2];P=+s[i+(b*36|0)+12>>2];R=+s[i+(w*36|0)+12>>2];C=+(A>F?A:F);F=+(P>R?P:R);v=i+(r*36|0)+8|0;s[v>>2]=C;s[v+4>>2]=F;F=+s[M>>2];C=+s[i+(r*36|0)+4>>2];R=+s[i+(x*36|0)+4>>2];P=+(D<F?D:F);F=+(C<R?C:R);v=h;s[v>>2]=P;s[v+4>>2]=F;F=+s[i+(r*36|0)+8>>2];P=+s[i+(x*36|0)+8>>2];R=+s[i+(r*36|0)+12>>2];C=+s[i+(x*36|0)+12>>2];D=+(F>P?F:P);P=+(R>C?R:C);v=i+(u*36|0)+8|0;s[v>>2]=D;s[v+4>>2]=P;v=o[m>>2]|0;g=o[y>>2]|0;d=((v|0)>(g|0)?v:g)+1|0;o[f>>2]=d;g=o[e>>2]|0;L=(d|0)>(g|0)?d:g}else{o[k>>2]=w;o[a>>2]=x;o[i+(x*36|0)+20>>2]=r;P=+s[_>>2];D=+s[M>>2];C=P<D?P:D;D=+s[i+(b*36|0)+4>>2];P=+s[i+(x*36|0)+4>>2];R=+C;F=+(D<P?D:P);M=n;s[M>>2]=R;s[M+4>>2]=F;F=+s[i+(b*36|0)+8>>2];R=+s[i+(x*36|0)+8>>2];P=+s[i+(b*36|0)+12>>2];D=+s[i+(x*36|0)+12>>2];A=+(F>R?F:R);R=+(P>D?P:D);x=i+(r*36|0)+8|0;s[x>>2]=A;s[x+4>>2]=R;R=+s[E>>2];A=+s[i+(r*36|0)+4>>2];D=+s[i+(w*36|0)+4>>2];P=+(C<R?C:R);R=+(A<D?A:D);E=h;s[E>>2]=P;s[E+4>>2]=R;R=+s[i+(r*36|0)+8>>2];P=+s[i+(w*36|0)+8>>2];D=+s[i+(r*36|0)+12>>2];A=+s[i+(w*36|0)+12>>2];C=+(R>P?R:P);P=+(D>A?D:A);w=i+(u*36|0)+8|0;s[w>>2]=C;s[w+4>>2]=P;w=o[m>>2]|0;m=o[e>>2]|0;e=((w|0)>(m|0)?w:m)+1|0;o[f>>2]=e;f=o[y>>2]|0;L=(e|0)>(f|0)?e:f}o[p>>2]=L+1;l=u;c=t;return l|0}function bc(e,r,t,n,a){e=e|0;r=r|0;t=t|0;n=n|0;a=a|0;var u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0;u=c;l=e+60|0;o[l>>2]=0;f=n+12|0;d=+s[a+12>>2];h=+s[f>>2];_=+s[a+8>>2];m=+s[n+16>>2];p=+s[a>>2]+(d*h-_*m)-+s[t>>2];y=h*_+d*m+ +s[a+4>>2]-+s[t+4>>2];m=+s[t+12>>2];d=+s[t+8>>2];_=p*m+y*d;h=m*y-p*d;t=r+12|0;a=o[t>>2]|0;w=o[t+4>>2]|0;d=(o[b>>2]=a,+s[b>>2]);p=(o[b>>2]=w,+s[b>>2]);t=r+20|0;v=o[t>>2]|0;S=o[t+4>>2]|0;y=(o[b>>2]=v,+s[b>>2]);m=(o[b>>2]=S,+s[b>>2]);E=y-d;g=m-p;k=E*(y-_)+g*(m-h);M=_-d;P=h-p;A=M*E+P*g;F=+s[r+8>>2]+ +s[n+8>>2];if(A<=0){if(M*M+P*P>F*F){c=u;return}if((i[r+44>>0]|0)!=0?(n=r+28|0,C=+s[n>>2],(d-_)*(d-C)+(p-h)*(p-+s[n+4>>2])>0):0){c=u;return}o[l>>2]=1;o[e+56>>2]=0;s[e+40>>2]=0;s[e+44>>2]=0;n=e+48|0;o[n>>2]=a;o[n+4>>2]=w;n=e+16|0;o[n>>2]=0;i[n>>0]=0;i[n+1>>0]=0;i[n+2>>0]=0;i[n+3>>0]=0;n=f;t=o[n+4>>2]|0;D=e;o[D>>2]=o[n>>2];o[D+4>>2]=t;c=u;return}if(k<=0){C=_-y;B=h-m;if(C*C+B*B>F*F){c=u;return}if((i[r+45>>0]|0)!=0?(t=r+36|0,R=+s[t>>2],C*(R-y)+B*(+s[t+4>>2]-m)>0):0){c=u;return}o[l>>2]=1;o[e+56>>2]=0;s[e+40>>2]=0;s[e+44>>2]=0;t=e+48|0;o[t>>2]=v;o[t+4>>2]=S;S=e+16|0;o[S>>2]=0;i[S>>0]=1;i[S+1>>0]=0;i[S+2>>0]=0;i[S+3>>0]=0;S=f;t=o[S+4>>2]|0;v=e;o[v>>2]=o[S>>2];o[v+4>>2]=t;c=u;return}B=1/(E*E+g*g);R=_-(d*k+y*A)*B;y=h-(p*k+m*A)*B;if(R*R+y*y>F*F){c=u;return}F=-g;if(E*P+M*F<0){T=g;O=-E}else{T=F;O=E}E=+U(+(O*O+T*T));if(E<1.1920928955078125E-7){x=T;L=O}else{F=1/E;x=T*F;L=O*F}o[l>>2]=1;o[e+56>>2]=1;F=+x;x=+L;l=e+40|0;s[l>>2]=F;s[l+4>>2]=x;l=e+48|0;o[l>>2]=a;o[l+4>>2]=w;w=e+16|0;o[w>>2]=0;i[w>>0]=0;i[w+1>>0]=0;i[w+2>>0]=1;i[w+3>>0]=0;w=f;f=o[w+4>>2]|0;l=e;o[l>>2]=o[w>>2];o[l+4>>2]=f;c=u;return}function hc(e,r,t,n,a,u){e=e|0;r=r|0;t=t|0;n=n|0;a=a|0;u=u|0;var l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0,Pe=0,Ae=0,Fe=0,Ce=0,De=0;l=c;c=c+144|0;f=l+128|0;d=l+24|0;h=l+72|0;_=l+48|0;m=l;p=e+132|0;y=+s[n+12>>2];w=+s[u+8>>2];v=+s[n+8>>2];S=+s[u+12>>2];E=y*w-v*S;g=w*v+y*S;S=+E;w=+g;k=+s[u>>2]-+s[n>>2];M=+s[u+4>>2]-+s[n+4>>2];P=y*k+v*M;A=y*M-v*k;k=+P;v=+A;n=p;s[n>>2]=k;s[n+4>>2]=v;n=e+140|0;s[n>>2]=S;s[n+4>>2]=w;n=e+144|0;w=+s[a+12>>2];u=e+140|0;S=+s[a+16>>2];v=P+(g*w-E*S);F=e+136|0;P=w*E+g*S+A;A=+v;S=+P;C=e+148|0;s[C>>2]=A;s[C+4>>2]=S;C=t+28|0;D=o[C>>2]|0;B=o[C+4>>2]|0;C=e+156|0;o[C>>2]=D;o[C+4>>2]=B;C=e+164|0;R=t+12|0;T=o[R>>2]|0;O=o[R+4>>2]|0;R=C;o[R>>2]=T;o[R+4>>2]=O;R=e+172|0;x=t+20|0;L=o[x>>2]|0;N=o[x+4>>2]|0;x=R;o[x>>2]=L;o[x+4>>2]=N;x=t+36|0;I=o[x>>2]|0;J=o[x+4>>2]|0;x=e+180|0;o[x>>2]=I;o[x+4>>2]=J;x=(i[t+44>>0]|0)!=0;G=(i[t+45>>0]|0)!=0;S=(o[b>>2]=L,+s[b>>2]);A=(o[b>>2]=T,+s[b>>2]);g=S-A;E=(o[b>>2]=N,+s[b>>2]);N=e+168|0;w=(o[b>>2]=O,+s[b>>2]);k=E-w;M=+U(+(g*g+k*k));y=(o[b>>2]=D,+s[b>>2]);W=(o[b>>2]=B,+s[b>>2]);V=(o[b>>2]=I,+s[b>>2]);z=(o[b>>2]=J,+s[b>>2]);if(M<1.1920928955078125E-7){H=g;q=k}else{j=1/M;H=g*j;q=k*j}J=e+196|0;j=-H;s[J>>2]=q;I=e+200|0;s[I>>2]=j;k=(v-A)*q+(P-w)*j;if(x){j=A-y;A=w-W;w=+U(+(j*j+A*A));if(w<1.1920928955078125E-7){Y=j;Z=A}else{g=1/w;Y=j*g;Z=A*g}g=-Y;s[e+188>>2]=Z;s[e+192>>2]=g;X=q*Y-H*Z>=0;K=(v-y)*Z+(P-W)*g}else{X=0;K=0}e:do if(!G){if(!x){B=k>=0;i[e+248>>0]=B&1;D=e+212|0;if(B){Q=D;$=64;break}else{ee=D;$=65;break}}D=K>=0;if(X){if(!D){B=k>=0;i[e+248>>0]=B&1;O=e+212|0;if(B)re=O;else{g=+-q;W=+H;B=O;s[B>>2]=g;s[B+4>>2]=W;B=J;O=o[B>>2]|0;T=o[B+4>>2]|0;B=e+228|0;o[B>>2]=O;o[B+4>>2]=T;T=e+236|0;s[T>>2]=-(o[b>>2]=O,+s[b>>2]);s[T+4>>2]=W;break}}else{i[e+248>>0]=1;re=e+212|0}T=J;O=o[T+4>>2]|0;B=re;o[B>>2]=o[T>>2];o[B+4>>2]=O;O=e+188|0;B=o[O+4>>2]|0;T=e+228|0;o[T>>2]=o[O>>2];o[T+4>>2]=B;W=+-+s[J>>2];g=+-+s[I>>2];B=e+236|0;s[B>>2]=W;s[B+4>>2]=g;break}else{if(D){D=k>=0;i[e+248>>0]=D&1;B=e+212|0;if(D){D=J;T=o[D>>2]|0;O=o[D+4>>2]|0;D=B;o[D>>2]=T;o[D+4>>2]=O;D=e+228|0;o[D>>2]=T;o[D+4>>2]=O;g=+-(o[b>>2]=T,+s[b>>2]);W=+H;T=e+236|0;s[T>>2]=g;s[T+4>>2]=W;break}else te=B}else{i[e+248>>0]=0;te=e+212|0}W=+-q;g=+H;B=te;s[B>>2]=W;s[B+4>>2]=g;B=J;T=o[B+4>>2]|0;O=e+228|0;o[O>>2]=o[B>>2];o[O+4>>2]=T;g=+-+s[e+188>>2];W=+-+s[e+192>>2];T=e+236|0;s[T>>2]=g;s[T+4>>2]=W;break}}else{W=V-S;g=z-E;Z=+U(+(W*W+g*g));if(Z<1.1920928955078125E-7){ie=W;ne=g}else{y=1/Z;ie=W*y;ne=g*y}y=-ie;T=e+204|0;s[T>>2]=ne;O=e+208|0;s[O>>2]=y;B=H*ne-q*ie>0;g=(v-S)*ne+(P-E)*y;if(!x){D=k>=0;if(!G){i[e+248>>0]=D&1;L=e+212|0;if(D){Q=L;$=64;break}else{ee=L;$=65;break}}if(B){if(!D){L=g>=0;i[e+248>>0]=L&1;t=e+212|0;if(L)oe=t;else{y=+-q;W=+H;L=t;s[L>>2]=y;s[L+4>>2]=W;L=e+228|0;s[L>>2]=y;s[L+4>>2]=W;L=J;t=o[L+4>>2]|0;ae=e+236|0;o[ae>>2]=o[L>>2];o[ae+4>>2]=t;break}}else{i[e+248>>0]=1;oe=e+212|0}t=J;ae=o[t+4>>2]|0;L=oe;o[L>>2]=o[t>>2];o[L+4>>2]=ae;W=+-+s[J>>2];y=+-+s[I>>2];ae=e+228|0;s[ae>>2]=W;s[ae+4>>2]=y;ae=e+204|0;L=o[ae+4>>2]|0;t=e+236|0;o[t>>2]=o[ae>>2];o[t+4>>2]=L;break}else{if(D){D=g>=0;i[e+248>>0]=D&1;L=e+212|0;if(D){D=J;t=o[D>>2]|0;ae=o[D+4>>2]|0;D=L;o[D>>2]=t;o[D+4>>2]=ae;y=+-(o[b>>2]=t,+s[b>>2]);W=+H;D=e+228|0;s[D>>2]=y;s[D+4>>2]=W;D=e+236|0;o[D>>2]=t;o[D+4>>2]=ae;break}else ue=L}else{i[e+248>>0]=0;ue=e+212|0}W=+-q;y=+H;L=ue;s[L>>2]=W;s[L+4>>2]=y;y=+-+s[e+204>>2];W=+-+s[e+208>>2];L=e+228|0;s[L>>2]=y;s[L+4>>2]=W;L=J;ae=o[L+4>>2]|0;D=e+236|0;o[D>>2]=o[L>>2];o[D+4>>2]=ae;break}}if(X&B){if(!(K>=0)&!(k>=0)){ae=g>=0;i[e+248>>0]=ae&1;D=e+212|0;if(ae)le=D;else{W=+-q;y=+H;ae=D;s[ae>>2]=W;s[ae+4>>2]=y;ae=e+228|0;s[ae>>2]=W;s[ae+4>>2]=y;ae=e+236|0;s[ae>>2]=W;s[ae+4>>2]=y;break}}else{i[e+248>>0]=1;le=e+212|0}ae=J;D=o[ae+4>>2]|0;L=le;o[L>>2]=o[ae>>2];o[L+4>>2]=D;D=e+188|0;L=o[D+4>>2]|0;ae=e+228|0;o[ae>>2]=o[D>>2];o[ae+4>>2]=L;L=e+204|0;ae=o[L+4>>2]|0;D=e+236|0;o[D>>2]=o[L>>2];o[D+4>>2]=ae;break}if(X){do if(!(K>=0)){if(k>=0){ae=g>=0;i[e+248>>0]=ae&1;D=e+212|0;if(ae){se=D;break}else fe=D}else{i[e+248>>0]=0;fe=e+212|0}y=+-q;W=+H;D=fe;s[D>>2]=y;s[D+4>>2]=W;W=+-+s[T>>2];y=+-+s[O>>2];D=e+228|0;s[D>>2]=W;s[D+4>>2]=y;y=+-+s[J>>2];W=+-+s[I>>2];D=e+236|0;s[D>>2]=y;s[D+4>>2]=W;break e}else{i[e+248>>0]=1;se=e+212|0}while(0);D=J;ae=o[D+4>>2]|0;L=se;o[L>>2]=o[D>>2];o[L+4>>2]=ae;ae=e+188|0;L=o[ae+4>>2]|0;D=e+228|0;o[D>>2]=o[ae>>2];o[D+4>>2]=L;L=J;D=o[L+4>>2]|0;ae=e+236|0;o[ae>>2]=o[L>>2];o[ae+4>>2]=D;break}if(!B){if(!(!(K>=0)|!(k>=0))){D=g>=0;i[e+248>>0]=D&1;ae=e+212|0;if(D){D=J;L=o[D>>2]|0;t=o[D+4>>2]|0;D=ae;o[D>>2]=L;o[D+4>>2]=t;D=e+228|0;o[D>>2]=L;o[D+4>>2]=t;D=e+236|0;o[D>>2]=L;o[D+4>>2]=t;break}else ce=ae}else{i[e+248>>0]=0;ce=e+212|0}W=+-q;y=+H;ae=ce;s[ae>>2]=W;s[ae+4>>2]=y;y=+-+s[T>>2];W=+-+s[O>>2];ae=e+228|0;s[ae>>2]=y;s[ae+4>>2]=W;W=+-+s[e+188>>2];y=+-+s[e+192>>2];ae=e+236|0;s[ae>>2]=W;s[ae+4>>2]=y;break}do if(!(g>=0)){if(K>=0){ae=k>=0;i[e+248>>0]=ae&1;t=e+212|0;if(ae){de=t;break}else be=t}else{i[e+248>>0]=0;be=e+212|0}y=+-q;W=+H;t=be;s[t>>2]=y;s[t+4>>2]=W;W=+-+s[J>>2];y=+-+s[I>>2];t=e+228|0;s[t>>2]=W;s[t+4>>2]=y;y=+-+s[e+188>>2];W=+-+s[e+192>>2];t=e+236|0;s[t>>2]=y;s[t+4>>2]=W;break e}else{i[e+248>>0]=1;de=e+212|0}while(0);O=J;T=o[O+4>>2]|0;B=de;o[B>>2]=o[O>>2];o[B+4>>2]=T;T=J;B=o[T+4>>2]|0;O=e+228|0;o[O>>2]=o[T>>2];o[O+4>>2]=B;B=e+204|0;O=o[B+4>>2]|0;T=e+236|0;o[T>>2]=o[B>>2];o[T+4>>2]=O}while(0);if(($|0)==64){de=J;be=o[de>>2]|0;ce=o[de+4>>2]|0;de=Q;o[de>>2]=be;o[de+4>>2]=ce;k=+-(o[b>>2]=be,+s[b>>2]);K=+H;be=e+228|0;s[be>>2]=k;s[be+4>>2]=K;be=e+236|0;s[be>>2]=k;s[be+4>>2]=K}else if(($|0)==65){K=+-q;q=+H;be=ee;s[be>>2]=K;s[be+4>>2]=q;be=J;ee=o[be>>2]|0;ce=o[be+4>>2]|0;be=e+228|0;o[be>>2]=ee;o[be+4>>2]=ce;be=e+236|0;o[be>>2]=ee;o[be+4>>2]=ce}ce=a+148|0;be=e+128|0;o[be>>2]=o[ce>>2];if((o[ce>>2]|0)>0){ee=0;do{q=+s[n>>2];K=+s[a+(ee<<3)+20>>2];H=+s[u>>2];k=+s[a+(ee<<3)+24>>2];E=+(+s[p>>2]+(q*K-H*k));P=+(K*H+q*k+ +s[F>>2]);de=e+(ee<<3)|0;s[de>>2]=E;s[de+4>>2]=P;P=+s[n>>2];E=+s[a+(ee<<3)+84>>2];k=+s[u>>2];q=+s[a+(ee<<3)+88>>2];H=+(P*E-k*q);K=+(E*k+P*q);de=e+(ee<<3)+64|0;s[de>>2]=H;s[de+4>>2]=K;ee=ee+1|0}while((ee|0)<(o[ce>>2]|0))}ce=e+244|0;s[ce>>2]=.019999999552965164;ee=r+60|0;o[ee>>2]=0;de=e+248|0;Q=o[be>>2]|0;if((Q|0)<=0){c=l;return}K=+s[e+164>>2];H=+s[N>>2];q=+s[e+212>>2];P=+s[e+216>>2];k=3.4028234663852886E38;N=0;do{E=q*(+s[e+(N<<3)>>2]-K)+P*(+s[e+(N<<3)+4>>2]-H);k=E<k?E:k;N=N+1|0}while((N|0)!=(Q|0));if(k>.019999999552965164){c=l;return}_c(f,e);Q=o[f>>2]|0;if((Q|0)!=0){H=+s[f+8>>2];if(H>+s[ce>>2]){c=l;return}if(H>k*.9800000190734863+.0010000000474974513){N=o[f+4>>2]|0;f=r+56|0;if((Q|0)==1){he=d;_e=f;$=77}else{o[f>>2]=2;f=C;Q=o[f+4>>2]|0;se=d;o[se>>2]=o[f>>2];o[se+4>>2]=Q;Q=d+8|0;i[Q>>0]=0;se=N&255;i[Q+1>>0]=se;i[Q+2>>0]=0;i[Q+3>>0]=1;Q=R;f=o[Q+4>>2]|0;fe=d+12|0;o[fe>>2]=o[Q>>2];o[fe+4>>2]=f;f=d+20|0;i[f>>0]=0;i[f+1>>0]=se;i[f+2>>0]=0;i[f+3>>0]=1;o[h>>2]=N;f=N+1|0;se=(f|0)<(o[be>>2]|0)?f:0;o[h+4>>2]=se;f=e+(N<<3)|0;fe=o[f>>2]|0;Q=o[f+4>>2]|0;f=h+8|0;o[f>>2]=fe;o[f+4>>2]=Q;f=e+(se<<3)|0;se=o[f>>2]|0;X=o[f+4>>2]|0;f=h+16|0;o[f>>2]=se;o[f+4>>2]=X;f=e+(N<<3)+64|0;le=o[f>>2]|0;ue=o[f+4>>2]|0;f=h+24|0;o[f>>2]=le;o[f+4>>2]=ue;me=X;pe=se;ye=Q;we=fe;ve=le;Se=ue;Ee=d;ge=N;ke=0}}else $=75}else $=75;if(($|0)==75){he=d;_e=r+56|0;$=77}do if(($|0)==77){o[_e>>2]=1;N=o[be>>2]|0;if((N|0)>1){k=+s[e+216>>2];H=+s[e+212>>2];ue=0;P=H*+s[e+64>>2]+k*+s[e+68>>2];le=1;while(1){K=H*+s[e+(le<<3)+64>>2]+k*+s[e+(le<<3)+68>>2];fe=K<P;Q=fe?le:ue;le=le+1|0;if((le|0)>=(N|0)){Me=Q;break}else{ue=Q;P=fe?K:P}}}else Me=0;ue=Me+1|0;le=(ue|0)<(N|0)?ue:0;ue=e+(Me<<3)|0;fe=o[ue+4>>2]|0;Q=d;o[Q>>2]=o[ue>>2];o[Q+4>>2]=fe;fe=d+8|0;i[fe>>0]=0;i[fe+1>>0]=Me;i[fe+2>>0]=1;i[fe+3>>0]=0;fe=e+(le<<3)|0;Q=o[fe+4>>2]|0;ue=d+12|0;o[ue>>2]=o[fe>>2];o[ue+4>>2]=Q;Q=d+20|0;i[Q>>0]=0;i[Q+1>>0]=le;i[Q+2>>0]=1;i[Q+3>>0]=0;if((i[de>>0]|0)==0){o[h>>2]=1;o[h+4>>2]=0;Q=R;le=o[Q>>2]|0;ue=o[Q+4>>2]|0;Q=h+8|0;o[Q>>2]=le;o[Q+4>>2]=ue;Q=C;fe=o[Q>>2]|0;se=o[Q+4>>2]|0;Q=h+16|0;o[Q>>2]=fe;o[Q+4>>2]=se;Q=(s[b>>2]=-+s[J>>2],o[b>>2]|0);X=(s[b>>2]=-+s[I>>2],o[b>>2]|0);f=h+24|0;o[f>>2]=Q;o[f+4>>2]=X;me=se;pe=fe;ye=ue;we=le;ve=Q;Se=X;Ee=he;ge=1;ke=1;break}else{o[h>>2]=0;o[h+4>>2]=1;X=C;Q=o[X>>2]|0;le=o[X+4>>2]|0;X=h+8|0;o[X>>2]=Q;o[X+4>>2]=le;X=R;ue=o[X>>2]|0;fe=o[X+4>>2]|0;X=h+16|0;o[X>>2]=ue;o[X+4>>2]=fe;X=J;se=o[X>>2]|0;f=o[X+4>>2]|0;X=h+24|0;o[X>>2]=se;o[X+4>>2]=f;me=fe;pe=ue;ye=le;we=Q;ve=se;Se=f;Ee=he;ge=0;ke=1;break}}while(0);P=(o[b>>2]=Se,+s[b>>2]);k=(o[b>>2]=ve,+s[b>>2]);H=(o[b>>2]=we,+s[b>>2]);K=(o[b>>2]=ye,+s[b>>2]);q=(o[b>>2]=pe,+s[b>>2]);E=(o[b>>2]=me,+s[b>>2]);me=h+32|0;pe=h+24|0;ye=h+28|0;ne=-k;s[me>>2]=P;s[h+36>>2]=ne;we=h+44|0;k=-P;Se=we;s[Se>>2]=k;o[Se+4>>2]=ve;Se=h+8|0;he=h+12|0;S=P*H+K*ne;s[h+40>>2]=S;J=h+52|0;s[J>>2]=q*k+(o[b>>2]=ve,+s[b>>2])*E;if((vc(_,Ee,me,S,ge)|0)<2){c=l;return}if((vc(m,_,we,+s[J>>2],o[h+4>>2]|0)|0)<2){c=l;return}J=r+40|0;if(ke){ke=pe;we=o[ke>>2]|0;_=o[ke+4>>2]|0;ke=J;o[ke>>2]=we;o[ke+4>>2]=_;_=Se;ke=o[_>>2]|0;ge=o[_+4>>2]|0;_=r+48|0;o[_>>2]=ke;o[_+4>>2]=ge;S=(o[b>>2]=ke,+s[b>>2]);E=(o[b>>2]=we,+s[b>>2]);k=+s[he>>2];q=+s[ye>>2];ne=+s[m>>2];K=+s[m+4>>2];H=+s[ce>>2];if(!((ne-S)*E+(K-k)*q<=H)){Pe=H;Ae=0}else{H=ne-+s[p>>2];ne=K-+s[F>>2];K=+s[n>>2];P=+s[u>>2];v=+(H*K+ne*P);ie=+(K*ne-H*P);we=r;s[we>>2]=v;s[we+4>>2]=ie;o[r+16>>2]=o[m+8>>2];Pe=+s[ce>>2];Ae=1}ie=+s[m+12>>2];v=+s[m+16>>2];if(!((ie-S)*E+(v-k)*q<=Pe))Fe=Ae;else{Pe=ie-+s[p>>2];ie=v-+s[F>>2];v=+s[n>>2];q=+s[u>>2];k=+(Pe*v+ie*q);E=+(v*ie-Pe*q);u=r+(Ae*20|0)|0;s[u>>2]=k;s[u+4>>2]=E;o[r+(Ae*20|0)+16>>2]=o[m+20>>2];Fe=Ae+1|0}}else{Ae=o[h>>2]|0;h=a+(Ae<<3)+84|0;u=o[h+4>>2]|0;n=J;o[n>>2]=o[h>>2];o[n+4>>2]=u;u=a+(Ae<<3)+20|0;Ae=o[u+4>>2]|0;a=r+48|0;o[a>>2]=o[u>>2];o[a+4>>2]=Ae;E=+s[Se>>2];k=+s[pe>>2];q=+s[he>>2];Pe=+s[ye>>2];ie=+s[ce>>2];if(!((+s[m>>2]-E)*k+(+s[m+4>>2]-q)*Pe<=ie)){Ce=ie;De=0}else{ye=m;he=o[ye+4>>2]|0;pe=r;o[pe>>2]=o[ye>>2];o[pe+4>>2]=he;he=m+8|0;pe=r+16|0;i[pe+2>>0]=i[he+3>>0]|0;i[pe+3>>0]=i[he+2>>0]|0;i[pe>>0]=i[he+1>>0]|0;i[pe+1>>0]=i[he>>0]|0;Ce=+s[ce>>2];De=1}ce=m+12|0;if(!((+s[ce>>2]-E)*k+(+s[m+16>>2]-q)*Pe<=Ce))Fe=De;else{he=ce;ce=o[he+4>>2]|0;pe=r+(De*20|0)|0;o[pe>>2]=o[he>>2];o[pe+4>>2]=ce;ce=m+20|0;m=r+(De*20|0)+16|0;i[m+2>>0]=i[ce+3>>0]|0;i[m+3>>0]=i[ce+2>>0]|0;i[m>>0]=i[ce+1>>0]|0;i[m+1>>0]=i[ce>>0]|0;Fe=De+1|0}}o[ee>>2]=Fe;c=l;return}function _c(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0;t=c;o[e>>2]=0;i=e+4|0;o[i>>2]=-1;n=e+8|0;s[n>>2]=-3.4028234663852886E38;a=+s[r+216>>2];u=+s[r+212>>2];l=o[r+128>>2]|0;if((l|0)<=0){c=t;return}f=+s[r+164>>2];d=+s[r+168>>2];b=+s[r+172>>2];h=+s[r+176>>2];_=+s[r+244>>2];m=r+228|0;p=r+232|0;y=r+236|0;w=r+240|0;v=-3.4028234663852886E38;S=0;while(1){E=+s[r+(S<<3)+64>>2];g=-E;k=-+s[r+(S<<3)+68>>2];M=+s[r+(S<<3)>>2];P=+s[r+(S<<3)+4>>2];A=(M-f)*g+(P-d)*k;F=(M-b)*g+(P-h)*k;C=A<F?A:F;if(C>_)break;if(!(a*E+u*k>=0))if(C>v?!((g-+s[m>>2])*u+(k-+s[p>>2])*a<-.03490658849477768):0)D=8;else B=v;else if(C>v?!((g-+s[y>>2])*u+(k-+s[w>>2])*a<-.03490658849477768):0)D=8;else B=v;if((D|0)==8){D=0;o[e>>2]=2;o[i>>2]=S;s[n>>2]=C;B=C}R=S+1|0;if((R|0)<(l|0)){v=B;S=R}else{D=10;break}}if((D|0)==10){c=t;return}o[e>>2]=2;o[i>>2]=S;s[n>>2]=C;c=t;return}function mc(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var o=0;o=c;c=c+256|0;hc(o,e,r,t,i,n);c=o;return}function pc(e,r,t,n,a){e=e|0;r=r|0;t=t|0;n=n|0;a=a|0;var u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,q=0,j=0,Y=0;u=c;c=c+96|0;l=u+92|0;f=u+88|0;d=u;b=u+80|0;h=u+56|0;_=u+32|0;m=u+24|0;p=e+60|0;o[p>>2]=0;y=+s[r+8>>2]+ +s[n+8>>2];o[l>>2]=0;w=+yc(l,r,t,n,a);if(w>y){c=u;return}o[f>>2]=0;v=+yc(f,n,a,r,t);if(v>y){c=u;return}if(v>w+5.000000237487257E-4){w=+s[a>>2];v=+s[a+4>>2];S=+s[a+8>>2];E=+s[a+12>>2];g=+s[t>>2];k=+s[t+4>>2];M=+s[t+8>>2];P=+s[t+12>>2];A=o[f>>2]|0;o[e+56>>2]=2;F=w;C=v;D=E;B=S;R=P;T=M;O=g;x=k;L=A;N=1;I=n;J=r}else{k=+s[t>>2];g=+s[t+4>>2];M=+s[t+8>>2];P=+s[t+12>>2];S=+s[a>>2];E=+s[a+4>>2];v=+s[a+8>>2];w=+s[a+12>>2];a=o[l>>2]|0;o[e+56>>2]=1;F=k;C=g;D=P;B=M;R=w;T=v;O=S;x=E;L=a;N=0;I=r;J=n}n=o[J+148>>2]|0;E=+s[I+(L<<3)+84>>2];S=+s[I+(L<<3)+88>>2];v=D*E-B*S;w=B*E+D*S;S=R*v+T*w;E=R*w-T*v;if((n|0)>0){r=0;a=0;v=3.4028234663852886E38;while(1){w=S*+s[J+(r<<3)+84>>2]+E*+s[J+(r<<3)+88>>2];l=w<v;t=l?r:a;r=r+1|0;if((r|0)==(n|0)){G=t;break}else{a=t;v=l?w:v}}}else G=0;a=G+1|0;r=(a|0)<(n|0)?a:0;v=+s[J+(G<<3)+20>>2];E=+s[J+(G<<3)+24>>2];S=+(O+(R*v-T*E));w=+(x+(T*v+R*E));a=d;s[a>>2]=S;s[a+4>>2]=w;a=L&255;n=d+8|0;i[n>>0]=a;i[n+1>>0]=G;i[n+2>>0]=1;i[n+3>>0]=0;w=+s[J+(r<<3)+20>>2];S=+s[J+(r<<3)+24>>2];E=+(O+(R*w-T*S));v=+(x+(T*w+R*S));J=d+12|0;s[J>>2]=E;s[J+4>>2]=v;J=d+20|0;i[J>>0]=a;i[J+1>>0]=r;i[J+2>>0]=1;i[J+3>>0]=0;J=L+1|0;r=(J|0)<(o[I+148>>2]|0)?J:0;J=I+(L<<3)+20|0;v=+s[J>>2];E=+s[J+4>>2];J=I+(r<<3)+20|0;S=+s[J>>2];w=+s[J+4>>2];M=S-v;P=w-E;g=+U(+(M*M+P*P));if(g<1.1920928955078125E-7){W=M;V=P}else{k=1/g;W=M*k;V=P*k}k=D*W-B*V;P=D*V+B*W;s[b>>2]=k;s[b+4>>2]=P;M=-k;g=F+(D*v-B*E);z=C+(B*v+D*E);H=g*P+z*M;s[m>>2]=M;s[m+4>>2]=-P;if((vc(h,d,m,y-(g*k+z*P),L)|0)<2){c=u;return}if((vc(_,h,b,y+((F+(D*S-B*w))*k+(C+(B*S+D*w))*P),r)|0)<2){c=u;return}D=+V;V=+-W;r=e+40|0;s[r>>2]=D;s[r+4>>2]=V;V=+((v+S)*.5);S=+((E+w)*.5);r=e+48|0;s[r>>2]=V;s[r+4>>2]=S;S=+s[_>>2];V=+s[_+4>>2];r=!(P*S+V*M-H<=y);if(N<<24>>24==0){if(r)q=0;else{w=S-O;E=V-x;v=+(R*w+T*E);D=+(R*E-T*w);N=e;s[N>>2]=v;s[N+4>>2]=D;o[e+16>>2]=o[_+8>>2];q=1}D=+s[_+12>>2];v=+s[_+16>>2];if(!(P*D+v*M-H<=y))j=q;else{w=D-O;D=v-x;v=+(R*w+T*D);E=+(R*D-T*w);N=e+(q*20|0)|0;s[N>>2]=v;s[N+4>>2]=E;o[e+(q*20|0)+16>>2]=o[_+20>>2];j=q+1|0}}else{if(r)Y=0;else{E=S-O;S=V-x;V=+(R*E+T*S);v=+(R*S-T*E);r=e;s[r>>2]=V;s[r+4>>2]=v;r=e+16|0;q=o[_+8>>2]|0;o[r>>2]=q;i[r>>0]=q>>>8;i[r+1>>0]=q;i[r+2>>0]=q>>>24;i[r+3>>0]=q>>>16;Y=1}v=+s[_+12>>2];V=+s[_+16>>2];if(!(P*v+V*M-H<=y))j=Y;else{y=v-O;O=V-x;x=+(R*y+T*O);V=+(R*O-T*y);q=e+(Y*20|0)|0;s[q>>2]=x;s[q+4>>2]=V;q=e+(Y*20|0)+16|0;e=o[_+20>>2]|0;o[q>>2]=e;i[q>>0]=e>>>8;i[q+1>>0]=e;i[q+2>>0]=e>>>24;i[q+3>>0]=e>>>16;j=Y+1|0}}o[p>>2]=j;c=u;return}function yc(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0;a=c;u=o[r+148>>2]|0;l=o[i+148>>2]|0;f=+s[n+12>>2];d=+s[t+8>>2];b=+s[n+8>>2];h=+s[t+12>>2];_=f*d-b*h;m=d*b+f*h;h=+s[t>>2]-+s[n>>2];d=+s[t+4>>2]-+s[n+4>>2];p=f*h+b*d;y=f*d-b*h;if((u|0)<=0){w=0;v=-3.4028234663852886E38;o[e>>2]=w;c=a;return+v}if((l|0)>0){S=0;E=0;g=-3.4028234663852886E38}else{n=0;t=0;h=-3.4028234663852886E38;while(1){k=h<3.4028234663852886E38;b=k?3.4028234663852886E38:h;M=k?t:n;t=t+1|0;if((t|0)==(u|0)){w=M;v=b;break}else{n=M;h=b}}o[e>>2]=w;c=a;return+v}while(1){h=+s[r+(E<<3)+84>>2];b=+s[r+(E<<3)+88>>2];d=m*h-_*b;f=_*h+m*b;b=+s[r+(E<<3)+20>>2];h=+s[r+(E<<3)+24>>2];P=p+(m*b-_*h);A=y+(_*b+m*h);n=0;h=3.4028234663852886E38;do{b=d*(+s[i+(n<<3)+20>>2]-P)+f*(+s[i+(n<<3)+24>>2]-A);h=b<h?b:h;n=n+1|0}while((n|0)!=(l|0));n=h>g;A=n?h:g;t=n?E:S;E=E+1|0;if((E|0)==(u|0)){w=t;v=A;break}else{S=t;g=A}}o[e>>2]=w;c=a;return+v}function wc(e,r,t,i,n,a){e=e|0;r=r|0;t=t|0;i=+i;n=n|0;a=+a;var u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0;u=c;l=r+60|0;if((o[l>>2]|0)==0){c=u;return}f=o[r+56>>2]|0;if((f|0)==2){d=n+12|0;b=+s[d>>2];h=+s[r+40>>2];_=n+8|0;m=+s[_>>2];p=+s[r+44>>2];y=b*h-m*p;w=h*m+b*p;p=+y;b=+w;v=e;s[v>>2]=p;s[v+4>>2]=b;b=+s[d>>2];p=+s[r+48>>2];m=+s[_>>2];h=+s[r+52>>2];S=+s[n>>2]+(b*p-m*h);E=p*m+b*h+ +s[n+4>>2];if((o[l>>2]|0)>0){_=t+12|0;d=t+8|0;v=t+4|0;g=e+4|0;h=y;b=w;k=0;while(1){m=+s[_>>2];p=+s[r+(k*20|0)>>2];M=+s[d>>2];P=+s[r+(k*20|0)+4>>2];A=+s[t>>2]+(m*p-M*P);F=p*M+m*P+ +s[v>>2];P=a-(h*(A-S)+(F-E)*b);m=A+h*P;M=F+b*P;P=A-h*i;A=F-b*i;F=+((P+m)*.5);p=+((A+M)*.5);C=e+(k<<3)+8|0;s[C>>2]=F;s[C+4>>2]=p;s[e+(k<<2)+24>>2]=+s[e>>2]*(P-m)+ +s[g>>2]*(A-M);k=k+1|0;M=+s[e>>2];A=+s[g>>2];if((k|0)>=(o[l>>2]|0)){D=M;B=A;break}else{h=M;b=A}}}else{D=y;B=w}w=+-D;D=+-B;k=e;s[k>>2]=w;s[k+4>>2]=D;c=u;return}else if((f|0)==0){s[e>>2]=1;k=e+4|0;s[k>>2]=0;D=+s[t+12>>2];w=+s[r+48>>2];B=+s[t+8>>2];y=+s[r+52>>2];b=+s[t>>2]+(D*w-B*y);h=w*B+D*y+ +s[t+4>>2];y=+s[n+12>>2];D=+s[r>>2];B=+s[n+8>>2];w=+s[r+4>>2];E=+s[n>>2]+(y*D-B*w);S=D*B+y*w+ +s[n+4>>2];w=b-E;y=h-S;if(w*w+y*y>1.4210854715202004E-14){y=E-b;w=S-h;B=+y;D=+w;g=e;s[g>>2]=B;s[g+4>>2]=D;D=+U(+(y*y+w*w));if(D<1.1920928955078125E-7){R=y;T=w}else{B=1/D;D=y*B;s[e>>2]=D;y=w*B;s[k>>2]=y;R=D;T=y}}else{R=1;T=0}y=b+R*i;b=h+T*i;h=E-R*a;E=S-T*a;S=+((y+h)*.5);D=+((b+E)*.5);k=e+8|0;s[k>>2]=S;s[k+4>>2]=D;s[e+24>>2]=R*(h-y)+T*(E-b);c=u;return}else if((f|0)==1){f=t+12|0;b=+s[f>>2];E=+s[r+40>>2];k=t+8|0;T=+s[k>>2];y=+s[r+44>>2];h=b*E-T*y;R=E*T+b*y;y=+h;b=+R;g=e;s[g>>2]=y;s[g+4>>2]=b;b=+s[f>>2];y=+s[r+48>>2];T=+s[k>>2];E=+s[r+52>>2];D=+s[t>>2]+(b*y-T*E);S=y*T+b*E+ +s[t+4>>2];if((o[l>>2]|0)<=0){c=u;return}t=n+12|0;k=n+8|0;f=n+4|0;g=e+4|0;E=h;h=R;v=0;while(1){R=+s[t>>2];b=+s[r+(v*20|0)>>2];T=+s[k>>2];y=+s[r+(v*20|0)+4>>2];B=+s[n>>2]+(R*b-T*y);w=b*T+R*y+ +s[f>>2];y=i-(E*(B-D)+(w-S)*h);R=B+E*y;T=w+h*y;y=B-E*a;B=w-h*a;w=+((y+R)*.5);b=+((B+T)*.5);d=e+(v<<3)+8|0;s[d>>2]=w;s[d+4>>2]=b;s[e+(v<<2)+24>>2]=+s[e>>2]*(y-R)+ +s[g>>2]*(B-T);d=v+1|0;if((d|0)>=(o[l>>2]|0))break;E=+s[e>>2];h=+s[g>>2];v=d}c=u;return}else{c=u;return}}function vc(e,r,t,n,a){e=e|0;r=r|0;t=t|0;n=+n;a=a|0;var u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0;u=c;l=+s[t>>2];f=+s[t+4>>2];t=r+4|0;d=l*+s[r>>2]+f*+s[t>>2]-n;b=r+12|0;h=r+16|0;_=l*+s[b>>2]+f*+s[h>>2]-n;if(!(d<=0))m=0;else{o[e+0>>2]=o[r+0>>2];o[e+4>>2]=o[r+4>>2];o[e+8>>2]=o[r+8>>2];m=1}if(!(_<=0))p=m;else{y=m+1|0;w=e+(m*12|0)|0;o[w+0>>2]=o[b+0>>2];o[w+4>>2]=o[b+4>>2];o[w+8>>2]=o[b+8>>2];p=y}if(!(d*_<0)){v=p;c=u;return v|0}n=d/(d-_);_=+s[r>>2];d=+s[t>>2];f=+(_+n*(+s[b>>2]-_));_=+(d+n*(+s[h>>2]-d));h=e+(p*12|0)|0;s[h>>2]=f;s[h+4>>2]=_;h=e+(p*12|0)+8|0;i[h>>0]=a;i[h+1>>0]=i[r+9>>0]|0;i[h+2>>0]=0;i[h+3>>0]=1;v=p+1|0;c=u;return v|0}function Sc(e,r,t,a,u,l){e=e|0;r=r|0;t=t|0;a=a|0;u=u|0;l=l|0;var f=0,d=0,b=0,h=0;f=c;c=c+128|0;d=f+36|0;b=f+24|0;h=f;o[d+16>>2]=0;o[d+20>>2]=0;s[d+24>>2]=0;o[d+44>>2]=0;o[d+48>>2]=0;s[d+52>>2]=0;df(d,e,r);df(d+28|0,t,a);a=d+56|0;o[a+0>>2]=o[u+0>>2];o[a+4>>2]=o[u+4>>2];o[a+8>>2]=o[u+8>>2];o[a+12>>2]=o[u+12>>2];u=d+72|0;o[u+0>>2]=o[l+0>>2];o[u+4>>2]=o[l+4>>2];o[u+8>>2]=o[l+8>>2];o[u+12>>2]=o[l+12>>2];i[d+88>>0]=1;n[b+4>>1]=0;hf(h,b,d);c=f;return+s[h+16>>2]<1.1920928955078125E-6|0}function Ec(e,r,t,i,n,a){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;a=a|0;var u=0,l=0;u=c;l=e+40|0;o[l>>2]=r;o[e+44>>2]=t;o[e+48>>2]=i;o[e+28>>2]=0;o[e+36>>2]=0;o[e+32>>2]=0;o[e>>2]=n;o[e+4>>2]=a;o[e+8>>2]=Jd(n,r<<2)|0;o[e+12>>2]=Jd(o[e>>2]|0,t<<2)|0;o[e+16>>2]=Jd(o[e>>2]|0,i<<2)|0;o[e+24>>2]=Jd(o[e>>2]|0,(o[l>>2]|0)*12|0)|0;o[e+20>>2]=Jd(o[e>>2]|0,(o[l>>2]|0)*12|0)|0;c=u;return}function gc(e){e=e|0;var r=0;r=c;Wd(o[e>>2]|0,o[e+20>>2]|0);Wd(o[e>>2]|0,o[e+24>>2]|0);Wd(o[e>>2]|0,o[e+16>>2]|0);Wd(o[e>>2]|0,o[e+12>>2]|0);Wd(o[e>>2]|0,o[e+8>>2]|0);c=r;return}function kc(e,r,t,a,u){e=e|0;r=r|0;t=t|0;a=a|0;u=u|0;var l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,q=0,Z=0,X=0;l=c;c=c+176|0;f=l+148|0;d=l;h=l+112|0;_=l+64|0;m=l+8|0;Md(d);p=+s[t>>2];y=e+28|0;if((o[y>>2]|0)>0){w=e+8|0;v=a+4|0;S=e+20|0;E=e+24|0;g=0;do{k=o[(o[w>>2]|0)+(g<<2)>>2]|0;M=k+60|0;P=o[M>>2]|0;A=o[M+4>>2]|0;F=+s[k+72>>2];M=k+80|0;C=+s[M>>2];D=+s[M+4>>2];B=+s[k+88>>2];M=k+52|0;o[M>>2]=P;o[M+4>>2]=A;s[k+68>>2]=F;if((o[k>>2]|0)==2){R=+s[k+156>>2];T=+s[k+136>>2];O=1/(p*+s[k+148>>2]+1);x=(C+p*(R*+s[a>>2]+T*+s[k+92>>2]))*O;L=(D+p*(R*+s[v>>2]+T*+s[k+96>>2]))*O;N=(B+p*+s[k+144>>2]*+s[k+100>>2])*(1/(p*+s[k+152>>2]+1))}else{x=C;L=D;N=B}k=(o[S>>2]|0)+(g*12|0)|0;o[k>>2]=P;o[k+4>>2]=A;s[(o[S>>2]|0)+(g*12|0)+8>>2]=F;F=+x;B=+L;A=(o[E>>2]|0)+(g*12|0)|0;s[A>>2]=F;s[A+4>>2]=B;s[(o[E>>2]|0)+(g*12|0)+8>>2]=N;g=g+1|0}while((g|0)<(o[y>>2]|0));I=E;J=S}else{I=e+24|0;J=e+20|0}o[h+0>>2]=o[t+0>>2];o[h+4>>2]=o[t+4>>2];o[h+8>>2]=o[t+8>>2];o[h+12>>2]=o[t+12>>2];o[h+16>>2]=o[t+16>>2];o[h+20>>2]=o[t+20>>2];o[h+24>>2]=o[t+24>>2];S=o[J>>2]|0;o[h+28>>2]=S;E=o[I>>2]|0;o[h+32>>2]=E;o[_+0>>2]=o[t+0>>2];o[_+4>>2]=o[t+4>>2];o[_+8>>2]=o[t+8>>2];o[_+12>>2]=o[t+12>>2];o[_+16>>2]=o[t+16>>2];o[_+20>>2]=o[t+20>>2];o[_+24>>2]=o[t+24>>2];g=e+12|0;o[_+28>>2]=o[g>>2];v=e+36|0;o[_+32>>2]=o[v>>2];o[_+36>>2]=S;o[_+40>>2]=E;o[_+44>>2]=o[e>>2];Ha(m,_);qa(m);if((i[t+24>>0]|0)!=0)ja(m);_=e+32|0;if((o[_>>2]|0)>0){E=e+16|0;S=0;do{a=o[(o[E>>2]|0)+(S<<2)>>2]|0;hh[o[(o[a>>2]|0)+32>>2]&63](a,h);S=S+1|0}while((S|0)<(o[_>>2]|0))}s[r+12>>2]=+Ad(d);S=t+12|0;if((o[S>>2]|0)>0){E=e+16|0;a=0;do{if((o[_>>2]|0)>0){w=0;do{A=o[(o[E>>2]|0)+(w<<2)>>2]|0;hh[o[(o[A>>2]|0)+36>>2]&63](A,h);w=w+1|0}while((w|0)<(o[_>>2]|0))}Ya(m);a=a+1|0}while((a|0)<(o[S>>2]|0))}Za(m);s[r+16>>2]=+Ad(d);if((o[y>>2]|0)>0){S=o[I>>2]|0;a=0;do{E=o[J>>2]|0;w=E+(a*12|0)|0;A=w;N=+s[A>>2];L=+s[A+4>>2];x=+s[E+(a*12|0)+8>>2];E=S+(a*12|0)|0;B=+s[E>>2];F=+s[E+4>>2];D=+s[S+(a*12|0)+8>>2];C=p*B;O=p*F;T=C*C+O*O;if(T>4){O=2/+U(+T);G=B*O;W=F*O}else{G=B;W=F}F=p*D;if(F*F>2.4674012660980225){if(F>0)V=F;else V=-F;z=D*(1.5707963705062866/V)}else z=D;D=+(N+p*G);N=+(L+p*W);E=w;s[E>>2]=D;s[E+4>>2]=N;s[(o[J>>2]|0)+(a*12|0)+8>>2]=x+p*z;x=+G;N=+W;E=(o[I>>2]|0)+(a*12|0)|0;s[E>>2]=x;s[E+4>>2]=N;S=o[I>>2]|0;s[S+(a*12|0)+8>>2]=z;
a=a+1|0}while((a|0)<(o[y>>2]|0))}a=t+16|0;e:do if((o[a>>2]|0)>0){t=e+16|0;S=0;while(1){E=Xa(m)|0;if((o[_>>2]|0)>0){w=0;A=1;while(1){k=o[(o[t>>2]|0)+(w<<2)>>2]|0;P=A&(Sh[o[(o[k>>2]|0)+40>>2]&31](k,h)|0);w=w+1|0;if((w|0)>=(o[_>>2]|0)){H=P;break}else A=P}}else H=1;S=S+1|0;if(E&H){q=0;break e}if((S|0)>=(o[a>>2]|0)){q=1;break}}}else q=1;while(0);if((o[y>>2]|0)>0){a=e+8|0;H=0;do{_=o[(o[a>>2]|0)+(H<<2)>>2]|0;h=(o[J>>2]|0)+(H*12|0)|0;S=o[h>>2]|0;t=o[h+4>>2]|0;h=_+60|0;o[h>>2]=S;o[h+4>>2]=t;z=+s[(o[J>>2]|0)+(H*12|0)+8>>2];s[_+72>>2]=z;h=(o[I>>2]|0)+(H*12|0)|0;A=o[h+4>>2]|0;w=_+80|0;o[w>>2]=o[h>>2];o[w+4>>2]=A;s[_+88>>2]=+s[(o[I>>2]|0)+(H*12|0)+8>>2];W=+Y(+z);s[_+20>>2]=W;G=+j(+z);s[_+24>>2]=G;z=+s[_+44>>2];V=+s[_+48>>2];N=(o[b>>2]=S,+s[b>>2])-(G*z-W*V);x=(o[b>>2]=t,+s[b>>2])-(W*z+G*V);V=+N;N=+x;t=_+12|0;s[t>>2]=V;s[t+4>>2]=N;H=H+1|0}while((H|0)<(o[y>>2]|0))}s[r+20>>2]=+Ad(d);d=o[m+44>>2]|0;r=e+4|0;if((o[r>>2]|0)!=0?(o[v>>2]|0)>0:0){H=f+16|0;I=0;do{J=o[(o[g>>2]|0)+(I<<2)>>2]|0;a=o[d+(I*156|0)+148>>2]|0;o[H>>2]=a;if((a|0)>0){t=0;do{s[f+(t<<2)>>2]=+s[d+(I*156|0)+(t*36|0)+16>>2];s[f+(t<<2)+8>>2]=+s[d+(I*156|0)+(t*36|0)+20>>2];t=t+1|0}while((t|0)!=(a|0))}a=o[r>>2]|0;mh[o[(o[a>>2]|0)+36>>2]&7](a,J,f);I=I+1|0}while((I|0)<(o[v>>2]|0))}if(!u){Ua(m);c=l;return}u=o[y>>2]|0;v=(u|0)>0;if(v){I=o[e+8>>2]|0;f=0;N=3.4028234663852886E38;while(1){r=o[I+(f<<2)>>2]|0;do if((o[r>>2]|0)==0)Z=N;else{if((!((n[r+4>>1]&4)==0)?(V=+s[r+88>>2],!(V*V>.001218469929881394)):0)?(V=+s[r+80>>2],x=+s[r+84>>2],!(V*V+x*x>9.999999747378752E-5)):0){d=r+160|0;x=p+ +s[d>>2];s[d>>2]=x;Z=N<x?N:x;break}s[r+160>>2]=0;Z=0}while(0);f=f+1|0;if((f|0)>=(u|0)){X=Z;break}else N=Z}}else X=3.4028234663852886E38;if(!(X>=.5)|q|v^1){Ua(m);c=l;return}v=e+8|0;e=0;do{q=o[(o[v>>2]|0)+(e<<2)>>2]|0;u=q+4|0;n[u>>1]=n[u>>1]&65533;s[q+160>>2]=0;u=q+80|0;o[u+0>>2]=0;o[u+4>>2]=0;o[u+8>>2]=0;o[u+12>>2]=0;o[u+16>>2]=0;o[u+20>>2]=0;e=e+1|0}while((e|0)<(o[y>>2]|0));Ua(m);c=l;return}function Mc(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0;n=c;c=c+128|0;a=n+104|0;u=n+56|0;l=n;f=e+28|0;if((o[f>>2]|0)>0){d=e+8|0;b=e+20|0;h=e+24|0;_=0;do{m=o[(o[d>>2]|0)+(_<<2)>>2]|0;p=m+60|0;y=o[p+4>>2]|0;w=(o[b>>2]|0)+(_*12|0)|0;o[w>>2]=o[p>>2];o[w+4>>2]=y;s[(o[b>>2]|0)+(_*12|0)+8>>2]=+s[m+72>>2];y=m+80|0;w=o[y+4>>2]|0;p=(o[h>>2]|0)+(_*12|0)|0;o[p>>2]=o[y>>2];o[p+4>>2]=w;w=o[h>>2]|0;s[w+(_*12|0)+8>>2]=+s[m+88>>2];_=_+1|0}while((_|0)<(o[f>>2]|0));v=b;S=w}else{v=e+20|0;S=o[e+24>>2]|0}b=e+12|0;o[u+28>>2]=o[b>>2];_=e+36|0;o[u+32>>2]=o[_>>2];o[u+44>>2]=o[e>>2];o[u+0>>2]=o[r+0>>2];o[u+4>>2]=o[r+4>>2];o[u+8>>2]=o[r+8>>2];o[u+12>>2]=o[r+12>>2];o[u+16>>2]=o[r+16>>2];o[u+20>>2]=o[r+20>>2];o[u+24>>2]=o[r+24>>2];o[u+36>>2]=o[v>>2];h=e+24|0;o[u+40>>2]=S;Ha(l,u);u=r+16|0;e:do if((o[u>>2]|0)>0){S=0;do{S=S+1|0;if(Qa(l,t,i)|0)break e}while((S|0)<(o[u>>2]|0))}while(0);u=e+8|0;S=(o[v>>2]|0)+(t*12|0)|0;d=o[S+4>>2]|0;w=(o[(o[u>>2]|0)+(t<<2)>>2]|0)+52|0;o[w>>2]=o[S>>2];o[w+4>>2]=d;d=o[v>>2]|0;w=o[u>>2]|0;s[(o[w+(t<<2)>>2]|0)+68>>2]=+s[d+(t*12|0)+8>>2];t=d+(i*12|0)|0;d=o[t+4>>2]|0;S=(o[w+(i<<2)>>2]|0)+52|0;o[S>>2]=o[t>>2];o[S+4>>2]=d;s[(o[(o[u>>2]|0)+(i<<2)>>2]|0)+68>>2]=+s[(o[v>>2]|0)+(i*12|0)+8>>2];qa(l);i=r+12|0;if((o[i>>2]|0)>0){d=0;do{Ya(l);d=d+1|0}while((d|0)<(o[i>>2]|0))}E=+s[r>>2];if((o[f>>2]|0)>0){r=0;do{i=o[v>>2]|0;d=i+(r*12|0)|0;S=d;g=+s[S>>2];k=+s[S+4>>2];M=+s[i+(r*12|0)+8>>2];i=o[h>>2]|0;S=i+(r*12|0)|0;P=+s[S>>2];A=+s[S+4>>2];F=+s[i+(r*12|0)+8>>2];C=E*P;D=E*A;B=C*C+D*D;if(B>4){D=2/+U(+B);R=P*D;T=A*D}else{R=P;T=A}A=E*F;if(A*A>2.4674012660980225){if(A>0)O=A;else O=-A;x=F*(1.5707963705062866/O)}else x=F;F=g+E*R;g=k+E*T;k=M+E*x;M=+F;A=+g;i=d;s[i>>2]=M;s[i+4>>2]=A;s[(o[v>>2]|0)+(r*12|0)+8>>2]=k;P=+R;D=+T;i=(o[h>>2]|0)+(r*12|0)|0;s[i>>2]=P;s[i+4>>2]=D;s[(o[h>>2]|0)+(r*12|0)+8>>2]=x;i=o[(o[u>>2]|0)+(r<<2)>>2]|0;d=i+60|0;s[d>>2]=M;s[d+4>>2]=A;s[i+72>>2]=k;d=i+80|0;s[d>>2]=P;s[d+4>>2]=D;s[i+88>>2]=x;D=+Y(+k);s[i+20>>2]=D;P=+j(+k);s[i+24>>2]=P;k=+s[i+44>>2];A=+s[i+48>>2];M=+(F-(P*k-D*A));F=+(g-(D*k+P*A));d=i+12|0;s[d>>2]=M;s[d+4>>2]=F;r=r+1|0}while((r|0)<(o[f>>2]|0))}f=o[l+44>>2]|0;r=e+4|0;if((o[r>>2]|0)==0){Ua(l);c=n;return}if((o[_>>2]|0)<=0){Ua(l);c=n;return}e=a+16|0;u=0;do{h=o[(o[b>>2]|0)+(u<<2)>>2]|0;v=o[f+(u*156|0)+148>>2]|0;o[e>>2]=v;if((v|0)>0){d=0;do{s[a+(d<<2)>>2]=+s[f+(u*156|0)+(d*36|0)+16>>2];s[a+(d<<2)+8>>2]=+s[f+(u*156|0)+(d*36|0)+20>>2];d=d+1|0}while((d|0)!=(v|0))}v=o[r>>2]|0;mh[o[(o[v>>2]|0)+36>>2]&7](v,h,a);u=u+1|0}while((u|0)<(o[_>>2]|0));Ua(l);c=n;return}function Pc(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,o=0;e=c;i=n[r+36>>1]|0;if(!(i<<16>>16==0?1:i<<16>>16!=(n[t+36>>1]|0))){o=i<<16>>16>0;c=e;return o|0}if((n[t+32>>1]&n[r+34>>1])<<16>>16==0){o=0;c=e;return o|0}o=(n[t+34>>1]&n[r+32>>1])<<16>>16!=0;c=e;return o|0}function Ac(e){e=e|0;return}function Fc(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Cc(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;return 1}function Dc(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;return 1}function Bc(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0;t=c;Co(e,r);o[e>>2]=904;i=r+20|0;n=o[i>>2]|0;a=o[i+4>>2]|0;i=e+76|0;o[i>>2]=n;o[i+4>>2]=a;i=o[e+52>>2]|0;u=(o[b>>2]=n,+s[b>>2])-+s[i+12>>2];l=(o[b>>2]=a,+s[b>>2])-+s[i+16>>2];f=+s[i+24>>2];d=+s[i+20>>2];h=+(u*f+l*d);_=+(f*l-u*d);i=e+68|0;s[i>>2]=h;s[i+4>>2]=_;s[e+104>>2]=+s[r+28>>2];s[e+96>>2]=0;s[e+100>>2]=0;s[e+84>>2]=+s[r+32>>2];s[e+88>>2]=+s[r+36>>2];s[e+92>>2]=0;s[e+108>>2]=0;c=t;return}function Rc(e,r){e=e|0;r=r|0;var t=0,i=0,a=0,u=0,l=0;t=c;i=o[e+52>>2]|0;a=i+4|0;u=n[a>>1]|0;if((u&2)==0?(l=u&65535,(l&2|0)==0):0){n[a>>1]=l|2;s[i+160>>2]=0}i=r;r=o[i+4>>2]|0;l=e+76|0;o[l>>2]=o[i>>2];o[l+4>>2]=r;c=t;return}function Tc(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,f=0,d=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0;t=c;n=o[e+52>>2]|0;a=o[n+8>>2]|0;u=e+116|0;o[u>>2]=a;l=n+44|0;f=o[l>>2]|0;d=o[l+4>>2]|0;l=e+128|0;o[l>>2]=f;o[l+4>>2]=d;h=+s[n+136>>2];s[e+136>>2]=h;_=+s[n+144>>2];s[e+140>>2]=_;l=o[r+28>>2]|0;m=l+(a*12|0)|0;p=+s[m>>2];y=+s[m+4>>2];w=+s[l+(a*12|0)+8>>2];l=r+32|0;m=o[l>>2]|0;v=m+(a*12|0)|0;S=+s[v>>2];E=+s[v+4>>2];g=+s[m+(a*12|0)+8>>2];k=+Y(+w);M=+j(+w);w=+s[n+132>>2];P=+s[e+84>>2]*6.2831854820251465;A=+s[r>>2];F=A*w*P*P;C=A*(P*w*2*+s[e+88>>2]+F);w=(o[b>>2]=f,+s[b>>2]);P=(o[b>>2]=d,+s[b>>2]);if(C!=0)D=1/C;else D=C;s[e+108>>2]=D;C=F*D;s[e+92>>2]=C;F=+s[e+68>>2]-w;w=+s[e+72>>2]-P;P=M*F-k*w;A=k*F+M*w;w=+P;M=+A;d=e+120|0;s[d>>2]=w;s[d+4>>2]=M;M=D+(h+A*_*A);w=_*P;F=A*w;k=D+(h+P*w);w=M*k-F*F;if(w!=0)B=1/w;else B=w;w=F*B;s[e+144>>2]=k*B;s[e+148>>2]=w;s[e+152>>2]=w;s[e+156>>2]=M*B;d=e+160|0;B=p+P-+s[e+76>>2];p=y+A-+s[e+80>>2];y=+B;M=+p;f=d;s[f>>2]=y;s[f+4>>2]=M;s[d>>2]=C*B;s[e+164>>2]=C*p;p=g*.9800000190734863;d=e+96|0;if((i[r+24>>0]|0)==0){s[d>>2]=0;s[e+100>>2]=0;R=S;T=E;O=p;x=o[l>>2]|0;L=x+(a*12|0)|0;N=+R;I=+T;J=L;G=J;s[G>>2]=N;W=J+4|0;V=W;s[V>>2]=I;z=o[u>>2]|0;H=o[l>>2]|0;U=H+(z*12|0)+8|0;s[U>>2]=O;c=t;return}else{g=+s[r+8>>2];C=g*+s[d>>2];s[d>>2]=C;d=e+100|0;B=g*+s[d>>2];s[d>>2]=B;R=S+h*C;T=E+B*h;O=p+_*(B*P-C*A);x=o[l>>2]|0;L=x+(a*12|0)|0;N=+R;I=+T;J=L;G=J;s[G>>2]=N;W=J+4|0;V=W;s[V>>2]=I;z=o[u>>2]|0;H=o[l>>2]|0;U=H+(z*12|0)+8|0;s[U>>2]=O;c=t;return}}function Oc(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0;t=c;i=e+116|0;n=o[i>>2]|0;a=r+32|0;u=o[a>>2]|0;l=u+(n*12|0)|0;f=l;d=+s[f>>2];b=+s[f+4>>2];h=+s[u+(n*12|0)+8>>2];_=+s[e+124>>2];m=+s[e+120>>2];p=+s[e+108>>2];n=e+96|0;y=+s[n>>2];u=e+100|0;w=+s[u>>2];v=-(d-h*_+ +s[e+160>>2]+p*y);S=-(b+h*m+ +s[e+164>>2]+p*w);p=+s[e+148>>2]*v+ +s[e+156>>2]*S;f=n;E=+s[f>>2];g=+s[f+4>>2];k=y+(+s[e+144>>2]*v+ +s[e+152>>2]*S);s[n>>2]=k;S=p+w;s[u>>2]=S;w=+s[r>>2]*+s[e+104>>2];p=S*S+k*k;if(p>w*w){v=w/+U(+p);p=k*v;s[n>>2]=p;w=v*S;s[u>>2]=w;M=p;P=w}else{M=k;P=S}S=M-E;E=P-g;g=+s[e+136>>2];P=h+ +s[e+140>>2]*(E*m-S*_);_=+(d+S*g);S=+(b+E*g);e=l;s[e>>2]=_;s[e+4>>2]=S;s[(o[a>>2]|0)+((o[i>>2]|0)*12|0)+8>>2]=P;c=t;return}function xc(e,r){e=e|0;r=r|0;return 1}function Lc(e,r){e=e|0;r=r|0;var t=0,i=0;t=r+76|0;r=o[t+4>>2]|0;i=e;o[i>>2]=o[t>>2];o[i+4>>2]=r;return}function Nc(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0;t=o[r+52>>2]|0;i=+s[t+24>>2];n=+s[r+68>>2];a=+s[t+20>>2];u=+s[r+72>>2];l=n*a+i*u+ +s[t+16>>2];s[e>>2]=+s[t+12>>2]+(i*n-a*u);s[e+4>>2]=l;return}function Ic(e,r,t){e=e|0;r=r|0;t=+t;var i=0;i=+s[r+100>>2]*t;s[e>>2]=+s[r+96>>2]*t;s[e+4>>2]=i;return}function Jc(e,r){e=e|0;r=+r;return+(r*0)}function Gc(e,r){e=e|0;r=r|0;var t=0;t=e+76|0;s[t>>2]=+s[t>>2]-+s[r>>2];t=e+80|0;s[t>>2]=+s[t>>2]-+s[r+4>>2];return}function Wc(e){e=e|0;e=c;c=c+16|0;Rd(1008,e);c=e;return}function Vc(e){e=e|0;return}function zc(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Hc(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,f=0,d=0,b=0;i=c;o[e+8>>2]=r;o[e+12>>2]=t;n=t+12|0;a=+s[n>>2];u=a-+s[r+12>>2];a=+s[n+4>>2]-+s[r+16>>2];l=+s[r+24>>2];f=+s[r+20>>2];d=+(u*l+a*f);b=+(l*a-u*f);n=e+20|0;s[n>>2]=d;s[n+4>>2]=b;s[e+28>>2]=+s[t+72>>2]-+s[r+72>>2];c=i;return}function Uc(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0;n=c;a=e+4|0;u=o[(o[a>>2]|0)+88>>2]|0;l=o[u+(t<<2)>>2]|o[u+(r<<2)>>2]|o[u+(i<<2)>>2];if((l&16|0)==0){c=n;return}u=o[e+8>>2]|0;if(!(wh[o[(o[u>>2]|0)+16>>2]&7](u,r,t,i)|0)){c=n;return}u=o[a>>2]|0;a=o[u+96>>2]|0;e=a+(r<<3)|0;f=+s[e>>2];d=a+(t<<3)|0;b=+s[d>>2];h=f-b;_=a+(r<<3)+4|0;m=+s[_>>2];p=a+(t<<3)+4|0;y=+s[p>>2];w=m-y;v=a+(i<<3)|0;S=+s[v>>2];E=b-S;g=a+(i<<3)+4|0;b=+s[g>>2];k=y-b;y=S-f;f=b-m;m=+s[u+40>>2]*4;if(h*h+w*w>m){c=n;return}if(E*E+k*k>m){c=n;return}if(y*y+f*f>m){c=n;return}a=o[u+144>>2]|0;M=o[a+(r<<2)>>2]|0;P=o[a+(t<<2)>>2]|0;A=o[a+(i<<2)>>2]|0;a=u+264|0;F=u+268|0;C=o[F>>2]|0;D=u+272|0;B=o[D>>2]|0;if((C|0)>=(B|0)?(R=(B|0)==0?256:B<<1,(B|0)<(R|0)):0){B=u+276|0;u=wd(o[B>>2]|0,R*60|0)|0;T=o[a>>2]|0;if((T|0)!=0){hb(u|0,T|0,(o[F>>2]|0)*60|0)|0;vd(o[B>>2]|0,o[a>>2]|0,(o[D>>2]|0)*60|0)}o[D>>2]=R;o[a>>2]=u;O=o[F>>2]|0}else O=C;o[F>>2]=O+1;F=o[a>>2]|0;o[F+(O*60|0)>>2]=r;o[F+(O*60|0)+4>>2]=t;o[F+(O*60|0)+8>>2]=i;o[F+(O*60|0)+12>>2]=l;if((M|0)==0)x=1;else x=+s[M+16>>2];if((P|0)==0)L=1;else L=+s[P+16>>2];m=x<L?x:L;if((A|0)==0)N=1;else N=+s[A+16>>2];s[F+(O*60|0)+16>>2]=m<N?m:N;N=+s[e>>2];m=+s[_>>2];L=(N+ +s[d>>2]+ +s[v>>2])*.3333333432674408;x=(m+ +s[p>>2]+ +s[g>>2])*.3333333432674408;b=+(N-L);N=+(m-x);A=F+(O*60|0)+20|0;s[A>>2]=b;s[A+4>>2]=N;N=+(+s[d>>2]-L);b=+(+s[p>>2]-x);A=F+(O*60|0)+28|0;s[A>>2]=N;s[A+4>>2]=b;b=+(+s[v>>2]-L);L=+(+s[g>>2]-x);A=F+(O*60|0)+36|0;s[A>>2]=b;s[A+4>>2]=L;s[F+(O*60|0)+44>>2]=-(h*y+w*f);s[F+(O*60|0)+48>>2]=-(h*E+w*k);s[F+(O*60|0)+52>>2]=-(E*y+k*f);f=+s[e>>2];k=+s[p>>2];y=+s[_>>2];E=+s[d>>2];w=+s[g>>2];h=+s[v>>2];s[F+(O*60|0)+56>>2]=y*h-f*w+(f*k-y*E+(E*w-k*h));c=n;return}function qc(e){e=e|0;return}function jc(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Yc(e,r){e=e|0;r=r|0;return(o[(o[e+4>>2]|0)+(r<<2)>>2]&4096|0)!=0|0}function Zc(e,r,t){e=e|0;r=r|0;t=t|0;return 1}function Xc(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;return 1}function Kc(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Qc(e,r){e=e|0;r=r|0;return 1}function $c(e){e=e|0;return}function ed(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function rd(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0;i=c;n=o[e+4>>2]|0;e=(n|0)<=(r|0);r=(n|0)>(t|0);if(e|r){c=i;return r&e|0}else{c=i;return 1}return 0}function td(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0;n=c;a=o[e+4>>2]|0;e=(a|0)>(r|0);r=(a|0)>(t|0);if(e|r|(a|0)>(i|0)){c=n;return(a|0)<=(i|0)|e&r^1|0}else{c=n;return 0}return 0}function id(e){e=e|0;return}function nd(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function od(e,r){e=e|0;r=r|0;return 0}function ad(e){e=e|0;return 1}function ud(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0,s=0;i=c;n=e+16|0;if((o[n>>2]|0)<=0){a=0;c=i;return a|0}u=e+12|0;e=0;while(1){l=o[(o[u>>2]|0)+(e<<2)>>2]|0;e=e+1|0;if(_h[o[(o[l>>2]|0)+16>>2]&15](l,r,t)|0){a=1;s=5;break}if((e|0)>=(o[n>>2]|0)){a=0;s=5;break}}if((s|0)==5){c=i;return a|0}return 0}function ld(e,r,t,i,n,o){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;o=o|0;return}function sd(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;return 0}function fd(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0;i=c;c=c+16|0;n=i;s[r>>2]=3.4028234663852886E38;a=r+4|0;s[a>>2]=3.4028234663852886E38;s[r+8>>2]=-3.4028234663852886E38;u=r+12|0;s[u>>2]=-3.4028234663852886E38;l=e+16|0;if((o[l>>2]|0)<=0){c=i;return}f=e+12|0;e=n+4|0;d=r+8|0;b=n+8|0;h=n+12|0;_=0;do{m=o[(o[f>>2]|0)+(_<<2)>>2]|0;p=sh[o[(o[m>>2]|0)+12>>2]&7](m)|0;if((p|0)>0){m=0;do{y=o[(o[f>>2]|0)+(_<<2)>>2]|0;gh[o[(o[y>>2]|0)+28>>2]&31](y,n,t,m);w=+s[r>>2];v=+s[n>>2];S=+s[a>>2];E=+s[e>>2];g=+(w<v?w:v);v=+(S<E?S:E);y=r;s[y>>2]=g;s[y+4>>2]=v;v=+s[d>>2];g=+s[b>>2];E=+s[u>>2];S=+s[h>>2];w=+(v>g?v:g);g=+(E>S?E:S);y=d;s[y>>2]=w;s[y+4>>2]=g;m=m+1|0}while((m|0)!=(p|0))}_=_+1|0}while((_|0)<(o[l>>2]|0));c=i;return}function cd(e,r,t){e=e|0;r=r|0;t=+t;return}function dd(e){e=e|0;return}function bd(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function hd(e,r){e=e|0;r=r|0;return 0}function _d(e,r,t){e=e|0;r=r|0;t=t|0;var n=0,a=0,u=0,l=0;n=c;a=e+4|0;if((o[a>>2]|0)!=(r|0)){u=0;c=n;return u|0}l=o[e+8>>2]|0;if(!(_h[o[(o[l>>2]|0)+16>>2]&15](l,e+12|0,(o[r+96>>2]|0)+(t<<3)|0)|0)){u=1;c=n;return u|0}r=o[a>>2]|0;hi(r,t,o[(o[r+88>>2]|0)+(t<<2)>>2]|((i[e+28>>0]|0)!=0?514:2));t=e+32|0;o[t>>2]=(o[t>>2]|0)+1;u=1;c=n;return u|0}function md(e,r){e=e|0;r=r|0;var t=0,i=0;t=r+4|0;o[(o[r>>2]|0)+4>>2]=o[t>>2];o[o[t>>2]>>2]=o[r>>2];o[t>>2]=r;o[r>>2]=r;i=e+12|0;o[t>>2]=o[i>>2];o[r>>2]=e+8;o[o[i>>2]>>2]=r;o[i>>2]=r;return}function pd(e){e=e|0;var r=0,t=0,n=0,a=0,u=0,l=0;r=c;t=e+68|0;o[e+72>>2]=t;o[t>>2]=t;t=e+8|0;o[t>>2]=128;o[e+4>>2]=0;n=Dd(1024)|0;o[e>>2]=n;cb(n|0,0,o[t>>2]<<3|0)|0;t=e+12|0;e=t+56|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(e|0));if((i[8776]|0)==0){a=1;u=0}else{c=r;return}while(1){if((a|0)>(o[8072+(u<<2)>>2]|0)){t=u+1|0;i[8128+a>>0]=t;l=t}else{i[8128+a>>0]=u;l=u}a=a+1|0;if((a|0)==641)break;else u=l}i[8776]=1;c=r;return}function yd(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0;r=c;t=e+4|0;i=o[e>>2]|0;if((o[t>>2]|0)>0){n=i;a=0;while(1){Bd(o[n+(a<<3)+4>>2]|0);a=a+1|0;u=o[e>>2]|0;if((a|0)>=(o[t>>2]|0)){l=u;break}else n=u}}else l=i;Bd(l);l=e+68|0;Ld(l);i=e+72|0;o[(o[l>>2]|0)+4>>2]=o[i>>2];o[o[i>>2]>>2]=o[l>>2];o[i>>2]=l;o[l>>2]=l;c=r;return}function wd(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0;t=c;if((r|0)==0){i=0;c=t;return i|0}if((r|0)>640){i=Od(e+68|0,r)|0;c=t;return i|0}n=a[8128+r>>0]|0;r=e+(n<<2)+12|0;u=o[r>>2]|0;if((u|0)!=0){o[r>>2]=o[u>>2];i=u;c=t;return i|0}u=e+4|0;l=o[u>>2]|0;s=e+8|0;if((l|0)==(o[s>>2]|0)){f=o[e>>2]|0;d=l+128|0;o[s>>2]=d;s=Dd(d<<3)|0;o[e>>2]=s;hb(s|0,f|0,o[u>>2]<<3|0)|0;cb((o[e>>2]|0)+(o[u>>2]<<3)|0,0,1024)|0;Bd(f);b=o[u>>2]|0}else b=l;l=o[e>>2]|0;e=Dd(16384)|0;f=l+(b<<3)+4|0;o[f>>2]=e;s=o[8072+(n<<2)>>2]|0;o[l+(b<<3)>>2]=s;b=(16384/(s|0)|0)+-1|0;if((b|0)>0){l=e;n=0;while(1){d=n;n=n+1|0;o[l+(ie(d,s)|0)>>2]=l+(ie(n,s)|0);d=o[f>>2]|0;if((n|0)==(b|0)){h=d;break}else l=d}}else h=e;o[h+(ie(b,s)|0)>>2]=0;o[r>>2]=o[o[f>>2]>>2];o[u>>2]=(o[u>>2]|0)+1;i=o[f>>2]|0;c=t;return i|0}function vd(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0;i=c;if((t|0)==0){c=i;return}if((t|0)>640){xd(e+68|0,r);c=i;return}else{n=e+((a[8128+t>>0]|0)<<2)+12|0;o[r>>2]=o[n>>2];o[n>>2]=r;c=i;return}}function Sd(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,o=0,a=0,u=0,l=0,f=0,c=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0;i=+s[r+16>>2];n=+s[r+32>>2];o=+s[r+20>>2];a=+s[r+28>>2];u=i*n-o*a;l=+s[r+24>>2];f=+s[r+12>>2];c=o*l-n*f;d=a*f-i*l;b=+s[r>>2];h=+s[r+4>>2];_=+s[r+8>>2];m=u*b+h*c+d*_;if(m!=0)p=1/m;else p=m;m=+s[t>>2];y=+s[t+4>>2];w=+s[t+8>>2];s[e>>2]=p*(u*m+y*c+d*w);s[e+4>>2]=p*((y*n-w*a)*b+h*(w*l-n*m)+(a*m-y*l)*_);s[e+8>>2]=p*((i*w-o*y)*b+h*(o*m-w*f)+(y*f-i*m)*_);return}function Ed(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,o=0,a=0,u=0,l=0,f=0;i=+s[r>>2];n=+s[r+12>>2];o=+s[r+4>>2];a=+s[r+16>>2];u=i*a-n*o;if(u!=0)l=1/u;else l=u;u=+s[t>>2];f=+s[t+4>>2];s[e>>2]=l*(a*u-n*f);s[e+4>>2]=l*(i*f-o*u);return}function gd(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,a=0,u=0,l=0,f=0;t=c;i=+s[e>>2];n=+s[e+12>>2];a=+s[e+4>>2];u=+s[e+16>>2];l=i*u-n*a;if(l!=0)f=1/l;else f=l;s[r>>2]=u*f;u=-f;s[r+12>>2]=n*u;s[r+8>>2]=0;s[r+4>>2]=a*u;s[r+16>>2]=i*f;e=r+20|0;o[e+0>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;c=t;return}function kd(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,o=0,a=0,u=0,l=0,f=0,c=0,d=0,b=0,h=0;t=+s[e+16>>2];i=+s[e+32>>2];n=t*i;o=+s[e+20>>2];a=+s[e+28>>2];u=+s[e+24>>2];l=+s[e+12>>2];f=i*l;c=a*l-t*u;d=+s[e>>2];b=(n-o*a)*d+ +s[e+4>>2]*(o*u-f)+c*+s[e+8>>2];if(b!=0)h=1/b;else h=b;s[r>>2]=h*(n-a*a);n=h*(u*a-f);s[r+4>>2]=n;f=h*c;s[r+8>>2]=f;s[r+12>>2]=n;s[r+16>>2]=h*(d*i-u*u);i=h*(l*u-d*a);s[r+20>>2]=i;s[r+24>>2]=f;s[r+28>>2]=i;s[r+32>>2]=h*(d*t-l*l);return}function Md(e){e=e|0;return}function Pd(e){e=e|0;return}function Ad(e){e=e|0;return 0}function Fd(e,r){e=e|0;r=r|0;var t=0;r=c;t=tb(e)|0;c=r;return t|0}function Cd(e,r){e=e|0;r=r|0;r=c;ib(e);c=r;return}function Dd(e){e=e|0;var r=0,t=0;r=c;o[2214]=(o[2214]|0)+1;t=Sh[o[2208]&31](e,o[2212]|0)|0;c=r;return t|0}function Bd(e){e=e|0;var r=0;r=c;o[2214]=(o[2214]|0)+-1;hh[o[2210]&63](e,o[2212]|0);c=r;return}function Rd(e,r){e=e|0;r=r|0;return}function Td(e){e=e|0;return e+43&-32|0}function Od(e,r){e=e|0;r=r|0;var t=0,i=0;t=c;i=Dd(r+44|0)|0;o[i>>2]=i;r=i+43&-32;o[r+-4>>2]=i;o[i+4>>2]=e;o[i>>2]=o[e>>2];o[(o[e>>2]|0)+4>>2]=i;o[e>>2]=i;c=t;return r|0}function xd(e,r){e=e|0;r=r|0;var t=0;e=c;t=o[r+-4>>2]|0;r=t+4|0;o[(o[t>>2]|0)+4>>2]=o[r>>2];o[o[r>>2]>>2]=o[t>>2];o[r>>2]=t;o[t>>2]=t;Bd(t);c=e;return}function Ld(e){e=e|0;var r=0,t=0,i=0,n=0;r=c;t=e+4|0;i=o[t>>2]|0;if((i|0)==(e|0)){c=r;return}else n=i;do{i=n+4|0;o[(o[n>>2]|0)+4>>2]=o[i>>2];o[o[i>>2]>>2]=o[n>>2];o[i>>2]=n;o[n>>2]=n;Bd(n);n=o[t>>2]|0}while((n|0)!=(e|0));c=r;return}function Nd(e){e=e|0;o[e+102400>>2]=0;o[e+102404>>2]=0;o[e+102408>>2]=0;o[e+102796>>2]=0;return}function Id(e){e=e|0;return}function Jd(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,s=0;t=c;n=r+3&-4;r=e+102796|0;a=o[r>>2]|0;u=e+(a*12|0)+102412|0;o[e+(a*12|0)+102416>>2]=n;l=e+102400|0;s=o[l>>2]|0;if((s+n|0)>102400){o[u>>2]=Dd(n)|0;i[e+(a*12|0)+102420>>0]=1}else{o[u>>2]=e+s;i[e+(a*12|0)+102420>>0]=0;o[l>>2]=(o[l>>2]|0)+n}l=e+102404|0;a=(o[l>>2]|0)+n|0;o[l>>2]=a;l=e+102408|0;e=o[l>>2]|0;o[l>>2]=(e|0)>(a|0)?e:a;o[r>>2]=(o[r>>2]|0)+1;c=t;return o[u>>2]|0}function Gd(e,r,t){e=e|0;r=r|0;t=t|0;var n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0;r=c;n=(o[e+102796>>2]|0)+-1|0;a=e+(n*12|0)+102412|0;u=e+(n*12|0)+102416|0;l=t-(o[u>>2]|0)|0;if((l|0)<=0){s=o[a>>2]|0;c=r;return s|0}f=e+(n*12|0)+102420|0;do if((i[f>>0]|0)==0){n=e+102400|0;d=(o[n>>2]|0)+l|0;if((d|0)>102400){b=Dd(t)|0;hb(b|0,o[a>>2]|0,o[u>>2]|0)|0;o[n>>2]=(o[n>>2]|0)-(o[u>>2]|0);o[a>>2]=b;i[f>>0]=1;break}else{o[n>>2]=d;d=e+102404|0;n=(o[d>>2]|0)+l|0;o[d>>2]=n;d=e+102408|0;b=o[d>>2]|0;o[d>>2]=(b|0)>(n|0)?b:n;break}}else{n=Dd(t)|0;hb(n|0,o[a>>2]|0,o[u>>2]|0)|0;Bd(o[a>>2]|0);o[a>>2]=n}while(0);o[u>>2]=t;s=o[a>>2]|0;c=r;return s|0}function Wd(e,r){e=e|0;r=r|0;var t=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0;t=c;n=e+102796|0;a=o[n>>2]|0;u=a+-1|0;if((i[e+(u*12|0)+102420>>0]|0)==0){l=e+(u*12|0)+102416|0;s=e+102400|0;o[s>>2]=(o[s>>2]|0)-(o[l>>2]|0);f=l;d=a}else{Bd(r);f=e+(u*12|0)+102416|0;d=o[n>>2]|0}u=e+102404|0;o[u>>2]=(o[u>>2]|0)-(o[f>>2]|0);o[n>>2]=d+-1;c=t;return}function Vd(e){e=e|0;return}function zd(e){e=e|0;return}function Hd(e){e=e|0;return}function Ud(e){e=e|0;return}function qd(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function jd(e){e=e|0;var r=0;r=c;ab(e);c=r;return}function Yd(e,r,t){e=e|0;r=r|0;t=t|0;var i=0,n=0,a=0,u=0,l=0;i=c;c=c+64|0;n=i;if((e|0)==(r|0)){a=1;c=i;return a|0}if((r|0)==0){a=0;c=i;return a|0}u=Kd(r,8928,8984,0)|0;if((u|0)==0){a=0;c=i;return a|0}r=n+0|0;l=r+56|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(l|0));o[n>>2]=u;o[n+8>>2]=e;o[n+12>>2]=-1;o[n+48>>2]=1;gh[o[(o[u>>2]|0)+28>>2]&31](u,n,o[t>>2]|0,1);if((o[n+24>>2]|0)!=1){a=0;c=i;return a|0}o[t>>2]=o[n+16>>2];a=1;c=i;return a|0}function Zd(e,r,t,n){e=e|0;r=r|0;t=t|0;n=n|0;var a=0,u=0;a=c;if((o[r+8>>2]|0)!=(e|0)){c=a;return}e=r+16|0;u=o[e>>2]|0;if((u|0)==0){o[e>>2]=t;o[r+24>>2]=n;o[r+36>>2]=1;c=a;return}if((u|0)!=(t|0)){t=r+36|0;o[t>>2]=(o[t>>2]|0)+1;o[r+24>>2]=2;i[r+54>>0]=1;c=a;return}t=r+24|0;if((o[t>>2]|0)!=2){c=a;return}o[t>>2]=n;c=a;return}function Xd(e,r,t,n){e=e|0;r=r|0;t=t|0;n=n|0;var a=0,u=0;a=c;if((e|0)!=(o[r+8>>2]|0)){u=o[e+8>>2]|0;gh[o[(o[u>>2]|0)+28>>2]&31](u,r,t,n);c=a;return}u=r+16|0;e=o[u>>2]|0;if((e|0)==0){o[u>>2]=t;o[r+24>>2]=n;o[r+36>>2]=1;c=a;return}if((e|0)!=(t|0)){t=r+36|0;o[t>>2]=(o[t>>2]|0)+1;o[r+24>>2]=2;i[r+54>>0]=1;c=a;return}t=r+24|0;if((o[t>>2]|0)!=2){c=a;return}o[t>>2]=n;c=a;return}function Kd(e,r,t,a){e=e|0;r=r|0;t=t|0;a=a|0;var u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0;u=c;c=c+64|0;l=u;s=o[e>>2]|0;f=e+(o[s+-8>>2]|0)|0;d=o[s+-4>>2]|0;o[l>>2]=t;o[l+4>>2]=e;o[l+8>>2]=r;o[l+12>>2]=a;a=l+16|0;r=l+20|0;e=l+24|0;s=l+28|0;b=l+32|0;h=l+40|0;_=(d|0)==(t|0);t=a+0|0;m=t+36|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(m|0));n[a+36>>1]=0;i[a+38>>0]=0;if(_){o[l+48>>2]=1;vh[o[(o[d>>2]|0)+20>>2]&7](d,l,f,f,1,0);p=(o[e>>2]|0)==1?f:0;c=u;return p|0}fh[o[(o[d>>2]|0)+24>>2]&3](d,l,f,1,0);f=o[l+36>>2]|0;if((f|0)==1){if((o[e>>2]|0)!=1){if((o[h>>2]|0)!=0){p=0;c=u;return p|0}if((o[s>>2]|0)!=1){p=0;c=u;return p|0}if((o[b>>2]|0)!=1){p=0;c=u;return p|0}}p=o[a>>2]|0;c=u;return p|0}else if((f|0)==0){if((o[h>>2]|0)!=1){p=0;c=u;return p|0}if((o[s>>2]|0)!=1){p=0;c=u;return p|0}p=(o[b>>2]|0)==1?o[r>>2]|0:0;c=u;return p|0}else{p=0;c=u;return p|0}return 0}function Qd(e,r,t,n,a){e=e|0;r=r|0;t=t|0;n=n|0;a=a|0;var u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0;u=c;if((e|0)==(o[r+8>>2]|0)){if((o[r+4>>2]|0)!=(t|0)){c=u;return}l=r+28|0;if((o[l>>2]|0)==1){c=u;return}o[l>>2]=n;c=u;return}if((e|0)!=(o[r>>2]|0)){l=o[e+8>>2]|0;fh[o[(o[l>>2]|0)+24>>2]&3](l,r,t,n,a);c=u;return}if((o[r+16>>2]|0)!=(t|0)?(l=r+20|0,(o[l>>2]|0)!=(t|0)):0){o[r+32>>2]=n;s=r+44|0;if((o[s>>2]|0)==4){c=u;return}f=r+52|0;i[f>>0]=0;d=r+53|0;i[d>>0]=0;b=o[e+8>>2]|0;vh[o[(o[b>>2]|0)+20>>2]&7](b,r,t,t,1,a);if((i[d>>0]|0)!=0){if((i[f>>0]|0)==0){h=1;_=13}}else{h=0;_=13}do if((_|0)==13){o[l>>2]=t;f=r+40|0;o[f>>2]=(o[f>>2]|0)+1;if((o[r+36>>2]|0)==1?(o[r+24>>2]|0)==2:0){i[r+54>>0]=1;if(h)break}else _=16;if((_|0)==16?h:0)break;o[s>>2]=4;c=u;return}while(0);o[s>>2]=3;c=u;return}if((n|0)!=1){c=u;return}o[r+32>>2]=1;c=u;return}function $d(e,r,t,n,a){e=e|0;r=r|0;t=t|0;n=n|0;a=a|0;var u=0;a=c;if((o[r+8>>2]|0)==(e|0)){if((o[r+4>>2]|0)!=(t|0)){c=a;return}u=r+28|0;if((o[u>>2]|0)==1){c=a;return}o[u>>2]=n;c=a;return}if((o[r>>2]|0)!=(e|0)){c=a;return}if((o[r+16>>2]|0)!=(t|0)?(e=r+20|0,(o[e>>2]|0)!=(t|0)):0){o[r+32>>2]=n;o[e>>2]=t;t=r+40|0;o[t>>2]=(o[t>>2]|0)+1;if((o[r+36>>2]|0)==1?(o[r+24>>2]|0)==2:0)i[r+54>>0]=1;o[r+44>>2]=4;c=a;return}if((n|0)!=1){c=a;return}o[r+32>>2]=1;c=a;return}function eb(e,r,t,n,a,u){e=e|0;r=r|0;t=t|0;n=n|0;a=a|0;u=u|0;var l=0,s=0,f=0;l=c;if((e|0)!=(o[r+8>>2]|0)){s=o[e+8>>2]|0;vh[o[(o[s>>2]|0)+20>>2]&7](s,r,t,n,a,u);c=l;return}i[r+53>>0]=1;if((o[r+4>>2]|0)!=(n|0)){c=l;return}i[r+52>>0]=1;n=r+16|0;u=o[n>>2]|0;if((u|0)==0){o[n>>2]=t;o[r+24>>2]=a;o[r+36>>2]=1;if(!((a|0)==1?(o[r+48>>2]|0)==1:0)){c=l;return}i[r+54>>0]=1;c=l;return}if((u|0)!=(t|0)){t=r+36|0;o[t>>2]=(o[t>>2]|0)+1;i[r+54>>0]=1;c=l;return}t=r+24|0;u=o[t>>2]|0;if((u|0)==2){o[t>>2]=a;f=a}else f=u;if(!((f|0)==1?(o[r+48>>2]|0)==1:0)){c=l;return}i[r+54>>0]=1;c=l;return}function rb(e,r,t,n,a,u){e=e|0;r=r|0;t=t|0;n=n|0;a=a|0;u=u|0;var l=0;u=c;if((o[r+8>>2]|0)!=(e|0)){c=u;return}i[r+53>>0]=1;if((o[r+4>>2]|0)!=(n|0)){c=u;return}i[r+52>>0]=1;n=r+16|0;e=o[n>>2]|0;if((e|0)==0){o[n>>2]=t;o[r+24>>2]=a;o[r+36>>2]=1;if(!((a|0)==1?(o[r+48>>2]|0)==1:0)){c=u;return}i[r+54>>0]=1;c=u;return}if((e|0)!=(t|0)){t=r+36|0;o[t>>2]=(o[t>>2]|0)+1;i[r+54>>0]=1;c=u;return}t=r+24|0;e=o[t>>2]|0;if((e|0)==2){o[t>>2]=a;l=a}else l=e;if(!((l|0)==1?(o[r+48>>2]|0)==1:0)){c=u;return}i[r+54>>0]=1;c=u;return}function tb(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0,N=0,I=0,J=0,G=0,W=0,V=0,z=0,H=0,U=0,q=0,j=0,Y=0,Z=0,X=0,K=0,Q=0,$=0,ee=0,re=0,te=0,ie=0,ne=0,oe=0,ae=0,ue=0,le=0,se=0,fe=0,ce=0,de=0,be=0,he=0,_e=0,me=0,pe=0,ye=0,we=0,ve=0,Se=0,Ee=0,ge=0,ke=0,Me=0,Pe=0,Ae=0,Fe=0,Ce=0,De=0,Be=0,Te=0,Oe=0,Le=0,Ne=0;r=c;do if(e>>>0<245){if(e>>>0<11)t=16;else t=e+11&-8;i=t>>>3;n=o[2284]|0;a=n>>>i;if((a&3|0)!=0){u=(a&1^1)+i|0;l=u<<1;s=9176+(l<<2)|0;f=9176+(l+2<<2)|0;l=o[f>>2]|0;d=l+8|0;b=o[d>>2]|0;do if((s|0)!=(b|0)){if(b>>>0<(o[9152>>2]|0)>>>0)Ze();h=b+12|0;if((o[h>>2]|0)==(l|0)){o[h>>2]=s;o[f>>2]=b;break}else Ze()}else o[2284]=n&~(1<<u);while(0);b=u<<3;o[l+4>>2]=b|3;f=l+(b|4)|0;o[f>>2]=o[f>>2]|1;_=d;c=r;return _|0}if(t>>>0>(o[9144>>2]|0)>>>0){if((a|0)!=0){f=2<<i;b=a<<i&(f|0-f);f=(b&0-b)+-1|0;b=f>>>12&16;s=f>>>b;f=s>>>5&8;h=s>>>f;s=h>>>2&4;m=h>>>s;h=m>>>1&2;p=m>>>h;m=p>>>1&1;y=(f|b|s|h|m)+(p>>>m)|0;m=y<<1;p=9176+(m<<2)|0;h=9176+(m+2<<2)|0;m=o[h>>2]|0;s=m+8|0;b=o[s>>2]|0;do if((p|0)!=(b|0)){if(b>>>0<(o[9152>>2]|0)>>>0)Ze();f=b+12|0;if((o[f>>2]|0)==(m|0)){o[f>>2]=p;o[h>>2]=b;break}else Ze()}else o[2284]=n&~(1<<y);while(0);n=y<<3;b=n-t|0;o[m+4>>2]=t|3;h=m+t|0;o[m+(t|4)>>2]=b|1;o[m+n>>2]=b;n=o[9144>>2]|0;if((n|0)!=0){p=o[9156>>2]|0;i=n>>>3;n=i<<1;a=9176+(n<<2)|0;d=o[2284]|0;l=1<<i;if((d&l|0)!=0){i=9176+(n+2<<2)|0;u=o[i>>2]|0;if(u>>>0<(o[9152>>2]|0)>>>0)Ze();else{w=i;v=u}}else{o[2284]=d|l;w=9176+(n+2<<2)|0;v=a}o[w>>2]=p;o[v+12>>2]=p;o[p+8>>2]=v;o[p+12>>2]=a}o[9144>>2]=b;o[9156>>2]=h;_=s;c=r;return _|0}h=o[9140>>2]|0;if((h|0)!=0){b=(h&0-h)+-1|0;h=b>>>12&16;a=b>>>h;b=a>>>5&8;p=a>>>b;a=p>>>2&4;n=p>>>a;p=n>>>1&2;l=n>>>p;n=l>>>1&1;d=o[9440+((b|h|a|p|n)+(l>>>n)<<2)>>2]|0;n=(o[d+4>>2]&-8)-t|0;l=d;p=d;while(1){d=o[l+16>>2]|0;if((d|0)==0){a=o[l+20>>2]|0;if((a|0)==0)break;else S=a}else S=d;d=(o[S+4>>2]&-8)-t|0;a=d>>>0<n>>>0;n=a?d:n;l=S;p=a?S:p}l=o[9152>>2]|0;if(p>>>0<l>>>0)Ze();s=p+t|0;if(!(p>>>0<s>>>0))Ze();m=o[p+24>>2]|0;y=o[p+12>>2]|0;do if((y|0)==(p|0)){a=p+20|0;d=o[a>>2]|0;if((d|0)==0){h=p+16|0;b=o[h>>2]|0;if((b|0)==0){E=0;break}else{g=b;k=h}}else{g=d;k=a}while(1){a=g+20|0;d=o[a>>2]|0;if((d|0)!=0){g=d;k=a;continue}a=g+16|0;d=o[a>>2]|0;if((d|0)==0)break;else{g=d;k=a}}if(k>>>0<l>>>0)Ze();else{o[k>>2]=0;E=g;break}}else{a=o[p+8>>2]|0;if(a>>>0<l>>>0)Ze();d=a+12|0;if((o[d>>2]|0)!=(p|0))Ze();h=y+8|0;if((o[h>>2]|0)==(p|0)){o[d>>2]=y;o[h>>2]=a;E=y;break}else Ze()}while(0);do if((m|0)!=0){y=o[p+28>>2]|0;l=9440+(y<<2)|0;if((p|0)==(o[l>>2]|0)){o[l>>2]=E;if((E|0)==0){o[9140>>2]=o[9140>>2]&~(1<<y);break}}else{if(m>>>0<(o[9152>>2]|0)>>>0)Ze();y=m+16|0;if((o[y>>2]|0)==(p|0))o[y>>2]=E;else o[m+20>>2]=E;if((E|0)==0)break}if(E>>>0<(o[9152>>2]|0)>>>0)Ze();o[E+24>>2]=m;y=o[p+16>>2]|0;do if((y|0)!=0)if(y>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[E+16>>2]=y;o[y+24>>2]=E;break}while(0);y=o[p+20>>2]|0;if((y|0)!=0)if(y>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[E+20>>2]=y;o[y+24>>2]=E;break}}while(0);if(n>>>0<16){m=n+t|0;o[p+4>>2]=m|3;y=p+(m+4)|0;o[y>>2]=o[y>>2]|1}else{o[p+4>>2]=t|3;o[p+(t|4)>>2]=n|1;o[p+(n+t)>>2]=n;y=o[9144>>2]|0;if((y|0)!=0){m=o[9156>>2]|0;l=y>>>3;y=l<<1;a=9176+(y<<2)|0;h=o[2284]|0;d=1<<l;if((h&d|0)!=0){l=9176+(y+2<<2)|0;b=o[l>>2]|0;if(b>>>0<(o[9152>>2]|0)>>>0)Ze();else{M=l;P=b}}else{o[2284]=h|d;M=9176+(y+2<<2)|0;P=a}o[M>>2]=m;o[P+12>>2]=m;o[m+8>>2]=P;o[m+12>>2]=a}o[9144>>2]=n;o[9156>>2]=s}_=p+8|0;c=r;return _|0}else A=t}else A=t}else if(!(e>>>0>4294967231)){a=e+11|0;m=a&-8;y=o[9140>>2]|0;if((y|0)!=0){d=0-m|0;h=a>>>8;if((h|0)!=0)if(m>>>0>16777215)F=31;else{a=(h+1048320|0)>>>16&8;b=h<<a;h=(b+520192|0)>>>16&4;l=b<<h;b=(l+245760|0)>>>16&2;u=14-(h|a|b)+(l<<b>>>15)|0;F=m>>>(u+7|0)&1|u<<1}else F=0;u=o[9440+(F<<2)>>2]|0;e:do if((u|0)==0){C=d;D=0;B=0}else{if((F|0)==31)R=0;else R=25-(F>>>1)|0;b=d;l=0;a=m<<R;h=u;i=0;while(1){f=o[h+4>>2]&-8;T=f-m|0;if(T>>>0<b>>>0)if((f|0)==(m|0)){C=T;D=h;B=h;break e}else{O=T;x=h}else{O=b;x=i}T=o[h+20>>2]|0;h=o[h+(a>>>31<<2)+16>>2]|0;f=(T|0)==0|(T|0)==(h|0)?l:T;if((h|0)==0){C=O;D=f;B=x;break}else{b=O;l=f;a=a<<1;i=x}}}while(0);if((D|0)==0&(B|0)==0){u=2<<F;d=y&(u|0-u);if((d|0)==0){A=m;break}u=(d&0-d)+-1|0;d=u>>>12&16;p=u>>>d;u=p>>>5&8;s=p>>>u;p=s>>>2&4;n=s>>>p;s=n>>>1&2;i=n>>>s;n=i>>>1&1;L=o[9440+((u|d|p|s|n)+(i>>>n)<<2)>>2]|0}else L=D;if((L|0)==0){N=C;I=B}else{n=C;i=L;s=B;while(1){p=(o[i+4>>2]&-8)-m|0;d=p>>>0<n>>>0;u=d?p:n;p=d?i:s;d=o[i+16>>2]|0;if((d|0)!=0){n=u;i=d;s=p;continue}i=o[i+20>>2]|0;if((i|0)==0){N=u;I=p;break}else{n=u;s=p}}}if((I|0)!=0?N>>>0<((o[9144>>2]|0)-m|0)>>>0:0){s=o[9152>>2]|0;if(I>>>0<s>>>0)Ze();n=I+m|0;if(!(I>>>0<n>>>0))Ze();i=o[I+24>>2]|0;y=o[I+12>>2]|0;do if((y|0)==(I|0)){p=I+20|0;u=o[p>>2]|0;if((u|0)==0){d=I+16|0;a=o[d>>2]|0;if((a|0)==0){J=0;break}else{G=a;W=d}}else{G=u;W=p}while(1){p=G+20|0;u=o[p>>2]|0;if((u|0)!=0){G=u;W=p;continue}p=G+16|0;u=o[p>>2]|0;if((u|0)==0)break;else{G=u;W=p}}if(W>>>0<s>>>0)Ze();else{o[W>>2]=0;J=G;break}}else{p=o[I+8>>2]|0;if(p>>>0<s>>>0)Ze();u=p+12|0;if((o[u>>2]|0)!=(I|0))Ze();d=y+8|0;if((o[d>>2]|0)==(I|0)){o[u>>2]=y;o[d>>2]=p;J=y;break}else Ze()}while(0);do if((i|0)!=0){y=o[I+28>>2]|0;s=9440+(y<<2)|0;if((I|0)==(o[s>>2]|0)){o[s>>2]=J;if((J|0)==0){o[9140>>2]=o[9140>>2]&~(1<<y);break}}else{if(i>>>0<(o[9152>>2]|0)>>>0)Ze();y=i+16|0;if((o[y>>2]|0)==(I|0))o[y>>2]=J;else o[i+20>>2]=J;if((J|0)==0)break}if(J>>>0<(o[9152>>2]|0)>>>0)Ze();o[J+24>>2]=i;y=o[I+16>>2]|0;do if((y|0)!=0)if(y>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[J+16>>2]=y;o[y+24>>2]=J;break}while(0);y=o[I+20>>2]|0;if((y|0)!=0)if(y>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[J+20>>2]=y;o[y+24>>2]=J;break}}while(0);e:do if(!(N>>>0<16)){o[I+4>>2]=m|3;o[I+(m|4)>>2]=N|1;o[I+(N+m)>>2]=N;i=N>>>3;if(N>>>0<256){y=i<<1;s=9176+(y<<2)|0;p=o[2284]|0;d=1<<i;do if((p&d|0)==0){o[2284]=p|d;V=9176+(y+2<<2)|0;z=s}else{i=9176+(y+2<<2)|0;u=o[i>>2]|0;if(!(u>>>0<(o[9152>>2]|0)>>>0)){V=i;z=u;break}Ze()}while(0);o[V>>2]=n;o[z+12>>2]=n;o[I+(m+8)>>2]=z;o[I+(m+12)>>2]=s;break}y=N>>>8;if((y|0)!=0)if(N>>>0>16777215)H=31;else{d=(y+1048320|0)>>>16&8;p=y<<d;y=(p+520192|0)>>>16&4;u=p<<y;p=(u+245760|0)>>>16&2;i=14-(y|d|p)+(u<<p>>>15)|0;H=N>>>(i+7|0)&1|i<<1}else H=0;i=9440+(H<<2)|0;o[I+(m+28)>>2]=H;o[I+(m+20)>>2]=0;o[I+(m+16)>>2]=0;p=o[9140>>2]|0;u=1<<H;if((p&u|0)==0){o[9140>>2]=p|u;o[i>>2]=n;o[I+(m+24)>>2]=i;o[I+(m+12)>>2]=n;o[I+(m+8)>>2]=n;break}u=o[i>>2]|0;if((H|0)==31)U=0;else U=25-(H>>>1)|0;r:do if((o[u+4>>2]&-8|0)!=(N|0)){i=N<<U;p=u;while(1){q=p+(i>>>31<<2)+16|0;d=o[q>>2]|0;if((d|0)==0)break;if((o[d+4>>2]&-8|0)==(N|0)){j=d;break r}else{i=i<<1;p=d}}if(q>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[q>>2]=n;o[I+(m+24)>>2]=p;o[I+(m+12)>>2]=n;o[I+(m+8)>>2]=n;break e}}else j=u;while(0);u=j+8|0;s=o[u>>2]|0;i=o[9152>>2]|0;if(j>>>0<i>>>0)Ze();if(s>>>0<i>>>0)Ze();else{o[s+12>>2]=n;o[u>>2]=n;o[I+(m+8)>>2]=s;o[I+(m+12)>>2]=j;o[I+(m+24)>>2]=0;break}}else{s=N+m|0;o[I+4>>2]=s|3;u=I+(s+4)|0;o[u>>2]=o[u>>2]|1}while(0);_=I+8|0;c=r;return _|0}else A=m}else A=m}else A=-1;while(0);I=o[9144>>2]|0;if(!(A>>>0>I>>>0)){N=I-A|0;j=o[9156>>2]|0;if(N>>>0>15){o[9156>>2]=j+A;o[9144>>2]=N;o[j+(A+4)>>2]=N|1;o[j+I>>2]=N;o[j+4>>2]=A|3}else{o[9144>>2]=0;o[9156>>2]=0;o[j+4>>2]=I|3;N=j+(I+4)|0;o[N>>2]=o[N>>2]|1}_=j+8|0;c=r;return _|0}j=o[9148>>2]|0;if(A>>>0<j>>>0){N=j-A|0;o[9148>>2]=N;j=o[9160>>2]|0;o[9160>>2]=j+A;o[j+(A+4)>>2]=N|1;o[j+4>>2]=A|3;_=j+8|0;c=r;return _|0}do if((o[2402]|0)==0){j=Ye(30)|0;if((j+-1&j|0)==0){o[9616>>2]=j;o[9612>>2]=j;o[9620>>2]=-1;o[9624>>2]=-1;o[9628>>2]=0;o[9580>>2]=0;o[2402]=(Re(0)|0)&-16^1431655768;break}else Ze()}while(0);j=A+48|0;N=o[9616>>2]|0;I=A+47|0;q=N+I|0;U=0-N|0;N=q&U;if(!(N>>>0>A>>>0)){_=0;c=r;return _|0}H=o[9576>>2]|0;if((H|0)!=0?(z=o[9568>>2]|0,V=z+N|0,V>>>0<=z>>>0|V>>>0>H>>>0):0){_=0;c=r;return _|0}e:do if((o[9580>>2]&4|0)==0){H=o[9160>>2]|0;r:do if((H|0)!=0){V=9584|0;while(1){z=o[V>>2]|0;if(!(z>>>0>H>>>0)?(Y=V+4|0,(z+(o[Y>>2]|0)|0)>>>0>H>>>0):0)break;z=o[V+8>>2]|0;if((z|0)==0){Z=182;break r}else V=z}if((V|0)!=0){z=q-(o[9148>>2]|0)&U;if(z>>>0<2147483647){J=xe(z|0)|0;G=(J|0)==((o[V>>2]|0)+(o[Y>>2]|0)|0);X=J;K=z;Q=G?J:-1;$=G?z:0;Z=191}else ee=0}else Z=182}else Z=182;while(0);do if((Z|0)==182){H=xe(0)|0;if((H|0)!=(-1|0)){m=H;z=o[9612>>2]|0;G=z+-1|0;if((G&m|0)==0)re=N;else re=N-m+(G+m&0-z)|0;z=o[9568>>2]|0;
m=z+re|0;if(re>>>0>A>>>0&re>>>0<2147483647){G=o[9576>>2]|0;if((G|0)!=0?m>>>0<=z>>>0|m>>>0>G>>>0:0){ee=0;break}G=xe(re|0)|0;m=(G|0)==(H|0);X=G;K=re;Q=m?H:-1;$=m?re:0;Z=191}else ee=0}else ee=0}while(0);r:do if((Z|0)==191){m=0-K|0;if((Q|0)!=(-1|0)){te=Q;ie=$;Z=202;break e}do if((X|0)!=(-1|0)&K>>>0<2147483647&K>>>0<j>>>0?(H=o[9616>>2]|0,G=I-K+H&0-H,G>>>0<2147483647):0)if((xe(G|0)|0)==(-1|0)){xe(m|0)|0;ee=$;break r}else{ne=G+K|0;break}else ne=K;while(0);if((X|0)==(-1|0))ee=$;else{te=X;ie=ne;Z=202;break e}}while(0);o[9580>>2]=o[9580>>2]|4;oe=ee;Z=199}else{oe=0;Z=199}while(0);if((((Z|0)==199?N>>>0<2147483647:0)?(ee=xe(N|0)|0,N=xe(0)|0,(N|0)!=(-1|0)&(ee|0)!=(-1|0)&ee>>>0<N>>>0):0)?(ne=N-ee|0,N=ne>>>0>(A+40|0)>>>0,N):0){te=ee;ie=N?ne:oe;Z=202}if((Z|0)==202){oe=(o[9568>>2]|0)+ie|0;o[9568>>2]=oe;if(oe>>>0>(o[9572>>2]|0)>>>0)o[9572>>2]=oe;oe=o[9160>>2]|0;e:do if((oe|0)!=0){ne=9584|0;while(1){ae=o[ne>>2]|0;ue=ne+4|0;le=o[ue>>2]|0;if((te|0)==(ae+le|0)){Z=214;break}N=o[ne+8>>2]|0;if((N|0)==0)break;else ne=N}if(((Z|0)==214?(o[ne+12>>2]&8|0)==0:0)?oe>>>0>=ae>>>0&oe>>>0<te>>>0:0){o[ue>>2]=le+ie;N=(o[9148>>2]|0)+ie|0;ee=oe+8|0;if((ee&7|0)==0)se=0;else se=0-ee&7;ee=N-se|0;o[9160>>2]=oe+se;o[9148>>2]=ee;o[oe+(se+4)>>2]=ee|1;o[oe+(N+4)>>2]=40;o[9164>>2]=o[9624>>2];break}if(te>>>0<(o[9152>>2]|0)>>>0)o[9152>>2]=te;N=te+ie|0;ee=9584|0;while(1){if((o[ee>>2]|0)==(N|0)){Z=224;break}X=o[ee+8>>2]|0;if((X|0)==0)break;else ee=X}if((Z|0)==224?(o[ee+12>>2]&8|0)==0:0){o[ee>>2]=te;N=ee+4|0;o[N>>2]=(o[N>>2]|0)+ie;N=te+8|0;if((N&7|0)==0)fe=0;else fe=0-N&7;N=te+(ie+8)|0;if((N&7|0)==0)ce=0;else ce=0-N&7;N=te+(ce+ie)|0;ne=fe+A|0;X=te+ne|0;$=N-(te+fe)-A|0;o[te+(fe+4)>>2]=A|3;r:do if((N|0)!=(o[9160>>2]|0)){if((N|0)==(o[9156>>2]|0)){K=(o[9144>>2]|0)+$|0;o[9144>>2]=K;o[9156>>2]=X;o[te+(ne+4)>>2]=K|1;o[te+(K+ne)>>2]=K;break}K=ie+4|0;I=o[te+(K+ce)>>2]|0;if((I&3|0)==1){j=I&-8;Q=I>>>3;t:do if(!(I>>>0<256)){re=o[te+((ce|24)+ie)>>2]|0;Y=o[te+(ie+12+ce)>>2]|0;do if((Y|0)==(N|0)){U=ce|16;q=te+(K+U)|0;m=o[q>>2]|0;if((m|0)==0){V=te+(U+ie)|0;U=o[V>>2]|0;if((U|0)==0){de=0;break}else{be=U;he=V}}else{be=m;he=q}while(1){q=be+20|0;m=o[q>>2]|0;if((m|0)!=0){be=m;he=q;continue}q=be+16|0;m=o[q>>2]|0;if((m|0)==0)break;else{be=m;he=q}}if(he>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[he>>2]=0;de=be;break}}else{q=o[te+((ce|8)+ie)>>2]|0;if(q>>>0<(o[9152>>2]|0)>>>0)Ze();m=q+12|0;if((o[m>>2]|0)!=(N|0))Ze();V=Y+8|0;if((o[V>>2]|0)==(N|0)){o[m>>2]=Y;o[V>>2]=q;de=Y;break}else Ze()}while(0);if((re|0)==0)break;Y=o[te+(ie+28+ce)>>2]|0;p=9440+(Y<<2)|0;do if((N|0)!=(o[p>>2]|0)){if(re>>>0<(o[9152>>2]|0)>>>0)Ze();q=re+16|0;if((o[q>>2]|0)==(N|0))o[q>>2]=de;else o[re+20>>2]=de;if((de|0)==0)break t}else{o[p>>2]=de;if((de|0)!=0)break;o[9140>>2]=o[9140>>2]&~(1<<Y);break t}while(0);if(de>>>0<(o[9152>>2]|0)>>>0)Ze();o[de+24>>2]=re;Y=ce|16;p=o[te+(Y+ie)>>2]|0;do if((p|0)!=0)if(p>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[de+16>>2]=p;o[p+24>>2]=de;break}while(0);p=o[te+(K+Y)>>2]|0;if((p|0)==0)break;if(p>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[de+20>>2]=p;o[p+24>>2]=de;break}}else{p=o[te+((ce|8)+ie)>>2]|0;re=o[te+(ie+12+ce)>>2]|0;q=9176+(Q<<1<<2)|0;do if((p|0)!=(q|0)){if(p>>>0<(o[9152>>2]|0)>>>0)Ze();if((o[p+12>>2]|0)==(N|0))break;Ze()}while(0);if((re|0)==(p|0)){o[2284]=o[2284]&~(1<<Q);break}do if((re|0)==(q|0))_e=re+8|0;else{if(re>>>0<(o[9152>>2]|0)>>>0)Ze();Y=re+8|0;if((o[Y>>2]|0)==(N|0)){_e=Y;break}Ze()}while(0);o[p+12>>2]=re;o[_e>>2]=p}while(0);me=te+((j|ce)+ie)|0;pe=j+$|0}else{me=N;pe=$}Q=me+4|0;o[Q>>2]=o[Q>>2]&-2;o[te+(ne+4)>>2]=pe|1;o[te+(pe+ne)>>2]=pe;Q=pe>>>3;if(pe>>>0<256){K=Q<<1;I=9176+(K<<2)|0;q=o[2284]|0;Y=1<<Q;do if((q&Y|0)==0){o[2284]=q|Y;ye=9176+(K+2<<2)|0;we=I}else{Q=9176+(K+2<<2)|0;V=o[Q>>2]|0;if(!(V>>>0<(o[9152>>2]|0)>>>0)){ye=Q;we=V;break}Ze()}while(0);o[ye>>2]=X;o[we+12>>2]=X;o[te+(ne+8)>>2]=we;o[te+(ne+12)>>2]=I;break}K=pe>>>8;do if((K|0)==0)ve=0;else{if(pe>>>0>16777215){ve=31;break}Y=(K+1048320|0)>>>16&8;q=K<<Y;j=(q+520192|0)>>>16&4;V=q<<j;q=(V+245760|0)>>>16&2;Q=14-(j|Y|q)+(V<<q>>>15)|0;ve=pe>>>(Q+7|0)&1|Q<<1}while(0);K=9440+(ve<<2)|0;o[te+(ne+28)>>2]=ve;o[te+(ne+20)>>2]=0;o[te+(ne+16)>>2]=0;I=o[9140>>2]|0;Q=1<<ve;if((I&Q|0)==0){o[9140>>2]=I|Q;o[K>>2]=X;o[te+(ne+24)>>2]=K;o[te+(ne+12)>>2]=X;o[te+(ne+8)>>2]=X;break}Q=o[K>>2]|0;if((ve|0)==31)Se=0;else Se=25-(ve>>>1)|0;t:do if((o[Q+4>>2]&-8|0)!=(pe|0)){K=pe<<Se;I=Q;while(1){Ee=I+(K>>>31<<2)+16|0;q=o[Ee>>2]|0;if((q|0)==0)break;if((o[q+4>>2]&-8|0)==(pe|0)){ge=q;break t}else{K=K<<1;I=q}}if(Ee>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[Ee>>2]=X;o[te+(ne+24)>>2]=I;o[te+(ne+12)>>2]=X;o[te+(ne+8)>>2]=X;break r}}else ge=Q;while(0);Q=ge+8|0;K=o[Q>>2]|0;p=o[9152>>2]|0;if(ge>>>0<p>>>0)Ze();if(K>>>0<p>>>0)Ze();else{o[K+12>>2]=X;o[Q>>2]=X;o[te+(ne+8)>>2]=K;o[te+(ne+12)>>2]=ge;o[te+(ne+24)>>2]=0;break}}else{K=(o[9148>>2]|0)+$|0;o[9148>>2]=K;o[9160>>2]=X;o[te+(ne+4)>>2]=K|1}while(0);_=te+(fe|8)|0;c=r;return _|0}ne=9584|0;while(1){ke=o[ne>>2]|0;if(!(ke>>>0>oe>>>0)?(Me=o[ne+4>>2]|0,Pe=ke+Me|0,Pe>>>0>oe>>>0):0)break;ne=o[ne+8>>2]|0}ne=ke+(Me+-39)|0;if((ne&7|0)==0)Ae=0;else Ae=0-ne&7;ne=ke+(Me+-47+Ae)|0;X=ne>>>0<(oe+16|0)>>>0?oe:ne;ne=X+8|0;$=te+8|0;if(($&7|0)==0)Fe=0;else Fe=0-$&7;$=ie+-40-Fe|0;o[9160>>2]=te+Fe;o[9148>>2]=$;o[te+(Fe+4)>>2]=$|1;o[te+(ie+-36)>>2]=40;o[9164>>2]=o[9624>>2];o[X+4>>2]=27;o[ne+0>>2]=o[9584>>2];o[ne+4>>2]=o[9588>>2];o[ne+8>>2]=o[9592>>2];o[ne+12>>2]=o[9596>>2];o[9584>>2]=te;o[9588>>2]=ie;o[9596>>2]=0;o[9592>>2]=ne;ne=X+28|0;o[ne>>2]=7;if((X+32|0)>>>0<Pe>>>0){$=ne;do{ne=$;$=$+4|0;o[$>>2]=7}while((ne+8|0)>>>0<Pe>>>0)}if((X|0)!=(oe|0)){$=X-oe|0;ne=oe+($+4)|0;o[ne>>2]=o[ne>>2]&-2;o[oe+4>>2]=$|1;o[oe+$>>2]=$;ne=$>>>3;if($>>>0<256){N=ne<<1;ee=9176+(N<<2)|0;K=o[2284]|0;Q=1<<ne;do if((K&Q|0)==0){o[2284]=K|Q;Ce=9176+(N+2<<2)|0;De=ee}else{ne=9176+(N+2<<2)|0;p=o[ne>>2]|0;if(!(p>>>0<(o[9152>>2]|0)>>>0)){Ce=ne;De=p;break}Ze()}while(0);o[Ce>>2]=oe;o[De+12>>2]=oe;o[oe+8>>2]=De;o[oe+12>>2]=ee;break}N=$>>>8;if((N|0)!=0)if($>>>0>16777215)Be=31;else{Q=(N+1048320|0)>>>16&8;K=N<<Q;N=(K+520192|0)>>>16&4;X=K<<N;K=(X+245760|0)>>>16&2;p=14-(N|Q|K)+(X<<K>>>15)|0;Be=$>>>(p+7|0)&1|p<<1}else Be=0;p=9440+(Be<<2)|0;o[oe+28>>2]=Be;o[oe+20>>2]=0;o[oe+16>>2]=0;K=o[9140>>2]|0;X=1<<Be;if((K&X|0)==0){o[9140>>2]=K|X;o[p>>2]=oe;o[oe+24>>2]=p;o[oe+12>>2]=oe;o[oe+8>>2]=oe;break}X=o[p>>2]|0;if((Be|0)==31)Te=0;else Te=25-(Be>>>1)|0;r:do if((o[X+4>>2]&-8|0)!=($|0)){p=$<<Te;K=X;while(1){Oe=K+(p>>>31<<2)+16|0;Q=o[Oe>>2]|0;if((Q|0)==0)break;if((o[Q+4>>2]&-8|0)==($|0)){Le=Q;break r}else{p=p<<1;K=Q}}if(Oe>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[Oe>>2]=oe;o[oe+24>>2]=K;o[oe+12>>2]=oe;o[oe+8>>2]=oe;break e}}else Le=X;while(0);X=Le+8|0;$=o[X>>2]|0;ee=o[9152>>2]|0;if(Le>>>0<ee>>>0)Ze();if($>>>0<ee>>>0)Ze();else{o[$+12>>2]=oe;o[X>>2]=oe;o[oe+8>>2]=$;o[oe+12>>2]=Le;o[oe+24>>2]=0;break}}}else{$=o[9152>>2]|0;if(($|0)==0|te>>>0<$>>>0)o[9152>>2]=te;o[9584>>2]=te;o[9588>>2]=ie;o[9596>>2]=0;o[9172>>2]=o[2402];o[9168>>2]=-1;$=0;do{X=$<<1;ee=9176+(X<<2)|0;o[9176+(X+3<<2)>>2]=ee;o[9176+(X+2<<2)>>2]=ee;$=$+1|0}while(($|0)!=32);$=te+8|0;if(($&7|0)==0)Ne=0;else Ne=0-$&7;$=ie+-40-Ne|0;o[9160>>2]=te+Ne;o[9148>>2]=$;o[te+(Ne+4)>>2]=$|1;o[te+(ie+-36)>>2]=40;o[9164>>2]=o[9624>>2]}while(0);ie=o[9148>>2]|0;if(ie>>>0>A>>>0){te=ie-A|0;o[9148>>2]=te;ie=o[9160>>2]|0;o[9160>>2]=ie+A;o[ie+(A+4)>>2]=te|1;o[ie+4>>2]=A|3;_=ie+8|0;c=r;return _|0}}o[(Ue()|0)>>2]=12;_=0;c=r;return _|0}function ib(e){e=e|0;var r=0,t=0,i=0,n=0,a=0,u=0,l=0,s=0,f=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0,T=0,O=0,x=0,L=0;r=c;if((e|0)==0){c=r;return}t=e+-8|0;i=o[9152>>2]|0;if(t>>>0<i>>>0)Ze();n=o[e+-4>>2]|0;a=n&3;if((a|0)==1)Ze();u=n&-8;l=e+(u+-8)|0;do if((n&1|0)==0){s=o[t>>2]|0;if((a|0)==0){c=r;return}f=-8-s|0;d=e+f|0;b=s+u|0;if(d>>>0<i>>>0)Ze();if((d|0)==(o[9156>>2]|0)){h=e+(u+-4)|0;if((o[h>>2]&3|0)!=3){_=d;m=b;break}o[9144>>2]=b;o[h>>2]=o[h>>2]&-2;o[e+(f+4)>>2]=b|1;o[l>>2]=b;c=r;return}h=s>>>3;if(s>>>0<256){s=o[e+(f+8)>>2]|0;p=o[e+(f+12)>>2]|0;y=9176+(h<<1<<2)|0;if((s|0)!=(y|0)){if(s>>>0<i>>>0)Ze();if((o[s+12>>2]|0)!=(d|0))Ze()}if((p|0)==(s|0)){o[2284]=o[2284]&~(1<<h);_=d;m=b;break}if((p|0)!=(y|0)){if(p>>>0<i>>>0)Ze();y=p+8|0;if((o[y>>2]|0)==(d|0))w=y;else Ze()}else w=p+8|0;o[s+12>>2]=p;o[w>>2]=s;_=d;m=b;break}s=o[e+(f+24)>>2]|0;p=o[e+(f+12)>>2]|0;do if((p|0)==(d|0)){y=e+(f+20)|0;h=o[y>>2]|0;if((h|0)==0){v=e+(f+16)|0;S=o[v>>2]|0;if((S|0)==0){E=0;break}else{g=S;k=v}}else{g=h;k=y}while(1){y=g+20|0;h=o[y>>2]|0;if((h|0)!=0){g=h;k=y;continue}y=g+16|0;h=o[y>>2]|0;if((h|0)==0)break;else{g=h;k=y}}if(k>>>0<i>>>0)Ze();else{o[k>>2]=0;E=g;break}}else{y=o[e+(f+8)>>2]|0;if(y>>>0<i>>>0)Ze();h=y+12|0;if((o[h>>2]|0)!=(d|0))Ze();v=p+8|0;if((o[v>>2]|0)==(d|0)){o[h>>2]=p;o[v>>2]=y;E=p;break}else Ze()}while(0);if((s|0)!=0){p=o[e+(f+28)>>2]|0;y=9440+(p<<2)|0;if((d|0)==(o[y>>2]|0)){o[y>>2]=E;if((E|0)==0){o[9140>>2]=o[9140>>2]&~(1<<p);_=d;m=b;break}}else{if(s>>>0<(o[9152>>2]|0)>>>0)Ze();p=s+16|0;if((o[p>>2]|0)==(d|0))o[p>>2]=E;else o[s+20>>2]=E;if((E|0)==0){_=d;m=b;break}}if(E>>>0<(o[9152>>2]|0)>>>0)Ze();o[E+24>>2]=s;p=o[e+(f+16)>>2]|0;do if((p|0)!=0)if(p>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[E+16>>2]=p;o[p+24>>2]=E;break}while(0);p=o[e+(f+20)>>2]|0;if((p|0)!=0)if(p>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[E+20>>2]=p;o[p+24>>2]=E;_=d;m=b;break}else{_=d;m=b}}else{_=d;m=b}}else{_=t;m=u}while(0);if(!(_>>>0<l>>>0))Ze();t=e+(u+-4)|0;E=o[t>>2]|0;if((E&1|0)==0)Ze();if((E&2|0)==0){if((l|0)==(o[9160>>2]|0)){i=(o[9148>>2]|0)+m|0;o[9148>>2]=i;o[9160>>2]=_;o[_+4>>2]=i|1;if((_|0)!=(o[9156>>2]|0)){c=r;return}o[9156>>2]=0;o[9144>>2]=0;c=r;return}if((l|0)==(o[9156>>2]|0)){i=(o[9144>>2]|0)+m|0;o[9144>>2]=i;o[9156>>2]=_;o[_+4>>2]=i|1;o[_+i>>2]=i;c=r;return}i=(E&-8)+m|0;g=E>>>3;do if(!(E>>>0<256)){k=o[e+(u+16)>>2]|0;w=o[e+(u|4)>>2]|0;do if((w|0)==(l|0)){a=e+(u+12)|0;n=o[a>>2]|0;if((n|0)==0){p=e+(u+8)|0;s=o[p>>2]|0;if((s|0)==0){M=0;break}else{P=s;A=p}}else{P=n;A=a}while(1){a=P+20|0;n=o[a>>2]|0;if((n|0)!=0){P=n;A=a;continue}a=P+16|0;n=o[a>>2]|0;if((n|0)==0)break;else{P=n;A=a}}if(A>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[A>>2]=0;M=P;break}}else{a=o[e+u>>2]|0;if(a>>>0<(o[9152>>2]|0)>>>0)Ze();n=a+12|0;if((o[n>>2]|0)!=(l|0))Ze();p=w+8|0;if((o[p>>2]|0)==(l|0)){o[n>>2]=w;o[p>>2]=a;M=w;break}else Ze()}while(0);if((k|0)!=0){w=o[e+(u+20)>>2]|0;b=9440+(w<<2)|0;if((l|0)==(o[b>>2]|0)){o[b>>2]=M;if((M|0)==0){o[9140>>2]=o[9140>>2]&~(1<<w);break}}else{if(k>>>0<(o[9152>>2]|0)>>>0)Ze();w=k+16|0;if((o[w>>2]|0)==(l|0))o[w>>2]=M;else o[k+20>>2]=M;if((M|0)==0)break}if(M>>>0<(o[9152>>2]|0)>>>0)Ze();o[M+24>>2]=k;w=o[e+(u+8)>>2]|0;do if((w|0)!=0)if(w>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[M+16>>2]=w;o[w+24>>2]=M;break}while(0);w=o[e+(u+12)>>2]|0;if((w|0)!=0)if(w>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[M+20>>2]=w;o[w+24>>2]=M;break}}}else{w=o[e+u>>2]|0;k=o[e+(u|4)>>2]|0;b=9176+(g<<1<<2)|0;if((w|0)!=(b|0)){if(w>>>0<(o[9152>>2]|0)>>>0)Ze();if((o[w+12>>2]|0)!=(l|0))Ze()}if((k|0)==(w|0)){o[2284]=o[2284]&~(1<<g);break}if((k|0)!=(b|0)){if(k>>>0<(o[9152>>2]|0)>>>0)Ze();b=k+8|0;if((o[b>>2]|0)==(l|0))F=b;else Ze()}else F=k+8|0;o[w+12>>2]=k;o[F>>2]=w}while(0);o[_+4>>2]=i|1;o[_+i>>2]=i;if((_|0)==(o[9156>>2]|0)){o[9144>>2]=i;c=r;return}else C=i}else{o[t>>2]=E&-2;o[_+4>>2]=m|1;o[_+m>>2]=m;C=m}m=C>>>3;if(C>>>0<256){E=m<<1;t=9176+(E<<2)|0;i=o[2284]|0;F=1<<m;if((i&F|0)!=0){m=9176+(E+2<<2)|0;l=o[m>>2]|0;if(l>>>0<(o[9152>>2]|0)>>>0)Ze();else{D=m;B=l}}else{o[2284]=i|F;D=9176+(E+2<<2)|0;B=t}o[D>>2]=_;o[B+12>>2]=_;o[_+8>>2]=B;o[_+12>>2]=t;c=r;return}t=C>>>8;if((t|0)!=0)if(C>>>0>16777215)R=31;else{B=(t+1048320|0)>>>16&8;D=t<<B;t=(D+520192|0)>>>16&4;E=D<<t;D=(E+245760|0)>>>16&2;F=14-(t|B|D)+(E<<D>>>15)|0;R=C>>>(F+7|0)&1|F<<1}else R=0;F=9440+(R<<2)|0;o[_+28>>2]=R;o[_+20>>2]=0;o[_+16>>2]=0;D=o[9140>>2]|0;E=1<<R;e:do if((D&E|0)!=0){B=o[F>>2]|0;if((R|0)==31)T=0;else T=25-(R>>>1)|0;r:do if((o[B+4>>2]&-8|0)!=(C|0)){t=C<<T;i=B;while(1){O=i+(t>>>31<<2)+16|0;l=o[O>>2]|0;if((l|0)==0)break;if((o[l+4>>2]&-8|0)==(C|0)){x=l;break r}else{t=t<<1;i=l}}if(O>>>0<(o[9152>>2]|0)>>>0)Ze();else{o[O>>2]=_;o[_+24>>2]=i;o[_+12>>2]=_;o[_+8>>2]=_;break e}}else x=B;while(0);B=x+8|0;t=o[B>>2]|0;l=o[9152>>2]|0;if(x>>>0<l>>>0)Ze();if(t>>>0<l>>>0)Ze();else{o[t+12>>2]=_;o[B>>2]=_;o[_+8>>2]=t;o[_+12>>2]=x;o[_+24>>2]=0;break}}else{o[9140>>2]=D|E;o[F>>2]=_;o[_+24>>2]=F;o[_+12>>2]=_;o[_+8>>2]=_}while(0);_=(o[9168>>2]|0)+-1|0;o[9168>>2]=_;if((_|0)==0)L=9592|0;else{c=r;return}while(1){_=o[L>>2]|0;if((_|0)==0)break;else L=_+8|0}o[9168>>2]=-1;c=r;return}function nb(e){e=e|0;var r=0,t=0,i=0,n=0;r=c;t=(e|0)==0?1:e;while(1){i=tb(t)|0;if((i|0)!=0){n=6;break}e=o[2410]|0;o[2410]=e+0;if((e|0)==0){n=5;break}ph[e&1]()}if((n|0)==5){t=Ce(4)|0;o[t>>2]=9656;je(t|0,9704,92)}else if((n|0)==6){c=r;return i|0}return 0}function ob(e,r){e=e|0;r=r|0;var t=0;r=c;t=nb(e)|0;c=r;return t|0}function ab(e){e=e|0;var r=0;r=c;if((e|0)!=0)ib(e);c=r;return}function ub(e){e=e|0;var r=0;r=c;qe(e|0);ab(e);c=r;return}function lb(e){e=e|0;var r=0;r=c;qe(e|0);c=r;return}function sb(e){e=e|0;return 9672}function fb(){o[2428]=p}function cb(e,r,t){e=e|0;r=r|0;t=t|0;var n=0,a=0,u=0,l=0;n=e+t|0;if((t|0)>=20){r=r&255;a=e&3;u=r|r<<8|r<<16|r<<24;l=n&~3;if(a){a=e+4-a|0;while((e|0)<(a|0)){i[e>>0]=r;e=e+1|0}}while((e|0)<(l|0)){o[e>>2]=u;e=e+4|0}}while((e|0)<(n|0)){i[e>>0]=r;e=e+1|0}return e-t|0}function db(e){e=e|0;var r=0;r=e;while(i[r>>0]|0)r=r+1|0;return r-e|0}function bb(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0;n=e+t>>>0;return(T=r+i+(n>>>0<e>>>0|0)>>>0,n|0)|0}function hb(e,r,t){e=e|0;r=r|0;t=t|0;var n=0;if((t|0)>=4096)return We(e|0,r|0,t|0)|0;n=e|0;if((e&3)==(r&3)){while(e&3){if((t|0)==0)return n|0;i[e>>0]=i[r>>0]|0;e=e+1|0;r=r+1|0;t=t-1|0}while((t|0)>=4){o[e>>2]=o[r>>2];e=e+4|0;r=r+4|0;t=t-4|0}}while((t|0)>0){i[e>>0]=i[r>>0]|0;e=e+1|0;r=r+1|0;t=t-1|0}return n|0}function _b(e,r,t){e=e|0;r=r|0;t=t|0;var n=0;if((r|0)<(e|0)&(e|0)<(r+t|0)){n=e;r=r+t|0;e=e+t|0;while((t|0)>0){e=e-1|0;r=r-1|0;t=t-1|0;i[e>>0]=i[r>>0]|0}e=n}else hb(e,r,t)|0;return e|0}function mb(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0;n=r-i>>>0;n=r-i-(t>>>0>e>>>0|0)>>>0;return(T=n,e-t>>>0|0)|0}function pb(e,r,t){e=e|0;r=r|0;t=t|0;if((t|0)<32){T=r<<t|(e&(1<<t)-1<<32-t)>>>32-t;return e<<t}T=e<<t-32;return 0}function yb(e,r,t){e=e|0;r=r|0;t=t|0;if((t|0)<32){T=r>>>t;return e>>>t|(r&(1<<t)-1)<<32-t}T=0;return r>>>t-32|0}function wb(e,r,t){e=e|0;r=r|0;t=t|0;if((t|0)<32){T=r>>t;return e>>>t|(r&(1<<t)-1)<<32-t}T=(r|0)<0?-1:0;return r>>t-32|0}function vb(e){e=e|0;var r=0;r=i[m+(e>>>24)>>0]|0;if((r|0)<8)return r|0;r=i[m+(e>>16&255)>>0]|0;if((r|0)<8)return r+8|0;r=i[m+(e>>8&255)>>0]|0;if((r|0)<8)return r+16|0;return(i[m+(e&255)>>0]|0)+24|0}function Sb(e){e=e|0;var r=0;r=i[_+(e&255)>>0]|0;if((r|0)<8)return r|0;r=i[_+(e>>8&255)>>0]|0;if((r|0)<8)return r+8|0;r=i[_+(e>>16&255)>>0]|0;if((r|0)<8)return r+16|0;return(i[_+(e>>>24)>>0]|0)+24|0}function Eb(e,r){e=e|0;r=r|0;var t=0,i=0,n=0,o=0;t=e&65535;i=r&65535;n=ie(i,t)|0;o=e>>>16;e=(n>>>16)+(ie(i,o)|0)|0;i=r>>>16;r=ie(i,t)|0;return(T=(e>>>16)+(ie(i,o)|0)+(((e&65535)+r|0)>>>16)|0,e+r<<16|n&65535|0)|0}function gb(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,o=0,a=0,u=0,l=0;n=r>>31|((r|0)<0?-1:0)<<1;o=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;a=i>>31|((i|0)<0?-1:0)<<1;u=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;l=mb(n^e,o^r,n,o)|0;r=T;e=a^n;n=u^o;o=mb((Fb(l,r,mb(a^t,u^i,a,u)|0,T,0)|0)^e,T^n,e,n)|0;return o|0}function kb(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0,u=0,l=0,s=0,f=0,d=0;n=c;c=c+8|0;a=n|0;u=r>>31|((r|0)<0?-1:0)<<1;l=((r|0)<0?-1:0)>>31|((r|0)<0?-1:0)<<1;s=i>>31|((i|0)<0?-1:0)<<1;f=((i|0)<0?-1:0)>>31|((i|0)<0?-1:0)<<1;d=mb(u^e,l^r,u,l)|0;r=T;Fb(d,r,mb(s^t,f^i,s,f)|0,T,a)|0;f=mb(o[a>>2]^u,o[a+4>>2]^l,u,l)|0;l=T;c=n;return(T=l,f)|0}function Mb(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,o=0;n=e;e=t;t=Eb(n,e)|0;o=T;return(T=(ie(r,e)|0)+(ie(i,n)|0)+o|o&0,t|0|0)|0}function Pb(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0;n=Fb(e,r,t,i,0)|0;return n|0}function Ab(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;var n=0,a=0;n=c;c=c+8|0;a=n|0;Fb(e,r,t,i,a)|0;c=n;return(T=o[a+4>>2]|0,o[a>>2]|0)|0}function Fb(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;var a=0,u=0,l=0,s=0,f=0,c=0,d=0,b=0,h=0,_=0,m=0,p=0,y=0,w=0,v=0,S=0,E=0,g=0,k=0,M=0,P=0,A=0,F=0,C=0,D=0,B=0,R=0;a=e;u=r;l=u;s=t;f=i;c=f;if((l|0)==0){d=(n|0)!=0;if((c|0)==0){if(d){o[n>>2]=(a>>>0)%(s>>>0);o[n+4>>2]=0}b=0;h=(a>>>0)/(s>>>0)>>>0;return(T=b,h)|0}else{if(!d){b=0;h=0;return(T=b,h)|0}o[n>>2]=e|0;o[n+4>>2]=r&0;b=0;h=0;return(T=b,h)|0}}d=(c|0)==0;do if((s|0)!=0){if(!d){_=(vb(c|0)|0)-(vb(l|0)|0)|0;if(_>>>0<=31){m=_+1|0;p=31-_|0;y=_-31>>31;w=m;v=a>>>(m>>>0)&y|l<<p;S=l>>>(m>>>0)&y;E=0;g=a<<p;break}if((n|0)==0){b=0;h=0;return(T=b,h)|0}o[n>>2]=e|0;o[n+4>>2]=u|r&0;b=0;h=0;return(T=b,h)|0}p=s-1|0;if((p&s|0)!=0){y=(vb(s|0)|0)+33-(vb(l|0)|0)|0;m=64-y|0;_=32-y|0;k=_>>31;M=y-32|0;P=M>>31;w=y;v=_-1>>31&l>>>(M>>>0)|(l<<_|a>>>(y>>>0))&P;S=P&l>>>(y>>>0);E=a<<m&k;g=(l<<m|a>>>(M>>>0))&k|a<<_&y-33>>31;break}if((n|0)!=0){o[n>>2]=p&a;o[n+4>>2]=0}if((s|0)==1){b=u|r&0;h=e|0|0;return(T=b,h)|0}else{p=Sb(s|0)|0;b=l>>>(p>>>0)|0;h=l<<32-p|a>>>(p>>>0)|0;return(T=b,h)|0}}else{if(d){if((n|0)!=0){o[n>>2]=(l>>>0)%(s>>>0);o[n+4>>2]=0}b=0;h=(l>>>0)/(s>>>0)>>>0;return(T=b,h)|0}if((a|0)==0){if((n|0)!=0){o[n>>2]=0;o[n+4>>2]=(l>>>0)%(c>>>0)}b=0;h=(l>>>0)/(c>>>0)>>>0;return(T=b,h)|0}p=c-1|0;if((p&c|0)==0){if((n|0)!=0){o[n>>2]=e|0;o[n+4>>2]=p&l|r&0}b=0;h=l>>>((Sb(c|0)|0)>>>0);return(T=b,h)|0}p=(vb(c|0)|0)-(vb(l|0)|0)|0;if(p>>>0<=30){y=p+1|0;_=31-p|0;w=y;v=l<<_|a>>>(y>>>0);S=l>>>(y>>>0);E=0;g=a<<_;break}if((n|0)==0){b=0;h=0;return(T=b,h)|0}o[n>>2]=e|0;o[n+4>>2]=u|r&0;b=0;h=0;return(T=b,h)|0}while(0);if((w|0)==0){A=g;F=E;C=S;D=v;B=0;R=0}else{r=t|0|0;t=f|i&0;i=bb(r,t,-1,-1)|0;f=T;u=g;g=E;E=S;S=v;v=w;w=0;do{e=u;u=g>>>31|u<<1;g=w|g<<1;a=S<<1|e>>>31|0;e=S>>>31|E<<1|0;mb(i,f,a,e)|0;l=T;c=l>>31|((l|0)<0?-1:0)<<1;w=c&1;S=mb(a,e,c&r,(((l|0)<0?-1:0)>>31|((l|0)<0?-1:0)<<1)&t)|0;E=T;v=v-1|0}while((v|0)!=0);A=u;F=g;C=E;D=S;B=0;R=w}w=F;F=0;if((n|0)!=0){o[n>>2]=D;o[n+4>>2]=C}b=(w|0)>>>31|(A|F)<<1|(F<<1|w>>>31)&0|B;h=(w<<1|0>>>31)&-2|R;return(T=b,h)|0}function Cb(e,r,t,i,n,o,a){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;o=o|0;a=+a;return+lh[e&1](r|0,t|0,i|0,n|0,o|0,+a)}function Db(e,r){e=e|0;r=r|0;return sh[e&7](r|0)|0}function Bb(e,r,t,i,n,o){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;o=o|0;fh[e&3](r|0,t|0,i|0,n|0,o|0)}function Rb(e,r,t){e=e|0;r=r|0;t=+t;return+ch[e&15](r|0,+t)}function Tb(e,r){e=e|0;r=r|0;dh[e&127](r|0)}function Ob(e,r,t,i,n,o){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;o=+o;return+bh[e&1](r|0,t|0,i|0,n|0,+o)}function xb(e,r,t){e=e|0;r=r|0;t=t|0;hh[e&63](r|0,t|0)}function Lb(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;return _h[e&15](r|0,t|0,i|0)|0}function Nb(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;mh[e&7](r|0,t|0,i|0)}function Ib(e){e=e|0;ph[e&1]()}function Jb(e,r,t,i){e=e|0;r=r|0;t=t|0;i=+i;yh[e&31](r|0,t|0,+i)}function Gb(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;return wh[e&7](r|0,t|0,i|0,n|0)|0}function Wb(e,r,t,i,n,o,a){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;o=o|0;a=a|0;vh[e&7](r|0,t|0,i|0,n|0,o|0,a|0)}function Vb(e,r,t){e=e|0;r=r|0;t=t|0;return Sh[e&31](r|0,t|0)|0}function zb(e,r,t,i,n,o){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;o=o|0;return Eh[e&15](r|0,t|0,i|0,n|0,o|0)|0}function Hb(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;gh[e&31](r|0,t|0,i|0,n|0)}function Ub(e,r,t,i,n,o){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;o=+o;ne(0);return 0}function qb(e){e=e|0;ne(1);return 0}function jb(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;ne(2)}function Yb(e,r){e=e|0;r=+r;ne(3);return 0}function Zb(e){e=e|0;ne(4)}function Xb(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=+n;ne(5);return 0}function Kb(e,r){e=e|0;r=r|0;ne(6)}function Qb(e,r,t){e=e|0;r=r|0;t=t|0;ne(7);return 0}function $b(e,r,t){e=e|0;r=r|0;t=t|0;ne(8)}function eh(){ne(9)}function rh(){rr()}function th(e,r,t){e=e|0;r=r|0;t=+t;ne(10)}function ih(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;ne(11);return 0}function nh(e,r,t,i,n,o){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;o=o|0;ne(12)}function oh(e,r){e=e|0;r=r|0;ne(13);return 0}function ah(e,r,t,i,n){e=e|0;r=r|0;t=t|0;i=i|0;n=n|0;ne(14);return 0}function uh(e,r,t,i){e=e|0;r=r|0;t=t|0;i=i|0;ne(15)}var lh=[Ub,Vs];var sh=[qb,pf,kf,Rf,Vf,ad,sb,qb];var fh=[jb,$d,Qd,jb];var ch=[Yb,Jc,Yi,fn,En,On,Un,no,go,Wo,oa,ya,Yb,Yb,Yb,Yb];var dh=[Zb,Ml,Gs,kl,Hs,gl,Ys,Vu,of,Hu,nf,Iu,af,Jf,If,Ac,Fc,Wc,Vc,zc,Ki,$i,en,cn,dn,bn,gn,kn,Mn,xn,Ln,Nn,jn,Yn,Zn,bo,ho,_o,ko,Mo,Po,Do,Bo,Ro,Yo,Zo,Xo,ua,la,sa,wa,Sa,Ea,Pa,Aa,Ra,Ta,Na,Ia,Va,za,tu,iu,uu,lu,du,bu,pu,yu,Bt,Ht,Xr,Kr,rt,tt,nt,ot,qc,jc,gi,Kc,$c,ed,id,nd,dd,bd,zd,qd,Hd,Ud,jd,lb,ub,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb,Zb];var bh=[Xb,Ws];var hh=[Kb,Zs,Xs,Lc,Nc,Gc,Tc,Oc,Ui,qi,Qi,Vi,zi,un,ln,nn,on,wn,vn,mn,pn,Bn,Rn,Fn,Cn,Vn,zn,Jn,Gn,ro,to,Qn,$n,vo,So,po,yo,Io,Jo,xo,Lo,ta,ia,$o,ea,_a,ma,va,da,ba,Ut,qt,Cd,Ga,xa,_u,eu,fu,ou,ka,Kb,Kb,Kb,Kb];var _h=[Qb,qs,yf,Pf,Tf,Uf,Pc,Zc,rd,ud,_d,Yd,Qb,Qb,Qb,Qb];var mh=[$b,Ks,$s,rf,tf,jt,Yt,$b];var ph=[eh,rh];var yh=[th,Ef,Df,Nf,Yf,Ic,ji,sn,Sn,Tn,Hn,io,Eo,Go,na,pa,cd,th,th,th,th,th,th,th,th,th,th,th,th,th,th,th];var wh=[ih,Cc,Dc,Xc,td,ih,ih,ih];var vh=[nh,wf,Af,Of,Hf,ld,rb,eb];var Sh=[oh,zs,Us,js,mf,gf,Bf,Wf,xc,Hi,an,yn,Dn,Wn,eo,wo,No,ra,ha,Qr,$r,Yc,Qc,od,hd,Fd,Jt,ki,Mi,Li,xi,Gi];var Eh=[ah,vf,Ff,xf,qf,sd,Ja,Oa,hu,$a,su,nu,ga,ah,ah,ah];var gh=[uh,Qs,ef,Sf,Cf,Lf,jf,Ma,La,Wa,ru,au,cu,mu,et,it,Uc,fd,Zd,Xd,uh,uh,uh,uh,uh,uh,uh,uh,uh,uh,uh,uh];return{_b2PrismaticJoint_IsMotorEnabled:as,_b2Body_GetWorldVector:_l,_strlen:db,_b2Body_GetLocalVector:ll,_b2PrismaticJoint_GetMotorSpeed:is,_b2RopeJointDef_Create:vs,_b2World_CreateParticleSystem:Fl,_b2ParticleSystem_SetRadius:Js,_b2FrictionJointDef_Create:Vl,_b2World_RayCast:Ol,_b2MotorJointDef_InitializeAndCreate:Kl,_b2GearJoint_GetRatio:Hl,_b2Body_GetLocalPoint:ul,_memcpy:hb,_b2RevoluteJoint_EnableLimit:ds,_b2Body_DestroyFixture:tl,_b2World_Create:Pl,_b2PolygonShape_CreateFixture_3:zu,_b2PolygonShape_CreateFixture_6:ju,_b2PolygonShape_CreateFixture_7:Yu,_b2PolygonShape_CreateFixture_4:Uu,_b2PolygonShape_CreateFixture_5:qu,_b2Body_SetAwake:ml,_b2Body_GetWorldCenter:bl,_b2ParticleGroup_DestroyParticles:Cs,_b2PrismaticJoint_EnableLimit:es,_b2Fixture_TestPoint:El,_b2MotorJoint_SetLinearOffset:Zl,_free:ib,_b2ParticleSystem_CreateParticle:Rs,_b2Body_SetLinearVelocity:yl,_b2CircleShape_CreateParticleGroup:Ju,_b2WeldJointDef_Create:Ss,_b2Body_GetAngularVelocity:nl,_b2Body_ApplyForceToCenter:el,_b2DistanceJointDef_InitializeAndCreate:Wl,_b2Body_ApplyForce:$u,_b2RevoluteJoint_SetMotorSpeed:ws,_b2Body_GetPosition:fl,_b2World_CreateBody:Al,_b2Body_GetLinearVelocity:al,_b2Body_SetMassData:wl,_b2MouseJointDef_Create:$l,_b2ParticleSystem_GetColorBuffer:Ts,_b2DistanceJointDef_Create:Gl,_b2ParticleSystem_GetPositionBuffer:xs,_b2CircleShape_DestroyParticlesInShape:Gu,_b2World_QueryAABB:Tl,_b2PolygonShape_DestroyParticlesInShape_4:Ku,_b2RevoluteJointDef_InitializeAndCreate:ys,_b2GearJointDef_Create:Ul,_b2PrismaticJoint_IsLimitEnabled:os,_b2Contact_GetWorldManifold:Jl,_b2WheelJoint_SetSpringFrequencyHz:ks,_b2Body_ApplyTorque:rl,_b2ParticleGroup_ApplyLinearImpulse:Fs,_b2PrismaticJointDef_InitializeAndCreate:ss,_memset:cb,_b2MotorJointDef_Create:Xl,_b2World_DestroyBody:Dl,_b2RevoluteJointDef_Create:ps,_b2ParticleGroup_GetParticleCount:Bs,_b2World_SetGravity:Ll,_b2PrismaticJoint_EnableMotor:rs,_b2PolygonShape_CreateParticleGroup_4:Xu,_b2PolygonShape_CreateFixture_8:Zu,_b2Body_SetAngularVelocity:pl,_b2Body_GetWorldPoint:hl,_b2WheelJoint_SetMotorSpeed:gs,_b2FrictionJointDef_InitializeAndCreate:zl,_b2World_SetContactListener:xl,_b2ParticleSystem_SetDamping:Ns,_b2Body_SetType:Sl,_b2Body_SetTransform:vl,_b2CircleShape_CreateFixture:Nu,_b2RevoluteJoint_GetJointAngle:hs,_b2ParticleGroup_ApplyForce:As,_malloc:tb,_b2Contact_GetManifold:Il,_b2RevoluteJoint_IsMotorEnabled:ms,_b2ParticleSystem_GetVelocityBuffer:Ls,_b2RevoluteJoint_IsLimitEnabled:_s,_b2World_DestroyParticleSystem:Rl,_b2RevoluteJoint_EnableMotor:bs,_b2Body_GetTransform:cl,_b2WeldJointDef_InitializeAndCreate:Es,_b2EdgeShape_CreateFixture:Wu,_b2Body_GetType:dl,_b2Manifold_GetPointCount:Ou,_b2ParticleSystem_SetDensity:Is,_b2PrismaticJoint_GetMotorForce:ns,_b2Joint_GetBodyA:ql,_b2PulleyJointDef_InitializeAndCreate:cs,_b2Joint_GetBodyB:jl,_b2ParticleSystem_GetParticleCount:Os,_b2MouseJoint_SetTarget:Ql,_b2Body_ApplyAngularImpulse:Qu,_b2ChainShape_CreateFixture:xu,_b2World_DestroyJoint:Bl,_b2MotorJoint_SetAngularOffset:Yl,_b2World_Delete:Cl,_b2PrismaticJoint_GetJointTranslation:ts,_i64Add:bb,_b2Body_GetMass:sl,_b2Body_GetAngle:il,_b2ParticleGroup_GetBufferIndex:Ds,_b2WheelJointDef_InitializeAndCreate:Ps,_b2World_Step:Nl,_b2PrismaticJointDef_Create:ls,_b2WheelJointDef_Create:Ms,_b2PulleyJointDef_Create:fs,_b2Body_GetInertia:ol,_memmove:_b,_b2PrismaticJoint_SetMotorSpeed:us,__GLOBAL__I_a:uf,runPostSets:fb,stackAlloc:Pu,stackSave:Au,stackRestore:Fu,setThrew:Cu,setTempRet0:Ru,getTempRet0:Tu,dynCall_diiiiid:Cb,dynCall_ii:Db,dynCall_viiiii:Bb,dynCall_did:Rb,dynCall_vi:Tb,dynCall_diiiid:Ob,dynCall_vii:xb,dynCall_iiii:Lb,dynCall_viii:Nb,dynCall_v:Ib,dynCall_viid:Jb,dynCall_iiiii:Gb,dynCall_viiiiii:Wb,dynCall_iii:Vb,dynCall_iiiiii:zb,dynCall_viiii:Hb}}({Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array},{abort:abort,assert:assert,asmPrintInt:asmPrintInt,asmPrintFloat:asmPrintFloat,min:Math_min,invoke_diiiiid:invoke_diiiiid,invoke_ii:invoke_ii,invoke_viiiii:invoke_viiiii,invoke_did:invoke_did,invoke_vi:invoke_vi,invoke_diiiid:invoke_diiiid,invoke_vii:invoke_vii,invoke_iiii:invoke_iiii,invoke_viii:invoke_viii,invoke_v:invoke_v,invoke_viid:invoke_viid,invoke_iiiii:invoke_iiiii,invoke_viiiiii:invoke_viiiiii,invoke_iii:invoke_iii,invoke_iiiiii:invoke_iiiiii,invoke_viiii:invoke_viiii,_cosf:_cosf,__ZSt9terminatev:__ZSt9terminatev,_b2WorldPreSolve:_b2WorldPreSolve,___cxa_is_number_type:___cxa_is_number_type,___cxa_allocate_exception:___cxa_allocate_exception,___cxa_find_matching_catch:___cxa_find_matching_catch,_fflush:_fflush,_time:_time,__exit:__exit,___setErrNo:___setErrNo,_sbrk:_sbrk,___cxa_begin_catch:___cxa_begin_catch,_sinf:_sinf,___resumeException:___resumeException,__ZSt18uncaught_exceptionv:__ZSt18uncaught_exceptionv,_b2WorldRayCastCallback:_b2WorldRayCastCallback,_emscripten_memcpy_big:_emscripten_memcpy_big,_floorf:_floorf,_sqrtf:_sqrtf,_b2WorldBeginContactBody:_b2WorldBeginContactBody,___errno_location:___errno_location,__ZNSt9exceptionD2Ev:__ZNSt9exceptionD2Ev,___cxa_throw:___cxa_throw,_sysconf:_sysconf,_abort:_abort,___cxa_does_inherit:___cxa_does_inherit,_b2WorldEndContactBody:_b2WorldEndContactBody,_b2WorldQueryAABB:_b2WorldQueryAABB,_b2WorldPostSolve:_b2WorldPostSolve,_exit:_exit,___cxa_pure_virtual:___cxa_pure_virtual,STACKTOP:STACKTOP,STACK_MAX:STACK_MAX,tempDoublePtr:tempDoublePtr,ABORT:ABORT,cttz_i8:cttz_i8,ctlz_i8:ctlz_i8,NaN:NaN,Infinity:1/0,__ZTISt9exception:__ZTISt9exception},buffer),_b2PrismaticJoint_IsMotorEnabled=Module._b2PrismaticJoint_IsMotorEnabled=asm._b2PrismaticJoint_IsMotorEnabled,_b2Body_GetWorldVector=Module._b2Body_GetWorldVector=asm._b2Body_GetWorldVector,_strlen=Module._strlen=asm._strlen,_b2Body_GetLocalVector=Module._b2Body_GetLocalVector=asm._b2Body_GetLocalVector,_b2PrismaticJoint_GetMotorSpeed=Module._b2PrismaticJoint_GetMotorSpeed=asm._b2PrismaticJoint_GetMotorSpeed,_b2RopeJointDef_Create=Module._b2RopeJointDef_Create=asm._b2RopeJointDef_Create,_b2World_CreateParticleSystem=Module._b2World_CreateParticleSystem=asm._b2World_CreateParticleSystem,_b2ParticleSystem_SetRadius=Module._b2ParticleSystem_SetRadius=asm._b2ParticleSystem_SetRadius,_b2FrictionJointDef_Create=Module._b2FrictionJointDef_Create=asm._b2FrictionJointDef_Create,_b2World_RayCast=Module._b2World_RayCast=asm._b2World_RayCast,_b2MotorJointDef_InitializeAndCreate=Module._b2MotorJointDef_InitializeAndCreate=asm._b2MotorJointDef_InitializeAndCreate,_b2GearJoint_GetRatio=Module._b2GearJoint_GetRatio=asm._b2GearJoint_GetRatio,_b2Body_GetLocalPoint=Module._b2Body_GetLocalPoint=asm._b2Body_GetLocalPoint,_memcpy=Module._memcpy=asm._memcpy,_b2RevoluteJoint_EnableLimit=Module._b2RevoluteJoint_EnableLimit=asm._b2RevoluteJoint_EnableLimit,_b2Body_DestroyFixture=Module._b2Body_DestroyFixture=asm._b2Body_DestroyFixture,_b2World_Create=Module._b2World_Create=asm._b2World_Create,_b2PolygonShape_CreateFixture_3=Module._b2PolygonShape_CreateFixture_3=asm._b2PolygonShape_CreateFixture_3,_b2PolygonShape_CreateFixture_6=Module._b2PolygonShape_CreateFixture_6=asm._b2PolygonShape_CreateFixture_6,_b2PolygonShape_CreateFixture_7=Module._b2PolygonShape_CreateFixture_7=asm._b2PolygonShape_CreateFixture_7,_b2PolygonShape_CreateFixture_4=Module._b2PolygonShape_CreateFixture_4=asm._b2PolygonShape_CreateFixture_4,_b2PolygonShape_CreateFixture_5=Module._b2PolygonShape_CreateFixture_5=asm._b2PolygonShape_CreateFixture_5,_b2Body_SetAwake=Module._b2Body_SetAwake=asm._b2Body_SetAwake,_b2Body_GetWorldCenter=Module._b2Body_GetWorldCenter=asm._b2Body_GetWorldCenter,_b2ParticleGroup_DestroyParticles=Module._b2ParticleGroup_DestroyParticles=asm._b2ParticleGroup_DestroyParticles,_b2PrismaticJoint_EnableLimit=Module._b2PrismaticJoint_EnableLimit=asm._b2PrismaticJoint_EnableLimit,_b2Fixture_TestPoint=Module._b2Fixture_TestPoint=asm._b2Fixture_TestPoint,_b2MotorJoint_SetLinearOffset=Module._b2MotorJoint_SetLinearOffset=asm._b2MotorJoint_SetLinearOffset,_free=Module._free=asm._free,_b2ParticleSystem_CreateParticle=Module._b2ParticleSystem_CreateParticle=asm._b2ParticleSystem_CreateParticle,_b2Body_SetLinearVelocity=Module._b2Body_SetLinearVelocity=asm._b2Body_SetLinearVelocity,_b2CircleShape_CreateParticleGroup=Module._b2CircleShape_CreateParticleGroup=asm._b2CircleShape_CreateParticleGroup,_b2WeldJointDef_Create=Module._b2WeldJointDef_Create=asm._b2WeldJointDef_Create,_b2Body_GetAngularVelocity=Module._b2Body_GetAngularVelocity=asm._b2Body_GetAngularVelocity,_b2Body_ApplyForceToCenter=Module._b2Body_ApplyForceToCenter=asm._b2Body_ApplyForceToCenter,_b2DistanceJointDef_InitializeAndCreate=Module._b2DistanceJointDef_InitializeAndCreate=asm._b2DistanceJointDef_InitializeAndCreate,_b2Body_ApplyForce=Module._b2Body_ApplyForce=asm._b2Body_ApplyForce,_b2RevoluteJoint_SetMotorSpeed=Module._b2RevoluteJoint_SetMotorSpeed=asm._b2RevoluteJoint_SetMotorSpeed,_b2Body_GetPosition=Module._b2Body_GetPosition=asm._b2Body_GetPosition,_b2World_CreateBody=Module._b2World_CreateBody=asm._b2World_CreateBody,_b2Body_GetLinearVelocity=Module._b2Body_GetLinearVelocity=asm._b2Body_GetLinearVelocity,_b2Body_SetMassData=Module._b2Body_SetMassData=asm._b2Body_SetMassData,_b2MouseJointDef_Create=Module._b2MouseJointDef_Create=asm._b2MouseJointDef_Create,_b2ParticleSystem_GetColorBuffer=Module._b2ParticleSystem_GetColorBuffer=asm._b2ParticleSystem_GetColorBuffer,_b2DistanceJointDef_Create=Module._b2DistanceJointDef_Create=asm._b2DistanceJointDef_Create,_b2ParticleSystem_GetPositionBuffer=Module._b2ParticleSystem_GetPositionBuffer=asm._b2ParticleSystem_GetPositionBuffer,_b2CircleShape_DestroyParticlesInShape=Module._b2CircleShape_DestroyParticlesInShape=asm._b2CircleShape_DestroyParticlesInShape,_b2World_QueryAABB=Module._b2World_QueryAABB=asm._b2World_QueryAABB,_b2PolygonShape_DestroyParticlesInShape_4=Module._b2PolygonShape_DestroyParticlesInShape_4=asm._b2PolygonShape_DestroyParticlesInShape_4,_b2RevoluteJointDef_InitializeAndCreate=Module._b2RevoluteJointDef_InitializeAndCreate=asm._b2RevoluteJointDef_InitializeAndCreate,_b2GearJointDef_Create=Module._b2GearJointDef_Create=asm._b2GearJointDef_Create,_b2PrismaticJoint_IsLimitEnabled=Module._b2PrismaticJoint_IsLimitEnabled=asm._b2PrismaticJoint_IsLimitEnabled,_b2Contact_GetWorldManifold=Module._b2Contact_GetWorldManifold=asm._b2Contact_GetWorldManifold,_b2WheelJoint_SetSpringFrequencyHz=Module._b2WheelJoint_SetSpringFrequencyHz=asm._b2WheelJoint_SetSpringFrequencyHz,_b2Body_ApplyTorque=Module._b2Body_ApplyTorque=asm._b2Body_ApplyTorque,_b2ParticleGroup_ApplyLinearImpulse=Module._b2ParticleGroup_ApplyLinearImpulse=asm._b2ParticleGroup_ApplyLinearImpulse,_b2PrismaticJointDef_InitializeAndCreate=Module._b2PrismaticJointDef_InitializeAndCreate=asm._b2PrismaticJointDef_InitializeAndCreate,_memset=Module._memset=asm._memset,_b2MotorJointDef_Create=Module._b2MotorJointDef_Create=asm._b2MotorJointDef_Create,_b2World_DestroyBody=Module._b2World_DestroyBody=asm._b2World_DestroyBody,_b2RevoluteJointDef_Create=Module._b2RevoluteJointDef_Create=asm._b2RevoluteJointDef_Create,_b2ParticleGroup_GetParticleCount=Module._b2ParticleGroup_GetParticleCount=asm._b2ParticleGroup_GetParticleCount,_b2World_SetGravity=Module._b2World_SetGravity=asm._b2World_SetGravity,_b2PrismaticJoint_EnableMotor=Module._b2PrismaticJoint_EnableMotor=asm._b2PrismaticJoint_EnableMotor,_b2PolygonShape_CreateParticleGroup_4=Module._b2PolygonShape_CreateParticleGroup_4=asm._b2PolygonShape_CreateParticleGroup_4,_b2PolygonShape_CreateFixture_8=Module._b2PolygonShape_CreateFixture_8=asm._b2PolygonShape_CreateFixture_8,_b2Body_SetAngularVelocity=Module._b2Body_SetAngularVelocity=asm._b2Body_SetAngularVelocity,_b2Body_GetWorldPoint=Module._b2Body_GetWorldPoint=asm._b2Body_GetWorldPoint,_b2WheelJoint_SetMotorSpeed=Module._b2WheelJoint_SetMotorSpeed=asm._b2WheelJoint_SetMotorSpeed,_b2FrictionJointDef_InitializeAndCreate=Module._b2FrictionJointDef_InitializeAndCreate=asm._b2FrictionJointDef_InitializeAndCreate,_b2World_SetContactListener=Module._b2World_SetContactListener=asm._b2World_SetContactListener,_b2ParticleSystem_SetDamping=Module._b2ParticleSystem_SetDamping=asm._b2ParticleSystem_SetDamping,_b2Body_SetType=Module._b2Body_SetType=asm._b2Body_SetType,_b2Body_SetTransform=Module._b2Body_SetTransform=asm._b2Body_SetTransform,_b2CircleShape_CreateFixture=Module._b2CircleShape_CreateFixture=asm._b2CircleShape_CreateFixture,_b2RevoluteJoint_GetJointAngle=Module._b2RevoluteJoint_GetJointAngle=asm._b2RevoluteJoint_GetJointAngle,_b2ParticleGroup_ApplyForce=Module._b2ParticleGroup_ApplyForce=asm._b2ParticleGroup_ApplyForce,_malloc=Module._malloc=asm._malloc,_b2Contact_GetManifold=Module._b2Contact_GetManifold=asm._b2Contact_GetManifold,_b2RevoluteJoint_IsMotorEnabled=Module._b2RevoluteJoint_IsMotorEnabled=asm._b2RevoluteJoint_IsMotorEnabled,_b2ParticleSystem_GetVelocityBuffer=Module._b2ParticleSystem_GetVelocityBuffer=asm._b2ParticleSystem_GetVelocityBuffer,_b2RevoluteJoint_IsLimitEnabled=Module._b2RevoluteJoint_IsLimitEnabled=asm._b2RevoluteJoint_IsLimitEnabled,_b2World_DestroyParticleSystem=Module._b2World_DestroyParticleSystem=asm._b2World_DestroyParticleSystem,_b2RevoluteJoint_EnableMotor=Module._b2RevoluteJoint_EnableMotor=asm._b2RevoluteJoint_EnableMotor,_b2Body_GetTransform=Module._b2Body_GetTransform=asm._b2Body_GetTransform,_b2WeldJointDef_InitializeAndCreate=Module._b2WeldJointDef_InitializeAndCreate=asm._b2WeldJointDef_InitializeAndCreate,_b2EdgeShape_CreateFixture=Module._b2EdgeShape_CreateFixture=asm._b2EdgeShape_CreateFixture,_b2Body_GetType=Module._b2Body_GetType=asm._b2Body_GetType,_b2Manifold_GetPointCount=Module._b2Manifold_GetPointCount=asm._b2Manifold_GetPointCount,_b2ParticleSystem_SetDensity=Module._b2ParticleSystem_SetDensity=asm._b2ParticleSystem_SetDensity,_b2PrismaticJoint_GetMotorForce=Module._b2PrismaticJoint_GetMotorForce=asm._b2PrismaticJoint_GetMotorForce,_b2Joint_GetBodyA=Module._b2Joint_GetBodyA=asm._b2Joint_GetBodyA,_b2PulleyJointDef_InitializeAndCreate=Module._b2PulleyJointDef_InitializeAndCreate=asm._b2PulleyJointDef_InitializeAndCreate,_b2Joint_GetBodyB=Module._b2Joint_GetBodyB=asm._b2Joint_GetBodyB,_b2ParticleSystem_GetParticleCount=Module._b2ParticleSystem_GetParticleCount=asm._b2ParticleSystem_GetParticleCount,_b2MouseJoint_SetTarget=Module._b2MouseJoint_SetTarget=asm._b2MouseJoint_SetTarget,_b2Body_ApplyAngularImpulse=Module._b2Body_ApplyAngularImpulse=asm._b2Body_ApplyAngularImpulse,_b2ChainShape_CreateFixture=Module._b2ChainShape_CreateFixture=asm._b2ChainShape_CreateFixture,_b2World_DestroyJoint=Module._b2World_DestroyJoint=asm._b2World_DestroyJoint,_b2MotorJoint_SetAngularOffset=Module._b2MotorJoint_SetAngularOffset=asm._b2MotorJoint_SetAngularOffset,_b2World_Delete=Module._b2World_Delete=asm._b2World_Delete,_b2PrismaticJoint_GetJointTranslation=Module._b2PrismaticJoint_GetJointTranslation=asm._b2PrismaticJoint_GetJointTranslation,_i64Add=Module._i64Add=asm._i64Add,_b2Body_GetMass=Module._b2Body_GetMass=asm._b2Body_GetMass,_b2Body_GetAngle=Module._b2Body_GetAngle=asm._b2Body_GetAngle,_b2ParticleGroup_GetBufferIndex=Module._b2ParticleGroup_GetBufferIndex=asm._b2ParticleGroup_GetBufferIndex,_b2WheelJointDef_InitializeAndCreate=Module._b2WheelJointDef_InitializeAndCreate=asm._b2WheelJointDef_InitializeAndCreate,_b2World_Step=Module._b2World_Step=asm._b2World_Step,_b2PrismaticJointDef_Create=Module._b2PrismaticJointDef_Create=asm._b2PrismaticJointDef_Create,_b2WheelJointDef_Create=Module._b2WheelJointDef_Create=asm._b2WheelJointDef_Create,_b2PulleyJointDef_Create=Module._b2PulleyJointDef_Create=asm._b2PulleyJointDef_Create,_b2Body_GetInertia=Module._b2Body_GetInertia=asm._b2Body_GetInertia,_memmove=Module._memmove=asm._memmove,_b2PrismaticJoint_SetMotorSpeed=Module._b2PrismaticJoint_SetMotorSpeed=asm._b2PrismaticJoint_SetMotorSpeed,__GLOBAL__I_a=Module.__GLOBAL__I_a=asm.__GLOBAL__I_a,runPostSets=Module.runPostSets=asm.runPostSets,dynCall_diiiiid=Module.dynCall_diiiiid=asm.dynCall_diiiiid,dynCall_ii=Module.dynCall_ii=asm.dynCall_ii,dynCall_viiiii=Module.dynCall_viiiii=asm.dynCall_viiiii,dynCall_did=Module.dynCall_did=asm.dynCall_did,dynCall_vi=Module.dynCall_vi=asm.dynCall_vi,dynCall_diiiid=Module.dynCall_diiiid=asm.dynCall_diiiid,dynCall_vii=Module.dynCall_vii=asm.dynCall_vii,dynCall_iiii=Module.dynCall_iiii=asm.dynCall_iiii,dynCall_viii=Module.dynCall_viii=asm.dynCall_viii,dynCall_v=Module.dynCall_v=asm.dynCall_v,dynCall_viid=Module.dynCall_viid=asm.dynCall_viid,dynCall_iiiii=Module.dynCall_iiiii=asm.dynCall_iiiii,dynCall_viiiiii=Module.dynCall_viiiiii=asm.dynCall_viiiiii,dynCall_iii=Module.dynCall_iii=asm.dynCall_iii,dynCall_iiiiii=Module.dynCall_iiiiii=asm.dynCall_iiiiii,dynCall_viiii=Module.dynCall_viiii=asm.dynCall_viiii;
Runtime.stackAlloc=asm.stackAlloc,Runtime.stackSave=asm.stackSave,Runtime.stackRestore=asm.stackRestore,Runtime.setTempRet0=asm.setTempRet0,Runtime.getTempRet0=asm.getTempRet0;var i64Math=function(){function e(e,r,t){null!=e&&("number"==typeof e?this.fromNumber(e,r,t):null==r&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,r))}function r(){return new e(null)}function t(e,r,t,i,n,o){for(;--o>=0;){var a=r*this[e++]+t[i]+n;n=Math.floor(a/67108864),t[i++]=67108863&a}return n}function i(e,r,t,i,n,o){for(var a=32767&r,u=r>>15;--o>=0;){var l=32767&this[e],s=this[e++]>>15,f=u*l+s*a;l=a*l+((32767&f)<<15)+t[i]+(1073741823&n),n=(l>>>30)+(f>>>15)+u*s+(n>>>30),t[i++]=1073741823&l}return n}function n(e,r,t,i,n,o){for(var a=16383&r,u=r>>14;--o>=0;){var l=16383&this[e],s=this[e++]>>14,f=u*l+s*a;l=a*l+((16383&f)<<14)+t[i]+n,n=(l>>28)+(f>>14)+u*s,t[i++]=268435455&l}return n}function o(e){return oe.charAt(e)}function a(e,r){var t=ae[e.charCodeAt(r)];return null==t?-1:t}function u(e){for(var r=this.t-1;r>=0;--r)e[r]=this[r];e.t=this.t,e.s=this.s}function l(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+DV:this.t=0}function s(e){var t=r();return t.fromInt(e),t}function f(r,t){var i;if(16==t)i=4;else if(8==t)i=3;else if(256==t)i=8;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return void this.fromRadix(r,t);i=2}this.t=0,this.s=0;for(var n=r.length,o=!1,u=0;--n>=0;){var l=8==i?255&r[n]:a(r,n);0>l?"-"==r.charAt(n)&&(o=!0):(o=!1,0==u?this[this.t++]=l:u+i>this.DB?(this[this.t-1]|=(l&(1<<this.DB-u)-1)<<u,this[this.t++]=l>>this.DB-u):this[this.t-1]|=l<<u,u+=i,u>=this.DB&&(u-=this.DB))}8==i&&0!=(128&r[0])&&(this.s=-1,u>0&&(this[this.t-1]|=(1<<this.DB-u)-1<<u)),this.clamp(),o&&e.ZERO.subTo(this,this)}function c(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function d(e){if(this.s<0)return"-"+this.negate().toString(e);var r;if(16==e)r=4;else if(8==e)r=3;else if(2==e)r=1;else if(32==e)r=5;else{if(4!=e)return this.toRadix(e);r=2}var t,i=(1<<r)-1,n=!1,a="",u=this.t,l=this.DB-u*this.DB%r;if(u-- >0)for(l<this.DB&&(t=this[u]>>l)>0&&(n=!0,a=o(t));u>=0;)r>l?(t=(this[u]&(1<<l)-1)<<r-l,t|=this[--u]>>(l+=this.DB-r)):(t=this[u]>>(l-=r)&i,0>=l&&(l+=this.DB,--u)),t>0&&(n=!0),n&&(a+=o(t));return n?a:"0"}function b(){var t=r();return e.ZERO.subTo(this,t),t}function h(){return this.s<0?this.negate():this}function _(e){var r=this.s-e.s;if(0!=r)return r;var t=this.t;if(r=t-e.t,0!=r)return this.s<0?-r:r;for(;--t>=0;)if(0!=(r=this[t]-e[t]))return r;return 0}function m(e){var r,t=1;return 0!=(r=e>>>16)&&(e=r,t+=16),0!=(r=e>>8)&&(e=r,t+=8),0!=(r=e>>4)&&(e=r,t+=4),0!=(r=e>>2)&&(e=r,t+=2),0!=(r=e>>1)&&(e=r,t+=1),t}function p(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)}function y(e,r){var t;for(t=this.t-1;t>=0;--t)r[t+e]=this[t];for(t=e-1;t>=0;--t)r[t]=0;r.t=this.t+e,r.s=this.s}function w(e,r){for(var t=e;t<this.t;++t)r[t-e]=this[t];r.t=Math.max(this.t-e,0),r.s=this.s}function v(e,r){var t,i=e%this.DB,n=this.DB-i,o=(1<<n)-1,a=Math.floor(e/this.DB),u=this.s<<i&this.DM;for(t=this.t-1;t>=0;--t)r[t+a+1]=this[t]>>n|u,u=(this[t]&o)<<i;for(t=a-1;t>=0;--t)r[t]=0;r[a]=u,r.t=this.t+a+1,r.s=this.s,r.clamp()}function S(e,r){r.s=this.s;var t=Math.floor(e/this.DB);if(t>=this.t)return void(r.t=0);var i=e%this.DB,n=this.DB-i,o=(1<<i)-1;r[0]=this[t]>>i;for(var a=t+1;a<this.t;++a)r[a-t-1]|=(this[a]&o)<<n,r[a-t]=this[a]>>i;i>0&&(r[this.t-t-1]|=(this.s&o)<<n),r.t=this.t-t,r.clamp()}function E(e,r){for(var t=0,i=0,n=Math.min(e.t,this.t);n>t;)i+=this[t]-e[t],r[t++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;t<this.t;)i+=this[t],r[t++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;t<e.t;)i-=e[t],r[t++]=i&this.DM,i>>=this.DB;i-=e.s}r.s=0>i?-1:0,-1>i?r[t++]=this.DV+i:i>0&&(r[t++]=i),r.t=t,r.clamp()}function g(r,t){var i=this.abs(),n=r.abs(),o=i.t;for(t.t=o+n.t;--o>=0;)t[o]=0;for(o=0;o<n.t;++o)t[o+i.t]=i.am(0,n[o],t,o,0,i.t);t.s=0,t.clamp(),this.s!=r.s&&e.ZERO.subTo(t,t)}function k(e){for(var r=this.abs(),t=e.t=2*r.t;--t>=0;)e[t]=0;for(t=0;t<r.t-1;++t){var i=r.am(t,r[t],e,2*t,0,1);(e[t+r.t]+=r.am(t+1,2*r[t],e,2*t+1,i,r.t-t-1))>=r.DV&&(e[t+r.t]-=r.DV,e[t+r.t+1]=1)}e.t>0&&(e[e.t-1]+=r.am(t,r[t],e,2*t,0,1)),e.s=0,e.clamp()}function M(t,i,n){var o=t.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=i&&i.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=r());var u=r(),l=this.s,s=t.s,f=this.DB-m(o[o.t-1]);f>0?(o.lShiftTo(f,u),a.lShiftTo(f,n)):(o.copyTo(u),a.copyTo(n));var c=u.t,d=u[c-1];if(0!=d){var b=d*(1<<this.F1)+(c>1?u[c-2]>>this.F2:0),h=this.FV/b,_=(1<<this.F1)/b,p=1<<this.F2,y=n.t,w=y-c,v=null==i?r():i;for(u.dlShiftTo(w,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),e.ONE.dlShiftTo(c,v),v.subTo(u,u);u.t<c;)u[u.t++]=0;for(;--w>=0;){var S=n[--y]==d?this.DM:Math.floor(n[y]*h+(n[y-1]+p)*_);if((n[y]+=u.am(0,S,n,w,0,c))<S)for(u.dlShiftTo(w,v),n.subTo(v,n);n[y]<--S;)n.subTo(v,n)}null!=i&&(n.drShiftTo(c,i),l!=s&&e.ZERO.subTo(i,i)),n.t=c,n.clamp(),f>0&&n.rShiftTo(f,n),0>l&&e.ZERO.subTo(n,n)}}}function P(t){var i=r();return this.abs().divRemTo(t,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&t.subTo(i,i),i}function A(e){this.m=e}function F(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function C(e){return e}function D(e){e.divRemTo(this.m,null,e)}function B(e,r,t){e.multiplyTo(r,t),this.reduce(t)}function R(e,r){e.squareTo(r),this.reduce(r)}function T(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var r=3&e;return r=r*(2-(15&e)*r)&15,r=r*(2-(255&e)*r)&255,r=r*(2-((65535&e)*r&65535))&65535,r=r*(2-e*r%this.DV)%this.DV,r>0?this.DV-r:-r}function O(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function x(t){var i=r();return t.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),t.s<0&&i.compareTo(e.ZERO)>0&&this.m.subTo(i,i),i}function L(e){var t=r();return e.copyTo(t),this.reduce(t),t}function N(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var r=0;r<this.m.t;++r){var t=32767&e[r],i=t*this.mpl+((t*this.mph+(e[r]>>15)*this.mpl&this.um)<<15)&e.DM;for(t=r+this.m.t,e[t]+=this.m.am(0,i,e,r,0,this.m.t);e[t]>=e.DV;)e[t]-=e.DV,e[++t]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function I(e,r){e.squareTo(r),this.reduce(r)}function J(e,r,t){e.multiplyTo(r,t),this.reduce(t)}function G(){return 0==(this.t>0?1&this[0]:this.s)}function W(t,i){if(t>4294967295||1>t)return e.ONE;var n=r(),o=r(),a=i.convert(this),u=m(t)-1;for(a.copyTo(n);--u>=0;)if(i.sqrTo(n,o),(t&1<<u)>0)i.mulTo(o,a,n);else{var l=n;n=o,o=l}return i.revert(n)}function V(e,r){var t;return t=256>e||r.isEven()?new A(r):new O(r),this.exp(e,t)}function z(r,t){this.fromInt(0),null==t&&(t=10);for(var i=this.chunkSize(t),n=Math.pow(t,i),o=!1,u=0,l=0,s=0;s<r.length;++s){var f=a(r,s);0>f?"-"==r.charAt(s)&&0==this.signum()&&(o=!0):(l=t*l+f,++u>=i&&(this.dMultiply(n),this.dAddOffset(l,0),u=0,l=0))}u>0&&(this.dMultiply(Math.pow(t,u)),this.dAddOffset(l,0)),o&&e.ZERO.subTo(this,this)}function H(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function U(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function q(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function j(e,r){if(0!=e){for(;this.t<=r;)this[this.t++]=0;for(this[r]+=e;this[r]>=this.DV;)this[r]-=this.DV,++r>=this.t&&(this[this.t++]=0),++this[r]}}function Y(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),n=s(i),o=r(),a=r(),u="";for(this.divRemTo(n,o,a);o.signum()>0;)u=(i+a.intValue()).toString(e).substr(1)+u,o.divRemTo(n,o,a);return a.intValue().toString(e)+u}function Z(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function X(e,r){for(var t=0,i=0,n=Math.min(e.t,this.t);n>t;)i+=this[t]+e[t],r[t++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;t<this.t;)i+=this[t],r[t++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;t<e.t;)i+=e[t],r[t++]=i&this.DM,i>>=this.DB;i+=e.s}r.s=0>i?-1:0,i>0?r[t++]=i:-1>i&&(r[t++]=this.DV+i),r.t=t,r.clamp()}var K={math:{}};K.math.Long=function(e,r){this.low_=0|e,this.high_=0|r},K.math.Long.IntCache_={},K.math.Long.fromInt=function(e){if(e>=-128&&128>e){var r=K.math.Long.IntCache_[e];if(r)return r}var t=new K.math.Long(0|e,0>e?-1:0);return e>=-128&&128>e&&(K.math.Long.IntCache_[e]=t),t},K.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?K.math.Long.ZERO:e<=-K.math.Long.TWO_PWR_63_DBL_?K.math.Long.MIN_VALUE:e+1>=K.math.Long.TWO_PWR_63_DBL_?K.math.Long.MAX_VALUE:0>e?K.math.Long.fromNumber(-e).negate():new K.math.Long(e%K.math.Long.TWO_PWR_32_DBL_|0,e/K.math.Long.TWO_PWR_32_DBL_|0)},K.math.Long.fromBits=function(e,r){return new K.math.Long(e,r)},K.math.Long.fromString=function(e,r){if(0==e.length)throw Error("number format error: empty string");var t=r||10;if(2>t||t>36)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return K.math.Long.fromString(e.substring(1),t).negate();if(e.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+e);for(var i=K.math.Long.fromNumber(Math.pow(t,8)),n=K.math.Long.ZERO,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),u=parseInt(e.substring(o,o+a),t);if(8>a){var l=K.math.Long.fromNumber(Math.pow(t,a));n=n.multiply(l).add(K.math.Long.fromNumber(u))}else n=n.multiply(i),n=n.add(K.math.Long.fromNumber(u))}return n},K.math.Long.TWO_PWR_16_DBL_=65536,K.math.Long.TWO_PWR_24_DBL_=1<<24,K.math.Long.TWO_PWR_32_DBL_=K.math.Long.TWO_PWR_16_DBL_*K.math.Long.TWO_PWR_16_DBL_,K.math.Long.TWO_PWR_31_DBL_=K.math.Long.TWO_PWR_32_DBL_/2,K.math.Long.TWO_PWR_48_DBL_=K.math.Long.TWO_PWR_32_DBL_*K.math.Long.TWO_PWR_16_DBL_,K.math.Long.TWO_PWR_64_DBL_=K.math.Long.TWO_PWR_32_DBL_*K.math.Long.TWO_PWR_32_DBL_,K.math.Long.TWO_PWR_63_DBL_=K.math.Long.TWO_PWR_64_DBL_/2,K.math.Long.ZERO=K.math.Long.fromInt(0),K.math.Long.ONE=K.math.Long.fromInt(1),K.math.Long.NEG_ONE=K.math.Long.fromInt(-1),K.math.Long.MAX_VALUE=K.math.Long.fromBits(-1,2147483647),K.math.Long.MIN_VALUE=K.math.Long.fromBits(0,-2147483648),K.math.Long.TWO_PWR_24_=K.math.Long.fromInt(1<<24),K.math.Long.prototype.toInt=function(){return this.low_},K.math.Long.prototype.toNumber=function(){return this.high_*K.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},K.math.Long.prototype.toString=function(e){var r=e||10;if(2>r||r>36)throw Error("radix out of range: "+r);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(K.math.Long.MIN_VALUE)){var t=K.math.Long.fromNumber(r),i=this.div(t),n=i.multiply(t).subtract(this);return i.toString(r)+n.toInt().toString(r)}return"-"+this.negate().toString(r)}for(var o=K.math.Long.fromNumber(Math.pow(r,6)),n=this,a="";;){var u=n.div(o),l=n.subtract(u.multiply(o)).toInt(),s=l.toString(r);if(n=u,n.isZero())return s+a;for(;s.length<6;)s="0"+s;a=""+s+a}},K.math.Long.prototype.getHighBits=function(){return this.high_},K.math.Long.prototype.getLowBits=function(){return this.low_},K.math.Long.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:K.math.Long.TWO_PWR_32_DBL_+this.low_},K.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(K.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!=this.high_?this.high_:this.low_,r=31;r>0&&0==(e&1<<r);r--);return 0!=this.high_?r+33:r+1},K.math.Long.prototype.isZero=function(){return 0==this.high_&&0==this.low_},K.math.Long.prototype.isNegative=function(){return this.high_<0},K.math.Long.prototype.isOdd=function(){return 1==(1&this.low_)},K.math.Long.prototype.equals=function(e){return this.high_==e.high_&&this.low_==e.low_},K.math.Long.prototype.notEquals=function(e){return this.high_!=e.high_||this.low_!=e.low_},K.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},K.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},K.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},K.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},K.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var r=this.isNegative(),t=e.isNegative();return r&&!t?-1:!r&&t?1:this.subtract(e).isNegative()?-1:1},K.math.Long.prototype.negate=function(){return this.equals(K.math.Long.MIN_VALUE)?K.math.Long.MIN_VALUE:this.not().add(K.math.Long.ONE)},K.math.Long.prototype.add=function(e){var r=this.high_>>>16,t=65535&this.high_,i=this.low_>>>16,n=65535&this.low_,o=e.high_>>>16,a=65535&e.high_,u=e.low_>>>16,l=65535&e.low_,s=0,f=0,c=0,d=0;return d+=n+l,c+=d>>>16,d&=65535,c+=i+u,f+=c>>>16,c&=65535,f+=t+a,s+=f>>>16,f&=65535,s+=r+o,s&=65535,K.math.Long.fromBits(c<<16|d,s<<16|f)},K.math.Long.prototype.subtract=function(e){return this.add(e.negate())},K.math.Long.prototype.multiply=function(e){if(this.isZero())return K.math.Long.ZERO;if(e.isZero())return K.math.Long.ZERO;if(this.equals(K.math.Long.MIN_VALUE))return e.isOdd()?K.math.Long.MIN_VALUE:K.math.Long.ZERO;if(e.equals(K.math.Long.MIN_VALUE))return this.isOdd()?K.math.Long.MIN_VALUE:K.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(K.math.Long.TWO_PWR_24_)&&e.lessThan(K.math.Long.TWO_PWR_24_))return K.math.Long.fromNumber(this.toNumber()*e.toNumber());var r=this.high_>>>16,t=65535&this.high_,i=this.low_>>>16,n=65535&this.low_,o=e.high_>>>16,a=65535&e.high_,u=e.low_>>>16,l=65535&e.low_,s=0,f=0,c=0,d=0;return d+=n*l,c+=d>>>16,d&=65535,c+=i*l,f+=c>>>16,c&=65535,c+=n*u,f+=c>>>16,c&=65535,f+=t*l,s+=f>>>16,f&=65535,f+=i*u,s+=f>>>16,f&=65535,f+=n*a,s+=f>>>16,f&=65535,s+=r*l+t*u+i*a+n*o,s&=65535,K.math.Long.fromBits(c<<16|d,s<<16|f)},K.math.Long.prototype.div=function(e){if(e.isZero())throw Error("division by zero");if(this.isZero())return K.math.Long.ZERO;if(this.equals(K.math.Long.MIN_VALUE)){if(e.equals(K.math.Long.ONE)||e.equals(K.math.Long.NEG_ONE))return K.math.Long.MIN_VALUE;if(e.equals(K.math.Long.MIN_VALUE))return K.math.Long.ONE;var r=this.shiftRight(1),t=r.div(e).shiftLeft(1);if(t.equals(K.math.Long.ZERO))return e.isNegative()?K.math.Long.ONE:K.math.Long.NEG_ONE;var i=this.subtract(e.multiply(t)),n=t.add(i.div(e));return n}if(e.equals(K.math.Long.MIN_VALUE))return K.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();for(var o=K.math.Long.ZERO,i=this;i.greaterThanOrEqual(e);){for(var t=Math.max(1,Math.floor(i.toNumber()/e.toNumber())),a=Math.ceil(Math.log(t)/Math.LN2),u=48>=a?1:Math.pow(2,a-48),l=K.math.Long.fromNumber(t),s=l.multiply(e);s.isNegative()||s.greaterThan(i);)t-=u,l=K.math.Long.fromNumber(t),s=l.multiply(e);l.isZero()&&(l=K.math.Long.ONE),o=o.add(l),i=i.subtract(s)}return o},K.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},K.math.Long.prototype.not=function(){return K.math.Long.fromBits(~this.low_,~this.high_)},K.math.Long.prototype.and=function(e){return K.math.Long.fromBits(this.low_&e.low_,this.high_&e.high_)},K.math.Long.prototype.or=function(e){return K.math.Long.fromBits(this.low_|e.low_,this.high_|e.high_)},K.math.Long.prototype.xor=function(e){return K.math.Long.fromBits(this.low_^e.low_,this.high_^e.high_)},K.math.Long.prototype.shiftLeft=function(e){if(e&=63,0==e)return this;var r=this.low_;if(32>e){var t=this.high_;return K.math.Long.fromBits(r<<e,t<<e|r>>>32-e)}return K.math.Long.fromBits(0,r<<e-32)},K.math.Long.prototype.shiftRight=function(e){if(e&=63,0==e)return this;var r=this.high_;if(32>e){var t=this.low_;return K.math.Long.fromBits(t>>>e|r<<32-e,r>>e)}return K.math.Long.fromBits(r>>e-32,r>=0?0:-1)},K.math.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0==e)return this;var r=this.high_;if(32>e){var t=this.low_;return K.math.Long.fromBits(t>>>e|r<<32-e,r>>>e)}return 32==e?K.math.Long.fromBits(r,0):K.math.Long.fromBits(r>>>e-32,0)};var Q,$={appName:"Modern Browser"},ee=0xdeadbeefcafe,re=15715070==(16777215&ee);re&&"Microsoft Internet Explorer"==$.appName?(e.prototype.am=i,Q=30):re&&"Netscape"!=$.appName?(e.prototype.am=t,Q=26):(e.prototype.am=n,Q=28),e.prototype.DB=Q,e.prototype.DM=(1<<Q)-1,e.prototype.DV=1<<Q;var te=52;e.prototype.FV=Math.pow(2,te),e.prototype.F1=te-Q,e.prototype.F2=2*Q-te;var ie,ne,oe="0123456789abcdefghijklmnopqrstuvwxyz",ae=new Array;for(ie="0".charCodeAt(0),ne=0;9>=ne;++ne)ae[ie++]=ne;for(ie="a".charCodeAt(0),ne=10;36>ne;++ne)ae[ie++]=ne;for(ie="A".charCodeAt(0),ne=10;36>ne;++ne)ae[ie++]=ne;A.prototype.convert=F,A.prototype.revert=C,A.prototype.reduce=D,A.prototype.mulTo=B,A.prototype.sqrTo=R,O.prototype.convert=x,O.prototype.revert=L,O.prototype.reduce=N,O.prototype.mulTo=J,O.prototype.sqrTo=I,e.prototype.copyTo=u,e.prototype.fromInt=l,e.prototype.fromString=f,e.prototype.clamp=c,e.prototype.dlShiftTo=y,e.prototype.drShiftTo=w,e.prototype.lShiftTo=v,e.prototype.rShiftTo=S,e.prototype.subTo=E,e.prototype.multiplyTo=g,e.prototype.squareTo=k,e.prototype.divRemTo=M,e.prototype.invDigit=T,e.prototype.isEven=G,e.prototype.exp=W,e.prototype.toString=d,e.prototype.negate=b,e.prototype.abs=h,e.prototype.compareTo=_,e.prototype.bitLength=p,e.prototype.mod=P,e.prototype.modPowInt=V,e.ZERO=s(0),e.ONE=s(1),e.prototype.fromRadix=z,e.prototype.chunkSize=H,e.prototype.signum=U,e.prototype.dMultiply=q,e.prototype.dAddOffset=j,e.prototype.toRadix=Y,e.prototype.intValue=Z,e.prototype.addTo=X;var ue={abs:function(e,r){var t,i=new K.math.Long(e,r);t=i.isNegative()?i.negate():i,HEAP32[tempDoublePtr>>2]=t.low_,HEAP32[tempDoublePtr+4>>2]=t.high_},ensureTemps:function(){ue.ensuredTemps||(ue.ensuredTemps=!0,ue.two32=new e,ue.two32.fromString("4294967296",10),ue.two64=new e,ue.two64.fromString("18446744073709551616",10),ue.temp1=new e,ue.temp2=new e)},lh2bignum:function(r,t){var i=new e;i.fromString(t.toString(),10);var n=new e;i.multiplyTo(ue.two32,n);var o=new e;o.fromString(r.toString(),10);var a=new e;return o.addTo(n,a),a},stringify:function(r,t,i){var n=new K.math.Long(r,t).toString();if(i&&"-"==n[0]){ue.ensureTemps();var o=new e;o.fromString(n,10),n=new e,ue.two64.addTo(o,n),n=n.toString(10)}return n},fromString:function(r,t,i,n,o){ue.ensureTemps();var a=new e;a.fromString(r,t);var u=new e;u.fromString(i,10);var l=new e;if(l.fromString(n,10),o&&a.compareTo(e.ZERO)<0){var s=new e;a.addTo(ue.two64,s),a=s}var f=!1;a.compareTo(u)<0?(a=u,f=!0):a.compareTo(l)>0&&(a=l,f=!0);var c=K.math.Long.fromString(a.toString());if(HEAP32[tempDoublePtr>>2]=c.low_,HEAP32[tempDoublePtr+4>>2]=c.high_,f)throw"range error"}};return ue}();if(memoryInitializer)if(ENVIRONMENT_IS_NODE||ENVIRONMENT_IS_SHELL){var data=Module.readBinary(memoryInitializer);HEAPU8.set(data,STATIC_BASE)}else addRunDependency("memory initializer"),Browser.asyncLoad(memoryInitializer,function(e){HEAPU8.set(e,STATIC_BASE),removeRunDependency("memory initializer")},function(e){throw"could not load memory initializer "+memoryInitializer});ExitStatus.prototype=new Error,ExitStatus.prototype.constructor=ExitStatus;var initialStackTop,preloadStartTime=null,calledMain=!1;if(dependenciesFulfilled=function e(){!Module.calledRun&&shouldRunNow&&run(),Module.calledRun||(dependenciesFulfilled=e)},Module.callMain=Module.callMain=function(e){function r(){for(var e=0;3>e;e++)i.push(0)}assert(0==runDependencies,"cannot call main when async dependencies remain! (listen on __ATMAIN__)"),assert(0==__ATPRERUN__.length,"cannot call main when preRun functions remain to be called"),e=e||[],ensureInitRuntime();var t=e.length+1,i=[allocate(intArrayFromString("/bin/this.program"),"i8",ALLOC_NORMAL)];r();for(var n=0;t-1>n;n+=1)i.push(allocate(intArrayFromString(e[n]),"i8",ALLOC_NORMAL)),r();i.push(0),i=allocate(i,"i32",ALLOC_NORMAL),initialStackTop=STACKTOP;try{var o=Module._main(t,i,0);Module.noExitRuntime||exit(o)}catch(a){if(a instanceof ExitStatus)return;if("SimulateInfiniteLoop"==a)return void(Module.noExitRuntime=!0);throw a&&"object"==typeof a&&a.stack&&Module.printErr("exception thrown: "+[a,a.stack]),a}finally{calledMain=!0}},Module.run=Module.run=run,Module.exit=Module.exit=exit,Module.abort=Module.abort=abort,Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();var Offsets={b2Body:{type:0,islandIndex:8,xf:12,xf0:28,sweep:44,linearVelocity:80,angularVelocity:88,force:92,torque:100,world:104,prev:108,next:112,fixtureList:116,fixtureCount:120,jointList:124,contactList:128,mass:132,invMass:136,I:140,invI:144,linearDamping:148,angularDamping:152,gravityScale:156,sleepTime:160,userData:164},b2Contact:{flags:4,prev:8,next:12,nodeA:16,nodeB:32,fixtureA:48,fixtureB:52,indexA:56,indexB:60,manifold:64,toiCount:128,toi:132,friction:136,restitution:140,tangentSpeed:144},b2Fixture:{density:0,next:4,body:8,shape:12,friction:16,restitution:20,proxies:24,proxyCount:28,filter:32,isSensor:38,userData:40},b2ParticleGroup:{system:0,firstIndex:4,lastIndex:8,groupFlags:12,strength:16,prev:20,next:24,timestamp:28,mass:32,inertia:36,center:40,linearVelocity:48,angularVelocity:56,transform:60,userData:76},b2WorldManifold:{normal:0,points:8,separations:24},b2World:{bodyList:102960}},FLT_EPSILON=1.1920929e-7;b2Vec2.Add=function(e,r,t){e.x=r.x+t.x,e.y=r.y+t.y},b2Vec2.CrossScalar=function(e,r,t){e.x=-t*r.y,e.y=t*r.x},b2Vec2.Cross=function(e,r){return e.x*r.y-e.y*r.x},b2Vec2.MulScalar=function(e,r,t){e.x=r.x*t,e.y=r.y*t},b2Vec2.Mul=function(e,r,t){var i=r.p,n=r.q.c,o=r.q.s,a=t.x,u=t.y;e.x=n*a-o*u+i.x,e.y=o*a+n*u+i.y},b2Vec2.Normalize=function(e,r){var t=r.Length();if(FLT_EPSILON>t)return e.x=0,void(e.y=0);var i=1/t;e.x=r.x*i,e.y=r.y*i},b2Vec2.Sub=function(e,r,t){e.x=r.x-t.x,e.y=r.y-t.y},b2Vec2.prototype.Clone=function(){return new b2Vec2(this.x,this.y)},b2Vec2.prototype.Set=function(e,r){this.x=e,this.y=r},b2Vec2.prototype.Length=function(){var e=this.x,r=this.y;return Math.sqrt(e*e+r*r)},b2Vec2.prototype.LengthSquared=function(){var e=this.x,r=this.y;return e*e+r*r},b2Rot.prototype.Set=function(e){this.s=Math.sin(e),this.c=Math.cos(e)},b2Rot.prototype.SetIdentity=function(){this.s=0,this.c=1},b2Rot.prototype.GetXAxis=function(){return new b2Vec2(this.c,this.s)},b2Transform.prototype.FromFloat64Array=function(e){var r=this.p,t=this.q;r.x=e[0],r.y=e[1],t.s=e[2],t.c=e[3]},b2Transform.prototype.SetIdentity=function(){this.p.Set(0,0),this.q.SetIdentity()},b2AABB.prototype.GetCenter=function(){var e=new b2Vec2;b2Vec2.Add(e,this.lowerBound,this.upperBound),b2Vec2.MulScalar(e,e,.5)};var b2Manifold_GetPointCount=Module.cwrap("b2Manifold_GetPointCount","number",["number"]);b2Manifold.prototype.GetPointCount=function(){return b2Manifold_GetPointCount(this.ptr)};var b2WorldManifold_points_offset=Offsets.b2WorldManifold.points;b2WorldManifold.prototype.GetPoint=function(e){var r=new b2Vec2;return r.x=this.buffer.getFloat32(2*e+b2WorldManifold_points_offset,!0),r.y=this.buffer.getFloat32(2*e+4+b2WorldManifold_points_offset,!0),r};var b2EdgeShape_CreateFixture=Module.cwrap("b2EdgeShape_CreateFixture","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]);b2EdgeShape.prototype.Set=function(e,r){this.vertex1=e,this.vertex2=r,this.hasVertex0=!1,this.hasVertex3=!1},b2EdgeShape.prototype._CreateFixture=function(e,r){return b2EdgeShape_CreateFixture(e.ptr,r.density,r.friction,r.isSensor,r.restitution,r.userData,r.filter.categoryBits,r.filter.groupIndex,r.filter.maskBits,this.hasVertex0,this.hasVertex3,this.vertex0.x,this.vertex0.y,this.vertex1.x,this.vertex1.y,this.vertex2.x,this.vertex2.y,this.vertex3.x,this.vertex3.y)};var b2PolygonShape_CreateFixture_3=Module.cwrap("b2PolygonShape_CreateFixture_3","number",["number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_4=Module.cwrap("b2PolygonShape_CreateFixture_4","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_5=Module.cwrap("b2PolygonShape_CreateFixture_5","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_6=Module.cwrap("b2PolygonShape_CreateFixture_6","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_7=Module.cwrap("b2PolygonShape_CreateFixture_7","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateFixture_8=Module.cwrap("b2PolygonShape_CreateFixture_8","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_CreateParticleGroup_4=Module.cwrap("b2PolygonShape_CreateParticleGroup_4","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PolygonShape_DestroyParticlesInShape_4=Module.cwrap("b2PolygonShape_DestroyParticlesInShape_4","number",["number","number","number","number","number","number","number","number","number","number","number","number","number"]);b2PolygonShape.prototype.SetAsBoxXY=function(e,r){this.vertices[0]=new b2Vec2(-e,-r),this.vertices[1]=new b2Vec2(e,-r),this.vertices[2]=new b2Vec2(e,r),this.vertices[3]=new b2Vec2(-e,r)},b2PolygonShape.prototype.SetAsBoxXYCenterAngle=function(e,r,t,i){this.vertices[0]=new b2Vec2(-e,-r),this.vertices[1]=new b2Vec2(e,-r),this.vertices[2]=new b2Vec2(e,r),this.vertices[3]=new b2Vec2(-e,r);var n=new b2Transform;n.p=t,n.q.Set(i);for(var o=0;4>o;o++)b2Vec2.Mul(this.vertices[o],n,this.vertices[o])},b2PolygonShape.prototype._CreateFixture=function(e,r){var t=this.vertices;switch(t.length){case 3:var i=t[0],n=t[1],o=t[2];return b2PolygonShape_CreateFixture_3(e.ptr,r.density,r.friction,r.isSensor,r.restitution,r.userData,r.filter.categoryBits,r.filter.groupIndex,r.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y);case 4:var i=t[0],n=t[1],o=t[2],a=t[3];return b2PolygonShape_CreateFixture_4(e.ptr,r.density,r.friction,r.isSensor,r.restitution,r.userData,r.filter.categoryBits,r.filter.groupIndex,r.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,a.x,a.y);case 5:var i=t[0],n=t[1],o=t[2],a=t[3],u=t[4];return b2PolygonShape_CreateFixture_5(e.ptr,r.density,r.friction,r.isSensor,r.restitution,r.userData,r.filter.categoryBits,r.filter.groupIndex,r.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,a.x,a.y,u.x,u.y);case 6:var i=t[0],n=t[1],o=t[2],a=t[3],u=t[4],l=t[5];return b2PolygonShape_CreateFixture_6(e.ptr,r.density,r.friction,r.isSensor,r.restitution,r.userData,r.filter.categoryBits,r.filter.groupIndex,r.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,a.x,a.y,u.x,u.y,l.x,l.y);case 7:var i=t[0],n=t[1],o=t[2],a=t[3],u=t[4],l=t[5],s=t[6];return b2PolygonShape_CreateFixture_7(e.ptr,r.density,r.friction,r.isSensor,r.restitution,r.userData,r.filter.categoryBits,r.filter.groupIndex,r.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,a.x,a.y,u.x,u.y,l.x,l.y,s.x,s.y);case 8:var i=t[0],n=t[1],o=t[2],a=t[3],u=t[4],l=t[5],s=t[6],f=t[7];return b2PolygonShape_CreateFixture_8(e.ptr,r.density,r.friction,r.isSensor,r.restitution,r.userData,r.filter.categoryBits,r.filter.groupIndex,r.filter.maskBits,i.x,i.y,n.x,n.y,o.x,o.y,a.x,a.y,u.x,u.y,l.x,l.y,s.x,s.y,s.x,f.y)}},b2PolygonShape.prototype._CreateParticleGroup=function(e,r){var t=this.vertices;switch(t.length){case 3:break;case 4:return b2PolygonShape_CreateParticleGroup_4(e.ptr,r.angle,r.angularVelocity,r.color.r,r.color.g,r.color.b,r.color.a,r.flags,r.group.ptr,r.groupFlags,r.lifetime,r.linearVelocity.x,r.linearVelocity.y,r.position.x,r.position.y,r.positionData,r.particleCount,r.strength,r.stride,r.userData,t[0].x,t[0].y,t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y)}},b2PolygonShape.prototype._DestroyParticlesInShape=function(e,r){var t=this.vertices;switch(t.length){case 3:break;case 4:return b2PolygonShape_DestroyParticlesInShape_4(e.ptr,t[0].x,t[0].y,t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y,r.p.x,r.p.y,r.q.s,r.q.c)}},b2PolygonShape.prototype.Validate=function(){for(var e=0,r=this.vertices.length;r>e;++e){var t=e,i=r-1>e?t+1:0,n=this.vertices[t],o=this.vertices[i],a=new b2Vec2;b2Vec2.Sub(a,o,n);for(var u=0;r>u;++u)if(u!=t&&u!=i){var l=new b2Vec2;b2Vec2.Sub(l,this.vertices[u],n);var s=b2Vec2.Cross(a,l);if(0>s)return!1}}return!0};var b2Shape_Type_e_circle=0,b2Shape_Type_e_edge=1,b2Shape_Type_e_polygon=2,b2Shape_Type_e_chain=3,b2Shape_Type_e_typeCount=4,b2_linearSlop=.005,b2_polygonRadius=2*b2_linearSlop,b2_maxPolygonVertices=8,b2ChainShape_CreateFixture=Module.cwrap("b2ChainShape_CreateFixture","number",["number","number","number","number","number","number","number","number"]);b2ChainShape.prototype.CreateLoop=function(){this.vertices.push(this.vertices[0])},b2ChainShape.prototype._CreateFixture=function(e,r){for(var t=this.vertices,i=t.length,n=2*i,o=new Float32Array(n),a=0,u=0;n>a;a+=2,u++)o[a]=t[u].x,o[a+1]=t[u].y;var l=o.length*o.BYTES_PER_ELEMENT,s=Module._malloc(l),f=new Uint8Array(Module.HEAPU8.buffer,s,l);f.set(new Uint8Array(o.buffer));var c=b2ChainShape_CreateFixture(e.ptr,r.density,r.friction,r.isSensor,r.restitution,r.userData,r.filter.categoryBits,r.filter.groupIndex,r.filter.maskBits,f.byteOffset,o.length);return Module._free(f.byteOffset),c};var b2CircleShape_CreateFixture=Module.cwrap("b2CircleShape_CreateFixture","number",["number","number","number","number","number","number","number","number","number"]),b2CircleShape_CreateParticleGroup=Module.cwrap("b2CircleShape_CreateParticleGroup","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2CircleShape_DestroyParticlesInShape=Module.cwrap("b2CircleShape_DestroyParticlesInShape","number",["number","number","number","number","number","number","number","number"]);b2CircleShape.prototype._CreateFixture=function(e,r){return b2CircleShape_CreateFixture(e.ptr,r.density,r.friction,r.isSensor,r.restitution,r.userData,r.filter.categoryBits,r.filter.groupIndex,r.filter.maskBits,this.position.x,this.position.y,this.radius)},b2CircleShape.prototype._CreateParticleGroup=function(e,r){return b2CircleShape_CreateParticleGroup(e.ptr,r.angle,r.angularVelocity,r.color.r,r.color.g,r.color.b,r.color.a,r.flags,r.group.ptr,r.groupFlags,r.lifetime,r.linearVelocity.x,r.linearVelocity.y,r.position.x,r.position.y,r.positionData,r.particleCount,r.strength,r.stride,r.userData,this.position.x,this.position.y,this.radius)},b2CircleShape.prototype._DestroyParticlesInShape=function(e,r){return b2CircleShape_DestroyParticlesInShape(e.ptr,this.position.x,this.position.y,this.radius,r.p.x,r.p.y,r.q.s,r.q.c)};var b2Body_ApplyAngularImpulse=Module.cwrap("b2Body_ApplyAngularImpulse","null",["number","number","number"]),b2Body_ApplyForce=Module.cwrap("b2Body_ApplyForce","number",["number","number","number","number","number","number"]),b2Body_ApplyForceToCenter=Module.cwrap("b2Body_ApplyForceToCenter","number",["number","number","number","number"]),b2Body_ApplyTorque=Module.cwrap("b2Body_ApplyTorque","number",["number","number","number"]),b2Body_DestroyFixture=Module.cwrap("b2Body_DestroyFixture","null",["number","number"]),b2Body_GetAngle=Module.cwrap("b2Body_GetAngle","number",["number"]),b2Body_GetAngularVelocity=Module.cwrap("b2Body_GetAngularVelocity","number",["number"]),b2Body_GetInertia=Module.cwrap("b2Body_GetInertia","number",["number"]),b2Body_GetLinearVelocity=Module.cwrap("b2Body_GetLinearVelocity","null",["number","number"]),b2Body_GetLocalPoint=Module.cwrap("b2Body_GetLocalPoint","null",["number","number","number","number"]),b2Body_GetLocalVector=Module.cwrap("b2Body_GetLocalVector","null",["number","number","number","number"]),b2Body_GetMass=Module.cwrap("b2Body_GetMass","number",["number"]),b2Body_GetPosition=Module.cwrap("b2Body_GetPosition","null",["number","number"]),b2Body_GetTransform=Module.cwrap("b2Body_GetTransform","null",["number","number"]),b2Body_GetType=Module.cwrap("b2Body_GetType","number",["number"]),b2Body_GetWorldCenter=Module.cwrap("b2Body_GetWorldCenter","null",["number","number"]),b2Body_GetWorldPoint=Module.cwrap("b2Body_GetWorldPoint","null",["number","number","number","number"]),b2Body_GetWorldVector=Module.cwrap("b2Body_GetWorldVector","null",["number","number","number","number"]),b2Body_SetAngularVelocity=Module.cwrap("b2Body_SetAngularVelocity","null",["number","number"]),b2Body_SetAwake=Module.cwrap("b2Body_SetAwake","number",["number","number"]),b2Body_SetLinearVelocity=Module.cwrap("b2Body_SetLinearVelocity","null",["number","number","number"]),b2Body_SetMassData=Module.cwrap("b2Body_SetMassData","null",["number","number","number","number","number"]),b2Body_SetTransform=Module.cwrap("b2Body_SetTransform","null",["number","number","number"]),b2Body_SetType=Module.cwrap("b2Body_SetType","null",["number","number"]),b2Body_xf_offset=Offsets.b2Body.xf,b2Body_userData_offset=Offsets.b2Body.userData;
b2Body.prototype.ApplyAngularImpulse=function(e,r){b2Body_ApplyAngularImpulse(this.ptr,e,r)},b2Body.prototype.ApplyForce=function(e,r,t){b2Body_ApplyForce(this.ptr,e.x,e.y,r.x,r.y,t)},b2Body.prototype.ApplyForceToCenter=function(e,r){b2Body_ApplyForceToCenter(this.ptr,e.x,e.y,r)},b2Body.prototype.ApplyTorque=function(e,r){b2Body_ApplyTorque(this.ptr,e,r)},b2Body.prototype.CreateFixtureFromDef=function(e){var r=new b2Fixture;return r.FromFixtureDef(e),r._SetPtr(e.shape._CreateFixture(this,e)),r.body=this,b2World._Push(r,this.fixtures),world.fixturesLookup[r.ptr]=r,r},b2Body.prototype.CreateFixtureFromShape=function(e,r){var t=new b2FixtureDef;return t.shape=e,t.density=r,this.CreateFixtureFromDef(t)},b2Body.prototype.DestroyFixture=function(e){b2Body_DestroyFixture(this.ptr,e.ptr),b2World._RemoveItem(e,this.fixtures)},b2Body.prototype.GetAngle=function(){return b2Body_GetAngle(this.ptr)},b2Body.prototype.GetAngularVelocity=function(){return b2Body_GetAngularVelocity(this.ptr)},b2Body.prototype.GetInertia=function(){return b2Body_GetInertia(this.ptr)},b2Body.prototype.GetMass=function(){return b2Body_GetMass(this.ptr)},b2Body.prototype.GetLinearVelocity=function(){b2Body_GetLinearVelocity(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2Body.prototype.GetLocalPoint=function(e){b2Body_GetLocalPoint(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var r=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(r[0],r[1])},b2Body.prototype.GetLocalVector=function(e){b2Body_GetLocalVector(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var r=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(r[0],r[1])},b2Body.prototype.GetPosition=function(){b2Body_GetPosition(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2Body.prototype.GetTransform=function(){var e=new b2Transform;return e.p.x=this.buffer.getFloat32(b2Body_xf_offset,!0),e.p.y=this.buffer.getFloat32(b2Body_xf_offset+4,!0),e.q.s=this.buffer.getFloat32(b2Body_xf_offset+8,!0),e.q.c=this.buffer.getFloat32(b2Body_xf_offset+12,!0),e},b2Body.prototype.GetType=function(){return b2Body_GetType(this.ptr)},b2Body.prototype.GetUserData=function(){return this.buffer.getUint32(b2Body_userData_offset,!0)},b2Body.prototype.GetWorldCenter=function(){b2Body_GetWorldCenter(this.ptr,_vec2Buf.byteOffset);var e=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(e[0],e[1])},b2Body.prototype.GetWorldPoint=function(e){b2Body_GetWorldPoint(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var r=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(r[0],r[1])},b2Body.prototype.GetWorldVector=function(e){b2Body_GetWorldVector(this.ptr,e.x,e.y,_vec2Buf.byteOffset);var r=new Float32Array(_vec2Buf.buffer,_vec2Buf.byteOffset,_vec2Buf.length);return new b2Vec2(r[0],r[1])},b2Body.prototype.SetAngularVelocity=function(e){b2Body_SetAngularVelocity(this.ptr,e)},b2Body.prototype.SetAwake=function(e){b2Body_SetAwake(this.ptr,e)},b2Body.prototype.SetLinearVelocity=function(e){b2Body_SetLinearVelocity(this.ptr,e.x,e.y)},b2Body.prototype.SetMassData=function(e){b2Body_SetMassData(this.ptr,e.mass,e.center.x,e.center.y,e.I)},b2Body.prototype.SetTransform=function(e,r){b2Body_SetTransform(this.ptr,e.x,e.y,r)},b2Body.prototype.SetType=function(e){b2Body_SetType(this.ptr,e)};var b2_staticBody=0,b2_kinematicBody=1,b2_dynamicBody=2;b2World.BeginContactBody=function(e){if(void 0!==world.listener.BeginContactBody){var r=new b2Contact(e);world.listener.BeginContactBody(r)}},b2World.EndContactBody=function(e){if(void 0!==world.listener.EndContactBody){var r=new b2Contact(e);world.listener.EndContactBody(r)}},b2World.PreSolve=function(e,r){void 0!==world.listener.PreSolve&&world.listener.PreSolve(new b2Contact(e),new b2Manifold(r))},b2World.PostSolve=function(e,r){void 0!==world.listener.PostSolve&&world.listener.PostSolve(new b2Contact(e),new b2ContactImpulse(r))},b2World.QueryAABB=function(e){return world.queryAABBCallback.ReportFixture(world.fixturesLookup[e])},b2World.RayCast=function(e,r,t,i,n,o){return world.rayCastCallback.ReportFixture(world.fixturesLookup[e],new b2Vec2(r,t),new b2Vec2(i,n),o)};var b2World_Create=Module.cwrap("b2World_Create","number",["number","number"]),b2World_CreateBody=Module.cwrap("b2World_CreateBody","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2World_CreateParticleSystem=Module.cwrap("b2World_CreateParticleSystem","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2World_DestroyBody=Module.cwrap("b2World_DestroyBody","null",["number","number"]),b2World_DestroyJoint=Module.cwrap("b2World_DestroyJoint","null",["number","number"]),b2World_DestroyParticleSystem=Module.cwrap("b2World_DestroyParticleSystem","null",["number","number"]),b2World_QueryAABB=Module.cwrap("b2World_QueryAABB","null",["number","number","number","number","number"]),b2World_RayCast=Module.cwrap("b2World_RayCast","null",["number","number","number","number","number"]),b2World_SetContactListener=Module.cwrap("b2World_SetContactListener","null",["number"]),b2World_SetGravity=Module.cwrap("b2World_SetGravity","null",["number","number","number"]),b2World_Step=Module.cwrap("b2World_Step","null",["number","number","number"]),_transBuf=null,_vec2Buf=null;b2World._Push=function(e,r){e.lindex=r.length,r.push(e)},b2World._RemoveItem=function(e,r){var t=r.length,i=e.lindex;t>1&&(r[i]=r[t-1],r[i].lindex=i),r.pop()},b2World.prototype.CreateBody=function(e){var r=new b2Body(b2World_CreateBody(this.ptr,e.active,e.allowSleep,e.angle,e.angularVelocity,e.angularDamping,e.awake,e.bullet,e.fixedRotation,e.gravityScale,e.linearDamping,e.linearVelocity.x,e.linearVelocity.y,e.position.x,e.position.y,e.type,e.userData));return b2World._Push(r,this.bodies),this.bodiesLookup[r.ptr]=r,r},b2World.prototype.CreateJoint=function(e){var r=e.Create(this);return b2World._Push(r,this.joints),r},b2World.prototype.CreateParticleSystem=function(e){var r=new b2ParticleSystem(b2World_CreateParticleSystem(this.ptr,e.colorMixingStrength,e.dampingStrength,e.destroyByAge,e.ejectionStrength,e.elasticStrength,e.lifetimeGranularity,e.powderStrength,e.pressureStrength,e.radius,e.repulsiveStrength,e.springStrength,e.staticPressureIterations,e.staticPressureRelaxation,e.staticPressureStrength,e.surfaceTensionNormalStrength,e.surfaceTensionPressureStrength,e.viscousStrength));return b2World._Push(r,this.particleSystems),r.dampingStrength=e.dampingStrength,r.radius=e.radius,r},b2World.prototype.DestroyBody=function(e){b2World_DestroyBody(this.ptr,e.ptr),b2World._RemoveItem(e,this.bodies)},b2World.prototype.DestroyJoint=function(e){b2World_DestroyJoint(this.ptr,e.ptr),b2World._RemoveItem(e,this.joints)},b2World.prototype.DestroyParticleSystem=function(e){b2World_DestroyParticleSystem(this.ptr,e.ptr),b2World._RemoveItem(e,this.particleSystems)},b2World.prototype.QueryAABB=function(e,r){this.queryAABBCallback=e,b2World_QueryAABB(this.ptr,r.lowerBound.x,r.lowerBound.y,r.upperBound.x,r.upperBound.y)},b2World.prototype.RayCast=function(e,r,t){this.rayCastCallback=e,b2World_RayCast(this.ptr,r.x,r.y,t.x,t.y)},b2World.prototype.SetContactListener=function(e){this.listener=e,b2World_SetContactListener(this.ptr)},b2World.prototype.SetGravity=function(e){b2World_SetGravity(this.ptr,e.x,e.y)},b2World.prototype.Step=function(e,r,t){b2World_Step(this.ptr,e,r,t)};var b2WheelJoint_SetMotorSpeed=Module.cwrap("b2WheelJoint_SetMotorSpeed","null",["number","number"]),b2WheelJoint_SetSpringFrequencyHz=Module.cwrap("b2WheelJoint_SetSpringFrequencyHz","null",["number","number"]);b2WheelJoint.prototype.SetMotorSpeed=function(e){b2WheelJoint_SetMotorSpeed(this.ptr,e)},b2WheelJoint.prototype.SetSpringFrequencyHz=function(e){b2WheelJoint_SetSpringFrequencyHz(this.ptr,e)};var b2WheelJointDef_Create=Module.cwrap("b2WheelJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2WheelJointDef_InitializeAndCreate=Module.cwrap("b2WheelJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number","number"]);b2WheelJointDef.prototype.Create=function(e){var r=new b2WheelJoint(this);return r.ptr=b2WheelJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.enableMotor,this.frequencyHz,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.localAxisA.x,this.localAxisA.y,this.maxMotorTorque,this.motorSpeed),r},b2WheelJointDef.prototype.InitializeAndCreate=function(e,r,t,i){this.bodyA=e,this.bodyB=r;var n=new b2WheelJoint(this);return n.ptr=b2WheelJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,t.x,t.y,i.x,i.y,this.collideConnected,this.dampingRatio,this.enableMotor,this.frequencyHz,this.maxMotorTorque,this.motorSpeed),b2World._Push(n,world.joints),n};var b2WeldJointDef_Create=Module.cwrap("b2WeldJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number"]),b2WeldJointDef_InitializeAndCreate=Module.cwrap("b2WeldJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number"]);b2WeldJointDef.prototype.Create=function(e){var r=new b2WeldJoint(this);return r.ptr=b2WeldJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.frequencyHz,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.referenceAngle),r},b2WeldJointDef.prototype.InitializeAndCreate=function(e,r,t){this.bodyA=e,this.bodyB=r;var i=new b2WeldJoint(this);return i.ptr=b2WeldJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,t.x,t.y,this.collideConnected,this.dampingRatio,this.frequencyHz),b2World._Push(i,world.joints),i};var b2GearJoint_GetRatio=Module.cwrap("b2GearJoint_GetRatio","number",["number"]);b2GearJoint.prototype.GetRatio=function(){return b2GearJoint_GetRatio(this.ptr)};var b2GearJointDef_Create=Module.cwrap("b2GearJointDef_Create","number",["number","number","number","number","number","number","number"]);b2GearJointDef.prototype.Create=function(e){var r=new b2GearJoint(this);return r.ptr=b2GearJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.joint1.ptr,this.joint2.ptr,this.ratio),r};var e_unknownJoint=0,e_revoluteJoint=1,e_prismaticJoint=2,e_distanceJoint=3,e_pulleyJoint=4,e_mouseJoint=5,e_gearJoint=6,e_wheelJoint=7,e_weldJoint=8,e_frictionJoint=9,e_ropeJoint=10,e_motorJoint=11,b2Joint_GetBodyA=Module.cwrap("b2Joint_GetBodyA","number",["number"]),b2Joint_GetBodyB=Module.cwrap("b2Joint_GetBodyB","number",["number"]);b2Joint.prototype.GetBodyA=function(){return world.bodiesLookup[b2Joint_GetBodyA(this.ptr)]},b2Joint.prototype.GetBodyB=function(){return world.bodiesLookup[b2Joint_GetBodyB(this.ptr)]};var b2FrictionJointDef_Create=Module.cwrap("b2FrictionJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number"]),b2FrictionJointDef_InitializeAndCreate=Module.cwrap("b2FrictionJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number"]);b2FrictionJointDef.prototype.Create=function(e){var r=new b2FrictionJoint(this);return r.ptr=b2FrictionJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.maxForce,this.maxTorque),r},b2FrictionJointDef.prototype.InitializeAndCreate=function(e,r,t){this.bodyA=e,this.bodyB=r;var i=new b2FrictionJoint(this);return i.ptr=b2FrictionJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,t.x,t.y,this.collideConnected,this.maxForce,this.maxTorque),b2World._Push(i,world.joints),i};var b2RevoluteJoint_EnableLimit=Module.cwrap("b2RevoluteJoint_EnableLimit","number",["number","number"]),b2RevoluteJoint_EnableMotor=Module.cwrap("b2RevoluteJoint_EnableMotor","number",["number","number"]),b2RevoluteJoint_GetJointAngle=Module.cwrap("b2RevoluteJoint_GetJointAngle","number",["number"]),b2RevoluteJoint_IsLimitEnabled=Module.cwrap("b2RevoluteJoint_IsLimitEnabled","number",["number"]),b2RevoluteJoint_IsMotorEnabled=Module.cwrap("b2RevoluteJoint_IsMotorEnabled","number",["number"]),b2RevoluteJoint_SetMotorSpeed=Module.cwrap("b2RevoluteJoint_SetMotorSpeed","number",["number","number"]);b2RevoluteJoint.prototype=new b2Joint,b2RevoluteJoint.prototype.EnableLimit=function(e){b2RevoluteJoint_EnableLimit(this.ptr,e)},b2RevoluteJoint.prototype.EnableMotor=function(e){b2RevoluteJoint_EnableMotor(this.ptr,e)},b2RevoluteJoint.prototype.GetJointAngle=function(e){return b2RevoluteJoint_GetJointAngle(this.ptr)},b2RevoluteJoint.prototype.IsLimitEnabled=function(){return b2RevoluteJoint_IsLimitEnabled(this.ptr)},b2RevoluteJoint.prototype.IsMotorEnabled=function(){return b2RevoluteJoint_IsMotorEnabled(this.ptr)},b2RevoluteJoint.prototype.SetMotorSpeed=function(e){b2RevoluteJoint_SetMotorSpeed(this.ptr,e),this.motorSpeed=e};var b2RevoluteJointDef_Create=Module.cwrap("b2RevoluteJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2RevoluteJointDef_InitializeAndCreate=Module.cwrap("b2RevoluteJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number"]);b2RevoluteJointDef.prototype.Create=function(e){var r=new b2RevoluteJoint(this);return r.ptr=b2RevoluteJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.enableLimit,this.enableMotor,this.lowerAngle,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.maxMotorTorque,this.motorSpeed,this.referenceAngle,this.upperAngle),r},b2RevoluteJointDef.prototype.InitializeAndCreate=function(e,r,t){this.bodyA=e,this.bodyB=r;var i=new b2RevoluteJoint(this);return i.ptr=b2RevoluteJointDef_InitializeAndCreate(world.ptr,e.ptr,r.ptr,t.x,t.y,this.collideConnected,this.enableLimit,this.enableMotor,this.lowerAngle,this.maxMotorTorque,this.motorSpeed,this.upperAngle),b2World._Push(i,world.joints),i};var b2MotorJoint_SetAngularOffset=Module.cwrap("b2MotorJoint_SetAngularOffset","null",["number","number"]),b2MotorJoint_SetLinearOffset=Module.cwrap("b2MotorJoint_SetLinearOffset","null",["number","number","number"]);b2MotorJoint.prototype.SetAngularOffset=function(e){b2MotorJoint_SetAngularOffset(this.ptr,e)},b2MotorJoint.prototype.SetLinearOffset=function(e){b2MotorJoint_SetLinearOffset(this.ptr,e.x,e.y)};var b2MotorJointDef_Create=Module.cwrap("b2MotorJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number"]),b2MotorJointDef_InitializeAndCreate=Module.cwrap("b2MotorJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number"]);b2MotorJointDef.prototype.Create=function(e){var r=new b2MotorJoint(this);return r.ptr=b2MotorJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.angularOffset,this.correctionFactor,this.linearOffset.x,this.linearOffset.y,this.maxForce,this.maxTorque),r},b2MotorJointDef.prototype.InitializeAndCreate=function(e,r){this.bodyA=e,this.bodyB=r;var t=new b2MotorJoint(this);return t.ptr=b2MotorJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.correctionFactor,this.maxForce,this.maxTorque),b2World._Push(t,world.joints),t};var b2PulleyJointDef_Create=Module.cwrap("b2PulleyJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PulleyJointDef_InitializeAndCreate=Module.cwrap("b2PulleyJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number"]);b2PulleyJointDef.prototype.Create=function(e){var r=new b2PulleyJoint(this);return r.ptr=b2PulleyJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.groundAnchorA.x,this.groundAnchorA.y,this.groundAnchorB.x,this.groundAnchorB.y,this.lengthA,this.lengthB,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.ratio),r},b2PulleyJointDef.prototype.InitializeAndCreate=function(e,r,t,i,n,o,a){this.bodyA=e,this.bodyB=r;var u=new b2PulleyJoint(this);return u.ptr=b2PulleyJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,n.x,n.y,o.x,o.y,t.x,t.y,i.x,i.y,a,this.collideConnected),b2World._Push(u,world.joints),u};var b2DistanceJointDef_Create=Module.cwrap("b2DistanceJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number"]),b2DistanceJointDef_InitializeAndCreate=Module.cwrap("b2DistanceJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number"]);b2DistanceJointDef.prototype.Create=function(e){var r=new b2DistanceJoint(this);return r.ptr=b2DistanceJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.frequencyHz,this.length,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y),r},b2DistanceJointDef.prototype.InitializeAndCreate=function(e,r,t,i){this.bodyA=e,this.bodyB=r;var n=new b2DistanceJoint(this);return n.ptr=b2DistanceJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,t.x,t.y,i.x,i.y,this.collideConnected,this.dampingRatio,this.frequencyHz),b2World._Push(n,world.joints),n};var b2PrismaticJoint_EnableLimit=Module.cwrap("b2PrismaticJoint_EnableLimit","number",["number","number"]),b2PrismaticJoint_EnableMotor=Module.cwrap("b2PrismaticJoint_EnableMotor","number",["number","number"]),b2PrismaticJoint_GetJointTranslation=Module.cwrap("b2PrismaticJoint_GetJointTranslation","number",["number"]),b2PrismaticJoint_GetMotorSpeed=Module.cwrap("b2PrismaticJoint_GetMotorSpeed","number",["number"]),b2PrismaticJoint_GetMotorForce=Module.cwrap("b2PrismaticJoint_GetMotorForce","number",["number","number"]),b2PrismaticJoint_IsLimitEnabled=Module.cwrap("b2PrismaticJoint_IsLimitEnabled","number",["number"]),b2PrismaticJoint_IsMotorEnabled=Module.cwrap("b2PrismaticJoint_IsMotorEnabled","number",["number"]),b2PrismaticJoint_SetMotorSpeed=Module.cwrap("b2PrismaticJoint_SetMotorSpeed","number",["number","number"]);b2PrismaticJoint.prototype=new b2Joint,b2PrismaticJoint.prototype.EnableLimit=function(e){return b2PrismaticJoint_EnableLimit(this.ptr,e)},b2PrismaticJoint.prototype.EnableMotor=function(e){return b2PrismaticJoint_EnableMotor(this.ptr,e)},b2PrismaticJoint.prototype.GetJointTranslation=function(){return b2PrismaticJoint_GetJointTranslation(this.ptr)},b2PrismaticJoint.prototype.GetMotorSpeed=function(){return b2PrismaticJoint_GetMotorSpeed(this.ptr)},b2PrismaticJoint.prototype.GetMotorForce=function(e){return b2PrismaticJoint_GetMotorForce(this.ptr,e)},b2PrismaticJoint.prototype.IsLimitEnabled=function(){return b2PrismaticJoint_IsLimitEnabled(this.ptr)},b2PrismaticJoint.prototype.IsMotorEnabled=function(){return b2PrismaticJoint_IsMotorEnabled(this.ptr)},b2PrismaticJoint.prototype.GetMotorEnabled=function(){return b2PrismaticJoint_IsMotorEnabled(this.ptr)},b2PrismaticJoint.prototype.SetMotorSpeed=function(e){return b2PrismaticJoint_SetMotorSpeed(this.ptr,e)};var b2PrismaticJointDef_Create=Module.cwrap("b2PrismaticJointDef_Create","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2PrismaticJointDef_InitializeAndCreate=Module.cwrap("b2PrismaticJointDef_InitializeAndCreate","number",["number","number","number","number","number","number","number","number","number","number","number","number","number","number"]);b2PrismaticJointDef.prototype.Create=function(e){var r=new b2PrismaticJoint(this);return r.ptr=b2PrismaticJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.enableLimit,this.enableMotor,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.localAxisA.x,this.localAxisA.y,this.lowerTranslation,this.maxMotorForce,this.motorSpeed,this.referenceAngle,this.upperTranslation),r},b2PrismaticJointDef.prototype.InitializeAndCreate=function(e,r,t,i){this.bodyA=e,this.bodyB=r;var n=new b2PrismaticJoint(this);return n.ptr=b2PrismaticJointDef_InitializeAndCreate(world.ptr,this.bodyA.ptr,this.bodyB.ptr,t.x,t.y,i.x,i.y,this.collideConnected,this.enableLimit,this.enableMotor,this.lowerTranslation,this.maxMotorForce,this.motorSpeed,this.upperTranslation),b2World._Push(n,world.joints),n};var b2RopeJointDef_Create=Module.cwrap("b2RopeJointDef_Create","number",["number","number","number","number","number","number","number","number","number"]);b2RopeJointDef.prototype.Create=function(e){var r=new b2RopeJoint(this);return r.ptr=b2RopeJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.localAnchorA.x,this.localAnchorA.y,this.localAnchorB.x,this.localAnchorB.y,this.maxLength),r};var b2MouseJoint_SetTarget=Module.cwrap("b2MouseJoint_SetTarget","null",["number","number","number"]);b2MouseJoint.prototype.SetTarget=function(e){b2MouseJoint_SetTarget(this.ptr,e.x,e.y)};var b2MouseJointDef_Create=Module.cwrap("b2MouseJointDef_Create","number",["number","number","number","number","number","number","number","number","number"]);b2MouseJointDef.prototype.Create=function(e){var r=new b2MouseJoint(this);return r.ptr=b2MouseJointDef_Create(e.ptr,this.bodyA.ptr,this.bodyB.ptr,this.collideConnected,this.dampingRatio,this.frequencyHz,this.maxForce,this.target.x,this.target.y),r};var b2Contact_fixtureA_offset=Offsets.b2Contact.fixtureA,b2Contact_fixtureB_offset=Offsets.b2Contact.fixtureB,b2Contact_tangentSpeed_offset=Offsets.b2Contact.tangentSpeed,b2Contact_GetManifold=Module.cwrap("b2Contact_GetManifold","number",["number"]),b2Contact_GetWorldManifold=Module.cwrap("b2Contact_GetWorldManifold","number",["number"]);b2Contact.prototype.GetFixtureA=function(){var e=this.buffer.getUint32(b2Contact_fixtureA_offset,!0);return world.fixturesLookup[e]},b2Contact.prototype.GetFixtureB=function(){var e=this.buffer.getUint32(b2Contact_fixtureB_offset,!0);return world.fixturesLookup[e]},b2Contact.prototype.GetManifold=function(){return new b2Manifold(b2Contact_GetManifold(this.ptr))},b2Contact.prototype.GetWorldManifold=function(){return new b2WorldManifold(b2Contact_GetWorldManifold(this.ptr))},b2Contact.prototype.SetTangentSpeed=function(e){this.buffer.setFloat32(b2Contact_tangentSpeed_offset,e,!0)};var b2Fixture_isSensor_offset=Offsets.b2Fixture.isSensor,b2Fixture_userData_offset=Offsets.b2Fixture.userData,b2Fixture_TestPoint=Module.cwrap("b2Fixture_TestPoint","number",["number","number","number"]);b2Fixture.prototype._SetPtr=function(e){this.ptr=e,this.buffer=new DataView(Module.HEAPU8.buffer,e)},b2Fixture.prototype.FromFixtureDef=function(e){this.density=e.density,this.friction=e.friction,this.isSensor=e.isSensor,this.restitution=e.restitution,this.shape=e.shape,this.userData=e.userData,this.vertices=[]},b2Fixture.prototype.GetUserData=function(){return this.buffer.getUint32(b2Fixture_userData_offset,!0)},b2Fixture.prototype.SetSensor=function(e){this.buffer.setUint32(b2Fixture_isSensor_offset,e,!0)},b2Fixture.prototype.TestPoint=function(e){return b2Fixture_TestPoint(this.ptr,e.x,e.y)},b2ContactImpulse.prototype.GetNormalImpulse=function(e){return this.buffer.getFloat32(4*e,!0)},b2ContactImpulse.prototype.GetTangentImpulse=function(e){return this.buffer.getFloat32(4*e+8,!0)},b2ContactImpulse.prototype.GetCount=function(e){console.log(this.buffer.getInt32(16,!0))};var b2ParticleSystem_CreateParticle=Module.cwrap("b2ParticleSystem_CreateParticle","number",["number","number","number","number","number","number","number","number","number","number","number","number","number"]),b2ParticleSystem_GetColorBuffer=Module.cwrap("b2ParticleSystem_GetColorBuffer","number",["number"]),b2ParticleSystem_GetParticleCount=Module.cwrap("b2ParticleSystem_GetParticleCount","number",["number"]),b2ParticleSystem_GetPositionBuffer=Module.cwrap("b2ParticleSystem_GetPositionBuffer","number",["number"]),b2ParticleSystem_GetVelocityBuffer=Module.cwrap("b2ParticleSystem_GetVelocityBuffer","number",["number"]),b2ParticleSystem_SetDamping=Module.cwrap("b2ParticleSystem_SetDamping","null",["number","number"]),b2ParticleSystem_SetDensity=Module.cwrap("b2ParticleSystem_SetDensity","null",["number","number"]),b2ParticleSystem_SetRadius=Module.cwrap("b2ParticleSystem_SetRadius","null",["number","number"]);b2ParticleSystem.prototype.CreateParticle=function(e){return b2ParticleSystem_CreateParticle(this.ptr,e.color.r,e.color.g,e.color.b,e.color.a,e.flags,e.group,e.lifetime,e.position.x,e.position.y,e.userData,e.velocity.x,e.velocity.y)},b2ParticleSystem.prototype.CreateParticleGroup=function(e){var r=new b2ParticleGroup(e.shape._CreateParticleGroup(this,e));return this.particleGroups.push(r),r},b2ParticleSystem.prototype.DestroyParticlesInShape=function(e,r){return e._DestroyParticlesInShape(this,r)},b2ParticleSystem.prototype.GetColorBuffer=function(){var e=4*b2ParticleSystem_GetParticleCount(this.ptr),r=b2ParticleSystem_GetColorBuffer(this.ptr);return new Uint8Array(Module.HEAPU8.buffer,r,e)},b2ParticleSystem.prototype.GetParticleCount=function(){return 2*b2ParticleSystem_GetParticleCount(this.ptr)},b2ParticleSystem.prototype.GetPositionBuffer=function(){var e=2*b2ParticleSystem_GetParticleCount(this.ptr),r=b2ParticleSystem_GetPositionBuffer(this.ptr);return new Float32Array(Module.HEAPU8.buffer,r,e)},b2ParticleSystem.prototype.GetVelocityBuffer=function(){var e=2*b2ParticleSystem_GetParticleCount(this.ptr),r=b2ParticleSystem_GetVelocityBuffer(this.ptr);return new Float32Array(Module.HEAPU8.buffer,r,e)},b2ParticleSystem.prototype.SetDamping=function(e){this.dampingStrength=e,b2ParticleSystem_SetDamping(this.ptr,e)},b2ParticleSystem.prototype.SetDensity=function(e){this.density=e,b2ParticleSystem_SetDensity(this.ptr,e)},b2ParticleSystem.prototype.SetRadius=function(e){this.radius=e,b2ParticleSystem_SetRadius(this.ptr,e)};var b2_solidParticleGroup=1,b2_rigidParticleGroup=2,b2_particleGroupCanBeEmpty=4,b2_particleGroupWillBeDestroyed=8,b2_particleGroupNeedsUpdateDepth=16,b2_particleGroupInternalMask=b2_particleGroupWillBeDestroyed|b2_particleGroupNeedsUpdateDepth,b2ParticleGroup_ApplyForce=Module.cwrap("b2ParticleGroup_ApplyForce","null",["number","number","number"]),b2ParticleGroup_ApplyLinearImpulse=Module.cwrap("b2ParticleGroup_ApplyLinearImpulse","null",["number","number","number"]),b2ParticleGroup_DestroyParticles=Module.cwrap("b2ParticleGroup_DestroyParticles","null",["number","number"]),b2ParticleGroup_GetBufferIndex=Module.cwrap("b2ParticleGroup_GetBufferIndex","number",["number"]),b2ParticleGroup_GetParticleCount=Module.cwrap("b2ParticleGroup_GetParticleCount","number",["number"]),b2ParticleGroup_groupFlags_offset=Offsets.b2ParticleGroup.groupFlags;b2ParticleGroup.prototype.ApplyForce=function(e){b2ParticleGroup_ApplyForce(this.ptr,e.x,e.y)},b2ParticleGroup.prototype.ApplyLinearImpulse=function(e){b2ParticleGroup_ApplyLinearImpulse(this.ptr,e.x,e.y)},b2ParticleGroup.prototype.DestroyParticles=function(e){b2ParticleGroup_DestroyParticles(this.ptr,e)},b2ParticleGroup.prototype.GetBufferIndex=function(){return b2ParticleGroup_GetBufferIndex(this.ptr)},b2ParticleGroup.prototype.GetGroupFlags=function(){return this.buffer.getUint32(b2ParticleGroup_groupFlags_offset,!0)},b2ParticleGroup.prototype.GetParticleCount=function(){return b2ParticleGroup_GetParticleCount(this.ptr)},b2ParticleGroup.prototype.SetGroupFlags=function(e){this.buffer.setUint32(b2ParticleGroup_groupFlags_offset,e,!0)};var b2_waterParticle=0,b2_zombieParticle=2,b2_wallParticle=4,b2_springParticle=8,b2_elasticParticle=16,b2_viscousParticle=32,b2_powderParticle=64,b2_tensileParticle=128,b2_colorMixingParticle=256,b2_destructionListenerParticle=512,b2_barrierParticle=1024,b2_staticPressureParticle=2048,b2_reactiveParticle=4096,b2_repulsiveParticle=8192,b2_fixtureContactListenerParticle=16384,b2_particleContactListenerParticle=32768,b2_fixtureContactFilterParticle=65536,b2_particleContactFilterParticle=1<<17;b2ParticleColor.prototype.Set=function(e,r,t,i){this.r=e,this.g=r,this.b=t,this.a=i};var LiquidFun={};LiquidFun.b2Vec2=b2Vec2,LiquidFun.b2Filter=b2Filter,LiquidFun.b2BodyDef=b2BodyDef,LiquidFun.b2Fixture=b2Fixture,LiquidFun.b2MassData=b2MassData,LiquidFun.b2Body=b2Body,LiquidFun.b2World=b2World,LiquidFun.b2Contact=b2Contact,LiquidFun.b2EdgeShape=b2EdgeShape,LiquidFun.b2ChainShape=b2ChainShape,LiquidFun.b2CircleShape=b2CircleShape,LiquidFun.b2Transform=b2Transform,LiquidFun.b2PolygonShape=b2PolygonShape,LiquidFun.b2FixtureDef=b2FixtureDef,LiquidFun.b2DistanceJointDef=b2DistanceJointDef,LiquidFun.b2RevoluteJointDef=b2RevoluteJointDef,LiquidFun.b2PrismaticJointDef=b2PrismaticJointDef,LiquidFun.b2PulleyJointDef=b2PulleyJointDef,LiquidFun.b2GearJointDef=b2GearJointDef,LiquidFun.b2DistanceJoint=b2DistanceJoint,LiquidFun.b2RevoluteJoint=b2RevoluteJoint,LiquidFun.b2PrismaticJoint=b2PrismaticJoint,LiquidFun.b2PulleyJoint=b2PulleyJoint,LiquidFun.b2Contact=b2Contact,LiquidFun.b2Manifold=b2Manifold,LiquidFun.b2ParticleColor=b2ParticleColor,LiquidFun.b2ParticleDef=b2ParticleDef,LiquidFun.b2ParticleSystemDef=b2ParticleSystemDef,LiquidFun.b2ParticleGroupDef=b2ParticleGroupDef,LiquidFun.b2ParticleGroup=b2ParticleGroup,LiquidFun.b2ParticleSystem=b2ParticleSystem,LiquidFun.b2_waterParticle=b2_waterParticle,LiquidFun.b2_zombieParticle=b2_zombieParticle,LiquidFun.b2_wallParticle=b2_wallParticle,LiquidFun.b2_springParticle=b2_springParticle,LiquidFun.b2_elasticParticle=b2_elasticParticle,LiquidFun.b2_viscousParticle=b2_viscousParticle,LiquidFun.b2_powderParticle=b2_powderParticle,LiquidFun.b2_tensileParticle=b2_tensileParticle,LiquidFun.b2_colorMixingParticle=b2_colorMixingParticle,LiquidFun.b2_destructionListenerParticle=b2_destructionListenerParticle,LiquidFun.b2_barrierParticle=b2_barrierParticle,LiquidFun.b2_staticPressureParticle=b2_staticPressureParticle,LiquidFun.b2_reactiveParticle=b2_reactiveParticle,LiquidFun.b2_repulsiveParticle=b2_repulsiveParticle,LiquidFun.b2_fixtureContactListenerParticle=b2_fixtureContactListenerParticle,LiquidFun.b2_particleContactListenerParticle=b2_particleContactListenerParticle,LiquidFun.b2_fixtureContactFilterParticle=b2_fixtureContactFilterParticle,LiquidFun.b2_particleContactFilterParticle=b2_particleContactFilterParticle,LiquidFun.b2_staticBody=b2_staticBody,LiquidFun.b2_kinematicBody=b2_kinematicBody,LiquidFun.b2_dynamicBody=b2_dynamicBody,module.exports=LiquidFun}()}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["node_modules/akashic-analytics/lib/index.js"] = function(g) {
			!function(e,o,r,i,n){"use strict";function t(o){for(var r in o)e.hasOwnProperty(r)||(e[r]=o[r])}Object.defineProperty(e,"__esModule",{value:!0}),t(o("./GoogleAnalyticsService"))}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
				window.gLocalAssetContainer["node_modules/akashic-analytics/lib/GoogleAnalyticsService.js"] = function(g) {
			!function(t,e,i,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s="undefined"!=typeof dataLayer?dataLayer:{push:function(t){}},r=function(){function t(t,e){void 0===e&&(e=[]);var i=this;this._gameTitle=t,this._firstClickTime=void 0,this._lastClickTime=void 0,this._configs=e,this._currentNumber=0===this._configs.length?-1:g.game.random.get(0,this._configs.length-1),this._setPointUpCaptureEvent(g.game.scene()),g.game._sceneChanged.add(this._setPointUpCaptureEvent,this),"undefined"!=typeof window&&window.addEventListener("beforeunload",function(){i._sendStayTime()}),this.send("load")}return Object.defineProperty(t.prototype,"currentNumber",{get:function(){return this._currentNumber},enumerable:!0,configurable:!0}),t.prototype.getParameter=function(){return-1===this._currentNumber?{}:this._configs[this._currentNumber]},t.prototype.sendClick=function(t){this.send("click",t)},t.prototype.sendAdvance=function(t){this.send("advance",t)},t.prototype.sendClear=function(){this.send("clear")},t.prototype.sendScore=function(t){this.send("score",t)},t.prototype.send=function(t,e,i){void 0===i&&(i=this._gameTitle);var n=this.createEventData({action:t,title:i,value:e});s.push(n)},t.prototype._sendStayTime=function(){if(void 0!==this._firstClickTime&&void 0!==this._lastClickTime){var t=Math.round((this._lastClickTime-this._firstClickTime)/1e3);this.send("staytime",t)}},t.prototype._setPointUpCaptureEvent=function(t){t.pointUpCapture.contains(this._onClick,this)||t.pointUpCapture.add(this._onClick,this)},t.prototype._onClick=function(){void 0===this._firstClickTime&&(this._firstClickTime=Date.now(),this.send("play")),this._lastClickTime=Date.now()},t}();t.GoogleAnalyticsService=r}(g.module.exports,g.module.require,g.module,g.filename,g.dirname);		};
	</script>

<script>
	var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])};return function(o,n){function e(){this.constructor=o}t(o,n),o.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}}(),LocalScriptAsset=function(t){function o(o,n){var e=t.call(this,o,n)||this;return e.func=window.gLocalAssetContainer[o],e}return __extends(o,t),o.prototype._load=function(t){var o=this;void 0!==this.func?setTimeout(function(){t._onAssetLoad(o)},0):setTimeout(function(){t._onAssetError(o,g.ExceptionFactory.createAssetLoadError("can not load script asset"))},0)},o.prototype.execute=function(t){return this.func(t),t.module.exports},o}(g.ScriptAsset);	var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){function n(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),LocalTextAsset=function(t){function o(o,e){var n=t.call(this,o,e)||this;return n.data=decodeURIComponent(window.gLocalAssetContainer[o]),n}return __extends(o,t),o.prototype._load=function(t){var o=this;void 0!==this.data?setTimeout(function(){t._onAssetLoad(o)},0):setTimeout(function(){t._onAssetError(o,g.ExceptionFactory.createAssetLoadError("can not load text asset"))},0)},o}(g.TextAsset);	!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.gameStorage=e()}}(function(){return function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";var n=e("@akashic/akashic-engine"),o=e("./validator"),i="akst:",a=function(){function e(e,t){this._localStorage=e,this._metaData=t}return e.prototype.set=function(e,t,r){o.validateStorageKey(e),this.expandVariables(e);var i=this.storageKeyToStringKey(e),a=this.getValue(i),u=null;switch(e.region){case n.StorageRegion.Values:u=this.createValuesValue(a,t,r);break;case n.StorageRegion.Counts:u=this.createCountsValue(a,t,r);break;case n.StorageRegion.Scores:u=this.createScoresValue(a,t,r);break;case n.StorageRegion.Slots:throw new Error("Slots is not supported.");default:throw new Error("Unknown region.")}if(u){var s=null,c=new Date;s=a?{data:u.data,tag:u.tag,createdAt:a.createdAt,updatedAt:c}:{data:u.data,tag:u.tag,createdAt:c,updatedAt:c},this.setValue(i,s)}},e.prototype.load=function(e){var t=this,r={};Object.keys(this._localStorage).forEach(function(e){if(0===e.indexOf(i)){var n=e.slice(i.length);r[n]=t.getValue(n)}});var n=[];return e.forEach(function(e){o.validateStorageReadKey(e),t.expandVariables(e);var i=[];if(-1!==e.regionKey.indexOf("*")||"*"===e.userId){var a=t.storageReadKeyToRegExp(e);Object.keys(r).forEach(function(e){if(a.test(e)){var n=r[e],o={data:n.data,storageKey:t.stringKeyToStorageKey(e)};null!=n.tag&&(o.tag=n.tag),i.push(o)}}),e.option&&(void 0!==e.option.valueOrder&&t.sortByValue(i,e.option.valueOrder),void 0!==e.option.keyOrder&&t.sortByRegionKey(i,e.option.keyOrder))}else{var u=t.storageKeyToStringKey(e),s=r[u];if(s){var c={data:s.data,storageKey:{region:e.region,regionKey:e.regionKey,userId:e.userId,gameId:e.gameId}};null!=s.tag&&(c.tag=s.tag),i.push(c)}}n.push(i)}),n},e.prototype.clearAll=function(){var e=this;Object.keys(this._localStorage).forEach(function(t){0===t.indexOf(i)&&e._localStorage.removeItem(t)})},e.prototype.createValuesValue=function(e,t,r){if(!t)return null;if(r&&null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data){if(r.condition!==n.StorageCondition.Equal)throw new Error("Invalid condition.");if(e.data!==r.comparisonValue)return null}var o={data:t.data};return null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createScoresValue=function(e,t,r){if(!t)return null;if(r&&null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data)switch(r.condition){case n.StorageCondition.Equal:if(e.data!==r.comparisonValue)return null;break;case n.StorageCondition.GreaterThan:if(!(e.data>r.comparisonValue))return null;break;case n.StorageCondition.LessThan:if(!(e.data<r.comparisonValue))return null}var o={data:t.data};return null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createCountsIncrDecrValue=function(e,t,r){var o={data:0},i=0;if(e&&(i=Number(e.data)),null!=r.condition&&null!=r.comparisonValue)switch(r.condition){case n.StorageCondition.Equal:if(i!==r.comparisonValue)return e?null:o;break;case n.StorageCondition.GreaterThan:if(!(i>r.comparisonValue))return e?null:o;break;case n.StorageCondition.LessThan:if(!(i<r.comparisonValue))return e?null:o}if(r.operation===n.StorageCountsOperation.Incr)t&&null!=t.data?o.data=i+Number(t.data):o.data=i+1;else{if(r.operation!==n.StorageCountsOperation.Decr)throw new Error("Unknown StorageCountsOperation");t&&null!=t.data?o.data=i-Number(t.data):o.data=i-1}return t&&null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.createCountsValue=function(e,t,r){if(r){if(r.operation===n.StorageCountsOperation.Incr||r.operation===n.StorageCountsOperation.Decr)return this.createCountsIncrDecrValue(e,t,r);if(null!=r.condition&&null!=r.comparisonValue&&e&&null!=e.data)switch(r.condition){case n.StorageCondition.Equal:if(e.data!==r.comparisonValue)return null;break;case n.StorageCondition.GreaterThan:if(!(e.data>r.comparisonValue))return null;break;case n.StorageCondition.LessThan:if(!(e.data<r.comparisonValue))return null}}var o={data:t.data};return t&&null!=t.tag?o.tag=t.tag:e&&null!=e.tag&&(o.tag=e.tag),o},e.prototype.setValue=function(e,t){this._localStorage.setItem(""+i+e,JSON.stringify(t))},e.prototype.getValue=function(e){var t=JSON.parse(this._localStorage.getItem(""+i+e));return t},e.prototype.storageKeyToStringKey=function(e){var t=e.region||"",r=null!=e.gameId?String(e.gameId):"",n=null!=e.userId?String(e.userId):"",o=e.regionKey||"";return t+"/"+r+"/"+n+"/"+o},e.prototype.stringKeyToStorageKey=function(e){var t=e.split("/"),r={region:Number(t[0]),regionKey:t[3]};return t[1]&&(r.gameId=t[1]),t[2]&&(r.userId=t[2]),r},e.prototype.storageReadKeyToRegExp=function(e){var t=e.region||"",r=null!=e.gameId?String(e.gameId):"",n=null!=e.userId?String(e.userId):"",o="";if("*"===n&&(n="[0-9]+"),-1!==e.regionKey.indexOf("*")){var i=e.regionKey.split(".");i.forEach(function(e,t){o+="*"===e?"[.a-z0-9]*":-1!==e.indexOf("*")?e.replace("*","[a-z0-9]*"):e,t!==i.length-1&&(o+=".")})}else o=e.regionKey.replace(".",".");return new RegExp("^"+t+"/"+r+"/"+n+"/"+o+"$")},e.prototype.sortByValue=function(e,t){e.sort(function(e,r){var o=e.data,i=r.data;if(t===n.StorageOrder.Asc){if(i>o)return-1;if(o>i)return 1}else if(t===n.StorageOrder.Desc){if(i>o)return 1;if(o>i)return-1}return 0})},e.prototype.sortByRegionKey=function(e,t){e.sort(function(e,r){var o=e.storageKey.regionKey,i=r.storageKey.regionKey;if(t===n.StorageOrder.Asc){if(i>o)return-1;if(o>i)return 1}else if(t===n.StorageOrder.Desc){if(i>o)return 1;if(o>i)return-1}return 0})},e.prototype.expandVariables=function(e){e.gameId&&-1!==e.gameId.indexOf("$gameId")&&this._metaData.gameId&&(e.gameId=e.gameId.replace(/\$gameId/g,this._metaData.gameId))},e}();r.GameStorage=a},{"./validator":3,"@akashic/akashic-engine":"@akashic/akashic-engine"}],2:[function(e,t,r){"use strict";var n=e("./GameStorage");r.GameStorage=n.GameStorage},{"./GameStorage":1}],3:[function(e,t,r){"use strict";function n(e,t){u(e.length>0,"regionKey is empty.");var r=e.split(".");u(r.length<=c,"The maximum number of layers in the region key is "+c+".");for(var n=!1,o=0;o<r.length;++o)t?"*"===r[o]?(u(!n,"The only one layer of the region key for reading consists of a wildcard character."),n=!0):u(/^(\*|[a-z])[a-z0-9]{0,31}\*?$/.test(r[o]),"The layer of the region key for reading must match '^(*|[a-z])[a-z0-9]{0,31}*?$'."):u(/^[a-z][a-z0-9]{0,31}$/.test(r[o]),"The layer of the region key for writing must match '^[a-z][a-z0-9]{0,31}$'.")}function o(e,t){void 0===t&&(t=!1),u(e.region===s.StorageRegion.Counts||e.region===s.StorageRegion.Scores||e.region===s.StorageRegion.Values,"Invalid region."),u(e.regionKey,"regionKey must be set."),n(e.regionKey,t),u(e.gameId||e.userId,"StorageKey must have any one at least from gameId and userId."),null!=e.gameId&&(u.equal(typeof e.gameId,"string","gameId must be a string type."),u(e.gameId.length>0,"gameId is empty.")),null!=e.userId&&(u.equal(typeof e.userId,"string","userId must be a string type."),u(e.userId.length>0,"userId is empty."),t?"*"===e.userId&&(u(e.gameId,'gameId for reading must be set when userId is "*".'),u(-1===e.regionKey.indexOf("*"),'regionKey for reading must not include "*" when userId is "*".')):u("*"!==e.userId,'userId for writing must not include "*".'))}function i(e){if(o(e,!0),null!=e.option){var t=e.option;null!=t.keyOrder&&u(t.keyOrder===s.StorageOrder.Asc||t.keyOrder===s.StorageOrder.Desc,"Invalid keyOrder."),null!=t.valueOrder&&u(t.valueOrder===s.StorageOrder.Asc||t.valueOrder===s.StorageOrder.Desc,"Invalid valueOrder.")}}function a(e){}var u=e("assert"),s=e("@akashic/akashic-engine"),c=4;r.validateRegionKey=n,r.validateStorageKey=o,r.validateStorageReadKey=i,r.validateStorageWriteOption=a},{"@akashic/akashic-engine":"@akashic/akashic-engine",assert:4}],4:[function(e,t,r){(function(r){"use strict";function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);i>o;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return n>r?-1:r>n?1:0}function o(e){return r.Buffer&&"function"==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function i(e){return Object.prototype.toString.call(e)}function a(e){return o(e)?!1:"function"!=typeof r.ArrayBuffer?!1:"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e?e instanceof DataView?!0:e.buffer&&e.buffer instanceof ArrayBuffer?!0:!1:!1}function u(e){if(b.isFunction(e)){if(E)return e.name;var t=e.toString(),r=t.match(I);return r&&r[1]}}function s(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(E||!b.isFunction(e))return b.inspect(e);var t=u(e),r=t?": "+t:"";return"[Function"+r+"]"}function l(e){return s(c(e.actual),128)+" "+e.operator+" "+s(c(e.expected),128)}function f(e,t,r,n,o){throw new x.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:o})}function g(e,t){e||f(e,!0,t,"==",x.ok)}function p(e,t,r,u){if(e===t)return!0;if(o(e)&&o(t))return 0===n(e,t);if(b.isDate(e)&&b.isDate(t))return e.getTime()===t.getTime();if(b.isRegExp(e)&&b.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(a(e)&&a(t)&&i(e)===i(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;u=u||{actual:[],expected:[]};var s=u.actual.indexOf(e);return-1!==s&&s===u.expected.indexOf(t)?!0:(u.actual.push(e),u.expected.push(t),y(e,t,r,u))}return r?e===t:e==t}function d(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function y(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(b.isPrimitive(e)||b.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=d(e),i=d(t);if(o&&!i||!o&&i)return!1;if(o)return e=O.call(e),t=O.call(t),p(e,t,r);var a,u,s=k(e),c=k(t);if(s.length!==c.length)return!1;for(s.sort(),c.sort(),u=s.length-1;u>=0;u--)if(s[u]!==c[u])return!1;for(u=s.length-1;u>=0;u--)if(a=s[u],!p(e[a],t[a],r,n))return!1;return!0}function h(e,t,r){p(e,t,!0)&&f(e,t,r,"notDeepStrictEqual",h)}function m(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(r){}return Error.isPrototypeOf(t)?!1:t.call({},e)===!0}function v(e){var t;try{e()}catch(r){t=r}return t}function S(e,t,r,n){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=v(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!o&&f(o,r,"Missing expected exception"+n);var i="string"==typeof n,a=!e&&b.isError(o),u=!e&&o&&!r;if((a&&i&&m(o,r)||u)&&f(o,r,"Got unwanted exception"+n),e&&o&&r&&!m(o,r)||!e&&o)throw o}var b=e("util/"),w=Object.prototype.hasOwnProperty,O=Array.prototype.slice,E=function(){return"foo"===function(){}.name}(),x=t.exports=g,I=/\s*function\s+([^\(\s]*)\s*/;x.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,o=u(t),i=n.indexOf("\n"+o);if(i>=0){var a=n.indexOf("\n",i+1);n=n.substring(a+1)}this.stack=n}}},b.inherits(x.AssertionError,Error),x.fail=f,x.ok=g,x.equal=function(e,t,r){e!=t&&f(e,t,r,"==",x.equal)},x.notEqual=function(e,t,r){e==t&&f(e,t,r,"!=",x.notEqual)},x.deepEqual=function(e,t,r){p(e,t,!1)||f(e,t,r,"deepEqual",x.deepEqual)},x.deepStrictEqual=function(e,t,r){p(e,t,!0)||f(e,t,r,"deepStrictEqual",x.deepStrictEqual)},x.notDeepEqual=function(e,t,r){p(e,t,!1)&&f(e,t,r,"notDeepEqual",x.notDeepEqual)},x.notDeepStrictEqual=h,x.strictEqual=function(e,t,r){e!==t&&f(e,t,r,"===",x.strictEqual)},x.notStrictEqual=function(e,t,r){e===t&&f(e,t,r,"!==",x.notStrictEqual)},x["throws"]=function(e,t,r){S(!0,e,t,r)},x.doesNotThrow=function(e,t,r){S(!1,e,t,r)},x.ifError=function(e){if(e)throw e};var k=Object.keys||function(e){var t=[];for(var r in e)w.call(e,r)&&t.push(r);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":8}],5:[function(e,t,r){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(g===clearTimeout)return clearTimeout(e);if((g===o||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(e);try{return g(e)}catch(t){try{return g.call(null,e)}catch(t){return g.call(this,e)}}}function u(){h&&d&&(h=!1,d.length?y=d.concat(y):m=-1,y.length&&s())}function s(){if(!h){var e=i(u);h=!0;for(var t=y.length;t;){for(d=y,y=[];++m<t;)d&&d[m].run();m=-1,t=y.length}d=null,h=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,g,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{g="function"==typeof clearTimeout?clearTimeout:o}catch(e){g=o}}();var d,y=[],h=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];y.push(new c(e,t)),1!==y.length||h||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],6:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],7:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],8:[function(e,t,r){(function(t,n){function o(e,t){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&r._extend(n,t),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=i),s(n,e,n.depth)}function i(e,t){var r=o.styles[t];return r?"["+o.colors[r][0]+"m"+e+"["+o.colors[r][1]+"m":e}function a(e,t){return e}function u(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function s(e,t,n){if(e.customInspect&&t&&k(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var o=t.inspect(n,e);return S(o)||(o=s(e,o,n)),o}var i=c(e,t);if(i)return i;var a=Object.keys(t),y=u(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),I(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(t);if(0===a.length){if(k(t)){var h=t.name?": "+t.name:"";return e.stylize("[Function"+h+"]","special")}if(O(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(x(t))return e.stylize(Date.prototype.toString.call(t),"date");if(I(t))return l(t)}var m="",v=!1,b=["{","}"];if(d(t)&&(v=!0,b=["[","]"]),k(t)){var w=t.name?": "+t.name:"";m=" [Function"+w+"]"}if(O(t)&&(m=" "+RegExp.prototype.toString.call(t)),x(t)&&(m=" "+Date.prototype.toUTCString.call(t)),I(t)&&(m=" "+l(t)),0===a.length&&(!v||0==t.length))return b[0]+m+b[1];if(0>n)return O(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var E;return E=v?f(e,t,n,y,a):a.map(function(r){return g(e,t,n,y,r,v)}),e.seen.pop(),p(E,m,b)}function c(e,t){if(w(t))return e.stylize("undefined","undefined");if(S(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return v(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o){for(var i=[],a=0,u=t.length;u>a;++a)D(t,String(a))?i.push(g(e,t,r,n,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(g(e,t,r,n,o,!0))}),i}function g(e,t,r,n,o,i){var a,u,c;if(c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},c.get?u=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(u=e.stylize("[Setter]","special")),D(n,o)||(a="["+o+"]"),u||(e.seen.indexOf(c.value)<0?(u=h(r)?s(e,c.value,null):s(e,c.value,r-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function p(e,t,r){var n=0,o=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function h(e){return null===e}function m(e){return null==e}function v(e){return"number"==typeof e}function S(e){return"string"==typeof e}function b(e){return"symbol"==typeof e}function w(e){return void 0===e}function O(e){return E(e)&&"[object RegExp]"===K(e)}function E(e){return"object"==typeof e&&null!==e}function x(e){return E(e)&&"[object Date]"===K(e)}function I(e){return E(e)&&("[object Error]"===K(e)||e instanceof Error)}function k(e){return"function"==typeof e}function T(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function K(e){return Object.prototype.toString.call(e)}function j(e){return 10>e?"0"+e.toString(10):e.toString(10)}function V(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var A=/%[sdj%]/g;r.format=function(e){if(!S(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(o(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,a=String(e).replace(A,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}}),u=n[r];i>r;u=n[++r])a+=h(u)||!E(u)?" "+u:" "+o(u);return a},r.deprecate=function(e,o){function i(){if(!a){if(t.throwDeprecation)throw new Error(o);t.traceDeprecation?console.trace(o):console.error(o),a=!0}return e.apply(this,arguments)}if(w(n.process))return function(){return r.deprecate(e,o).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return i};var z,q={};r.debuglog=function(e){if(w(z)&&(z=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!q[e])if(new RegExp("\\b"+e+"\\b","i").test(z)){var n=t.pid;q[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else q[e]=function(){};return q[e]},r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},r.isArray=d,r.isBoolean=y,r.isNull=h,r.isNullOrUndefined=m,r.isNumber=v,r.isString=S,r.isSymbol=b,r.isUndefined=w,r.isRegExp=O,r.isObject=E,r.isDate=x,r.isError=I,r.isFunction=k,r.isPrimitive=T,r.isBuffer=e("./support/isBuffer");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];r.log=function(){console.log("%s - %s",V(),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!E(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":7,_process:5,inherits:6}]},{},[2])(2)});	function enableLogger(e){function o(e){if(!(e.level>l)){var o=e.level in g.LogLevel?"["+g.LogLevel[e.level].toUpperCase()+"]	":"",c=n[e.level]?n[e.level]:console.log;c.call(console,o+e.message),e.cause&&c.call(console,e.cause)}}!1 in window&&(window.console={log:function(e){},error:function(e){},info:function(e){},warn:function(e){}});var l=g.LogLevel.Debug,n={};n[g.LogLevel.Debug]=console.log,n[g.LogLevel.Warn]=console.warn,n[g.LogLevel.Info]=console.info,n[g.LogLevel.Error]=console.error,e.logger.logging.add(o)}	window.addEventListener("load",function(){function e(e){var o,t=e,n={id:"9999",name:"sandbox-player"},i="sandboxDummyPlayId",r=new gameStorage.GameStorage(window.localStorage,{gameId:t}),a=require("@akashic/pdi-browser"),d=require("@akashic/game-driver"),l=new d.MemoryAmflowClient({playId:i,putStorageDataSyncFunc:r.set.bind(r),getStorageDataSyncFunc:function(e){var o=r.load(e);return e.map(function(e,t){return{readKey:e,values:o[t]}})}});o="file:"!==location.protocol?[a.WebAudioPlugin,a.HTMLAudioPlugin]:[a.HTMLAudioPlugin];var c=new a.Platform({amflow:l,containerView:document.getElementById("container"),audioPlugins:o});c.loadGameConfiguration=function(e,o){try{var t=window.gLocalAssetContainer["game.json"];t=decodeURIComponent(t),o(null,JSON.parse(t))}catch(n){o(n,null)}},c._resourceFactory.createScriptAsset=function(e,o){return new LocalScriptAsset(e,o)},c._resourceFactory.createTextAsset=function(e,o){return new LocalTextAsset(e,o)},driver=new d.GameDriver({platform:c,player:n,errorHandler:function(e){console.log("ERRORHANDLER:",e)}}),driver.gameCreatedTrigger.add(function(e){if(window.optionProps.magnify){if(!c.containerController)return;var o={width:window.innerWidth||document.documentElement.clientWidth,height:window.innerHeight||document.documentElement.clientHeight},t=Math.min(o.width/e.width,o.height/e.height),n={width:Math.floor(e.width*t),height:Math.floor(e.height*t)};c.containerController.changeScale(t,t);var i={x:Math.floor((o.width-n.width)/2),y:Math.floor((o.height-n.height)/2)};c.containerController.inputHandlerLayer.setOffset(i)}}),driver.initialize({configurationUrl:"game.json",assetBase:"./",driverConfiguration:{playId:i,playToken:"dummyToken",executionMode:d.ExecutionMode.Active},loopConfiguration:{loopMode:d.LoopMode.Realtime}},function(e){if(e)throw e;driver.startGame()})}e("exportHTML")});	window.g=require("@akashic/akashic-engine"),"gLocalAssetContainer"in window||(window.gLocalAssetContainer={});</script>

<style type="text/css">
* {
	margin: 0;
	border: 0;
	padding: 0;
}
body{
	overflow: hidden;
}

#container {
	margin: 0px;
	padding: 0px;
	overflow: hidden;
	touch-action: none;
}

#container canvas{
	background-size: contain;
}
</style>

<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NM4NBTQ');</script>
</head>
<body>
<div id="container">
</div>
</body>
</html>
